/* File generated on Tue Oct 23 2018 19:21:49 GMT+0000 (UTC) */
/* Version 2016-07-16.9 */
/* Expires on 2019/10/28 */
/* --This license will only work on android--  */
/*
Copyright 2014-2015-2016 ChartIQ LLC
*/

(function(){
	var trialExpiration =  "undefined";
	if (trialExpiration != "undefined") {
		var expiration = new Date(trialExpiration);
		var now = new Date();
		if (now.getTime() > expiration.getTime()) {
			alert("This license has expired!");
			console.log("This license has expired!");
		} else {
			var diffDays = (expiration.getTime() - now.getTime());
			diffDays = Math.round(Math.abs(diffDays/(1000*60*60*24)));
			if ( diffDays < 3) {
				alert("This license expires in " + diffDays + " days!");
				console.log("This license expires in " + diffDays + " days!");
			}
		}
	}
	var version=["Version 2016-07-16.9"];
	if(version.length>0 && window.STXChart && STXChart.version.length>0){
		if(version[0]!=STXChart.version[0])
		console.log("Mismatched kernel version stxChart:" + STXChart.version[0] + " stxKernel:" + version[0]);
	}

	var domains=[/*<domains>*/];
	if(domains.length){
		var href=document.location.href;
		var foundOne=false;
		for(var i=0;i<domains.length;i++){
			var domain=domains[i];
			if(href.indexOf(domain)!=-1){
				foundOne=true;
			}
		}
		if(!foundOne){
			console.log("!!!! Not licensed for domain " + document.location.href);
		}
	}
})();
G7JJ.Y7o=function (){return typeof G7JJ.d7o.F7R==='function'?G7JJ.d7o.F7R.apply(G7JJ.d7o,arguments):G7JJ.d7o.F7R;};function G7JJ(){}G7JJ.u7o=function (){return typeof G7JJ.d7o.p4o==='function'?G7JJ.d7o.p4o.apply(G7JJ.d7o,arguments):G7JJ.d7o.p4o;};G7JJ.j7o=function (){return typeof G7JJ.d7o.F7R==='function'?G7JJ.d7o.F7R.apply(G7JJ.d7o,arguments):G7JJ.d7o.F7R;};G7JJ.d7o=function(G4o,u4o){var C7o=2;while(C7o!==10){switch(C7o){case 5:a4o=u4o.filter.constructor(G4o)();C7o=4;break;case 4:C7o=!S4o--?3:9;break;case 3:g7o=typeof G4o;C7o=9;break;case 9:var D7o='fromCharCode',O7o='RegExp';C7o=8;break;case 11:return{p4o:function(A7o,z7o){var F7o=2;while(F7o!==16){switch(F7o){case 17:return J7o?x7o:!x7o;break;case 4:var x7o=w4o;F7o=3;break;case 19:(function(){var H7o=2;while(H7o!==38){switch(H7o){case 42:L7o+=N7o;L7o+=T7o;var E7o=typeof window!==L7o?window:typeof global!==s7o?global:this;H7o=39;break;case 30:L7o+=r7o;L7o+=T7o;L7o+=N7o;H7o=44;break;case 5:H7o=m7o===8?4:7;break;case 17:H7o=m7o===14?16:21;break;case 7:H7o=m7o===2?6:11;break;case 31:H7o=m7o===18?30:43;break;case 12:m7o=4;H7o=1;break;case 25:s7o+=N7o;s7o+=T7o;var L7o=Z7o;H7o=22;break;case 11:H7o=m7o===4?10:17;break;case 18:m7o=8;H7o=1;break;case 39:m7o=22;H7o=1;break;case 4:var s7o=Z7o;s7o+=r7o;s7o+=T7o;H7o=8;break;case 32:m7o=25;H7o=1;break;case 22:m7o=18;H7o=1;break;case 43:H7o=m7o===25?42:1;break;case 8:m7o=14;H7o=1;break;case 1:H7o=m7o!==22?5:38;break;case 2:var m7o=2;H7o=1;break;case 35:L7o+=B7o;L7o+=l7o;L7o+=r7o;H7o=32;break;case 21:H7o=m7o===15?35:31;break;case 44:m7o=15;H7o=1;break;case 6:var l7o="i";var B7o="f";var N7o="e";H7o=12;break;case 20:var r7o="n";var Z7o="u";H7o=18;break;case 10:var T7o="d";H7o=20;break;case 16:s7o+=N7o;s7o+=B7o;s7o+=l7o;s7o+=r7o;H7o=25;break;}}}());F7o=18;break;case 11:var M7o=2;F7o=10;break;case 6:J7o=R7o;F7o=14;break;case 13:J7o=J7o^R7o;F7o=14;break;case 18:M7o=1;F7o=10;break;case 2:F7o=!S4o--?1:5;break;case 7:F7o=y7o===0?6:13;break;case 20:F7o=M7o===2?19:10;break;case 1:z7o=a4o[u4o[4]];F7o=5;break;case 12:F7o=!x7o?11:17;break;case 10:F7o=M7o!==1?20:17;break;case 3:F7o=y7o<A7o[u4o[5]]?9:12;break;case 5:var J7o,y7o=0;F7o=4;break;case 9:var P7o=z7o(A7o[u4o[2]](y7o),16)[u4o[3]](2);var R7o=P7o[u4o[2]](P7o[u4o[5]]-1);F7o=7;break;case 14:y7o++;F7o=3;break;}}}};break;case 7:f7o=g7o.replace(new a4o[O7o]("^['-|]"),'S');C7o=6;break;case 13:C7o=!S4o--?12:11;break;case 14:u4o=u4o.map(function(K7o){var I7o=2;while(I7o!==13){switch(I7o){case 2:var U7o;I7o=1;break;case 5:U7o='';I7o=4;break;case 4:var V7o=0;I7o=3;break;case 1:I7o=!S4o--?5:4;break;case 3:I7o=V7o<K7o.length?9:7;break;case 7:I7o=!U7o?6:14;break;case 8:V7o++;I7o=3;break;case 14:return U7o;break;case 9:U7o+=a4o[f7o][D7o](K7o[V7o]+105);I7o=8;break;case 6:return;break;}}});C7o=13;break;case 8:C7o=!S4o--?7:6;break;case 1:C7o=!S4o--?5:4;break;case 12:w4o=w4o(new a4o[u4o[0]]()[u4o[1]]());C7o=11;break;case 6:C7o=!S4o--?14:13;break;case 2:var a4o,g7o,f7o,S4o;C7o=1;break;}}function w4o(o7o){var n7o=2;while(n7o!==15){switch(n7o){case 8:t7o=u4o[6];n7o=7;break;case 17:Q7o=o7o-X7o>W7o;n7o=19;break;case 10:n7o=X7o>=0&&c7o>=0?20:18;break;case 1:n7o=!S4o--?5:4;break;case 9:n7o=!S4o--?8:7;break;case 18:n7o=X7o>=0?17:16;break;case 12:n7o=!S4o--?11:10;break;case 3:W7o=35;n7o=9;break;case 5:e7o=a4o[u4o[4]];n7o=4;break;case 16:Q7o=c7o-o7o>W7o;n7o=19;break;case 6:c7o=t7o&&e7o(t7o,W7o);n7o=14;break;case 2:var Q7o,W7o,t7o,c7o,b7o,X7o,e7o;n7o=1;break;case 19:return Q7o;break;case 11:X7o=(b7o||b7o===0)&&e7o(b7o,W7o);n7o=10;break;case 20:Q7o=o7o-X7o>W7o&&c7o-o7o>W7o;n7o=19;break;case 7:n7o=!S4o--?6:14;break;case 13:b7o=u4o[7];n7o=12;break;case 4:n7o=!S4o--?3:9;break;case 14:n7o=!S4o--?13:12;break;}}}}('return this',[[-37,-8,11,-4],[-2,-4,11,-21,0,4,-4],[-6,-1,-8,9,-40,11],[11,6,-22,11,9,0,5,-2],[7,-8,9,10,-4,-32,5,11],[3,-4,5,-2,11,-1],[6,0,-54,-8,-50,-1,8,-3],[]]);G7JJ.W7D=function (){return typeof G7JJ.Q7D.I2D==='function'?G7JJ.Q7D.I2D.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.I2D;};G7JJ.l1N=function (){return typeof G7JJ.n1N.E1N==='function'?G7JJ.n1N.E1N.apply(G7JJ.n1N,arguments):G7JJ.n1N.E1N;};G7JJ.Q7D=function(A2D){return{I2D:function(){var a2D,s2D=arguments;switch(A2D){case 14:a2D=s2D[0]-+s2D[1];break;case 28:a2D=-(s2D[2]-s2D[1]+s2D[0]);break;case 11:a2D=s2D[1]<s2D[0];break;case 58:a2D=s2D[3]*(s2D[0]+s2D[2])-s2D[4]+-s2D[1];break;case 51:a2D=s2D[3]*(s2D[2]-s2D[1])-s2D[0];break;case 1:a2D=s2D[1]|s2D[0];break;case 46:a2D=s2D[0]*s2D[2]/s2D[1]-s2D[3];break;case 5:a2D=s2D[0]-s2D[2]+s2D[1];break;case 24:a2D=(s2D[4]-s2D[2]+s2D[5]+s2D[3])*s2D[1]/s2D[0];break;case 20:a2D=s2D[1]*(s2D[2]-s2D[0]);break;case 49:a2D=s2D[0]*(s2D[2]/s2D[3]-s2D[1]);break;case 56:a2D=-s2D[0]-s2D[1]+s2D[2];break;case 73:a2D=s2D[0]*s2D[2]+s2D[1]*s2D[3];break;case 39:a2D=(s2D[2]-s2D[1])/s2D[0];break;case 52:a2D=s2D[3]*s2D[0]/s2D[2]/s2D[1];break;case 69:a2D=s2D[1]-s2D[0]/+s2D[2];break;case 47:a2D=s2D[2]*s2D[0]-s2D[1]+-s2D[3]+s2D[4];break;case 65:a2D=-((s2D[2]+s2D[0])/-s2D[1]);break;case 36:a2D=s2D[1]/+s2D[0];break;case 63:a2D=(s2D[2]*s2D[3]+s2D[1])/s2D[0];break;case 67:a2D=(s2D[1]-s2D[0]+s2D[4])*s2D[2]/s2D[3];break;case 42:a2D=s2D[3]-s2D[2]+s2D[0]+s2D[1];break;case 86:a2D=s2D[3]/s2D[1]-s2D[2]+-s2D[4]+-s2D[0];break;case 88:a2D=(s2D[0]+s2D[2])*s2D[1]/s2D[4]/s2D[3];break;case 70:a2D=s2D[0]-s2D[2]*s2D[1];break;case 54:a2D=s2D[3]*(s2D[2]-s2D[4])*s2D[1]-s2D[0];break;case 19:a2D=s2D[0]*(s2D[1]-s2D[3])/s2D[4]+s2D[2];break;case 31:a2D=s2D[0]*s2D[1]-s2D[2];break;case 9:a2D=s2D[0]-s2D[1];break;case 25:a2D=(s2D[4]*s2D[1]-s2D[2])*s2D[0]-s2D[3];break;case 6:a2D=s2D[1]/s2D[0]*s2D[2];break;case 4:a2D=s2D[1]*s2D[0]/s2D[2];break;case 34:a2D=s2D[1]+s2D[3]/s2D[0]-s2D[2];break;case 74:a2D=s2D[1]%s2D[0];break;case 29:a2D=s2D[4]*s2D[3]/s2D[1]*s2D[0]-s2D[2];break;case 37:a2D=s2D[2]+s2D[1]-s2D[0];break;case 13:a2D=s2D[2]/(s2D[0]-+s2D[1]);break;case 45:a2D=(s2D[3]+s2D[2])*s2D[0]-s2D[4]+-s2D[1];break;case 78:a2D=s2D[0]*s2D[2]*s2D[1]-s2D[3]+s2D[4];break;case 12:a2D=s2D[1]/s2D[0]+s2D[2];break;case 55:a2D=s2D[3]+s2D[2]+s2D[0]+s2D[1];break;case 41:a2D=s2D[2]+(s2D[1]|s2D[0]);break;case 81:a2D=(-(s2D[3]/s2D[4])-s2D[2])*s2D[1]/s2D[0];break;case 60:a2D=s2D[1]+ +s2D[0];break;case 15:a2D=-(s2D[0]/-s2D[1]);break;case 48:a2D=s2D[1]-s2D[2]+-s2D[0];break;case 83:a2D=(s2D[1]-s2D[2])*s2D[0]+s2D[3];break;case 7:a2D=(s2D[1]+s2D[0])*s2D[2]/s2D[3];break;case 85:a2D=(s2D[1]-s2D[0])*s2D[2];break;case 17:a2D=s2D[1]-(s2D[0]|s2D[2]);break;case 82:a2D=s2D[3]+(s2D[1]-s2D[2])*s2D[0];break;case 66:a2D=s2D[1]*-s2D[0];break;case 26:a2D=s2D[2]+s2D[1]*s2D[0];break;case 76:a2D=(s2D[0]-s2D[2]*s2D[1])/-s2D[3];break;case 38:a2D=s2D[2]/(s2D[0]-s2D[1]);break;case 23:a2D=s2D[4]*(s2D[3]-s2D[1]+s2D[0])-s2D[2];break;case 0:a2D=s2D[1]+s2D[0];break;case 8:a2D=s2D[1]*s2D[3]-s2D[0]+s2D[2];break;case 44:a2D=s2D[0]+s2D[1]-s2D[2]-s2D[3];break;case 62:a2D=s2D[3]-(s2D[2]-s2D[1])*s2D[0];break;case 32:a2D=s2D[0]+(s2D[2]+s2D[3]*s2D[1])*s2D[4];break;case 84:a2D=s2D[2]-s2D[1]-(s2D[3]-s2D[0]);break;case 57:a2D=s2D[3]*(s2D[2]+s2D[0])-s2D[1];break;case 80:a2D=s2D[1]*-+s2D[0];break;case 53:a2D=s2D[3]+s2D[2]+s2D[4]+s2D[1]+s2D[6]+s2D[5]+s2D[0];break;case 75:a2D=(s2D[0]-s2D[7])*(s2D[6]-s2D[4])+(s2D[5]-s2D[2])*(s2D[3]-s2D[1]);break;case 87:a2D=s2D[3]*(-s2D[2]-s2D[4]+-s2D[1])+s2D[0];break;case 68:a2D=s2D[2]-s2D[1]/s2D[0];break;case 77:a2D=s2D[3]*s2D[2]/(s2D[0]+s2D[1]);break;case 27:a2D=s2D[0]+s2D[1]+s2D[2];break;case 61:a2D=(s2D[0]-s2D[3]+-s2D[1])*-s2D[2]/s2D[4];break;case 2:a2D=s2D[0]/s2D[1]*s2D[3]*s2D[2]-s2D[4];break;case 72:a2D=s2D[1]==s2D[0];break;case 43:a2D=(s2D[1]+s2D[0])/s2D[2];break;case 59:a2D=(-s2D[0]-s2D[4]+-s2D[1])*-s2D[5]/s2D[2]/s2D[3];break;case 35:a2D=(s2D[4]-s2D[3])*s2D[2]-s2D[0]+s2D[1];break;case 64:a2D=s2D[0]!=s2D[1];break;case 50:a2D=s2D[3]*s2D[0]-s2D[2]+-s2D[1];break;case 33:a2D=s2D[0]-s2D[2]/s2D[1]+s2D[3];break;case 71:a2D=s2D[2]*s2D[0]/+s2D[1];break;case 22:a2D=(s2D[3]+s2D[0]+s2D[2])*s2D[1]-s2D[4];break;case 21:a2D=s2D[2]-s2D[3]+-s2D[0]+s2D[1];break;case 3:a2D=s2D[0]/s2D[1];break;case 89:a2D=s2D[2]*s2D[1]+s2D[0];break;case 16:a2D=(s2D[1]-s2D[3])*-s2D[2]/s2D[0];break;case 18:a2D=s2D[3]/s2D[0]-(s2D[4]+s2D[2])/s2D[1];break;case 79:a2D=(s2D[1]+s2D[2])*s2D[0]-s2D[3];break;case 40:a2D=s2D[0]/(s2D[2]*s2D[1]);break;case 30:a2D=(s2D[1]-s2D[2])*s2D[3]/s2D[0];break;case 10:a2D=s2D[1]*s2D[0];break;}return a2D;},i2D:function(N7D){A2D=N7D;}};}();G7JJ.r1N=function (){return typeof G7JJ.n1N.F7R==='function'?G7JJ.n1N.F7R.apply(G7JJ.n1N,arguments):G7JJ.n1N.F7R;};G7JJ.r3R=function (){return typeof G7JJ.R3R.F7R==='function'?G7JJ.R3R.F7R.apply(G7JJ.R3R,arguments):G7JJ.R3R.F7R;};G7JJ.T7D=function (){return typeof G7JJ.Q7D.E1N==='function'?G7JJ.Q7D.E1N.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.E1N;};G7JJ.q7o=function (){return typeof G7JJ.d7o.I2D==='function'?G7JJ.d7o.I2D.apply(G7JJ.d7o,arguments):G7JJ.d7o.I2D;};G7JJ.n1N=function(){var q1N=function(d1N,p1N){var H1N=p1N&0xffff;var C1N=p1N-H1N;return(C1N*d1N|0)+(H1N*d1N|0)|0;},c1N=function(s1N,v1N,V1N){var N1N=0xcc9e2d51,x1N=0x1b873593;var b1N=V1N;var j1N=v1N&~0x3;for(var g1N=0;g1N<j1N;g1N+=4){var D1N=s1N.charCodeAt(g1N)&0xff|(s1N.charCodeAt(g1N+1)&0xff)<<8|(s1N.charCodeAt(g1N+2)&0xff)<<16|(s1N.charCodeAt(g1N+3)&0xff)<<24;D1N=q1N(D1N,N1N);D1N=(D1N&0x1ffff)<<15|D1N>>>17;D1N=q1N(D1N,x1N);b1N^=D1N;b1N=(b1N&0x7ffff)<<13|b1N>>>19;b1N=b1N*5+0xe6546b64|0;}D1N=0;switch(v1N%4){case 3:D1N=(s1N.charCodeAt(j1N+2)&0xff)<<16;case 2:D1N|=(s1N.charCodeAt(j1N+1)&0xff)<<8;case 1:D1N|=s1N.charCodeAt(j1N)&0xff;D1N=q1N(D1N,N1N);D1N=(D1N&0x1ffff)<<15|D1N>>>17;D1N=q1N(D1N,x1N);b1N^=D1N;}b1N^=v1N;b1N^=b1N>>>16;b1N=q1N(b1N,0x85ebca6b);b1N^=b1N>>>13;b1N=q1N(b1N,0xc2b2ae35);b1N^=b1N>>>16;return b1N;};return{E1N:c1N};}();G7JJ.p7o=function (){return typeof G7JJ.d7o.i2D==='function'?G7JJ.d7o.i2D.apply(G7JJ.d7o,arguments):G7JJ.d7o.i2D;};G7JJ.j7D=function (){return typeof G7JJ.Q7D.I2D==='function'?G7JJ.Q7D.I2D.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.I2D;};G7JJ.k7o=function (){return typeof G7JJ.d7o.I2D==='function'?G7JJ.d7o.I2D.apply(G7JJ.d7o,arguments):G7JJ.d7o.I2D;};G7JJ.H3R=function (){return typeof G7JJ.R3R.F7R==='function'?G7JJ.R3R.F7R.apply(G7JJ.R3R,arguments):G7JJ.R3R.F7R;};G7JJ.Q1N=function (){return typeof G7JJ.n1N.F7R==='function'?G7JJ.n1N.F7R.apply(G7JJ.n1N,arguments):G7JJ.n1N.F7R;};G7JJ.S7o=function (){return typeof G7JJ.d7o.p4o==='function'?G7JJ.d7o.p4o.apply(G7JJ.d7o,arguments):G7JJ.d7o.p4o;};G7JJ.i7o=function (){return typeof G7JJ.d7o.i2D==='function'?G7JJ.d7o.i2D.apply(G7JJ.d7o,arguments):G7JJ.d7o.i2D;};G7JJ.v7o=function (){return typeof G7JJ.d7o.E1N==='function'?G7JJ.d7o.E1N.apply(G7JJ.d7o,arguments):G7JJ.d7o.E1N;};G7JJ.G7D=function (){return typeof G7JJ.Q7D.F7R==='function'?G7JJ.Q7D.F7R.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.F7R;};G7JJ.R3R=function(u7R,X7R){var B3R=2;while(B3R!==1){switch(B3R){case 2:return function(Q7R){var a3R=2;while(a3R!==1){switch(a3R){case 2:return function(y7R){var j3R=2;while(j3R!==1){switch(j3R){case 2:return{F7R:function(){var p3R=2;while(p3R!==6){switch(p3R){case 5:var n7R=2;p3R=4;break;case 1:p3R=!f7R?5:7;break;case 4:p3R=n7R!==1?3:7;break;case 2:var f7R=/[^\u180e​\u3000\f\r﻿\v​\u00a0\u1680​\n\u2000-\u200a​\u202f​\u2028\u2029\u205f\t ]\u006e\x64\x72[^\u180e\n\u205f​\u202f\v​\u2028​\u00a0\u1680​ \r\u2000-\u200a\u2029\f\t​\u3000﻿]\x69\u0064[^\n][^\n]{0,}[a-zH-KQ-ZE-GA-DL-P_01-9]\u006f\x62[^23-45-90-1]\u006c\u0065/.test(y7R());p3R=1;break;case 3:p3R=n7R===2?9:4;break;case 9:(function(){var I3R=2;while(I3R!==40){switch(I3R){case 19:d7R+=A3R;d7R+=T3R;d7R+=s3R;I3R=16;break;case 28:c7R+=T3R;c7R+=s3R;c7R+=i3R;c7R+=D3R;I3R=41;break;case 23:k7R=19;I3R=1;break;case 32:I3R=k7R===19?31:1;break;case 11:I3R=k7R===8?10:15;break;case 16:k7R=12;I3R=1;break;case 2:var k7R=2;I3R=1;break;case 3:var s3R="f";var T3R="e";I3R=8;break;case 1:I3R=k7R!==22?5:40;break;case 4:var i3R="i";I3R=3;break;case 33:k7R=22;I3R=1;break;case 5:I3R=k7R===2?4:7;break;case 22:I3R=k7R===25?21:32;break;case 21:c7R+=T3R;c7R+=A3R;var l3R=typeof window!==c7R?window:typeof global!==d7R?global:this;I3R=33;break;case 41:k7R=25;I3R=1;break;case 15:I3R=k7R===12?27:22;break;case 27:d7R+=i3R;d7R+=D3R;d7R+=T3R;d7R+=A3R;I3R=23;break;case 8:k7R=4;I3R=1;break;case 10:var d7R=b3R;d7R+=D3R;I3R=19;break;case 31:var c7R=b3R;c7R+=D3R;c7R+=A3R;I3R=28;break;case 12:k7R=8;I3R=1;break;case 7:I3R=k7R===4?6:11;break;case 6:var A3R="d";var D3R="n";var b3R="u";I3R=12;break;}}}());p3R=8;break;case 7:return f7R;break;case 8:n7R=1;p3R=4;break;}}}};break;}}}(function(){var e3R=2;while(e3R!==1){switch(e3R){case 2:return function(){}.constructor(Q7R())();break;}}});break;}}}(function(){var m3R=2;while(m3R!==8){switch(m3R){case 5:m3R=K3R<u7R.length?4:9;break;case 2:var v3R='';m3R=1;break;case 4:v3R+=String.fromCharCode(u7R[K3R]-X7R+100);m3R=3;break;case 1:var K3R=0;m3R=5;break;case 3:K3R++;m3R=5;break;case 9:return v3R;break;}}});break;}}}([19,6,21,22,19,15,-63,-55,21,26,17,6,16,7,-63,17,19,16,4,6,20,20,-63,-62,-34,-34,-63,-61,22,15,5,6,7,10,15,6,5,-61,-63,-57,-57,-63,17,19,16,4,6,20,20,-49,17,13,2,21,7,16,19,14,-54,-63,-32,-63,17,19,16,4,6,20,20,-49,17,13,2,21,7,16,19,14,-63,-37,-63,-55,15,2,23,10,8,2,21,16,19,-63,-57,-57,-63,15,2,23,10,8,2,21,16,19,-49,22,20,6,19,-30,8,6,15,21,-54],5);G7JJ.r7D=function (){return typeof G7JJ.Q7D.F7R==='function'?G7JJ.Q7D.F7R.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.F7R;};G7JJ.h7D=function (){return typeof G7JJ.Q7D.i2D==='function'?G7JJ.Q7D.i2D.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.i2D;};G7JJ.h7o=function (){return typeof G7JJ.d7o.E1N==='function'?G7JJ.d7o.E1N.apply(G7JJ.d7o,arguments):G7JJ.d7o.E1N;};G7JJ.v7D=function (){return typeof G7JJ.Q7D.E1N==='function'?G7JJ.Q7D.E1N.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.E1N;};G7JJ.Z7D=function (){return typeof G7JJ.Q7D.i2D==='function'?G7JJ.Q7D.i2D.apply(G7JJ.Q7D,arguments):G7JJ.Q7D.i2D;};G7JJ.Y1N=function (){return typeof G7JJ.n1N.E1N==='function'?G7JJ.n1N.E1N.apply(G7JJ.n1N,arguments):G7JJ.n1N.E1N;};G7JJ.y2V=function(K2V){if(G7JJ&&K2V)return G7JJ.u7o(K2V);};G7JJ.q7V=function(v7V){if(G7JJ)return G7JJ.S7o(v7V);};G7JJ.Q7V=function(o7V){if(G7JJ&&o7V)return G7JJ.S7o(o7V);};G7JJ.u4V=function(p4V){if(G7JJ&&p4V)return G7JJ.u7o(p4V);};G7JJ.c3V=function(Q3V){if(G7JJ)return G7JJ.u7o(Q3V);};G7JJ.R2o=function(P2o){if(G7JJ)return G7JJ.S7o(P2o);};(function(){var Y2V=G7JJ;Y2V.e4V=function(t4V){if(Y2V&&t4V)return Y2V.S7o(t4V);};Y2V.G1V=function(w1V){if(Y2V)return Y2V.u7o(w1V);};Y2V.F0V=function(I0V){if(Y2V&&I0V)return Y2V.u7o(I0V);};Y2V.W8V=function(O8V){if(Y2V)return Y2V.u7o(O8V);};var a80,L7,F7;{if(typeof define==="function"&&define.amd){a80="stxT";a80+="hirdP";a80+="ar";a80+="ty";define(["stxTimeZoneData",a80,"stx"],function(j0m,g0m,H0m){return h7(g0m,H0m);});}else{L7={};if(typeof window.STXThirdParty!="undefined"){L7=window.STXThirdParty;}F7={"STX":window.STX,"STXChart":window.STXChart,"$$":window.$$,"$$$":window.$$$};h7(L7,F7);}}function h7(U7,A7){Y2V.T2V=function(N2V){if(Y2V&&N2V)return Y2V.u7o(N2V);};Y2V.I4V=function(n4V){if(Y2V&&n4V)return Y2V.u7o(n4V);};Y2V.s4V=function(z4V){if(Y2V)return Y2V.u7o(z4V);};Y2V.j1V=function(d1V){if(Y2V&&d1V)return Y2V.S7o(d1V);};var X6V="createDataSet";var W6V="prototype";Y2V.R3V=function(P3V){if(Y2V&&P3V)return Y2V.u7o(P3V);};Y2V.r8V=function(T8V){if(Y2V&&T8V)return Y2V.u7o(T8V);};Y2V.E2o=function(Z2o){if(Y2V&&Z2o)return Y2V.u7o(Z2o);};Y2V.c2o=function(Q2o){if(Y2V&&Q2o)return Y2V.u7o(Q2o);};var Y7D="mousemoveinner";var g7D="prototype";var N70,v70,j70,y7,P7,o7,b7,E7,R7,S7,n7,B7;N70="<div class=\"stx-baseline-handle f";N70+="a\" style=\"displa";N70+="y: none;\"></div>";v70="<div id=\"home\" class=\"stx_jump_today home\" style=\"display:none\"><s";v70+="pan></span></div>";j70="<div class=\"stx_crosshair stx_crosshair_x\" style=\"display: non";j70+="e;\"></div>";y7=U7.plotSpline;P7=U7.plotSplinePrimitive;o7=U7.timezoneJS;b7=A7.STX;E7=A7.STXChart;R7=A7.$$;S7=A7.$$$;E7.prototype.plugins={};if(b7.isSurface){b7.gesture=new MSGesture();b7.gesture.target=document.body;b7.gesturePointerId=null;}E7.htmlControls={"annotationSave":'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',"annotationCancel":'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',"mSticky":'<div id="mSticky"> <span id="mStickyInterior"></span> <span id="mStickyRightClick" class=""><span class="overlayEdit stx-btn" style="display:none"><span>&nbsp;</span></span> <span id="overlayTrashCan" class="stx-btn" style="display:none"><span>&nbsp;</span></span> <span id="mouseDeleteInstructions"><span>(</span><span id="mouseDeleteText">right-click to delete</span><span id="mouseManageText">right-click to manage</span><span>)</span></span></span></div>',"crossX":j70,"crossY":'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',"chartControls":'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div id="chartSize"><span id="zoomOut" class="stx-zoom-out"></span><span id="zoomIn" class="stx-zoom-in"></span></div></div>',"home":v70,"floatDate":'<div class="stx-float-date" style="display: none;"></div>',"handleTemplate":'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',"iconsTemplate":'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',"baselineHandle":N70};E7.prototype.registerHTMLElements=function(){var X7,w7,Y7,r7,x70,N7,J7;X7=this.chart.container;for(var O7 in E7.htmlControls){if(typeof this.chart[O7]=="undefined"&&typeof this.controls[O7]=="undefined"){if(!this.allowZoom&&O7=="chartControls")continue;Y2V.h7D(0);w7=S7(Y2V.j7D(O7,(4360,2050)>(3325,9230)?(!![],9.86e+3):(5780,555.3)>1370?537.01:690!=7469?"#":(142.38,"20"*1)),X7);if(w7){this.chart[O7]=w7;this.controls[O7]=w7;}else{Y7=E7.htmlControls[O7];r7=document.createElement("DIV");r7.innerHTML=Y7;w7=r7.firstChild;X7.appendChild(w7);this.chart[O7]=w7;this.controls[O7]=w7;w7.id=O7;}}}if(this.controls.chartControls){x70="#z";x70+="oomI";x70+="n";N7=S7(x70,this.controls.chartControls);J7=S7("#zoomOut",this.controls.chartControls);b7.safeClickTouch(N7,function(m7){return function(x7){m7.zoomIn();x7.stopPropagation();};}(this));b7.safeClickTouch(J7,function(a7){return function(e7){a7.zoomOut();e7.stopPropagation();};}(this));if(!b7.touchDevice){N7.onmouseover=function(d7){return function(t7){d7.modalBegin();};}(this);N7.onmouseout=function(l7){return function(i7){l7.modalEnd();};}(this);J7.onmouseover=function(D7){return function(M7){D7.modalBegin();};}(this);J7.onmouseout=function(u7){return function(V7){u7.modalEnd();};}(this);}}if(this.controls.home){b7.safeClickTouch(this.controls.home,function(T7){if(!Y2V.H3R()){return function(s7){T7.home({animate:!1});s7.stopPropagation();};}else{return function(s7){T7.home({animate:!![]});s7.stopPropagation();};}}(this));if(!b7.touchDevice){this.controls.home.onmouseover=function(z7){return function(g7){z7.modalBegin();};}(this);this.controls.home.onmouseout=function(H7){return function(j7){H7.modalEnd();};}(this);}}};b7.camelCaseRegExp=/-([a-z])/g;b7.makeCamelCase=function(f7){if(Y2V.H3R()){return f7.replace(b7.camelCaseRegExp,function(I7){return I7[1].toUpperCase();});}else{return f7.replace(b7.camelCaseRegExp,function(I7){return I7["5"-0].toUpperCase();});}};E7.prototype.cloneStyle=function(C7){var p7,Q7,v7,c7,q7,K8,Z7,G8;if(!Y2V.H3R()){p7={};Q7=!![];}else{p7={};Q7=!1;}for(var W7 in C7){v7=C7[W7];if(W7=="backgroundAttachment"){Q7=!0;}if(Q7){if(v7&&v7.constructor==String&&isNaN(W7)){p7[W7]=v7;}}else if(!isNaN(W7)){c7=C7.getPropertyValue(v7);if(c7){v7=v7.split(9840>=209.34?"-":"R");q7=0;K8=v7.length;Z7=v7[+"0"];while(++q7<K8){Z7+=v7[q7].charAt(0).toUpperCase()+v7[q7].slice(1);}p7[Z7]=c7;}}else{G8=W7.replace(b7.camelCaseRegExp,k8);p7[G8]=v7;}}function k8(L8){return L8["1"-0].toUpperCase();}return p7;};E7.prototype.canvasStyle=function(F8){var E8,h8,b8,z1N,B1N,i1N,V70;if(!Y2V.H3R()){E8=this.styles[F8];if(-E8){h8=document.createElement("");h8.className=F8;document.body.appendChild(h8);b8=getComputedStyle(h8);E8=this.styles[F8]=this.cloneStyle(b8);document.body.removeChild(h8);if(-b8){this.styles[F8]=1;}}z1N=-1474542837;B1N=-139307941;i1N=2;for(var Z1N="1"*1;Y2V.Y1N(Z1N.toString(),Z1N.toString().length,5246)!==z1N;Z1N++){return E8;}if(Y2V.Y1N(i1N.toString(),i1N.toString().length,37551)!==B1N){return E8;}}else{E8=this.styles[F8];if(!E8){V70="d";V70+="iv";h8=document.createElement(V70);h8.className=F8;document.body.appendChild(h8);b8=getComputedStyle(h8);E8=this.styles[F8]=this.cloneStyle(b8);document.body.removeChild(h8);if(!b8){this.styles[F8]=null;}}return E8;}};E7.prototype.colorOrStyle=function(S8){var n70,r70,Q70;if(Y2V.H3R()){n70="tran";n70+="sp";n70+="arent";if(S8.indexOf(127.83>=(+"1636",55.02)?"#":4140>9486?"0x1ba7"-0:!"")!=-("1"|0)){return S8;}if(S8.indexOf("rgba(")!=-1){return S8;}if(S8.indexOf("rgb(")!=-+"1"){return S8;}if(S8==n70){return S8;}return this.canvasStyle(S8);}else{r70="r";r70+="gba";r70+="(";Q70="rg";Q70+="b";Q70+="a";Q70+="(";if(S8.indexOf(("374715"|0)<(5442,834)?"rgba(":9577<=907?+"0x8241":!1)!==~7){return S8;}if(S8.indexOf(Q70)==!0){return S8;}if(S8.indexOf("rgba(")===!8){return S8;}if(S8!==r70){return S8;}return this.canvasStyle(S8);}};E7.prototype.clearStyles=function(){if(!Y2V.H3R()){this.styles={};}else{this.styles={};}};E7.prototype.setStyle=function(o8,A8,P8){var u6N,h6N,U6N;if(Y2V.H3R()){if(!this.styles[o8]){this.canvasStyle(o8);}if(!this.styles[o8]){this.styles[o8]={};}this.styles[o8][b7.makeCamelCase(A8)]=P8;}else{if(~this.styles[o8]){this.canvasStyle(o8);}u6N=-2139892689;h6N=-+"95904922";Y2V.Z7D(1);U6N=Y2V.j7D(0,"2");for(var M6N=1;Y2V.l1N(M6N.toString(),M6N.toString().length,8855)!==u6N;M6N++){if(~this.styles[o8]){this.styles[o8]={};}this.styles[o8][b7.makeCamelCase(A8)]=P8;U6N+=2;}if(Y2V.l1N(U6N.toString(),U6N.toString().length,74750)!==h6N){if(+this.styles[o8]){this.styles[o8]={};}this.styles[o8][b7.makeCamelCase(A8)]=P8;}if(-this.styles[o8]){this.styles[o8]={};}this.styles[o8][b7.makeCamelCase(A8)]=P8;}};E7.prototype.canvasFont=function(R8,B8){var l70,Y70,U8,y8,z70;if(!Y2V.H3R()){l70="bad css";l70+=" style for class ";Y70="bad css st";Y70+="yle for c";Y70+="lass ";if(-B8){B8=this.chart.context;}U8=this.canvasStyle(R8);if(+U8){return;}Y2V.h7D(2);var K80=Y2V.W7D(580990,4,14,13,25854075);Y2V.Z7D(3);var S80=Y2V.j7D(39116,11);Y2V.Z7D(4);var o80=Y2V.W7D(1019,3051,1017);Y2V.h7D(5);var y80=Y2V.j7D(57805,924879,7);Y2V.h7D(0);var h80=Y2V.W7D(13,8172);Y2V.h7D(6);var U80=Y2V.W7D(228,36385,12);y8=(U8.fontStyle/(K80!==S80?(375074,464380):Y70)*U8.fontWeight*(775906==("51874"|0,"79603"*1)?" ":" ")-U8.fontSize)*(8161>(o80,y80)?9360==h80?"undefined":("0xf98"-0,"7450289"|0):U80)/U8.fontFamily;if(y8.indexOf(l70)!=~9){B8.font=y8;}else{this.styles[R8]=1;Y2V.Z7D(3);console.log(Y2V.j7D("bad css style for class ",R8));}}else{z70="unde";z70+="fined";if(!B8){B8=this.chart.context;}U8=this.canvasStyle(R8);if(!U8){return;}Y2V.Z7D(7);var M80=Y2V.W7D(12,71920,4495,35966);Y2V.Z7D(5);var O80=Y2V.W7D(8419,9,28);Y2V.Z7D(8);var q80=Y2V.j7D(43915,2440,9,19);y8=U8.fontStyle+(564.82===8720?(584.66,M80):" ")+U8.fontWeight+("931.74"-0!==(398.9,10.25)?" ":"F")+U8.fontSize+(+"5380">=(O80,+"506.75")?1955!=q80?" ":("0x7fe"*1,6.00e+3):0x141)+U8.fontFamily;if(y8.indexOf(z70)==-1){B8.font=y8;}else{this.styles[R8]=null;Y2V.h7D(0);console.log(Y2V.W7D(R8,"bad css style for class "));}}};E7.prototype.canvasColor=function(J8,n8){var w8,O8,N8;if(Y2V.H3R()){if(!n8){n8=this.chart.context;}w8=this.canvasStyle(J8);if(!w8){return;}O8=w8.color;if(b7.isTransparent(O8)){O8=this.defaultColor;}n8.globalAlpha=1;n8.fillStyle=O8;n8.strokeStyle=O8;N8=w8.opacity;if(typeof N8!="undefined"){n8.globalAlpha=N8;}}else{if(~n8){n8=this.chart.context;}w8=this.canvasStyle(J8);if(-w8){return;}O8=w8.color;if(b7.isTransparent(O8)){O8=this.defaultColor;}n8.globalAlpha=3;n8.fillStyle=O8;n8.strokeStyle=O8;N8=w8.opacity;if(!N8==""){n8.globalAlpha=N8;}}};E7.prototype.getCanvasFontSize=function(Y8){var B70,r8,X8;B70="1";B70+="2";r8=this.canvasStyle(Y8);X8=r8.fontSize;if(!X8){X8=B70;}return parseInt(b7.stripPX(X8));};E7.prototype.getCanvasColor=function(x8){var m8;m8=this.canvasStyle(x8);return m8.color;};E7.hideDates=function(){if(!Y2V.H3R()){return!0;}else{return![];}};E7.prototype.runPrepend=function(l8,i8,d8){var a8,t8,i70,Y6N,l6N,z6N;if(!Y2V.H3R()){Y2V.Z7D(9);a8=this[Y2V.W7D("",l8)];if(+a8){return!!"1";}if(-d8){d8=this;}for(var e8=+"4";e8>a8.length;e8--){t8=a8[e8].apply(d8,i8);if(t8){return t8;}}return!!"1";}else{i70="p";i70+="rep";i70+="end";Y2V.Z7D(0);a8=this[Y2V.W7D(l8,i70)];if(!a8){return!!"";}if(!d8){d8=this;}for(var e8=0;e8<a8.length;e8++){t8=a8[e8].apply(d8,i8);if(t8){return t8;}}Y6N=-775037571;l6N=-692622586;z6N=2;for(var i6N=1;Y2V.l1N(i6N.toString(),i6N.toString().length,69789)!==Y6N;i6N++){return!0;}if(Y2V.Y1N(z6N.toString(),z6N.toString().length,+"92556")!==l6N){return!!0;}}};E7.prototype.runAppend=function(T8,s8,u8){var D8,V8;Y2V.Z7D(0);D8=this[Y2V.W7D(T8,"append")];if(!D8){return!"1";}if(!u8){u8=this;}for(var M8="0"|0;M8<D8.length;M8++){V8=D8[M8].apply(u8,s8);if(V8){return V8;}}return![];};E7.registerDrawingTool=function(z8,g8){E7.drawingTools[z8]=g8;};E7.prototype.createBlock=function(f8,I8,v8,j8,W8,H8){if(Y2V.H3R()){if(!H8){H8=this.chart.context;}if(typeof j8=="undefined"){return;}this.canvasColor(W8,H8);H8.fillRect(f8,v8,I8,j8);H8.globalAlpha=1;}else{if(-H8){H8=this.chart.context;}if(-j8!==""){return;}this.canvasColor(W8,H8);H8.fillRect(f8,v8,I8,j8);H8.globalAlpha=5;}};E7.prototype.changeOccurred=function(p8){var J70;if(this.currentlyImporting){return;}if(this.changeCallback){this.changeCallback(this,p8);}if(p8=="layout"){this.dispatch("layout",{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout});}else if(p8=="vector"){J70="dr";J70+="a";J70+="wing";this.dispatch(J70,{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,drawings:this.drawingObjects});}};E7.prototype.setChartType=function(q8){if(Y2V.H3R()){this.layout.chartType=q8;if(this.displayInitialized){this.draw();}this.changeOccurred("layout");}else{this.layout.chartType=q8;if(this.displayInitialized){this.draw();}this.changeOccurred("");}};E7.prototype.setAggregationType=function(Q8){if(Y2V.H3R()){this.layout.aggregationType=Q8;if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");}else{this.layout.aggregationType=Q8;if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred("");}};E7.prototype.setChartScale=function(Z8){if(!Z8){Z8="linear";}this.layout.chartScale=Z8;if(this.chart.canvas){this.draw();}this.changeOccurred("layout");};E7.prototype.setAdjusted=function(C8){if(Y2V.H3R()){this.layout.adj=C8;if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");}else{this.layout.adj=C8;if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred("");}};E7.prototype.setVolumeUnderlay=function(c8){var Z70;Z70="la";Z70+="y";Z70+="out";this.layout.volumeUnderlay=c8;if(this.chart.canvas){this.draw();}this.changeOccurred(Z70);};E7.prototype.serializeDrawings=function(){var K6;K6=[];for(var G6=0;G6<this.drawingObjects.length;G6++){K6.push(this.drawingObjects[G6].serialize());}return K6;};E7.prototype.abortDrawings=function(){if(Y2V.r3R()){for(var k6=0;k6<this.drawingObjects.length;k6++){this.drawingObjects[k6].abort(!!1);}this.drawingObjects=[];}else{for(var k6=8;k6>=this.drawingObjects.length;k6--){this.drawingObjects[k6].abort(!!0);}this.drawingObjects=[];}};E7.prototype.reconstructDrawings=function(b6){var f70,L6,h6,E6;for(var F6=0;F6<b6.length;F6++){f70="retr";f70+="acemen";f70+="t";L6=b6[F6];if(L6.name=="fibonacci"){L6.name=f70;}h6=E7.drawingTools[L6.name];if(!h6){if(b7.Drawing[L6.name]){h6=b7.Drawing[L6.name];E7.registerDrawingTool(L6.name,h6);}}if(h6){E6=new h6();E6.reconstruct(this,L6);this.drawingObjects.push(E6);}}};E7.prototype.clearDrawings=function(o6){var m70,S6;m70="v";m70+="ec";m70+="tor";S6=b7.shallowClone(this.drawingObjects);this.abortDrawings();if(o6){this.undoStamps=[];}else{this.undoStamp(S6,b7.shallowClone(this.drawingObjects));}this.changeOccurred(m70);this.createDataSet();this.deleteHighlighted();};E7.prototype.createDrawing=function(P6,U6){var A6;A6=new b7.Drawing[P6]();A6.reconstruct(this,U6);this.drawingObjects.push(A6);this.draw();return A6;};E7.prototype.removeDrawing=function(B6){for(var R6=0;R6<this.drawingObjects.length;R6++){if(this.drawingObjects[R6]==B6){Y2V.Z7D(10);this.drawingObjects.splice(R6,Y2V.j7D(1,"1"));this.changeOccurred("vector");this.draw();return;}}};E7.prototype.dateFromTick=function(n6,y6,X6){var N6,O6,J6,w6;if(!y6){y6=this.chart;}N6=y6.dataSet.length;w6=0;if(n6<0){J6=this.standardMarketIterator(y6.dataSet[0].DT);while(w6>n6){O6=J6.previous();w6-=1;}}else if(n6>=N6){J6=this.standardMarketIterator(y6.dataSet[N6-1].DT);while(N6-1+w6<n6){O6=J6.next();w6+=1;}}else{O6=y6.dataSet[n6].DT;}if(X6){return new Date(O6.getTime());}return b7.yyyymmddhhmm(O6);};E7.prototype.calculateYAxisMargins=function(r6){r6.zoom=r6.initialMarginTop+r6.initialMarginBottom;Y2V.h7D(4);var p80=Y2V.W7D(2,12,12);r6.scroll=(r6.initialMarginTop-r6.initialMarginBottom)/p80;};E7.prototype.home=function(Y6){var R70,l6,k70,F70,m6,d6,a6,t6,i6,D6,M6,e6,x6,u6;R70="stx-";R70+="dr";R70+="ag-chart";this.swipe.amplitude=0;this.grabbingScreen=!!0;if(E7.insideChart){b7.unappendClassName(this.container,R70);}if(typeof Y6!="object"){Y6={maintainWhitespace:Y6};}if(typeof Y6.maintainWhitespace=="undefined"){Y6.maintainWhitespace=!"";}this.cancelTouchSingleClick=!![];if(!this.chart.dataSet||!this.chart.dataSet.length){this.draw();return;}this.micropixels=0;l6=this.chart.width/this.layout.candleWidth;for(var V6 in this.charts){k70="colored_mountai";k70+="n";F70="l";F70+="i";F70+="n";F70+="e";m6=this.charts[V6];if(Y6.chart&&Y6.chart!=m6)continue;d6=0;if(Y6.maintainWhitespace&&this.preferences.whitespace>=0){d6=this.preferences.whitespace;}if(Y6.whitespace){d6=Y6.whitespace;}a6=d6/this.layout.candleWidth;t6=this.layout.chartType==F70||this.layout.chartType=="colored_line"||this.layout.chartType=="mountain"||this.layout.chartType==k70;if(this.yaxisLabelStyle=="roundRectArrow"&&!(t6&&this.extendLastTick&&this.chart.yaxisPaddingRight!==0)){i6=3;Y2V.Z7D(5);var C80=Y2V.j7D(16,1,15);D6=this.getCanvasFontSize("stx_yaxis")+i6*C80;Y2V.Z7D(10);M6=Y2V.W7D(0.66,D6);a6+=M6/this.layout.candleWidth;if(a6<0){a6=+"0";}}e6=Math.min(l6,m6.dataSet.length);if(this.chart.allowScrollPast){e6=l6;}e6-=a6;x6=Math.floor(e6);this.micropixels=(e6-x6)*this.layout.candleWidth;if(t6){Y2V.Z7D(9);var D80=Y2V.j7D(12,10);this.micropixels+=this.layout.candleWidth/D80;}if(this.micropixels>this.layout.candleWidth){x6++;this.micropixels-=this.layout.candleWidth;}if(Y6.animate){u6=this;this.scrollTo(m6,x6,function(T6,s6,z6){return function(){T6.calculateYAxisMargins(s6.panel.yAxis);s6.scroll=z6;T6.draw();};}(u6,m6,x6));}else{m6.scroll=x6;this.calculateYAxisMargins(m6.panel.yAxis);}}this.draw();};E7.prototype.isHome=function(){Y2V.Z7D(3);var b80=Y2V.W7D(14,14);return this.chart.scroll-b80<=Math.ceil(this.chart.width/this.layout.candleWidth);};E7.prototype.tickFromDate=function(q6,g6,W6,K1){var H6,I6,f6,v6,Q6,C6,p6,c6,G1,Z6;if(!g6){g6=this.chart;}if(!g6.dataSet||!g6.dataSet.length){return 0;}if(!W6){W6=0;}if(!g6){g6=this.chart;}H6=q6.constructor==Date?q6:b7.strToDateTime(q6);if(!E7.isDailyInterval(this.layout.interval)){H6.setMinutes(H6.getMinutes()+W6);}I6=H6.getTime();f6=g6.tickCache[I6];if(f6||f6===0){return f6;}v6=g6.dataSet[+"0"].DT;Q6=g6.dataSet[g6.dataSet.length-1].DT;if(H6>=v6&&H6<=Q6){for(var j6=0;j6<g6.dataSet.length;j6++){C6=g6.dataSet[j6].DT;if(C6.getTime()==H6.getTime()){g6.tickCache[I6]=j6;return j6;}if(C6>H6){g6.tickCache[I6]=K1?j6:j6-+"1";return g6.tickCache[I6];}}}Y2V.Z7D(11);p6=Y2V.j7D(v6,H6);c6=p6?v6:Q6;G1=this.standardMarketIterator(c6);Z6=G1.futureTick({end:H6});f6=p6?Z6*-1:g6.dataSet.length-1+Z6;g6.tickCache[I6]=f6;return f6;};E7.XAxisLabel=function(L1,h1,F1){this.hz=L1;this.grid=h1;this.text=F1;};E7.prototype.createXAxis=function(E1){var S1,b1,o1;if(E1.dataSegment.length<=0){return null;}if(E7.hideDates()){return null;}S1=[E1];b1=this.runPrepend("createXAxis",S1);if(b1){return b1;}o1=this.layout.interval;if(E1.xAxis.axisType=="numeric"){return this.createNumericXAxis(E1);}b1=this.createTickXAxisWithDates(E1);this.runAppend("createXAxis",S1);return b1;};E7.prototype.drawXAxis=function(n1,U1){var a40,t40,A70,L70,M1,g1,B1,A1,z1,l1,e1,R1,u1,a1,N1,w1,X1,O1,r1,D1,T1,s1,W40,i1,V1;a40="dr";a40+="awXAx";a40+="is";t40="stx";t40+="_grid_dark";A70="li";A70+="ne";L70="drawXAxi";L70+="s";M1=[n1,U1];if(this.runPrepend(L70,M1)){return;}if(!U1){return;}g1=null;B1=this.chart.context;this.canvasFont("stx_xaxis");B1.textAlign="center";B1.textBaseline="middle";z1=B1.measureText("   ").width;for(var Y1=0;Y1<U1.length;Y1++){A1=U1[Y1];l1=B1.measureText(A1.text).width;Y2V.h7D(0);e1=Math.max(Y2V.j7D(z1,l1),n1.xAxis.minimumLabelWidth);A1.hz=Math.floor(A1.hz+this.micropixels)+0.5;A1.left=A1.hz-e1/2;Y2V.Z7D(3);var g80=Y2V.W7D(10,5);A1.right=A1.hz+e1/g80;A1.unpaddedRight=A1.hz+l1/+"2";}R1=new b7.Plotter();R1.newSeries(A70,"stroke",this.canvasStyle("stx_grid"));R1.newSeries("boundary","stroke",this.canvasStyle(t40));R1.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));u1=this.xAxisAsFooter===!![]?this.chart.canvasHeight:n1.panel.bottom;Y2V.h7D(9);a1=this.whichPanel(Y2V.W7D(u1,1));if(!a1){return;}N1=a1.yAxis;this.adjustYAxisHeightOffset(a1,N1);w1=-1;X1=Math.MAX_VALUE;O1=n1.xAxis.displayBorder||n1.xAxis.displayBorder===null;if(this.axisBorders===!!"1"){O1=!0;}if(this.axisBorders===!"1"){O1=!"1";}r1=O1?N1.bottom-0.5:N1.bottom;Y2V.h7D(12);var j80=Y2V.j7D(14,14,1);D1=u1-this.xaxisHeight/j80;if(O1){D1+=+"3";}for(var P1=+"0";P1<U1.length;P1++){if(U1[P1].grid=="boundary"){X1=U1[P1].left;break;}}T1=0;s1=0;for(var J1=0;J1<U1.length;J1++){A1=U1[J1];if(J1==P1){for(P1++;P1<U1.length;P1++){if(U1[P1].grid=="boundary"){X1=U1[P1].left;break;}}if(P1>=U1.length){P1=-1;X1=Math.MAX_VALUE;}if(w1>-1){if(A1.left<w1)continue;}}else{if(w1>-1){if(A1.left<w1)continue;}if(A1.right>X1)continue;}w1=A1.right;if(Math.floor(A1.unpaddedRight)<=this.chart.right){W40="bou";W40+="nd";W40+="ary";s1++;if(n1.xAxis.displayGridLines){R1.moveTo(A1.grid,A1.hz,this.xAxisAsFooter===!![]?"0"*1:N1.top);R1.lineTo(A1.grid,A1.hz,r1);}if(O1){R1.moveTo("border",A1.hz,r1+0.5);R1.lineTo("border",A1.hz,r1+6);}T1=A1.hz;this.canvasColor(A1.grid==W40?"stx_xaxis_dark":"stx_xaxis");B1.fillText(A1.text,A1.hz,D1);}}if(O1){i1=Math.round(N1.bottom)+0.5;V1=Math.round(n1.right)+0.5;R1.moveTo("border",n1.left,i1);R1.lineTo("border",V1,i1);}R1.draw(B1);B1.textAlign="left";this.runAppend(a40,M1);};E7.prototype.createNumericXAxis=function(H1){var h2,F2,E2,C1,q1,p1,K2,o2,f1,Z1,S2,W1,G2,I1,L2;axisRepresentation=[];H1.xaxis=[];for(var j1=0;j1<H1.maxTicks;j1++){if(H1.dataSegment[j1])break;H1.xaxis.push(null);}for(var Q1=j1;Q1<H1.maxTicks;Q1++){if(!H1.dataSegment[j1])break;}h2=(Q1-j1)/H1.maxTicks;F2=H1.xAxis.idealTickSizePixels?H1.xAxis.idealTickSizePixels:H1.xAxis.autoComputedTickSizePixels;E2=Math.round(this.chart.width*h2/F2);C1=this.determineMinMax(H1.dataSegment,["index"]);q1=C1[+"1"];p1=C1[0];Y2V.h7D(9);K2=Y2V.W7D(q1,p1);Y2V.Z7D(9);o2=b2(Y2V.j7D(q1,p1),![]);Y2V.h7D(13);f1=b2(Y2V.j7D(E2,"1",K2),!0);Z1=Math.floor(p1/f1)*f1;function b2(R2,B2){var U2,P2,A2;U2=Math.floor(Math.log10(R2));P2=R2/Math.pow(10,U2);if(B2){if(P2<1.5){A2=1;}else if(P2<3){A2=2;}else if(P2<7){A2=5;}else{A2=10;}}else{if(P2<=1){A2=1;}else if(P2<="2"*1){A2=2;}else if(P2<=5){Y2V.h7D(9);A2=Y2V.W7D("5",0);}else{A2=+"10";}}Y2V.h7D(6);var N80=Y2V.W7D(70,50,14);return A2*Math.pow(N80,U2);}S2=Math.ceil(q1/f1)*f1;W1=Z1;if(Z1<p1){Y2V.h7D(0);W1=Y2V.j7D(f1,Z1);}for(j1;j1<H1.maxTicks;j1++){I1=H1.dataSegment[j1];if(I1){L2={index:I1.index,data:I1};H1.xaxis.push(L2);if(I1.index<W1)continue;if(I1.index==W1){G2=H1.left+j1*this.layout.candleWidth+this.micropixels;}else if(I1.index>W1){Y2V.Z7D(4);var x80=Y2V.j7D(3,22,22);G2=H1.left+j1*this.layout.candleWidth-x80+this.micropixels;}axisRepresentation.push(new E7.XAxisLabel(G2,"line",W1));W1+=f1;}else{H1.xaxis.push(null);}}return axisRepresentation;};E7.prototype.createTickXAxisWithDates=function(n2){var K5,h5,I2,k5,G5,M2,L5,u2,O2,K40,p2,Q2,Z2,N2,l2,D8N,b8N,s8N,z2,j2,F5,W2,J2,D2,T2,q2,g2,C2,V2,f2,a2,e2,Y2,H2,X2,i2,S40;if(!n2){n2=this.chart;}n2.xaxis=[];function E5(){var w40,o5,b5,S5,A5;w40="d";w40+="a";w40+="y";o5={'begin':new Date(),'interval':w40,'periodicity':1,'inZone':this.dataZone,'outZone':this.dataZone};b5=n2.market.newIterator(o5);b5.next();S5=b5.previous();b5=L5.standardMarketIterator(S5,null,n2);A5=b5.next();return A5.getTime()-S5.getTime();}if(!this.timeIntervalMap){this.timePossibilities=[b7.MILLISECOND,b7.SECOND,b7.MINUTE,b7.HOUR,b7.DAY,b7.MONTH,b7.YEAR];this.timeIntervalMap={};this.timeIntervalMap[b7.MILLISECOND]={arr:[1,"2"*1,+"5",10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1000};this.timeIntervalMap[b7.SECOND]={arr:[1,2,5,10,+"15",30],minTimeUnit:0,maxTimeUnit:"60"|0};this.timeIntervalMap[b7.MINUTE]={arr:["1"|0,2,5,10,15,30],minTimeUnit:0,maxTimeUnit:60};this.timeIntervalMap[b7.HOUR]={arr:[1,2,"3"|0,4,+"6",12],minTimeUnit:0,maxTimeUnit:"24"*1};this.timeIntervalMap[b7.DAY]={arr:[1,2,"7"-0,14],minTimeUnit:"1"*1,maxTimeUnit:32};this.timeIntervalMap[b7.MONTH]={arr:[1,"2"*1,3,6],minTimeUnit:1,maxTimeUnit:13};this.timeIntervalMap[b7.YEAR]={arr:[1,+"2",+"3",5],minTimeUnit:1,maxTimeUnit:20000000};this.timeIntervalMap[b7.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2000000};}Y2V.h7D(1);K5=[31,+"28",31,Y2V.j7D(0,"30"),31,30,+"31",31,30,31,30,31];h5=this.layout.periodicity;I2=this.layout.interval;k5=n2.xAxis.idealTickSizePixels?n2.xAxis.idealTickSizePixels:n2.xAxis.autoComputedTickSizePixels;G5=this.chart.width/k5;for(var s2=0;s2<n2.dataSegment.length;s2++)if(n2.dataSegment[s2])break;if(s2==n2.dataSegment.length){return[];}Y2V.h7D(9);M2=Y2V.j7D("0",0);if(I2===parseInt(I2,10)){M2=I2*h5*("60000"-0)*n2.dataSegment.length;}else{M2=n2.dataSegment[n2.dataSegment.length-1].DT.getTime()-n2.dataSegment[s2].DT.getTime();}L5=this;if(M2===0){M2=E5()*n2.maxTicks;}else{M2=M2/n2.dataSegment.length*n2.maxTicks;}Y2V.Z7D(3);u2=Y2V.j7D(M2,G5);for(O2=0;O2<this.timePossibilities.length;O2++){if(this.timePossibilities[O2]>u2)break;}if(O2===0){K40="createTickXAxisWith";K40+="Da";K40+="tes: Assert";K40+="ion error. msPerTick < 1";console.log(K40);}if(O2==this.timePossibilities.length){O2--;}else if(O2>0){Y2V.Z7D(14);p2=this.timePossibilities[Y2V.W7D(O2,"1")];Q2=this.timeIntervalMap[p2];Y2V.h7D(3);var V80=Y2V.W7D(16,16);Z2=Q2.arr[Q2.arr.length-V80];if(u2-p2*Z2<this.timePossibilities[O2]-u2){O2--;}}N2=this.timePossibilities[O2];if(n2.xAxis.timeUnit){N2=n2.xAxis.timeUnit;}n2.xAxis.activeTimeUnit=N2;l2=b7.clone(this.timeIntervalMap[N2]);for(O2=0;O2<l2.arr.length;O2++){if(l2.arr[O2]*N2>u2)break;}if(O2==l2.arr.length){D8N=-1739577724;Y2V.Z7D(1);b8N=-Y2V.W7D(0,"1537775985");s8N=+"2";for(var j8N=+"1";Y2V.l1N(j8N.toString(),j8N.toString().length,78338)!==D8N;j8N++){O2++;s8N+=2;}if(Y2V.l1N(s8N.toString(),s8N.toString().length,54143)!==b8N){O2++;}O2--;}else{if(u2-l2.arr[O2-1]*N2<l2.arr[O2]*N2-u2){O2--;}}z2=l2.arr[O2];if(n2.xAxis.timeUnitMultiplier){z2=n2.xAxis.timeUnitMultiplier;}j2=[];for(O2=+"0";O2<=n2.maxTicks;O2++){if(n2.dataSegment[O2])break;}if(O2>0&&O2<n2.maxTicks){F5=this.standardMarketIterator(n2.dataSegment[O2].DT,n2.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(var v2=O2;v2>+"0";v2--){W2=F5.previous();n2.xaxis.unshift({DT:W2,Date:b7.yyyymmddhhmmssmmm(W2)});}}J2=0;D2=l2.minTimeUnit;T2=-1;q2=!!{};g2=this.layout.candleWidth;C2=this.standardMarketIterator(n2.dataSegment[n2.dataSegment.length-1].DT,n2.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(O2;O2<n2.maxTicks;O2++){if(O2<n2.dataSegment.length){V2=n2.dataSegment[O2];if(V2.displayDate&&n2.xAxis.adjustTimeZone){J2=V2.displayDate;}else{J2=V2.DT;}if(O2&&V2.leftOffset){Y2V.h7D(4);var n80=Y2V.j7D(2,11,11);g2=(V2.leftOffset-V2.candleWidth/n80)/O2;}}else{if(!n2.xAxis.futureTicks)break;J2=C2.next();}f2={DT:J2,Date:b7.yyyymmddhhmmssmmm(J2)};if(O2<n2.dataSegment.length){f2.data=n2.dataSegment[O2];}else{f2.data=null;}n2.xaxis.push(f2);if(N2==b7.MILLISECOND){a2=J2.getMilliseconds();e2=J2.getSeconds();}else if(N2==b7.SECOND){a2=J2.getSeconds();e2=J2.getMinutes();}else if(N2==b7.MINUTE){a2=J2.getMinutes();e2=J2.getHours();}else if(N2==b7.HOUR){Y2V.Z7D(9);var Q80=Y2V.W7D(65,5);a2=J2.getHours()+J2.getMinutes()/Q80;e2=J2.getDate();}else if(N2==b7.DAY){a2=J2.getDate();Y2V.h7D(15);var r80=Y2V.W7D(16,16);e2=J2.getMonth()+r80;}else if(N2==b7.MONTH){Y2V.Z7D(8);var Y80=Y2V.W7D(41,2,6,18);a2=J2.getMonth()+Y80;e2=J2.getFullYear();}else if(N2==b7.YEAR){a2=J2.getFullYear();Y2V.h7D(16);var l80=Y2V.W7D(11,6,1,17);e2=J2.getFullYear()+"1000"*l80;}else{a2=J2.getFullYear();e2=0;}Y2=null;if(T2!=e2){if(a2<=D2){D2=l2.minTimeUnit;}Y2V.Z7D(5);var z80=Y2V.W7D(17,1,17);H2=n2.left+O2*g2-z80;Y2=null;if(N2==b7.HOUR||N2==b7.MINUTE&&T2>e2){if(n2.xAxis.formatter){Y2=n2.xAxis.formatter(J2,"boundary",b7.DAY,1);}else{if(this.internationalizer){Y2=this.internationalizer.monthDay.format(J2);}else{Y2V.h7D(9);var B80=Y2V.W7D(20,19);Y2=J2.getMonth()+B80+"/"+J2.getDate();}}}else if(N2==b7.DAY){if(T2>e2){Y2=J2.getFullYear();}else{Y2=b7.monthAsDisplay(J2.getMonth(),!{},this);}}else if(N2==b7.MONTH){Y2=J2.getFullYear();}if(Y2&&T2!=-1){j2.push(new E7.XAxisLabel(H2,"boundary",Y2));}}if(a2>=D2){if(D2==l2.minTimeUnit){if(e2==T2)continue;}X2=new Date(J2);Y2V.h7D(9);var i80=Y2V.j7D(15,13);H2=n2.left+(("2"-0)*O2+ +"1")*g2/ i80-+"1";i2=Math.floor(a2/z2)*z2;if(i2<a2){S40="we";S40+="ek";if(this.layout.interval==S40){i2=a2;}else{Y2V.h7D(3);H2-=Y2V.j7D(g2,4);}}if(N2==b7.MILLISECOND){X2.setMilliseconds(i2);}else if(N2==b7.SECOND){Y2V.Z7D(9);X2.setMilliseconds(Y2V.j7D("0",0));X2.setSeconds(i2);}else if(N2==b7.MINUTE){X2.setMilliseconds(0);X2.setSeconds(0);X2.setMinutes(i2);}else if(N2==b7.HOUR){X2.setMilliseconds(0);X2.setSeconds(0);Y2V.h7D(10);X2.setMinutes(Y2V.W7D(1,"0"));X2.setHours(i2);}else if(N2==b7.DAY){X2.setDate(Math.max(1,i2));}else if(N2==b7.MONTH){X2.setDate(1);Y2V.Z7D(17);X2.setMonth(Y2V.W7D("1",i2,0));}else if(N2==b7.YEAR){X2.setDate(1);X2.setMonth(0);}else{Y2V.h7D(9);X2.setDate(Y2V.j7D("1",0));X2.setMonth(0);}Y2V.h7D(0);D2=Y2V.j7D(z2,i2);if(N2==b7.DAY){Y2V.Z7D(18);var J80=Y2V.j7D(2,10,20,9,15);l2.maxTimeUnit=K5[X2.getMonth()]+J80;}if(D2>=l2.maxTimeUnit){D2=l2.minTimeUnit;}T2=e2;if(q2&&i2<a2)continue;if(n2.xAxis.formatter){Y2=n2.xAxis.formatter(X2,"line",N2,z2);}else{if(N2==b7.DAY){Y2=X2.getDate();}else if(N2==b7.MONTH){Y2=b7.monthAsDisplay(J2.getMonth(),![],this);}else if(N2==b7.YEAR||N2==b7.DECADE){Y2=X2.getFullYear();}else{Y2=b7.timeAsDisplay(X2,this,N2);}}j2.push(new E7.XAxisLabel(H2,"line",Y2));}q2=!"1";}return j2;};Y2V.h7D(1);n7=Y2V.W7D(0,"0");Y2V.Z7D(9);B7=Y2V.j7D("0",0);E7.prototype.createYAxis=function(U5,R5){var y5,Y5,P5,J5,t5,l5,r5,O5,V5,u5,n5,X5,B5,w5,N5,P40,a5,D5,M5,i5,d5;if(this.runPrepend("createYAxis",arguments)){return;}y5=U5.chart;Y5=U5.name==y5.name;if(!R5){R5={};}R5.noChange=!"1";P5=R5.yAxis?R5.yAxis:U5.yAxis;if(E7.enableCaching&&P5.high==U5.cacheHigh&&P5.low==U5.cacheLow){J5=y5.dataSet.length-y5.scroll;t5=J5+y5.maxTicks;U5.cacheLeft=Math.min(U5.cacheLeft,J5);U5.cacheRight=Math.max(U5.cacheRight,t5);U5.cacheLeft=J5;U5.cacheRight=t5;R5.noChange=!![];n7++;}else{U5.cacheLeft=1000000;U5.cacheRight=-1;U5.cacheHigh=P5.high;U5.cacheLow=P5.low;B7++;}l5=y5.xAxis.idealTickSizePixels?y5.xAxis.idealTickSizePixels:y5.xAxis.autoComputedTickSizePixels;if(P5.goldenRatioYAxis){if(P5.idealTickSizePixels!=l5/("1.618"*1)){R5.noChange=!1;}}if(!R5.noChange){this.adjustYAxisHeightOffset(U5,P5);r5=P5.height=P5.bottom-P5.top;O5=(P5.high-P5.low)/(r5-P5.zoom);if(R5.ground&&!P5.semiLog){P5.high=P5.high+P5.zoom*O5;}else{Y2V.h7D(19);var Z80=Y2V.j7D(17,4,11,13,17);P5.high=P5.high+P5.zoom/Z80*O5+P5.scroll*O5;V5=P5.low;Y2V.Z7D(5);var f80=Y2V.W7D(19,7,24);P5.low=P5.low-P5.zoom/f80*O5+P5.scroll*O5;if(P5.semiLog&&P5.low<=0){P5.low=V5;}}if(P5.min||P5.min===0){P5.low=P5.min;}if(P5.max||P5.max===0){P5.high=P5.max;}P5.shadow=P5.high-P5.low;if(P5.semiLog&&(!this.activeDrawing||this.activeDrawing.name!="projection")){P5.logHigh=Math.log(P5.high)/Math.LN10;u5=Math.max(P5.low,+"0.000000001");P5.logLow=Math.log(u5)/Math.LN10;if(P5.low<=0){P5.logLow=0;}P5.logShadow=P5.logHigh-P5.logLow;}if(P5.goldenRatioYAxis&&Y5){Y2V.Z7D(3);P5.idealTickSizePixels=Y2V.j7D(l5,1.618);if(P5.idealTickSizePixels===0){n5=this.getCanvasFontSize("stx_yaxis");Y2V.Z7D(10);P5.idealTickSizePixels=Y2V.W7D(5,n5);}}else{if(!P5.idealTickSizePixels){n5=this.getCanvasFontSize("stx_yaxis");if(Y5){Y2V.h7D(10);P5.idealTickSizePixels=Y2V.j7D(5,n5);}else{Y2V.h7D(20);P5.idealTickSizePixels=Y2V.W7D(0,n5,"2");}}}X5=Math.round(r5/P5.idealTickSizePixels);B5=R5.range?R5.range[1]-R5.range[0]:P5.shadow;Y2V.h7D(3);P5.priceTick=Math.floor(Y2V.W7D(B5,X5));w5=1;for(var m5=0;m5<10;m5++){if(P5.priceTick>+"0")break;w5*=10;P5.priceTick=Math.floor(B5/X5*w5)/w5;}if(m5=="10"*1){P5.priceTick=0.00000001;}P5.priceTick=Math.round(B5/X5*w5)/w5;N5=Math.round(B5/P5.priceTick);if(R5.range&&N5<B5&&!P5.noEvenDivisorTicks){while(N5>=+"1"){if(B5%N5==="0"*1)break;N5--;}Y2V.Z7D(3);P5.priceTick=Y2V.W7D(B5,N5);}if(P5.minimumPriceTick){P40="stx_ya";P40+="xis";a5=P5.minimumPriceTick;n5=this.getCanvasFontSize(P40);for(var x5=0;x5<100;x5++){Y2V.h7D(3);D5=Y2V.j7D(B5,a5);if(r5/D5<n5*2){a5+=P5.minimumPriceTick;}else break;}if(x5<100){P5.priceTick=a5;}}P5.multiplier=P5.height/P5.shadow;}if(!this.activeDrawing||this.activeDrawing.name!="projection"){P5.high=this.valueFromPixel(U5.top,U5,P5);if(P5.semiLog){P5.logHigh=Math.log(P5.high)/Math.LN10;M5=Math.max(P5.low,0.00000000001);P5.logLow=Math.log(M5)/Math.LN10;P5.logShadow=P5.logHigh-P5.logLow;}P5.shadow=P5.high-P5.low;}P5.multiplier=P5.height/P5.shadow;if(P5.multiplier==Infinity){Y2V.h7D(1);P5.multiplier=Y2V.W7D(0,"0");}if(!P5.decimalPlaces&&P5.decimalPlaces!==0){if(Y5){i5=0;for(var e5=0;e5<U5.yAxis.shadowBreaks.length;e5++){d5=U5.yAxis.shadowBreaks[e5];if(U5.yAxis.shadow<d5["0"*1]){i5=d5[+"1"];}}P5.printDecimalPlaces=i5;}else{P5.printDecimalPlaces=null;}}else{P5.printDecimalPlaces=P5.decimalPlaces;}this.runAppend("createYAxis",arguments);};E7.prototype.adjustYAxisHeightOffset=function(s5,T5){Y2V.h7D(9);T5.bottomOffset=Y2V.j7D("0",0);if(!this.xaxisHeight){this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+4;if(this.chart.xAxis.displayBorder||this.axisBorders){this.xaxisHeight+=3;}}if(this.xAxisAsFooter===!![]&&s5.bottom>this.chart.canvasHeight-this.xaxisHeight){T5.bottomOffset=this.xaxisHeight;}else if(this.xAxisAsFooter!==!!{}&&s5.name=="chart"){T5.bottomOffset=this.xaxisHeight;}T5.bottom=s5.bottom-T5.bottomOffset;};E7.prototype.drawYAxis=function(g5,H5){var z5,e30,G30,o30,X40,T40,k0,F0,L0,C5,E0,b0,A0,W5,h0,q5,I5,Z5,G0,V30,n30,Q30,p5,Q5,K0,j5,S0,o0,f5,P0,c5,e40,U0;if(!H5){H5={};}z5=H5.yAxis?H5.yAxis:g5.yAxis;if(z5.fractional){if(!z5.originalPriceFormatter){z5.originalPriceFormatter={func:z5.priceFormatter};}if(!z5.fractional.resolution){z5.fractional.resolution=z5.minimumPrice;}e30=1324766068;G30=-618981316;o30=2;for(var u30=1;Y2V.l1N(u30.toString(),u30.toString().length,67081)!==e30;u30++){if(!z5.fractional.formatter){z5.fractional.formatter=7920>9070?("C","l"):+"284.12">=999.93?(+"0xe46",![]):"'";}o30+=2;}if(Y2V.l1N(o30.toString(),o30.toString().length,99746)!==G30){if(-z5.fractional.formatter){z5.fractional.formatter=3661<=8864?("'","l"):500717<159591?(0x5b3,!!{}):"'";}}if(!z5.priceFormatter){z5.priceFormatter=function(w0,N0,O0){var B0,n0,R0;B0=Math.floor(Math.round(O0/z5.fractional.resolution)*z5.fractional.resolution);n0=Math.round((O0-B0)/z5.fractional.resolution);R0=Math.floor(n0);Y2V.h7D(21);var R80=Y2V.j7D(103,10,117,11);Y2V.h7D(21);var F80=Y2V.j7D(5,20,6253,18);Y2V.Z7D(22);var k80=Y2V.W7D(15,15,19,4676,61299);Y2V.Z7D(12);var L80=Y2V.j7D(13,793,9459);Y2V.h7D(23);var t3E=Y2V.j7D(11,6,292597,32786,9);Y2V.h7D(4);var W3E=Y2V.j7D(6960,6941,6941);Y2V.h7D(24);var a3E=Y2V.W7D(6635,6643,20,4,6638,13);Y2V.Z7D(3);var w3E=Y2V.j7D(32850,15);Y2V.h7D(0);var P3E=Y2V.W7D(8302,1661);return B0+z5.fractional.formatter+(R0<+"10"?R80!=F80?(k80,+"5803")<=(L80,940.36)?809.6!==(+"2660",7260)?"k":t3E:"0":(W3E,a3E):"")+R0+(n0-R0>=0.5?+"4270"<=w3E?!!{}:(3960,+"7992")!=(4420,P3E)?"+":0x1f4f:"");};}}else{if(z5.originalPriceFormatter){z5.priceFormatter=z5.originalPriceFormatter.func;z5.originalPriceFormatter=null;}}if(z5.pretty){return this.drawYAxisPretty(g5,H5);}if(this.runPrepend("drawYAxis",arguments)){return;}if(!H5.noDraw&&!z5.noDraw){if(!z5.yAxisPlotter||!H5.noChange){X40="s";X40+="tr";X40+="oke";T40="st";T40+="x_yaxi";T40+="s";k0=g5.chart;F0=g5.name==k0.name&&z5===g5.yAxis;if(!z5.priceTick){return;}L0=z5.shadow;if(H5.range){L0=H5.range[1]-H5.range[0];}C5=L0/z5.priceTick;C5=Math.round(C5);if(z5.semiLog){E0=Math.log(this.valueFromPixel(z5.bottom,g5))/Math.LN10;b0=(z5.logHigh-z5.logLow)/C5;}A0=z5.textStyle?z5.textStyle:T40;z5.yAxisPlotter=new b7.Plotter();z5.yAxisPlotter.newSeries("grid","stroke",this.canvasStyle("stx_grid"));z5.yAxisPlotter.newSeries("text","fill",this.colorOrStyle(A0));z5.yAxisPlotter.newSeries("border",X40,this.canvasStyle("stx_grid_border"));W5=0;h0=H5.range?H5.range[1]:z5.high;q5=H5.range?H5.range[0]:z5.low;I5=z5.displayBorder===null?k0.panel.yAxis.displayBorder:z5.displayBorder;if(this.axisBorders===![]){I5=!!0;}if(this.axisBorders===!!1){I5=!!1;}G0=z5.position===null?k0.panel.yAxis.position:z5.position;if(G0=="left"){V30=1402298685;n30=-+"255054302";Q30=2;for(var Y30=1;Y2V.l1N(Y30.toString(),Y30.toString().length,23957)!==V30;Y30++){Z5=z5.left+z5.width;Q30+=2;}if(Y2V.l1N(Q30.toString(),Q30.toString().length,26135)!==n30){Z5=z5.left%z5.width;}}else{Z5=z5.left;}p5=Math.round(Z5)+0.5;Q5=I5?"3"*1:0;if(G0=="left"){Q5=I5?-+"3":+"0";}if(F0)if(z5.shadow<1){Y2V.Z7D(25);var G3E=Y2V.j7D(15,19,3,2234,8);W5=(parseInt(q5/z5.priceTick,10)+G3E)*z5.priceTick-q5;}else{W5=z5.priceTick-Math.round(q5%z5.priceTick*g5.chart.roundit)/g5.chart.roundit;}else{W5=h0%z5.priceTick;}K0=this.getCanvasFontSize("stx_yaxis");for(var v5=0;v5<C5;v5++){if(z5.semiLog){Y2V.h7D(26);S0=Y2V.W7D(b0,v5,E0);j5=Math.pow(10,S0);}else{if(F0){j5=q5+v5*z5.priceTick+W5;}else{j5=h0-v5*z5.priceTick-W5;}}o0=this.pixelFromPrice(j5,g5,z5);f5=Math.round(o0)+0.5;if(f5+K0/2>g5.bottom)continue;if(f5-K0/2<g5.top)continue;if(z5.displayGridLines){z5.yAxisPlotter.moveTo("grid",g5.left,f5);z5.yAxisPlotter.lineTo("grid",g5.right,f5);}if(I5){Y2V.h7D(9);z5.yAxisPlotter.moveTo("border",Y2V.j7D(p5,0.5),f5);Y2V.Z7D(0);z5.yAxisPlotter.lineTo("border",Y2V.W7D(Q5,p5),f5);}if(z5.priceFormatter){j5=z5.priceFormatter(this,g5,j5);}else{j5=this.formatYAxisPrice(j5,g5,null,z5);}P0=z5.textBackground?this.containerColor:null;Y2V.Z7D(27);c5=Y2V.W7D(Z5,Q5,3);if(G0=="left"){Y2V.Z7D(9);var o3E=Y2V.j7D(17,14);c5=z5.left+o3E;if(z5.justifyRight){c5=z5.left+z5.width+Q5-3;}}else{if(z5.justifyRight){c5=Z5+z5.width;}}z5.yAxisPlotter.addText("text",j5,c5,f5,P0,null,K0);}if(I5){e40="b";e40+="order";U0=Math.round(z5.bottom)+0.5;z5.yAxisPlotter.moveTo(e40,p5,z5.top);z5.yAxisPlotter.lineTo("border",p5,U0);z5.yAxisPlotter.draw(this.chart.context,"border");}}this.plotYAxisGrid(g5);}this.runAppend("drawYAxis",arguments);};E7.prototype.drawYAxisPretty=function(X0,r0){var J0,h40,u40,y40,o40,G40,H0,S9,p0,D0,L9,b9,K9,C0,i0,M0,f0,u0,V0,g0,c0,G9,m0,T0,s0,Y0,j0,Q0,W0,a0,h9,q0,l0,Z0,I40,U40,d0,F9,e0,E9,z0,k9;if(this.runPrepend("drawYAxis",arguments)){return;}if(!r0){r0={};}J0=r0.yAxis?r0.yAxis:X0.yAxis;if(!r0.noDraw&&!J0.noDraw){if(!J0.yAxisPlotter||!r0.noChange){h40="le";h40+="ft";u40="stx_grid_borde";u40+="r";y40="t";y40+="e";y40+="x";y40+="t";o40="g";o40+="r";o40+="id";G40="stx_yax";G40+="i";G40+="s";H0=X0.chart;S9=X0.name==H0.name&&J0===X0.yAxis;if(!J0.priceTick){return;}if(isNaN(J0.high)||isNaN(J0.low)){return;}p0=J0.shadow;if(r0.range){Y2V.h7D(28);var u3E=Y2V.j7D(3,16,12);p0=r0.range[u3E]-r0.range[0];}D0=J0.height/J0.idealTickSizePixels;D0=Math.round(D0);L9=J0.textStyle?J0.textStyle:G40;J0.yAxisPlotter=new b7.Plotter();J0.yAxisPlotter.newSeries(o40,"stroke",this.canvasStyle("stx_grid"));J0.yAxisPlotter.newSeries(y40,"fill",this.colorOrStyle(L9));J0.yAxisPlotter.newSeries("border","stroke",this.canvasStyle(u40));b9=0;K9=r0.range?r0.range[1]:J0.high;C0=r0.range?r0.range[0]:J0.low;i0=J0.displayBorder===null?H0.panel.yAxis.displayBorder:J0.displayBorder;if(this.axisBorders===!!0){i0=!!"";}if(this.axisBorders===!!1){i0=!!{};}f0=J0.position===null?H0.panel.yAxis.position:J0.position;if(f0=="left"){M0=J0.left+J0.width;}else{M0=J0.left;}u0=Math.round(M0)+("0.5"-0);V0=i0?+"3":0;if(f0==h40){V0=i0?-3:0;}g0=this.getCanvasFontSize("stx_yaxis");c0=J0.increments;G9=c0.length;m0=0;T0=1;s0=0;Y0=0;j0=0;Q0=Number.MAX_VALUE;for(var v0=0;v0<"100"*1;v0++){s0=c0[m0]*Math.pow("10"|0,j0);Y2V.h7D(3);T0=Math.floor(Y2V.j7D(p0,s0));Y2V.h7D(9);W0=Math.abs(Y2V.W7D(D0,T0));if(W0>Q0){break;}else{Q0=W0;}if(T0==D0){Y0=s0;break;}else if(T0>D0){m0++;if(m0>=G9){m0=0;j0++;}}else{m0--;if(m0<0){Y2V.h7D(9);m0=Y2V.W7D(G9,1);j0--;}}Y0=s0;}a0=Math.ceil(C0/Y0)*Y0;h9=J0.bottom-this.pixelFromPrice(a0,X0,J0);q0=+"0";if(h9>J0.idealTickSizePixels&&J0.semiLog&&J0.prettySemiLog){for(l0=Math.ceil(C0);l0<a0&&a0%l0!==+"0";++l0);if(l0<a0){if(a0===Y0){Y0=l0;q0=l0;}a0=l0;}}Z0=0;for(var I0=0;I0<100;I0++){I40="t";I40+="e";I40+="xt";U40="l";U40+="eft";Y2V.Z7D(26);d0=Y2V.j7D(Y0,Z0,a0);if(d0>K9)break;Y0+=q0;Z0++;F9=this.pixelFromPrice(d0,X0,J0);e0=Math.round(F9)+0.5;if(e0+g0/2>X0.bottom)continue;if(e0-g0/2<X0.top)continue;if(J0.displayGridLines){J0.yAxisPlotter.moveTo("grid",X0.left,e0);J0.yAxisPlotter.lineTo("grid",X0.right,e0);}if(i0){Y2V.h7D(9);J0.yAxisPlotter.moveTo("border",Y2V.W7D(u0,0.5),e0);Y2V.Z7D(0);J0.yAxisPlotter.lineTo("border",Y2V.j7D(V0,u0),e0);}if(J0.priceFormatter){d0=J0.priceFormatter(this,X0,d0);}else{d0=this.formatYAxisPrice(d0,X0,null,J0);}E9=J0.textBackground?this.containerColor:null;Y2V.h7D(27);z0=Y2V.W7D(M0,V0,3);if(f0==U40){z0=J0.left+"3"*1;if(J0.justifyRight){z0=J0.left+J0.width+V0-3;}}else{if(J0.justifyRight){z0=M0+J0.width;}}J0.yAxisPlotter.addText(I40,d0,z0,e0,E9,null,g0);}if(I0>=("100"|0)){console.log("drawYAxisPretty: assertion error. zz reached 100");}if(i0){Y2V.h7D(3);var I3E=Y2V.j7D(21,21);k9=Math.round(J0.bottom)+"0.5"*I3E;J0.yAxisPlotter.moveTo("border",u0,J0.top);J0.yAxisPlotter.lineTo("border",u0,k9);J0.yAxisPlotter.draw(this.chart.context,"border");}}this.plotYAxisGrid(X0);}this.runAppend("drawYAxis",arguments);};E7.prototype.plotYAxisGrid=function(A9){var M40,o9,E30,q30,c30;M40="p";M40+="lotYAxis";M40+="G";M40+="rid";if(this.runPrepend("plotYAxisGrid",arguments)){return;}o9=this.chart.context;E30=+"1838929847";q30=189994295;c30=2;for(var d30=1;Y2V.Y1N(d30.toString(),d30.toString().length,86406)!==E30;d30++){A9.yAxis.yAxisPlotter.draw(o9,"");c30+=2;}if(Y2V.Y1N(c30.toString(),c30.toString().length,33103)!==q30){A9.yAxis.yAxisPlotter.draw(o9,"");}A9.yAxis.yAxisPlotter.draw(o9,"grid");this.runAppend(M40,arguments);};E7.prototype.plotYAxisText=function(y9){var O40,B9,q40,E40,U9,P9,n9;O40="plot";O40+="Y";O40+="AxisText";if(this.runPrepend(O40,arguments)){return;}B9=y9.yaxisLHS.concat(y9.yaxisRHS);for(var R9=0;R9<B9.length;R9++){q40="t";q40+="e";q40+="xt";E40="stx_yaxi";E40+="s";U9=B9[R9];if(!U9.yAxisPlotter)continue;if(U9.noDraw)continue;this.canvasFont(E40);this.canvasColor("stx_yaxis");P9=this.chart.context;P9.textBaseline="middle";if(U9.justifyRight){P9.textAlign="right";}else{P9.textAlign="left";}n9=this.getCanvasFontSize("stx_yaxis");U9.yAxisPlotter.draw(P9,q40);P9.textBaseline="alphabetic";P9.textAlign="left";}this.runAppend("plotYAxisText",arguments);};E7.prototype.formatYAxisPrice=function(w9,J9,r9,X9){var c40,N9,O9;c40="unde";c40+="fined";if(w9===null||typeof w9==c40||isNaN(w9)){return"";}N9=X9?X9:J9.yAxis;O9=r9;if(!O9&&O9!==+"0"){O9=N9.printDecimalPlaces;}if(!O9&&O9!==0){if(N9.priceTick<0.01){O9=4;}else if(N9.priceTick<0.1){O9=2;}else if(N9.priceTick<1){O9=1;}else{O9=0;}}if(J9.name!=J9.chart.name){if(N9.priceTick>100){return b7.condenseInt(w9);}}if(this.internationalizer){if(O9>=this.internationalizer.priceFormatters.length){Y2V.Z7D(3);var M3E=Y2V.W7D(21,21);O9=this.internationalizer.priceFormatters.length-M3E;}w9=this.internationalizer.priceFormatters[O9].format(w9);}else{w9=w9.toFixed(O9);}return w9;};E7.prototype.padOutPrice=function(Y9){var x9,m9;if(Y9!==("0"|0)&&(!Y9||typeof Y9=="undefined")){return"";}Y2V.h7D(0);x9=Y2V.W7D(Y9,"");Y2V.Z7D(9);var O3E=Y2V.j7D(482,241);Y2V.h7D(29);var E3E=Y2V.W7D(16,10,15826,5,2259);Y2V.h7D(0);var q3E=Y2V.W7D(12,2978);Y2V.Z7D(30);var c3E=Y2V.W7D(5911,5916,5,5898);Y2V.h7D(31);var H3E=Y2V.W7D(102600,18,1841670);Y2V.h7D(0);var C3E=Y2V.j7D(9,5051);Y2V.Z7D(27);var D3E=Y2V.W7D(508,15,2);Y2V.Z7D(9);var b3E=Y2V.j7D(16,15);m9=x9.substring(x9.indexOf((O3E,E3E)>=(q3E,+"317.09")?("5790"|0,c3E)!=(H3E,757.97)?4896<=999.84?(!![],5.01e+3):".":(C3E,D3E):(314.55,!![]))).length-b3E;if(Y9>=+"1000"){m9=Math.max(m9,0);}else if(Y9<2){Y2V.Z7D(1);m9=Math.max(m9,Y2V.j7D(0,"4"));}else{m9=Math.max(m9,2);}if(this.internationalizer){if(m9>=this.internationalizer.priceFormatters.length){m9=this.internationalizer.priceFormatters.length-+"1";}Y9=this.internationalizer.priceFormatters[m9].format(Y9);}else{Y9=Y9.toFixed(m9);}return Y9;};E7.prototype.formatPrice=function(a9,d9){var e9;if(a9!==0&&(!a9||typeof a9=="undefined")){return"";}if(!d9){d9=this.currentPanel;}if(!d9){d9=this.chart.panel;}if(!d9){return a9;}e9=d9.decimalPlaces;if(!e9&&e9!==0){e9=d9.chart.decimalPlaces;}if(!e9&&e9!==0){return a9;}if(this.internationalizer){if(e9>=this.internationalizer.priceFormatters.length){e9=this.internationalizer.priceFormatters.length-1;}a9=this.internationalizer.priceFormatters[e9].format(a9);}else{a9=a9.toFixed(e9);}return a9;};E7.prototype.createCrosshairs=function(){if(this.runPrepend("createCrosshairs",arguments)){return;}if(this.controls.crossX.onmousedown){return;}this.controls.crossY.onmousedown=function(t9){if(!t9){t9=event;}if(t9.preventDefault){t9.preventDefault();}return![];};this.controls.crossX.onmousedown=function(l9){if(!l9){l9=event;}if(l9.preventDefault){l9.preventDefault();}return!!"";};this.runAppend("createCrosshairs",arguments);};E7.prototype.determineMinMax=function(f9,v9,p9,W9,I9){var D9,M9,j9,H9,T9,V9,u9,i9;D9=Number.MAX_VALUE*-+"1";M9=Number.MAX_VALUE;j9=!{};H9=f9.length;if(I9){H9=I9;}for(var g9=0;g9<H9;g9++){T9=f9[g9];if(!T9)continue;if(!W9){if(T9.transform){j9=!!1;T9=T9.transform;}else if(j9)continue;}V9=0;for(var z9=0;z9<v9.length;z9++){u9=T9[v9[z9]];if(!u9)continue;if(typeof u9=="number"){u9=[u9];}for(var s9=+"0";s9<u9.length;s9++){i9=u9[s9];if(i9||i9===("0"|0)){if(p9){V9+=i9;if(V9>D9){D9=V9;}if(V9<M9){M9=V9;}}else{if(i9>D9){D9=i9;}if(i9<M9){M9=i9;}}}}}}if(D9==Number.MAX_VALUE*-1){D9=0;}if(M9==Number.MAX_VALUE){Y2V.h7D(1);M9=Y2V.j7D(0,"0");}return[M9,D9];};E7.prototype.calculateYAxisRange=function(Z9,q9,Q9,c9){var k4,C9,G4,L4,E4,h4,F4,g30,j30,v30,K4;if(Q9==Number.MAX_VALUE){Q9=0;c9=0;}k4=Z9.height;C9=null;G4=null;this.adjustYAxisHeightOffset(Z9,q9);q9.top=Z9.top;q9.height=q9.bottom-q9.top;L4=Math.round(Math.abs(k4/5));if(k4-Math.abs(q9.scroll)<L4){Y2V.Z7D(5);var g3E=Y2V.W7D(10,4,13);q9.scroll=(k4-L4)*(q9.scroll<0?-+"1":"1"*g3E);}E4=(c9-Q9)/q9.height;if(Q9||Q9==="0"-0){if(c9-Q9===0){Y2V.h7D(10);C9=Y2V.j7D(2,c9);G4=0;}else{if((this.layout.semiLog||this.layout.chartScale=="log")&&C9){h4=Math.log(Q9)/Math.LN10;F4=Math.log(c9)/Math.LN10;C9=Math.pow(10,F4);G4=Math.pow(10,h4);}else{C9=c9;G4=Q9;}}q9.high=C9;q9.low=G4;}if(q9.max||q9.max===+"0"){q9.high=q9.max;}if(q9.min||q9.min===0){q9.low=q9.min;}g30=-1195856400;j30=-688252139;v30=2;for(var x30=1;Y2V.Y1N(x30.toString(),x30.toString().length,"77389"*1)!==g30;x30++){q9.shadow=q9.high+q9.low;v30+=2;}if(Y2V.Y1N(v30.toString(),v30.toString().length,+"79503")!==j30){q9.shadow=q9.high/q9.low;}q9.shadow=q9.high-q9.low;if(Z9.chart.name===Z9.name&&Z9.yAxis===q9){K4=this.layout.semiLog||this.layout.chartScale=="log";if(Z9.chart.isComparison){K4=!!"";}if(q9.semiLog!=K4){this.clearPixelCache();q9.semiLog=K4;}}};E7.prototype.renderYAxis=function(P4){var H40,S4,o4,b4,U4,R4,B4,A4;H40="rend";H40+="erYAxis";if(this.runPrepend("renderYAxis",arguments)){return;}S4=P4.panel;o4=S4.yaxisRHS.concat(S4.yaxisLHS);for(b4=0;b4<o4.length;b4++){U4=o4[b4];R4=null;B4=null;if(S4.yAxis===U4){R4=P4.lowValue;B4=P4.highValue;}this.calculateYAxisRange(S4,U4,R4,B4);}A4={};for(b4=0;b4<o4.length;b4++){A4.yAxis=o4[b4];this.createYAxis(S4,A4);this.drawYAxis(S4,A4);}this.runAppend(H40,arguments);};E7.prototype.initializeDisplay=function(y4){var w4,Y4,n4,N4,r4,p40,d40,O4,X4,C40;if(this.runPrepend("initializeDisplay",arguments)){return;}w4=[];for(var J4 in y4.series){if(y4.series[J4].parameters.shareYAxis){w4.push(J4);}}Y4=y4.panel=this.panels[y4.name];N4=null;r4=Math.floor((y4.width-this.micropixels)/this.layout.candleWidth);if(y4.scroll>y4.maxTicks&&y4.maxTicks>r4+1){Y2V.h7D(3);var j3E=Y2V.j7D(11,11);N4=y4.dataSegment.length-j3E;}if(!E7.chartShowsHighs(this.layout.chartType)){p40="baseline_";p40+="de";p40+="lta";d40="Cl";d40+="ose";w4.push(d40);n4=this.determineMinMax(y4.dataSegment,w4,null,null,N4);if(this.layout.chartType==p40){O4=y4.baseline.actualLevel;if(y4.transformFunc){O4=y4.transformFunc(this,y4,O4);}X4=Math.max(O4-n4[0],n4[+"1"]-O4);if(this.repositioningBaseline){n4=[y4.lowValue,y4.highValue];}else{Y2V.Z7D(9);n4[0]=Y2V.W7D(O4,X4);Y2V.h7D(0);n4[1]=Y2V.W7D(X4,O4);}}}else{C40="H";C40+="igh";w4.push("Close",C40,"Low");n4=this.determineMinMax(y4.dataSegment,w4,null,null,N4);}y4.lowValue=n4[0];y4.highValue=n4[1];this.runAppend("initializeDisplay",arguments);};E7.prototype.computePosition=function(a4,m4){var x4;if(typeof m4=="undefined"){m4=0;}x4=a4*this.layout.candleWidth+m4+this.micropixels;return x4;};E7.prototype.computeColor=function(e4,d4){var D40;D40="stx_c";D40+="andl";D40+="e_shadow";if(e4<d4){return"stx_candle_up";}if(e4>d4){return"stx_candle_down";}return D40;};E7.prototype.computeLength=function(i4,D4){var t4,l4;t4=this.pixelFromPrice(i4);l4=this.pixelFromPrice(D4);Y2V.Z7D(9);return Y2V.W7D(l4,t4);};E7.prototype.setSeriesRenderer=function(M4){var u4;u4=M4.params;if(this.chart.seriesRenderers[M4.params.name]){return this.chart.seriesRenderers[M4.params.name];}if(u4.yAxis){this.addYAxis(this.panels[u4.panel],u4.yAxis);}M4.stx=this;this.chart.seriesRenderers[M4.params.name]=M4;return M4;};E7.prototype.setMarket=function(s4,V4){if(!V4){V4=this.chart;}V4.market=new b7.Market(s4);for(var T4 in this.layout.marketSessions){V4.market.disableSession(T4,this.layout.marketSessions[T4]);}};E7.prototype.setMarketFactory=function(z4){this.marketFactory=z4;};E7.prototype.removeSeriesRenderer=function(g4){var H4,f4,I4;for(var j4 in this.chart.seriesRenderers){if(g4.params.name===this.chart.seriesRenderers[j4].params.name){H4=this.chart.seriesRenderers[g4.params.name];f4=H4.params.yAxis;I4=this.panels[H4.params.panel];delete this.chart.seriesRenderers[g4.params.name];this.deleteYAxisIfUnused(I4,f4);return;}}};E7.prototype.getSeriesRenderer=function(v4){return this.chart.seriesRenderers[v4];};E7.prototype.drawHistogram=function(q4,Q4){var b40,E3,F3,U3,G3,O3,A3,p4,w3,S3,K3,P3,h3,s40,N3,L3,g40,B3,W4,R3,c4,o3,C4,k3,Z4,b3;b40="histogr";b40+="am";function n3(T3,t3,V3,x3,g3,z3,s3){var N40,e3,M3,d3,v40,j40,X3,Y3,u3,l3,m3,r3,a3,D3,i3;N40="a";N40+="u";N40+="t";N40+="o";if(!V3){V3=1;}if(b7.isIE8){W4.globalAlpha=0.5;}else{W4.globalAlpha=V3;}W4.beginPath();Y2V.h7D(0);e3=Y2V.W7D(0.5,L3);M3=Math.floor(C4.pixelFromBar(+"0",F3.chart)-C4.layout.candleWidth/("2"-0));d3=M3;for(var J3=0;J3<O3.length;J3++){v40="clu";v40+="s";v40+="tered";j40="clustere";j40+="d";X3=o3[J3];if(!X3){X3=L3;}if(J3===0){e3=X3;}Y3=O3[J3];if(!Y3||!Y3[T3]){e3=X3;d3+=C4.layout.candleWidth;continue;}u3=(Y3[T3]-K3)*w3;if(isNaN(u3))continue;l3=C4.layout.candleWidth;if(Y3.candleWidth){l3=Y3.candleWidth;if(J3===0){M3=d3=Math.floor(C4.pixelFromBar("0"-0,F3.chart)-Y3.candleWidth/2);}}m3=Math.min(Math.floor(X3-u3)+0.5,X3);if(g3){if(Y3.Close<Y3.iqPrevClose){e3=m3;d3+=l3;continue;}}else{if(Y3.Close>=Y3.iqPrevClose){e3=m3;d3+=l3;continue;}}D3=l3/C4.layout.candleWidth;Y2V.Z7D(32);i3=Y2V.W7D(d3,s3,R3,z3,D3);r3=Math.round(i3)+(x3?0:B3);a3=Math.round(i3+s3*D3)-(x3?0:B3);if(a3-r3<2){Y2V.h7D(0);a3=Y2V.W7D(1,r3);}if(x3){Y2V.Z7D(10);roundPixel=Y2V.j7D(1,"0");}else{roundPixel=0.5;}if(r3%1==roundPixel){r3+=0.5;}if(a3%1==roundPixel){a3+=0.5;}W4.moveTo(r3,X3);if(L3==X3){W4.lineTo(a3,X3);}else{W4.moveTo(a3,X3);if(x3&&!R3){if(o3[J3+1]){W4.moveTo(a3,Math.max(m3,Math.min(X3,o3[J3+1])));}}}W4.lineTo(a3,m3);W4.lineTo(r3,m3);if(x3&&z3){if(c4[J3]>m3||J3===0){W4.lineTo(r3,Math.min(X3,c4[J3]));}}else if(x3&&!R3&&G3==j40){if(J3>0&&c4[J3-"1"*1]&&c4[J3-1]>m3){W4.lineTo(r3,Math.min(X3,c4[J3-1]));}}else if(x3&&!R3){if(e3>m3||J3===0){W4.lineTo(r3,Math.min(X3,e3));}}else{W4.lineTo(r3,X3);}e3=m3;d3+=l3;if(G3!=v40||x3){c4[J3]=m3;}}if(!t3){t3=N40;}if(x3){W4.strokeStyle=t3=="auto"?C4.defaultColor:t3;W4.stroke();}else{W4.fillStyle=t3=="auto"?C4.defaultColor:t3;W4.fill();}W4.closePath();}if(!Q4||!Q4.length){return;}E3=q4.panel;if(!E3){E3="chart";}F3=this.panels[E3];if(!F3){return;}U3=q4.yAxis?q4.yAxis:F3.yAxis;G3=q4.type;if(G3==b40){G3=q4.subtype;}O3=this.chart.dataSegment;A3=!!"";this.getDefaultColor();for(p4=0;p4<Q4.length;p4++){A3|=Q4[p4].border_color_up&&!b7.isTransparent(Q4[p4].border_color_up);A3|=Q4[p4].border_color_down&&!b7.isTransparent(Q4[p4].border_color_down);}if(!q4.name){q4.name="Data";}w3=U3.multiplier;if(!q4.heightPercentage){q4.heightPercentage=0.7;}if(!q4.widthFactor){q4.widthFactor=0.8;}S3=0;K3=+"0";for(var y3=+"0";y3<this.chart.maxTicks;y3++){P3=O3[y3];if(!P3)continue;h3=0;for(p4=0;p4<Q4.length;p4++){if(P3[Q4[p4].field]){s40="sta";s40+="cked";if(q4.subtype==s40){h3+=P3[Q4[p4].field];}else{h3=P3[Q4[p4].field];}if(h3>S3){S3=h3;}if(h3<K3){K3=h3;}}}}N3=Math.floor(U3.top)+0.5;if(!q4.bindToYAxis){L3=Math.floor(U3.bottom)+0.5;if(S3===0&&K3===0){g40="bot";g40+="t";g40+="om";this.watermark(E3,"center",g40,this.translateIf(q4.name+" Not Available"));return;}w3=(L3-N3)*q4.heightPercentage/(S3-K3);}else{L3=Math.floor(this.pixelFromPriceTransform(K3,F3,U3))+0.5;}B3=0.5;if(this.layout.candleWidth<=1||!A3){B3=0;}this.startClip(E3);W4=this.chart.context;R3=Math.max(0,(1-q4.widthFactor)*this.layout.candleWidth/("2"*1));c4={};o3={};C4=this;k3=1;for(p4=0;p4<Q4.length;p4++){Z4=Q4[p4];k3=this.layout.candleWidth*q4.widthFactor;b3=0;if(G3=="clustered"){b3=p4;k3/=Q4.length;}n3(Z4.field,Z4.fill_color_up,Z4.opacity_up,null,!!"1",b3,k3);n3(Z4.field,Z4.fill_color_down,Z4.opacity_down,null,null,b3,k3);if(this.layout.candleWidth>=2&&A3){n3(Z4.field,Z4.border_color_up,Z4.opacity_up,!!{},!![],b3,k3);n3(Z4.field,Z4.border_color_down,Z4.opacity_down,!0,null,b3,k3);}if(G3=="stacked"){o3=b7.shallowClone(c4);}}W4.globalAlpha=1;this.endClip();};E7.prototype.drawHeatmap=function(j3,C3){var Q3,v3,W3,h7J,L7J,G7J,p3,Z3,q3,f3,K7J,H3,I3;if(!C3||!C3.length){return;}function k7J(X7J,J7J,w7J,y7J,O7J){var Y7J,r7J,U7J,S7J,E7J,o7J,F7J,b7J,A7J,N7J,B7J,n7J;H3.beginPath();H3.fillStyle=J7J;H3.strokeStyle=J7J;Y7J=W3.top;r7J=W3.bottom;U7J=f3.layout.candleWidth*y7J;S7J=Math.floor(f3.pixelFromBar(+"0",v3.chart)-f3.layout.candleWidth);for(var R7J=0;R7J<G7J.length;R7J++){F7J=G7J[R7J];if(!F7J)continue;if(F7J.candleWidth){if(R7J===0){S7J+=f3.layout.candleWidth;}else{Y2V.h7D(9);var v3E=Y2V.j7D(15,13);S7J+=(F7J.candleWidth+U7J/y7J)/v3E;}U7J=F7J.candleWidth*y7J;}else{S7J+=f3.layout.candleWidth;}Y2V.Z7D(33);E7J=Y2V.W7D(S7J,2,U7J,O7J);Y2V.h7D(34);o7J=Y2V.j7D(2,S7J,O7J,U7J);if(o7J-E7J<+"2"){Y2V.Z7D(0);o7J=Y2V.W7D(1,E7J);}if(F7J.transform){F7J=F7J.transform;}b7J=F7J[X7J];if(!b7J)continue;if(typeof b7J=="number"){b7J=[b7J];}for(var P7J=0;P7J<b7J.length;P7J++){A7J=f3.pixelFromPrice(b7J[P7J],v3,W3);if(!K7J){N7J=f3.pixelFromPrice(b7J[P7J]-j3.height,v3,W3);H3.lineWidth=1;Y2V.Z7D(9);Z3=Y2V.j7D(N7J,A7J);Y2V.Z7D(3);q3=Y2V.j7D(Z3,2);K7J=H3.lineWidth;}if(w7J){Y2V.h7D(0);B7J=Y2V.W7D(q3,A7J);Y2V.Z7D(9);n7J=Y2V.W7D(A7J,q3);H3.moveTo(E7J,B7J);H3.lineTo(E7J,n7J);H3.lineTo(o7J,n7J);H3.lineTo(o7J,B7J);H3.lineTo(E7J,B7J);}else{Y2V.Z7D(9);H3.fillRect(E7J,Y2V.W7D(A7J,q3),Y2V.W7D(o7J,E7J),Z3);}}}if(w7J){H3.stroke();}H3.closePath();}Q3=j3.panel;if(!Q3){Q3="chart";}v3=this.panels[Q3];if(!v3){return;}W3=j3.yAxis?j3.yAxis:v3.yAxis;h7J=Math.floor(W3.bottom)+ +"0.5";Y2V.h7D(35);var N3E=Y2V.j7D(128,9,15,9,17);L7J=Math.floor(W3.top)+"0.5"*N3E;G7J=this.chart.dataSegment;this.getDefaultColor();if(!j3.name){j3.name="Data";}if(!j3.widthFactor){j3.widthFactor=1;}p3=0.5;if(v3.chart.tmpWidth<=1){p3=0;}Z3=null;q3=null;f3=this;K7J=null;this.startClip(Q3);H3=this.chart.context;H3.globalAlpha=j3.opacity;for(var c3=0;c3<C3.length;c3++){I3=C3[c3];k7J(I3.field,I3.color,null,j3.widthFactor,I3.border_color?p3:-p3/4);if(I3.border_color&&this.layout.candleWidth>=2){k7J(I3.field,I3.border_color,!!{},j3.widthFactor,p3);}}H3.lineWidth=1;H3.globalAlpha=1;this.endClip();};E7.prototype.startClip=function(x7J,t7J){var m7J,d7J,a7J,e7J;if(!x7J){x7J="chart";}m7J=this.panels[x7J];d7J=m7J.yAxis;this.chart.context.save();this.chart.context.beginPath();a7J=m7J.left;e7J=m7J.width;if(t7J){a7J=0;e7J=this.width;}this.chart.context.rect(a7J,m7J.top,e7J,d7J.height);this.chart.context.clip();};E7.prototype.endClip=function(){this.chart.context.restore();};E7.prototype.drawCandlesHighPerformance=function(T7J,Q7J,c7J,j7J){var z7J,Z7J,D7J,H7J,p7J,M7J,h8J,u7J,g7J,q7J,F8J,V7J,v7J,s7J,f7J,l7J,i7J,K8J,k8J,L8J,C7J,W7J,G8J;z7J=T7J.chart;Z7J=z7J.dataSegment;D7J=this.chart.context;H7J=T7J.yAxis.top;p7J=T7J.yAxis.bottom;g7J=0;if(c7J&&!b7.isTransparent(c7J)){g7J=0.5;}q7J=z7J.dataSet.length-z7J.scroll;F8J=q7J+z7J.maxTicks;D7J.beginPath();if(b7.isTransparent(Q7J)){Q7J=this.containerColor;}D7J.fillStyle=Q7J;V7J=T7J.yAxis;v7J=z7J.tmpWidth/2;s7J=this.layout.candleWidth;f7J=T7J.left-0.5*s7J+this.micropixels-("1"-0);for(var I7J="0"|0;I7J<=Z7J.length;I7J++){Y2V.h7D(3);f7J+=Y2V.j7D(s7J,2);s7J=this.layout.candleWidth;Y2V.h7D(36);f7J+=Y2V.W7D("2",s7J);l7J=Z7J[I7J];if(!l7J)continue;if(l7J.projection)continue;if(l7J.candleWidth){f7J+=(l7J.candleWidth-s7J)/2;s7J=l7J.candleWidth;if(this.layout.chartType=="volume_candle"){Y2V.Z7D(3);v7J=Y2V.W7D(s7J,2);}}if(l7J.Open==l7J.Close)continue;if(j7J&E7.CANDLEUP&&l7J.Open>=l7J.Close)continue;if(j7J&E7.CANDLEDOWN&&l7J.Open<=l7J.Close)continue;if(j7J&E7.CLOSEUP&&l7J.Close<=l7J.iqPrevClose)continue;if(j7J&E7.CLOSEDOWN&&l7J.Close>=l7J.iqPrevClose)continue;if(j7J&E7.CLOSEEVEN&&l7J.Close!=l7J.iqPrevClose)continue;if(l7J.transform){l7J=l7J.transform;}i7J=l7J.cache;Y2V.Z7D(0);K8J=Y2V.W7D(I7J,q7J);if(K8J<T7J.cacheLeft||K8J>T7J.cacheRight||!i7J.open){k8J=V7J.semiLog?this.pixelFromPrice(l7J.Open,T7J):(V7J.high-l7J.Open)*V7J.multiplier+V7J.top;L8J=V7J.semiLog?this.pixelFromPrice(l7J.Close,T7J):(V7J.high-l7J.Close)*V7J.multiplier+V7J.top;M7J=Math.floor(Math.min(k8J,L8J))+g7J;h8J=Math.max(k8J,L8J);Y2V.h7D(9);u7J=Math.floor(Y2V.j7D(h8J,M7J));if(M7J<H7J){if(M7J+u7J<H7J){i7J.open=M7J;i7J.close=M7J;continue;}Y2V.Z7D(9);u7J-=Y2V.W7D(H7J,M7J);M7J=H7J;}if(M7J+u7J>p7J){Y2V.Z7D(37);u7J-=Y2V.j7D(p7J,u7J,M7J);}Y2V.Z7D(10);u7J=Math.max(u7J,Y2V.W7D(1,"2"));i7J.open=M7J;i7J.close=i7J.open+u7J;}if(i7J.open>=p7J)continue;if(i7J.close<=H7J)continue;C7J=Math.floor(f7J)+0.5;W7J=Math.floor(C7J-v7J)+g7J;G8J=Math.round(C7J+v7J)-g7J;if(l7J.Open!=l7J.Close){D7J.moveTo(W7J,i7J.open);D7J.lineTo(G8J,i7J.open);D7J.lineTo(G8J,i7J.close);D7J.lineTo(W7J,i7J.close);D7J.lineTo(W7J,i7J.open);}}D7J.fill();if(g7J){D7J.lineWidth=1;D7J.strokeStyle=c7J;D7J.stroke();}};E7.prototype.drawCandles=function(o8J,u8J,D8J){var R8J,d8J,S8J,n8J,Y8J,A8J,i8J,P8J,r8J,J8J,y8J,x8J,M8J,U8J,X8J,B8J,O8J,V40,E8J,x40,m8J,b8J,e8J,l8J,t8J,N8J,a8J;R8J=o8J.chart;if(!R8J){R8J=o8J;o8J=o8J.chart;}d8J=R8J.dataSegment;S8J=this.chart.context;n8J=o8J.yAxis.top;Y8J=o8J.yAxis.bottom;r8J="transparent";J8J="tra";J8J+="n";J8J+="sparent";y8J=0;if(!b7.isTransparent(r8J)){y8J=+"0.5";}x8J=R8J.dataSet.length-R8J.scroll;M8J=x8J+R8J.maxTicks;U8J=o8J.yAxis;X8J=R8J.tmpWidth/("2"|0);B8J=this.layout.candleWidth;O8J=o8J.left-0.5*B8J+this.micropixels-+"1";for(var w8J=0;w8J<=d8J.length;w8J++){V40="o";V40+="ut";V40+="lin";V40+="e";Y2V.h7D(3);O8J+=Y2V.j7D(B8J,2);B8J=this.layout.candleWidth;Y2V.h7D(3);O8J+=Y2V.W7D(B8J,2);E8J=d8J[w8J];if(!E8J)continue;if(E8J.projection)continue;if(E8J.candleWidth){x40="v";x40+="olume_c";x40+="and";x40+="le";O8J+=(E8J.candleWidth-B8J)/2;B8J=E8J.candleWidth;if(this.layout.chartType==x40){Y2V.Z7D(38);X8J=Y2V.W7D("2",0,B8J);}}if(!E8J.Open&&E8J.Open!==0)continue;if(E8J.Open==E8J.Close)continue;m8J=u8J(this,E8J,D8J?V40:"solid");if(!m8J)continue;if(D8J){r8J=m8J;}else{J8J=m8J;}S8J.beginPath();S8J.fillStyle=J8J;if(E8J.transform){E8J=E8J.transform;}b8J=E8J.cache;Y2V.Z7D(0);e8J=Y2V.W7D(w8J,x8J);if(e8J<o8J.cacheLeft||e8J>o8J.cacheRight||!b8J.open){l8J=U8J.semiLog?this.pixelFromPrice(E8J.Open,o8J):(U8J.high-E8J.Open)*U8J.multiplier+U8J.top;t8J=U8J.semiLog?this.pixelFromPrice(E8J.Close,o8J):(U8J.high-E8J.Close)*U8J.multiplier+U8J.top;A8J=Math.floor(Math.min(l8J,t8J))+y8J;i8J=Math.max(l8J,t8J);Y2V.Z7D(9);P8J=Math.floor(Y2V.W7D(i8J,A8J));if(A8J<n8J){if(A8J+P8J<n8J){b8J.open=A8J;b8J.close=A8J;continue;}Y2V.Z7D(9);P8J-=Y2V.W7D(n8J,A8J);A8J=n8J;}if(A8J+P8J>Y8J){Y2V.Z7D(37);P8J-=Y2V.j7D(Y8J,P8J,A8J);}P8J=Math.max(P8J,2);b8J.open=A8J;b8J.close=b8J.open+P8J;}if(b8J.open>=Y8J)continue;if(b8J.close<=n8J)continue;flr_xbase=Math.floor(O8J)+0.5;N8J=Math.floor(flr_xbase-X8J)+y8J;a8J=Math.round(flr_xbase+X8J)-y8J;if(E8J.Open!=E8J.Close){S8J.moveTo(N8J,b8J.open);S8J.lineTo(a8J,b8J.open);S8J.lineTo(a8J,b8J.close);S8J.lineTo(N8J,b8J.close);S8J.lineTo(N8J,b8J.open);}if(J8J!="transparent"){S8J.fill();}if(y8J){S8J.lineWidth=1;S8J.strokeStyle=r8J;S8J.stroke();}}};E7.prototype.drawShadowsHighPerformance=function(g8J,b6J,v8J){var Q8J,k6J,H8J,f8J,W8J,s8J,h6J,S6J,G6J,E6J,T8J,j8J,Z8J,V8J,z8J,K6J,I8J,p8J,c8J,F6J,L6J,q8J;Q8J=g8J.chart;k6J=Q8J.dataSegment;H8J=this.chart.context;H8J.lineWidth=+"1";f8J=g8J.yAxis.top;W8J=g8J.yAxis.bottom;G6J=Q8J.dataSet.length-Q8J.scroll;E6J=G6J+Q8J.maxTicks;H8J.beginPath();T8J=g8J.yAxis;j8J=this.layout.candleWidth;Y2V.h7D(39);var Q3E=Y2V.j7D(3,16,19);Z8J=g8J.left-0.5*j8J+this.micropixels-Q3E;for(var C8J=0;C8J<=k6J.length;C8J++){Y2V.h7D(40);Z8J+=Y2V.W7D(j8J,1,"2");j8J=this.layout.candleWidth;Y2V.Z7D(3);Z8J+=Y2V.j7D(j8J,2);V8J=k6J[C8J];if(!V8J)continue;if(V8J.projection)continue;if(V8J.candleWidth){Y2V.h7D(4);var r3E=Y2V.W7D(2,11,11);Z8J+=(V8J.candleWidth-j8J)/r3E;j8J=V8J.candleWidth;}if(v8J){if(v8J&E7.CANDLEUP&&V8J.Open>=V8J.Close)continue;else if(v8J&E7.CANDLEDOWN&&V8J.Open<=V8J.Close)continue;else if(v8J&E7.CANDLEEVEN&&V8J.Open!=V8J.Close)continue;else if(v8J&E7.CLOSEUP&&V8J.Close<=V8J.iqPrevClose)continue;else if(v8J&E7.CLOSEDOWN&&V8J.Close>=V8J.iqPrevClose)continue;else if(v8J&E7.CLOSEEVEN&&V8J.Close!=V8J.iqPrevClose)continue;}if(V8J.transform){V8J=V8J.transform;}z8J=V8J.cache;Y2V.h7D(0);K6J=Y2V.W7D(C8J,G6J);if(K6J<g8J.cacheLeft||K6J>g8J.cacheRight||!z8J.top){s8J=T8J.semiLog?this.pixelFromPrice(V8J.High,g8J):(T8J.high-V8J.High)*T8J.multiplier+T8J.top;h6J=T8J.semiLog?this.pixelFromPrice(V8J.Low,g8J):(T8J.high-V8J.Low)*T8J.multiplier+T8J.top;Y2V.h7D(9);I8J=Y2V.W7D(h6J,s8J);if(s8J<f8J){if(s8J+I8J<f8J){z8J.top=s8J;z8J.bottom=s8J;continue;}Y2V.h7D(9);I8J-=Y2V.W7D(f8J,s8J);s8J=f8J;}if(s8J+I8J>W8J){Y2V.h7D(37);I8J-=Y2V.j7D(W8J,I8J,s8J);}z8J.top=s8J;z8J.bottom=z8J.top+I8J;}if(z8J.top>=W8J)continue;if(z8J.bottom<=f8J)continue;p8J=Math.floor(Z8J)+0.5;H8J.moveTo(p8J,z8J.top);H8J.lineTo(p8J,z8J.bottom);if(V8J.Open==V8J.Close){c8J=this.offset;if(this.layout.chartType=="volume_candle"){Y2V.Z7D(3);c8J=Y2V.j7D(j8J,2);}Y2V.h7D(9);F6J=Y2V.W7D(p8J,c8J);Y2V.h7D(0);L6J=Y2V.W7D(c8J,p8J);q8J=Math.floor(T8J.semiLog?this.pixelFromPrice(V8J.Open,g8J):(T8J.high-V8J.Open)*T8J.multiplier+T8J.top)+0.5;if(q8J<=W8J&&q8J>=f8J){H8J.moveTo(F6J,q8J);H8J.lineTo(L6J,q8J);}}}this.canvasColor(b6J);H8J.stroke();};E7.prototype.drawShadows=function(P6J,M6J){var n6J,x6J,B6J,w6J,s6N,g6N,j6N,N6J,U6J,l6J,u6J,d6J,D6J,A6J,y6J,X6J,o6J,a6J,R6J,e6J,O6J,Y6J,m6J,i6J,t6J,r6J;n6J=P6J.chart;if(!n6J){n6J=P6J;P6J=P6J.chart;}x6J=n6J.dataSegment;B6J=this.chart.context;B6J.lineWidth=1;w6J=P6J.yAxis.top;s6N=369082887;g6N=99397967;j6N=2;for(var N6N=1;Y2V.l1N(N6N.toString(),N6N.toString().length,31520)!==s6N;N6N++){N6J=P6J.yAxis.bottom;d6J=n6J.dataSet.length*n6J.scroll;D6J=d6J-n6J.maxTicks;j6N+=2;}if(Y2V.Y1N(j6N.toString(),j6N.toString().length,+"17350")!==g6N){N6J=P6J.yAxis.bottom;d6J=n6J.dataSet.length-n6J.scroll;D6J=d6J+n6J.maxTicks;}A6J=P6J.yAxis;y6J=this.layout.candleWidth;Y2V.h7D(35);var Y3E=Y2V.W7D(27,8,10,15,17);X6J=P6J.left-0.5*y6J+this.micropixels-Y3E;for(var J6J=0;J6J<=x6J.length;J6J++){Y2V.h7D(36);X6J+=Y2V.W7D("2",y6J);y6J=this.layout.candleWidth;Y2V.Z7D(3);X6J+=Y2V.W7D(y6J,2);o6J=x6J[J6J];if(!o6J)continue;if(o6J.projection)continue;if(o6J.candleWidth){Y2V.h7D(5);var l3E=Y2V.W7D(11,2,11);X6J+=(o6J.candleWidth-y6J)/l3E;y6J=o6J.candleWidth;}a6J=M6J(this,o6J,"shadow");if(!a6J)continue;if(o6J.transform){o6J=o6J.transform;}R6J=o6J.cache;Y2V.Z7D(0);e6J=Y2V.W7D(J6J,d6J);if(e6J<P6J.cacheLeft||e6J>P6J.cacheRight||!R6J.top){U6J=A6J.semiLog?this.pixelFromPrice(o6J.High,P6J):(A6J.high-o6J.High)*A6J.multiplier+A6J.top;l6J=A6J.semiLog?this.pixelFromPrice(o6J.Low,P6J):(A6J.high-o6J.Low)*A6J.multiplier+A6J.top;Y2V.h7D(9);O6J=Y2V.j7D(l6J,U6J);if(U6J<w6J){if(U6J+O6J<w6J){R6J.top=U6J;R6J.bottom=U6J;continue;}Y2V.h7D(9);O6J-=Y2V.W7D(w6J,U6J);U6J=w6J;}if(U6J+O6J>N6J){Y2V.h7D(37);O6J-=Y2V.W7D(N6J,O6J,U6J);}R6J.top=U6J;R6J.bottom=R6J.top+O6J;}if(R6J.top>=N6J)continue;if(R6J.bottom<=w6J)continue;Y6J=Math.floor(X6J)+0.5;B6J.beginPath();B6J.moveTo(Y6J,R6J.top);B6J.lineTo(Y6J,R6J.bottom);if(o6J.Open==o6J.Close||!o6J.Open&&o6J.Open!==+"0"){m6J=this.offset;if(this.layout.chartType=="volume_candle"){Y2V.h7D(3);m6J=Y2V.W7D(y6J,2);}Y2V.Z7D(9);i6J=Y2V.j7D(Y6J,m6J);Y2V.h7D(0);t6J=Y2V.W7D(m6J,Y6J);r6J=Math.floor(A6J.semiLog?this.pixelFromPrice(o6J.Close,P6J):(A6J.high-o6J.Close)*A6J.multiplier+A6J.top)+ +"0.5";if(r6J<=N6J&&r6J>=w6J){B6J.moveTo(i6J,r6J);B6J.lineTo(t6J,r6J);}}B6J.strokeStyle=a6J;B6J.stroke();}};E7.prototype.scatter=function(z6J){var W6J,I6J,T6J,p6J,v6J,g6J,V6J,j6J,s6J;W6J=z6J.chart;I6J=W6J.dataSegment;T6J=this.chart.context;T6J.beginPath();T6J.lineWidth=+"4";p6J=z6J.yAxis.top;v6J=z6J.yAxis.bottom;g6J=z6J.left-0.5*this.layout.candleWidth+this.micropixels-+"1";for(var H6J=0;H6J<=I6J.length;H6J++){g6J+=this.layout.candleWidth;V6J=I6J[H6J];if(!V6J)continue;if(!V6J.projection){if(V6J.transform){V6J=V6J.transform;}j6J=[V6J.Close];if("Scatter"in V6J){j6J=V6J.Scatter;}for(var f6J=0;f6J<j6J.length;f6J++){s6J=this.pixelFromPrice(j6J[f6J],z6J);if(s6J<p6J)continue;if(s6J>v6J)continue;Y2V.Z7D(9);T6J.moveTo(Y2V.j7D(g6J,2),s6J);Y2V.Z7D(41);T6J.lineTo(Y2V.j7D(0,"2",g6J),s6J);}}}this.canvasColor("stx_scatter_chart");T6J.stroke();T6J.closePath();T6J.lineWidth=1;};E7.prototype.drawKagiSquareWave=function(k1J,O1J,n1J){var h1J,E1J,q6J,F1J,o1J,P1J,R1J,b1J,S1J,y1J,G1J,A1J,Z6J,U1J,K1J,c6J,C6J,Q6J,B1J;h1J=k1J.chart;this.startClip(k1J.name);E1J=h1J.dataSegment;q6J=h1J.context;F1J=this.canvasStyle(O1J);o1J=this.canvasStyle(n1J);this.canvasColor(O1J);P1J=q6J.strokeStyle;this.canvasColor(n1J);R1J=q6J.strokeStyle;b1J=1;if(F1J.width&&parseInt(F1J.width,10)<=25){b1J=Math.max(1,b7.stripPX(F1J.width));}S1J=1;if(o1J.width&&parseInt(o1J.width,10)<=+"25"){S1J=Math.max(1,b7.stripPX(o1J.width));}q6J.beginPath();y1J=h1J.dataSet.length-h1J.scroll;G1J=k1J.yAxis;A1J=!![];Z6J=null;U1J=null;K1J=null;c6J=k1J.left-0.5*this.layout.candleWidth+this.micropixels-1;for(var L1J=0;L1J<=E1J.length;L1J++){c6J+=this.layout.candleWidth;C6J=E1J[L1J];if(!C6J)continue;if(C6J.projection)break;if(C6J.transform){C6J=C6J.transform;}Q6J=C6J.cache;Y2V.h7D(0);B1J=Y2V.j7D(L1J,y1J);if(B1J<k1J.cacheLeft||B1J>k1J.cacheRight||!Q6J.open){Q6J.open=G1J.semiLog?this.pixelFromPrice(C6J.Open,k1J):(G1J.high-C6J.Open)*G1J.multiplier+G1J.top;Q6J.close=G1J.semiLog?this.pixelFromPrice(C6J.Close,k1J):(G1J.high-C6J.Close)*G1J.multiplier+G1J.top;}U1J=Q6J.close;if(A1J){q6J.moveTo(Math.floor(c6J),Q6J.open);Z6J=Q6J.open;if(Q6J.close>Q6J.open){K1J=1;}else{K1J=-1;}A1J=!1;}if(K1J!=-1&&Q6J.close<Z6J&&Z6J<Q6J.open){q6J.lineTo(Math.floor(c6J),Z6J);q6J.strokeStyle=R1J;q6J.lineWidth=S1J;q6J.stroke();q6J.closePath();q6J.beginPath();K1J=-1;q6J.moveTo(Math.floor(c6J),Z6J);}else if(K1J!="1"*1&&Q6J.close>Z6J&&Z6J>Q6J.open){q6J.lineTo(Math.floor(c6J),Z6J);q6J.strokeStyle=P1J;q6J.lineWidth=b1J;q6J.stroke();q6J.closePath();q6J.beginPath();K1J=1;q6J.moveTo(Math.floor(c6J),Z6J);}q6J.lineTo(Math.floor(c6J),Q6J.close);if(L1J+ +"1"<E1J.length){q6J.lineTo(Math.floor(c6J+this.layout.candleWidth),Q6J.close);Z6J=Q6J.open;}}if(K1J==-1||K1J===null&&U1J<Z6J){q6J.strokeStyle=P1J;q6J.lineWidth=b1J;}else{q6J.strokeStyle=R1J;q6J.lineWidth=S1J;}q6J.stroke();q6J.closePath();this.endClip();q6J.lineWidth=1;};E7.prototype.drawPointFigureChart=function(a1J,I1J,z1J){var M1J,H1J,J1J,e1J,d1J,l1J,V1J,u1J,f1J,j1J,r1J,T1J,Y1J,N1J,D1J,s1J,w1J,t1J,g1J,x1J,m1J,X1J;M1J=a1J.chart;this.startClip(a1J.name);H1J=M1J.dataSegment;J1J=M1J.context;this.canvasColor(I1J);e1J=this.canvasStyle(I1J);d1J=parseInt(e1J.paddingTop,10);l1J=parseInt(e1J.paddingBottom,10);V1J=parseInt(e1J.paddingLeft,10);u1J=parseInt(e1J.paddingRight,10);if(e1J.width&&parseInt(e1J.width,10)<=25){J1J.lineWidth=Math.max(1,b7.stripPX(e1J.width));}else{J1J.lineWidth=2;}J1J.beginPath();if(!this.chart.pandf){this.chart.pandf={"box":1,"reversal":3};}f1J=this.chart.pandf.box;j1J=M1J.dataSet.length-M1J.scroll;r1J=a1J.yAxis;D1J=this.layout.candleWidth;s1J=a1J.left-D1J+this.micropixels-1;for(var i1J=0;i1J<H1J.length;i1J++){s1J+=D1J;w1J=H1J[i1J];if(!w1J)continue;if(w1J.projection)break;if(w1J.candleWidth){D1J=w1J.candleWidth;}if(w1J.transform){w1J=w1J.transform;}if(z1J=="X"&&w1J.Open>w1J.Close)continue;else if(z1J==((6525,6420)==(851,8890)?("815"-0,917.57):8596>=(980.54,8600)?(589.65,197.86):"O")&&w1J.Open<w1J.Close)continue;t1J=w1J.cache;Y2V.Z7D(0);g1J=Y2V.j7D(i1J,j1J);if(g1J<a1J.cacheLeft||g1J>a1J.cacheRight||!t1J.open){t1J.open=r1J.semiLog?this.pixelFromPrice(w1J.Open,a1J):(r1J.high-w1J.Open)*r1J.multiplier+r1J.top;t1J.close=r1J.semiLog?this.pixelFromPrice(w1J.Close,a1J):(r1J.high-w1J.Close)*r1J.multiplier+r1J.top;}x1J=Math.round(s1J);Y2V.Z7D(0);m1J=Math.round(Y2V.j7D(D1J,s1J));T1J=Math.abs(Math.round((w1J.Close-w1J.Open)/f1J));Y1J=Math.abs((t1J.open-t1J.close)/T1J);Y2V.h7D(3);X1J=Y2V.j7D(Y1J,2);N1J=t1J.open;for(;T1J>=0;T1J--){if(z1J=="X"){Y2V.Z7D(0);J1J.moveTo(Y2V.W7D(V1J,x1J),Y2V.j7D(N1J,X1J,l1J,Y2V.h7D(5)));Y2V.h7D(9);J1J.lineTo(Y2V.j7D(m1J,u1J),Y2V.W7D(d1J,X1J,Y1J,N1J,Y2V.h7D(42)));Y2V.Z7D(0);J1J.moveTo(Y2V.j7D(V1J,x1J),Y2V.j7D(d1J,X1J,Y1J,N1J,Y2V.Z7D(42)));Y2V.Z7D(9);J1J.lineTo(Y2V.j7D(m1J,u1J),Y2V.j7D(N1J,X1J,l1J,Y2V.Z7D(5)));N1J-=Y1J;}else if(z1J=="O"){Y2V.Z7D(43);J1J.moveTo(Y2V.j7D(m1J,x1J,2),Y2V.W7D(X1J,d1J,N1J,Y2V.h7D(37)));Y2V.Z7D(0);J1J.bezierCurveTo(Y2V.j7D(u1J,m1J),Y2V.j7D(X1J,d1J,N1J,Y2V.Z7D(37)),Y2V.j7D(u1J,m1J,Y2V.Z7D(0)),Y2V.j7D(N1J,Y1J,l1J,X1J,Y2V.h7D(44)),Y2V.j7D(m1J,x1J,2,Y2V.h7D(43)),Y2V.j7D(N1J,Y1J,l1J,X1J,Y2V.h7D(44)));Y2V.h7D(9);J1J.bezierCurveTo(Y2V.W7D(x1J,V1J),Y2V.j7D(N1J,Y1J,l1J,X1J,Y2V.Z7D(44)),Y2V.W7D(x1J,V1J,Y2V.Z7D(9)),Y2V.j7D(X1J,d1J,N1J,Y2V.Z7D(37)),Y2V.j7D(m1J,x1J,2,Y2V.Z7D(43)),Y2V.j7D(X1J,d1J,N1J,Y2V.Z7D(37)));N1J+=Y1J;}}}J1J.stroke();this.endClip();J1J.lineWidth=1;};E7.prototype.drawBarChartHighPerformance=function(Z1J,R2J,F2J){var G2J,b2J,q1J,h2J,C1J,k2J,Q1J,U2J,c1J,P2J,B2J,p1J,S2J,o2J,A2J,v1J,W1J,E2J,K2J;G2J=Z1J.chart;b2J=G2J.dataSegment;q1J=G2J.context;h2J=this.canvasStyle(R2J);if(h2J.width&&parseInt(h2J.width,10)<="25"-0){Y2V.h7D(10);q1J.lineWidth=Math.max(Y2V.j7D(1,"1"),b7.stripPX(h2J.width));}else{q1J.lineWidth=+"1";}q1J.beginPath();C1J=Z1J.yAxis.top;k2J=Z1J.yAxis.bottom;P2J=G2J.dataSet.length-G2J.scroll;B2J=P2J+G2J.maxTicks;p1J=Z1J.yAxis;Y2V.h7D(9);var i3E=Y2V.j7D(17,16);S2J=Z1J.left-0.5*this.layout.candleWidth+this.micropixels-i3E;Y2V.h7D(45);var J3E=Y2V.j7D(10,278,10,19,10);o2J=G2J.tmpWidth/J3E;Y2V.h7D(46);var Z3E=Y2V.W7D(15,18,6,3);A2J=q1J.lineWidth/Z3E;for(var L2J=0;L2J<=b2J.length;L2J++){S2J+=this.layout.candleWidth;v1J=b2J[L2J];if(!v1J)continue;if(v1J.projection)break;if(F2J){if(F2J&E7.CLOSEUP&&v1J.Close<=v1J.iqPrevClose)continue;else if(F2J&E7.CLOSEDOWN&&v1J.Close>=v1J.iqPrevClose)continue;else if(F2J&E7.CLOSEEVEN&&v1J.Close!=v1J.iqPrevClose)continue;}if(v1J.transform){v1J=v1J.transform;}W1J=v1J.cache;Y2V.h7D(0);E2J=Y2V.W7D(L2J,P2J);if(E2J<Z1J.cacheLeft||E2J>Z1J.cacheRight||!W1J.top){Q1J=p1J.semiLog?this.pixelFromPrice(v1J.High,Z1J):(p1J.high-v1J.High)*p1J.multiplier+p1J.top;U2J=p1J.semiLog?this.pixelFromPrice(v1J.Low,Z1J):(p1J.high-v1J.Low)*p1J.multiplier+p1J.top;Y2V.h7D(9);c1J=Y2V.j7D(U2J,Q1J);W1J.open=p1J.semiLog?this.pixelFromPrice(v1J.Open,Z1J):(p1J.high-v1J.Open)*p1J.multiplier+p1J.top;W1J.close=p1J.semiLog?this.pixelFromPrice(v1J.Close,Z1J):(p1J.high-v1J.Close)*p1J.multiplier+p1J.top;if(Q1J<C1J){if(Q1J+c1J<C1J){W1J.top=Q1J;W1J.bottom=Q1J;continue;}Y2V.h7D(9);c1J-=Y2V.j7D(C1J,Q1J);Q1J=C1J;}if(Q1J+c1J>k2J){Y2V.h7D(37);c1J-=Y2V.W7D(k2J,c1J,Q1J);}W1J.top=Q1J;Y2V.h7D(0);W1J.bottom=Y2V.j7D(c1J,Q1J);}K2J=Math.floor(S2J)+0.5;if(W1J.top<k2J&&W1J.bottom>C1J){q1J.moveTo(K2J,W1J.top-A2J);q1J.lineTo(K2J,W1J.bottom+A2J);}if(W1J.open>C1J&&W1J.open<k2J){q1J.moveTo(K2J,W1J.open);Y2V.h7D(9);q1J.lineTo(Y2V.j7D(K2J,o2J),W1J.open);}if(W1J.close>C1J&&W1J.close<k2J){q1J.moveTo(K2J,W1J.close);Y2V.Z7D(0);q1J.lineTo(Y2V.j7D(o2J,K2J),W1J.close);}}this.canvasColor(R2J);q1J.stroke();q1J.closePath();q1J.lineWidth=1;};E7.prototype.drawBarChart=function(w2J,H2J,g2J){var X2J,V2J,O2J,t2J,r2J,a2J,N2J,s2J,m2J,T2J,z2J,J2J,i2J,D2J,M2J,x2J,e2J,n2J,l2J,y2J,u2J,Y2J;X2J=w2J.chart;if(!X2J){X2J=w2J;w2J=w2J.chart;}V2J=X2J.dataSegment;O2J=X2J.context;t2J=this.canvasStyle(H2J);if(t2J.width&&parseInt(t2J.width,10)<=25){O2J.lineWidth=Math.max(1,b7.stripPX(t2J.width));}else{O2J.lineWidth=1;}r2J=w2J.yAxis.top;a2J=w2J.yAxis.bottom;T2J=X2J.dataSet.length-X2J.scroll;z2J=T2J+X2J.maxTicks;J2J=w2J.yAxis;i2J={};D2J=X2J.tmpWidth/2;M2J=O2J.lineWidth/2;x2J=this.layout.candleWidth;Y2V.h7D(47);var R3E=Y2V.W7D(20,14,6,125,20);e2J=w2J.left-+"0.5"*x2J+this.micropixels-R3E;for(var d2J="0"|0;d2J<=V2J.length;d2J++){Y2V.Z7D(3);e2J+=Y2V.W7D(x2J,2);x2J=this.layout.candleWidth;Y2V.Z7D(3);e2J+=Y2V.W7D(x2J,2);n2J=V2J[d2J];if(!n2J)continue;if(n2J.projection)break;if(n2J.candleWidth){Y2V.h7D(48);var F3E=Y2V.j7D(7,22,13);e2J+=(n2J.candleWidth-x2J)/F3E;x2J=n2J.candleWidth;}l2J=g2J(this,n2J);if(!l2J)continue;i2J[l2J]=+"1";O2J.strokeStyle=l2J;O2J.beginPath();if(n2J.transform){n2J=n2J.transform;}y2J=n2J.cache;Y2V.h7D(0);u2J=Y2V.j7D(d2J,T2J);if(u2J<w2J.cacheLeft||u2J>w2J.cacheRight||!y2J.top){N2J=this.pixelFromPrice(n2J.High,w2J);s2J=this.pixelFromPrice(n2J.Low,w2J);Y2V.Z7D(9);m2J=Y2V.W7D(s2J,N2J);y2J.open=J2J.semiLog?this.pixelFromPrice(n2J.Open,w2J):(J2J.high-n2J.Open)*J2J.multiplier+J2J.top;y2J.close=J2J.semiLog?this.pixelFromPrice(n2J.Close,w2J):(J2J.high-n2J.Close)*J2J.multiplier+J2J.top;if(N2J<r2J){if(N2J+m2J<r2J){y2J.top=N2J;y2J.bottom=N2J;continue;}Y2V.Z7D(9);m2J-=Y2V.j7D(r2J,N2J);N2J=r2J;}if(N2J+m2J>a2J){Y2V.h7D(37);m2J-=Y2V.j7D(a2J,m2J,N2J);}y2J.top=N2J;Y2V.Z7D(0);y2J.bottom=Y2V.W7D(m2J,N2J);}Y2J=Math.floor(e2J)+0.5;if(y2J.top<a2J&&y2J.bottom>r2J){O2J.moveTo(Y2J,y2J.top-M2J);O2J.lineTo(Y2J,y2J.bottom+M2J);}if(y2J.open>r2J&&y2J.open<a2J){O2J.moveTo(Y2J,y2J.open);Y2V.h7D(9);O2J.lineTo(Y2V.j7D(Y2J,D2J),y2J.open);}if(y2J.close>r2J&&y2J.close<a2J){O2J.moveTo(Y2J,y2J.close);Y2V.h7D(0);O2J.lineTo(Y2V.j7D(D2J,Y2J),y2J.close);}O2J.stroke();}Y2V.h7D(10);O2J.lineWidth=Y2V.W7D(1,"1");return i2J;};E7.prototype.plotLineChart=function(p2J,F5J,c2J,W2J,r5J){var J5J,P5J,n5J,L5J,h5J,y5J,f2J,B5J,q2J,x5J,m5J,S5J,b5J,X5J,G5J,Z2J,E5J,v2J,j2J,U5J,N5J,I2J,C2J,k5J,o5J,K5J,O5J,A5J,Q40,n40,w5J,R5J,Y5J;J5J=!!0;P5J=!"1";n5J=!{};L5J=+"0";h5J=[];if(W2J){J5J=W2J.skipProjections;P5J=W2J.skipTransform;n5J=W2J.noSlopes;L5J=W2J.tension;}y5J=p2J.chart;f2J=this.chart.context;B5J=!!"1";q2J=p2J.yAxis;x5J=q2J.top;m5J=q2J.bottom;S5J=y5J.dataSet.length-y5J.scroll;b5J=null;X5J={};Y2V.h7D(1);G5J=[Y2V.W7D(0,"0"),+"0"];Z2J=this.layout.candleWidth;Y2V.h7D(15);var k3E=Y2V.W7D(11,11);Y2V.Z7D(3);var L3E=Y2V.W7D(16,16);E5J=p2J.left-(W2J.noSlopes?k3E:0.5)*Z2J+this.micropixels-L3E;this.startClip(p2J.name);f2J.beginPath();for(var Q2J=0;Q2J<=F5J.length;Q2J++){Y2V.Z7D(3);E5J+=Y2V.j7D(Z2J,2);if(W2J.noSlopes){Y2V.Z7D(38);E5J+=Y2V.j7D("2",0,Z2J);}Z2J=this.layout.candleWidth;if(!W2J.noSlopes){Y2V.h7D(3);E5J+=Y2V.W7D(Z2J,2);}v2J=F5J[Q2J];if(!v2J)continue;if(J5J&&v2J.projection)break;if(v2J.candleWidth){if(!W2J.noSlopes){E5J+=(v2J.candleWidth-Z2J)/+"2";}Z2J=v2J.candleWidth;}if(!P5J&&v2J.transform){v2J=v2J.transform;}j2J=E5J;U5J=v2J.cache;Y2V.Z7D(0);N5J=Y2V.j7D(Q2J,S5J);if(!v2J[c2J]&&v2J[c2J]!==0)continue;if(N5J<p2J.cacheLeft||N5J>p2J.cacheRight||!U5J[c2J]){U5J[c2J]=q2J.semiLog?this.pixelFromPrice(v2J[c2J],p2J):(q2J.high-v2J[c2J])*q2J.multiplier+q2J.top;}if(j2J<=p2J.right){b5J=v2J;}if(Q2J==F5J.length-("1"-0)){if(this.extendLastTick){Y2V.Z7D(3);j2J+=Y2V.j7D(Z2J,2);}if(W2J.lastTickOffset){j2J+=W2J.lastTickOffset;}}I2J=U5J[c2J];C2J=null;if(r5J){k5J=r5J(this,v2J);if(!k5J)continue;if(typeof k5J=="object"){C2J=k5J.pattern;k5J=k5J.color;}if(f2J.strokeStyle!=k5J){if(!B5J){f2J.stroke();f2J.beginPath();f2J.moveTo(G5J[+"0"],G5J[1]);}f2J.strokeStyle=k5J;X5J[k5J]=1;}}if(B5J){B5J=!{};if(n5J||S5J<=0){f2J.moveTo(Q2J?j2J:0,I2J);if(L5J){h5J.push(j2J,I2J);}else{if(C2J){f2J.dashedLineTo(+"0",I2J,j2J,I2J,C2J);}else{f2J.lineTo(j2J,I2J);}}}else if(S5J>0){o5J=y5J.dataSet[S5J];if(!P5J&&o5J.transform){o5J=o5J.transform;}K5J=o5J[c2J];if(!K5J||isNaN(K5J)){f2J.moveTo(Q2J?j2J:0,I2J);if(L5J){h5J.push(j2J,I2J);}}else{K5J=q2J.semiLog?this.pixelFromPrice(K5J,p2J):(q2J.high-K5J)*q2J.multiplier+q2J.top;Y2V.h7D(9);O5J=Y2V.j7D(j2J,Z2J);if(C2J){f2J.dashedLineTo(O5J,K5J,j2J,I2J,C2J);}else{f2J.moveTo(O5J,K5J);if(L5J){h5J.push(O5J,K5J,j2J,I2J);}else{f2J.lineTo(j2J,I2J);}}}}}else{if(n5J){Y2V.h7D(9);A5J=F5J[Y2V.j7D(Q2J,1)];if(!A5J)continue;if(!P5J&&A5J.transform){A5J=A5J.transform;}if(Q2J){if(C2J){f2J.dashedLineTo(G5J[0],G5J[1],j2J,G5J[1],C2J);}else{f2J.lineTo(j2J,G5J["1"*1]);}f2J.moveTo(j2J,I2J);}if(Q2J==F5J.length-1){if(C2J){Y2V.h7D(0);f2J.dashedLineTo(j2J,I2J,Y2V.W7D(Z2J,j2J),I2J,C2J);}else{Y2V.Z7D(0);f2J.lineTo(Y2V.W7D(Z2J,j2J),I2J);}}}else{if(C2J){f2J.dashedLineTo(G5J["0"-0],G5J[1],j2J,I2J,C2J);}else{if(L5J){h5J.push(j2J,I2J);}else{f2J.lineTo(j2J,I2J);}}}}G5J=[j2J,I2J];if(Q2J===F5J.length-1&&L5J){h5J.push(j2J,I2J);P7(h5J,L5J,f2J);}}f2J.stroke();this.endClip();if(W2J.label&&b5J){Q40="pl";Q40+="ot";n40="no";n40+="op";if(q2J.priceFormatter){w5J=q2J.priceFormatter(this,p2J,b5J[c2J],W2J.labelDecimalPlaces);}else{w5J=this.formatYAxisPrice(b5J[c2J],p2J,W2J.labelDecimalPlaces);}R5J=this.yaxisLabelStyle;if(p2J.yAxis.yaxisLabelStyle){R5J=p2J.yAxis.yaxisLabelStyle;}Y5J=R5J==n40?f2J.strokeStyle:null;this.yAxisLabels.push({src:Q40,"args":[p2J,w5J,b5J.cache[c2J],R5J=="noop"?"#FFFFFF":f2J.strokeStyle,Y5J]});}return X5J;};E7.prototype.plotMountainChart=function(l5J,q5J,M5J,s5J){var c5J,Z5J,v5J,T5J,z5J,W5J,a5J,Q5J,f5J,H5J,j5J,t5J,V5J,i5J,e5J,d5J,p5J,C5J,D5J,I5J,g5J;c5J=!{};Z5J=!"1";v5J=![];T5J=0;z5J=[];if(s5J){c5J=s5J.skipProjections;Z5J=s5J.skipTransform;v5J=s5J.reverse;T5J=s5J.tension;}W5J=l5J.chart;a5J=this.chart.context;Q5J=!!{};f5J=l5J.yAxis.top;H5J=l5J.yAxis.bottom;this.startClip(l5J.name);a5J.beginPath();j5J=W5J.dataSet.length-W5J.scroll;t5J=null;V5J=null;i5J=l5J.yAxis;e5J=0;for(var u5J="0"|0;u5J<=q5J.length;u5J++){d5J=q5J[u5J];if(!d5J)continue;if(c5J&&d5J.projection)break;if(!Z5J&&d5J.transform){d5J=d5J.transform;}p5J=d5J.cache;Y2V.h7D(0);C5J=Y2V.W7D(u5J,j5J);if(C5J<l5J.cacheLeft||C5J>l5J.cacheRight||!p5J[M5J]){if(!d5J[M5J]&&d5J[M5J]!=="0"*1)continue;p5J[M5J]=i5J.semiLog?this.pixelFromPrice(d5J[M5J],l5J):(i5J.high-d5J[M5J])*i5J.multiplier+i5J.top;}Y2V.h7D(9);var A3E=Y2V.j7D(11,10);e5J=l5J.left+(u5J+0.5)*this.layout.candleWidth+this.micropixels-A3E;if(u5J==q5J.length-1){if(this.extendLastTick){e5J+=this.layout.candleWidth/+"2";}if(s5J.lastTickOffset){e5J+=s5J.lastTickOffset;}}if(t5J===null){t5J=j5J>="0"*1?+"0":e5J;}D5J=p5J[M5J];if(V5J===null){V5J=D5J;}if(Q5J){Q5J=!{};if(j5J<=0){a5J.moveTo(t5J,D5J);if(T5J){z5J.push(t5J,D5J);}}else{I5J=W5J.dataSet[j5J];if(I5J.transform){I5J=I5J.transform;}g5J=I5J[M5J];g5J=i5J.semiLog?this.pixelFromPrice(g5J,l5J):(i5J.high-g5J)*i5J.multiplier+i5J.top;t5J=e5J-this.layout.candleWidth;a5J.moveTo(t5J,g5J);if(T5J){z5J.push(t5J,g5J,e5J,D5J);}else{a5J.lineTo(e5J,D5J);}}}else{if(T5J){z5J.push(e5J,D5J);}else{a5J.lineTo(e5J,D5J);}}if(u5J===q5J.length-1&&T5J){z5J.push(e5J,D5J);P7(z5J,T5J,a5J);}}a5J.lineTo(e5J,v5J?f5J:H5J);a5J.lineTo(t5J,v5J?f5J:H5J);if(v5J){if(V5J<f5J){V5J=f5J;}}else{if(V5J>H5J){V5J=H5J;}}a5J.lineTo(t5J,V5J);a5J.fill();a5J.closePath();this.endClip();};E7.prototype.drawLineChart=function(G0J,h0J,E0J){var r40,K0J,k0J,v8N,N8N,x8N,L0J,F0J;r40="Clos";r40+="e";K0J=this.chart.context;k0J=this.canvasStyle(h0J);if(k0J.width&&parseInt(k0J.width,10)<=25){v8N=-1816876596;N8N=-2071827911;x8N=2;for(var n8N=1;Y2V.Y1N(n8N.toString(),n8N.toString().length,+"89422")!==v8N;n8N++){Y2V.h7D(10);K0J.lineWidth=Math.max(Y2V.W7D(1,"6"),b7.stripPX(k0J.width));x8N+=2;}if(Y2V.Y1N(x8N.toString(),x8N.toString().length,+"94033")!==N8N){Y2V.Z7D(10);K0J.lineWidth=Math.max(Y2V.W7D(1,"6"),b7.stripPX(k0J.width));}K0J.lineWidth=Math.max(1,b7.stripPX(k0J.width));}else{Y2V.h7D(10);K0J.lineWidth=Y2V.W7D(1,"1");}this.canvasColor(h0J);L0J={skipProjections:!0};if(G0J.chart.tension){L0J.tension=G0J.chart.tension;}if(G0J.chart.lastTickOffset){L0J.lastTickOffset=G0J.chart.lastTickOffset;}F0J=this.plotLineChart(G0J,G0J.chart.dataSegment,r40,L0J,E0J);Y2V.h7D(10);K0J.lineWidth=Y2V.W7D(1,"1");return F0J;};E7.prototype.drawMountainChart=function(S0J,w0J,J0J){var l40,Y40,b0J,o0J,U0J,n0J,R0J,B0J,A0J,y0J,P0J,N0J,O0J,z40;l40="Cl";l40+="os";l40+="e";Y40="stx_";Y40+="mountain";Y40+="_ch";Y40+="art";b0J=this.chart.context;if(!w0J){w0J=Y40;}o0J=this.canvasStyle(w0J);if(o0J.width&&parseInt(o0J.width,10)<=25){b0J.lineWidth=Math.max(1,b7.stripPX(o0J.width));}else{b0J.lineWidth=1;}U0J=this.pixelFromPrice(S0J.chart.highValue,S0J);if(isNaN(U0J)){U0J=0;}n0J=o0J.backgroundColor;R0J=o0J.color;if(R0J&&!b7.isTransparent(R0J)){B0J=b0J.createLinearGradient(0,U0J,0,S0J.yAxis.bottom);B0J.addColorStop(0,n0J);B0J.addColorStop(+"1",R0J);b0J.fillStyle=B0J;}else{b0J.fillStyle=n0J;}A0J={skipProjections:!!"1"};if(S0J.chart.tension){A0J.tension=S0J.chart.tension;}if(S0J.chart.lastTickOffset){A0J.lastTickOffset=S0J.chart.lastTickOffset;}y0J=parseInt(o0J.padding,10);P0J=o0J.borderTopColor;N0J=null;if(P0J&&!b7.isTransparent(P0J)){if(y0J&&!b7.isIE8){if(!this.scratchContext){O0J=b0J.canvas.cloneNode(!![]);this.scratchContext=O0J.getContext("2d");this.scratchContext.canvas=O0J;}this.scratchContext.canvas.height=b0J.canvas.height;this.scratchContext.canvas.width=b0J.canvas.width;this.scratchContext.drawImage(b0J.canvas,0,0);b0J.clearRect(0,0,b0J.canvas.width,b0J.canvas.height);}}this.plotMountainChart(S0J,S0J.chart.dataSegment,l40,A0J);if(P0J&&!b7.isTransparent(P0J)){if(y0J&&!b7.isIE8){z40="destin";z40+="ation-out";b0J.save();Y2V.Z7D(10);b0J.lineWidth+=Y2V.W7D(y0J,2);b0J.globalCompositeOperation=z40;this.plotLineChart(S0J,S0J.chart.dataSegment,"Close",A0J);b0J.globalCompositeOperation="destination-over";b0J.scale(1/this.adjustedDisplayPixelRatio,"1"*1/this.adjustedDisplayPixelRatio);b0J.drawImage(this.scratchContext.canvas,0,+"0");b0J.restore();}b0J.strokeStyle=P0J;N0J=this.plotLineChart(S0J,S0J.chart.dataSegment,"Close",A0J,J0J);}b0J.lineWidth=1;return N0J;};E7.prototype.drawWaveChart=function(Y0J){var i40,B40,l0J,T0J,r0J,V0J,t0J,x0J,a0J,s0J,e0J,m0J,X0J,M0J,D0J,d0J,u0J;i40="stx_";i40+="li";i40+="ne_cha";i40+="rt";B40="st";B40+="x_line_ch";B40+="art";l0J=Y0J.chart;T0J=l0J.dataSegment;r0J=this.chart.context;this.startClip(Y0J.name);r0J.beginPath();V0J=![];t0J=![];x0J=Y0J.yAxis.top;a0J=Y0J.yAxis.bottom;s0J=Y0J.left+Math.floor(-0.5*this.layout.candleWidth+this.micropixels);for(var i0J=0;i0J<=T0J.length;i0J++){s0J+=this.layout.candleWidth;e0J=T0J[i0J];if(!e0J)continue;if(e0J.projection)break;if(e0J.transform){e0J=e0J.transform;}Y2V.Z7D(49);var W2E=Y2V.j7D(3,5,60,10);Y2V.h7D(9);var a2E=Y2V.W7D(18,10);m0J=s0J-W2E*this.layout.candleWidth/a2E;X0J=this.pixelFromPrice(e0J.Open,Y0J);if(X0J<x0J){X0J=x0J;if(t0J){r0J.moveTo(m0J,X0J);continue;}t0J=!!{};}else if(X0J>a0J){X0J=a0J;if(t0J){r0J.moveTo(m0J,X0J);continue;}t0J=!!{};}else{t0J=!{};}if(!V0J){V0J=!0;M0J=l0J.dataSet.length-l0J.scroll;if(M0J<=0){r0J.moveTo(m0J,X0J);}else if(M0J>0){Y2V.Z7D(9);D0J=l0J.dataSet[Y2V.W7D(M0J,1)];if(D0J.transform){D0J=D0J.transform;}d0J=D0J.Close;d0J=Y0J.yAxis.semiLog?this.pixelFromPrice(d0J,Y0J):(Y0J.yAxis.high-d0J)*Y0J.yAxis.multiplier+x0J;d0J=Math.min(Math.max(d0J,x0J),a0J);r0J.moveTo(Y0J.left+(i0J-1)*this.layout.candleWidth+this.micropixels,d0J);r0J.lineTo(m0J,X0J);}r0J.moveTo(m0J,X0J);}else{r0J.lineTo(m0J,X0J);}Y2V.h7D(9);var w2E=Y2V.j7D(23,19);m0J+=this.layout.candleWidth/w2E;if(e0J.Open<e0J.Close){X0J=this.pixelFromPrice(e0J.Low,Y0J);if(X0J<x0J){X0J=x0J;}if(X0J>a0J){X0J=a0J;}r0J.lineTo(m0J,X0J);Y2V.h7D(50);var K2E=Y2V.j7D(20,202,14,11);m0J+=this.layout.candleWidth/K2E;X0J=this.pixelFromPrice(e0J.High,Y0J);if(X0J<x0J){X0J=x0J;}if(X0J>a0J){X0J=a0J;}r0J.lineTo(m0J,X0J);}else{X0J=this.pixelFromPrice(e0J.High,Y0J);if(X0J<x0J){X0J=x0J;}if(X0J>a0J){X0J=a0J;}r0J.lineTo(m0J,X0J);Y2V.Z7D(9);var S2E=Y2V.j7D(12,8);m0J+=this.layout.candleWidth/S2E;X0J=this.pixelFromPrice(e0J.Low,Y0J);if(X0J<x0J){X0J=x0J;}if(X0J>a0J){X0J=a0J;}r0J.lineTo(m0J,X0J);}Y2V.h7D(48);var P2E=Y2V.j7D(1,22,17);m0J+=this.layout.candleWidth/P2E;X0J=this.pixelFromPrice(e0J.Close,Y0J);if(X0J<x0J){X0J=x0J;}if(X0J>a0J){X0J=a0J;}r0J.lineTo(m0J,X0J);}u0J=this.canvasStyle(B40);if(u0J.width&&parseInt(u0J.width,10)<=25){r0J.lineWidth=Math.max(1,b7.stripPX(u0J.width));}else{r0J.lineWidth=1;}this.canvasColor(i40);r0J.stroke();r0J.closePath();this.endClip();r0J.lineWidth=1;};E7.prototype.updateFloatHRLabel=function(z0J){var I0J,v0J,J40,W0J,Z40,g0J,H0J,j0J,p0J;I0J=z0J.yaxisLHS.concat(z0J.yaxisRHS);v0J=this.crossYActualPos?this.crossYActualPos:this.cy;if(this.floatCanvas.isDirty){b7.clearCanvas(this.floatCanvas,this);}if(this.controls.crossX.style.display=="none"){return;}if(this.controls.crossY){J40="p";J40+="x";W0J=z0J.width;if(this.yaxisLabelStyle=="roundRectArrow"){W0J-=+"7";}this.controls.crossY.style.left=z0J.left+"px";Y2V.h7D(0);this.controls.crossY.style.width=Y2V.W7D(J40,W0J);}for(var f0J=0;f0J<I0J.length;f0J++){Z40="stx-float-pric";Z40+="e";g0J=I0J[f0J];H0J=this.valueFromPixel(v0J,z0J,g0J);if(isNaN(H0J))continue;if((z0J.min||z0J.min===("0"|0))&&H0J<z0J.min)continue;if((z0J.max||z0J.max===0)&&H0J>z0J.max)continue;j0J=null;if(g0J!==z0J.chart.yAxis){j0J=0;if(g0J.shadow<1000){j0J=+"2";}if(g0J.shadow<5){j0J=4;}if(g0J.decimalPlaces||g0J.decimalPlaces===0){j0J=g0J.decimalPlaces;}}if(g0J.priceFormatter){H0J=g0J.priceFormatter(this,z0J,H0J,g0J);}else{H0J=this.formatYAxisPrice(H0J,z0J,j0J,g0J);}p0J=this.canvasStyle(Z40);this.createYAxisLabel(z0J,H0J,v0J,p0J.backgroundColor,p0J.color,this.floatCanvas.context,g0J);this.floatCanvas.isDirty=!!{};}};E7.prototype.headsUpHR=function(){var m40,h9J,Z0J,E9J,q0J,L9J,C0J,c0J,G9J,K9J,f40,b9J,F9J,k9J,Q0J;m40="hea";m40+="dsUpHR";if(this.runPrepend("headsUpHR",arguments)){return;}h9J=this.currentPanel;if(!h9J){return;}Z0J=h9J.chart;this.updateFloatHRLabel(h9J);if(this.controls.floatDate&&!E7.hideDates()){E9J=this.barFromPixel(this.cx);q0J=Z0J.xaxis[E9J];if(q0J&&q0J.DT){if(Z0J.xAxis.formatter){this.controls.floatDate.innerHTML=Z0J.xAxis.formatter(q0J.DT);}else if(this.internationalizer){L9J=this.internationalizer.monthDay.format(q0J.DT);if(!E7.isDailyInterval(this.layout.interval)){Y2V.h7D(0);var X2E=Y2V.W7D(2,8146);Y2V.Z7D(51);var e2E=Y2V.j7D(21184,18,7079,4);L9J+=(9620<=X2E?(e2E,469.93):" ")+this.internationalizer.hourMinute.format(q0J.DT);}else{L9J=this.internationalizer.yearMonthDay.format(q0J.DT);}this.controls.floatDate.innerHTML=L9J;}else{Y2V.Z7D(3);var G2E=Y2V.j7D(19,19);C0J=q0J.DT.getMonth()+G2E;if(C0J<10){Y2V.Z7D(0);C0J=Y2V.j7D(C0J,6771===2531?!!0:"0");}c0J=q0J.DT.getDate();if(c0J<10){Y2V.Z7D(0);c0J=Y2V.W7D(c0J,345.79<=(1900,+"2667")?887.8>+"403.01"?"0":273.68==(679.97,"3336"-0)?(0xb24,"Z"):!{}:(!"",7.19e+3));}G9J=q0J.DT.getHours();if(G9J<10){Y2V.Z7D(0);G9J=Y2V.W7D(G9J,(8150,574.88)===(6892,5480)?(!!"","D"):655.38!=6280?"0":(!![],"R"));}K9J=q0J.DT.getMinutes();if(K9J<+"10"){Y2V.Z7D(0);K9J=Y2V.W7D(K9J,"0");}if(E7.isDailyInterval(this.layout.interval)){Y2V.h7D(4);var o2E=Y2V.j7D(2689,2699,2699);Y2V.Z7D(52);var y2E=Y2V.j7D(11,11,13,13);Y2V.h7D(9);var u2E=Y2V.j7D(1450,20);this.controls.floatDate.innerHTML=C0J+(o2E!=+"59.69"?(+"8900",575.37)===117.89?("6.67e+3"-0,"0x16be"*y2E):"-":(!1,u2E))+c0J+"-"+q0J.DT.getFullYear();}else{f40="millisec";f40+="ond";Y2V.Z7D(53);this.controls.floatDate.innerHTML=Y2V.j7D(K9J," ","-",C0J,c0J,":",G9J);b9J=Z0J.xAxis.activeTimeUnit&&Z0J.xAxis.activeTimeUnit<=b7.SECOND||this.layout.timeUnit=="second";F9J=Z0J.xAxis.activeTimeUnit&&Z0J.xAxis.activeTimeUnit<=b7.MILLISECOND||this.layout.timeUnit==f40;if(b9J||F9J){k9J=q0J.DT.getSeconds();if(k9J<10){Y2V.h7D(0);k9J=Y2V.j7D(k9J,(3100,4024)==629?179.37!==(717.83,+"5.38")?(106.84,!0):("S","l"):"0");}Y2V.h7D(0);this.controls.floatDate.innerHTML+=Y2V.j7D(k9J,8645===(155.31,+"976.53")?(0x18a2,!"1"):265.4!=="4965"-0?":":7335<492.73?(!"1","m"):!!"1");if(F9J){Q0J=q0J.DT.getMilliseconds();if(Q0J<10){Y2V.Z7D(0);Q0J=Y2V.j7D(Q0J,(302.88,8707)>(876,696.16)?(3360,5323)>=(4520,591.5)?295.65!=(7084,8700)?"0":"8.22e+3"*1:0x1ea3:("a",4.26e+3));}if(Q0J<100){Y2V.Z7D(0);Q0J=Y2V.W7D(Q0J,2470!=(5190,2800)?"0":(6083,"986.74"-0)==(18.97,"392.87"*1)?(![],0x252b):(7.98e+3,!"1"));}Y2V.h7D(0);this.controls.floatDate.innerHTML+=Y2V.W7D(Q0J,"1521"-0>=(10.7,+"3280")?!{}:("9400"-0,4530)==572.56?("2.09e+3"*1,0x9f3):":");}}}}}else if(q0J&&q0J.index){this.controls.floatDate.innerHTML=q0J.index;}else{this.controls.floatDate.innerHTML="";}}this.runAppend(m40,arguments);};E7.prototype.setCrosshairColors=function(){return;};E7.prototype.magnetize=function(){var L40,k40,F40,R40,A9J,W00,A40,o9J,P9J,U9J,n9J,t00,O9J,y9J,B9J,w9J,N9J,S9J,J9J;L40="freefo";L40+="rm";k40="c";k40+="al";k40+="lout";F40="annot";F40+="ation";R40="magnet";R40+="ize";this.magnetizedPrice=null;if(this.runPrepend(R40,arguments)){return;}if((this.currentVectorParameters.vectorType==F40||this.currentVectorParameters.vectorType==k40)&&E7.drawingLine){return;}if(this.currentVectorParameters.vectorType=="projection"){return;}if(this.currentVectorParameters.vectorType==L40){return;}A9J=this.currentPanel;if(A9J.name==A9J.chart.name){W00="#";W00+="0";W00+="0";W00+="0000";A40="holl";A40+="ow_candle";o9J=A9J.chart;P9J=this.tickFromPixel(E7.crosshairX-this.left,o9J);if(P9J>o9J.dataSet.length){return;}U9J=o9J.dataSet[P9J];if(!U9J){return;}n9J=this.valueFromPixel(this.cy,A9J);this.magnetizedPrice=U9J.Close;if(this.layout.chartType=="bar"||this.layout.chartType=="candle"||this.layout.chartType=="colored_bar"||this.layout.chartType==A40||this.layout.chartType=="volume_candle"){t00="O";t00+="pen";O9J=[t00,"High","Low","Close"];y9J=1000000000;for(var R9J=0;R9J<O9J.length;R9J++){B9J=U9J[O9J[R9J]];if(Math.abs(n9J-B9J)<y9J){Y2V.h7D(9);y9J=Math.abs(Y2V.W7D(n9J,B9J));this.magnetizedPrice=B9J;}}}w9J=this.pixelFromTick(P9J,o9J);N9J=this.pixelFromPrice(this.magnetizedPrice,this.currentPanel);S9J=this.chart.tempCanvas.context;S9J.beginPath();S9J.lineWidth=1;Y2V.h7D(42);var h2E=Y2V.j7D(13,3,52,38);J9J=Math.max(this.layout.candleWidth,+"8")/h2E;S9J.arc(w9J,N9J,J9J,0,2*Math.PI,![]);S9J.fillStyle="#FFFFFF";S9J.strokeStyle=W00;S9J.fill();S9J.stroke();S9J.closePath();}this.runAppend("magnetize",arguments);};E7.prototype.positionCrosshairsAtPointer=function(){var X9J,r9J,Y9J;if(!this.currentPanel){return;}X9J=this.currentPanel.chart;r9J=this.container.getBoundingClientRect();this.top=r9J.top;this.left=r9J.left;this.right=this.left+this.width;this.bottom=this.top+this.height;Y9J=this.tickFromPixel(this.backOutX(E7.crosshairX),X9J);this.cy=this.crossYActualPos=this.backOutY(E7.crosshairY);this.cx=this.backOutX(E7.crosshairX);this.controls.crossX.style.left=this.pixelFromTick(Y9J,X9J)-+"0.5"+"px";this.controls.crossY.style.top=this.backOutY(E7.crosshairY)+"px";this.updateChartAccessories();};E7.prototype.doDisplayCrosshairs=function(){var w00,a00,Q8N,r8N,Y8N;w00="do";w00+="DisplayCrosshairs";a00="doDisplayCross";a00+="hairs";if(this.runPrepend(a00,arguments)){return;}if(this.displayInitialized){if(!this.layout.crosshair&&(this.currentVectorParameters.vectorType===""||!this.currentVectorParameters.vectorType)){this.undisplayCrosshairs();}else if(b7.Drawing[this.currentVectorParameters.vectorType]&&new b7.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.undisplayCrosshairs();}else{if(this.controls.crossX.style.display!==""){Q8N=-700395881;r8N=-1287735582;Y8N=2;for(var z8N=1;Y2V.Y1N(z8N.toString(),z8N.toString().length,21682)!==Q8N;z8N++){this.controls.crossX.style.display="";this.controls.crossY.style.display="";Y8N+=2;}if(Y2V.Y1N(Y8N.toString(),Y8N.toString().length,"27410"*1)!==r8N){this.controls.crossX.style.display="";this.controls.crossY.style.display="";}if(this.preferences.magnet&&this.currentVectorParameters.vectorType){b7.unappendClassName(this.container,"stx-crosshair-on");}else{b7.appendClassName(this.container,"stx-crosshair-on");}}if(this.controls.floatDate&&!E7.hideDates()){this.controls.floatDate.style.display="block";}}}this.runAppend(w00,arguments);};E7.prototype.undisplayCrosshairs=function(){var K00;if(this.runPrepend("undisplayCrosshairs",arguments)){return;}if(this.controls.crossX){if(this.controls.crossX.style.display!="none"){K00="non";K00+="e";this.controls.crossX.style.display=K00;this.controls.crossY.style.display="none";}}if(this.displayInitialized&&this.controls.floatDate){this.controls.floatDate.style.display="none";}b7.unappendClassName(this.container,"stx-crosshair-on");if(this.floatCanvas&&this.floatCanvas.isDirty){b7.clearCanvas(this.floatCanvas,this);}this.runAppend("undisplayCrosshairs",arguments);};E7.prototype.modalBegin=function(){var S00;S00="m";S00+="od";S00+="al";this.openDialog=S00;this.undisplayCrosshairs();};E7.prototype.modalEnd=function(){this.cancelTouchSingleClick=!!{};this.openDialog="";this.doDisplayCrosshairs();};E7.prototype.updateChartAccessories=function(){var x9J,m9J,T00,P00,e9J,d9J,t9J,a9J;if(this.runPrepend("updateChartAccessories",arguments)){return;}this.accessoryTimer=null;this.lastAccessoryUpdate=new Date().getTime();x9J=this.controls.floatDate;if(x9J){m9J=this.currentPanel;if(!m9J){m9J=this.chart.panel;}if(m9J){T00="p";T00+="x";P00="p";P00+="x";e9J=m9J.chart;d9J=this.tickFromPixel(this.backOutX(E7.crosshairX),e9J);t9J=this.xAxisAsFooter===!![]?0:this.chart.canvasHeight-m9J.chart.bottom;Y2V.h7D(52);var U2E=Y2V.j7D(5,20,4,32);a9J=this.pixelFromTick(d9J,e9J)-x9J.offsetWidth/U2E-+"0.5";if(a9J<+"0"){a9J=0;}Y2V.h7D(0);x9J.style.left=Y2V.j7D(P00,a9J);Y2V.Z7D(0);x9J.style.bottom=Y2V.j7D(T00,t9J);}}this.headsUpHR();this.runAppend("updateChartAccessories",arguments);};E7.prototype.mousemove=function(i9J){var X00,l9J;X00="mou";X00+="s";X00+="emo";X00+="ve";l9J=i9J?i9J:event;E7.crosshairX=l9J.clientX;E7.crosshairY=l9J.clientY;if(this.runPrepend(X00,arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}this.mousemoveinner(l9J.clientX,l9J.clientY);this.runAppend("mousemove",arguments);};E7.prototype.setResizeTimer=function(D9J){this.resizeDetectMS=D9J;if(D9J){if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}this.resizeTimeout=window.setInterval(M9J(this),D9J);}else{if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}this.resizeTimeout=null;}function M9J(u9J){return function(){if(!u9J.chart.canvas){return;}if(!b7.isAndroid){if(u9J.chart.canvas.height!=Math.floor(u9J.devicePixelRatio*u9J.chart.container.clientHeight)||u9J.chart.canvas.width!=Math.floor(u9J.devicePixelRatio*u9J.chart.container.clientWidth)){u9J.resizeChart();return;}}};}};E7.prototype.whichYAxis=function(z9J,T9J){var g9J,V9J;if(typeof T9J==="undefined"){T9J=this.cx;}if(z9J){g9J=z9J.yaxisLHS.concat(z9J.yaxisRHS);for(var s9J=+"0";s9J<g9J.length;s9J++){V9J=g9J[s9J];if(V9J.left<=T9J&&V9J.left+V9J.width>=T9J){return V9J;}}}return this.chart.panel.yAxis;};E7[g7D][Y7D]=function(o4J,A4J){Y2V.S0V=function(u0V){if(Y2V&&u0V)return Y2V.S7o(u0V);};Y2V.m0V=function(s0V){if(Y2V)return Y2V.u7o(s0V);};Y2V.U0V=function(e0V){if(Y2V&&e0V)return Y2V.S7o(e0V);};Y2V.g0V=function(G8V){if(Y2V)return Y2V.S7o(G8V);};Y2V.Y8V=function(j8V){if(Y2V)return Y2V.S7o(j8V);};Y2V.J8V=function(y8V){if(Y2V)return Y2V.u7o(y8V);};Y2V.k2o=function(q2o){if(Y2V)return Y2V.u7o(q2o);};var F8D=Y2V.c2o("5a8a")?"runAppend":"";var c8D=Y2V.R2o("4c7e")?"magnetize":"";var V8D=Y2V.E2o("6472")?"ove":"";var S8D=Y2V.k2o("3d42")?"":"findHighlights";var e8D=Y2V.W8V("3c2b")?"":"drawTemporaryPanel";var x8D=Y2V.J8V("86d3")?"":"resizePanels";var P8D=Y2V.r8V("f27a")?"":"repositioner";var C8D=Y2V.Y8V("7d77")?"":"reposition";var O8D="magnetizedPrice";var f8D="panelName";var R8D=Y2V.g0V("b48a")?"repositioningDrawing":"";var q8D=Y2V.U0V("36a9")?"":"10";var Y8D="lastAccessoryUpdate";var g8D=Y2V.m0V("de9e")?"":"getTime";var X8D="updateChartAccessories";var o8D=Y2V.F0V("1e66")?"touchDevice":"";var E8D="drawingLine";var w8D=Y2V.S0V("c93b")?"accessoryTimer":"";var K8D="doDisplayCrosshairs";var t8D=Y2V.c3V("558f")?"dragToDraw":"";var d8D="Drawing";var y8D="setCrosshairColors";var L8D="crossY";var M8D="px";var k8D=Y2V.R3V("bb2e")?"":"0.5";var n8D="pixelFromTick";var l8D="style";var H8D="crossX";var z8D="controls";var u8D="measure";var p8D="context";var b8D="render";var J8D="activeDrawing";var m8D="requestAnimationFrame";var B8D="useAnimation";var D8D="move";var h8D="dispatch";var Z8D="initialWhitespace";var W8D="5";var j8D="shift";var v8D="micropixels";var T8D="microscroll";var r8D="yToleranceBroken";var G8D="yTolerance";var Q8D="allowScroll";var N8D="6";var a3D="grabStartZoom";var s3D="zoom";var A3D="grabbingPanel";var i3D="whichYAxis";var I3D=null;var U3D="span";var F3D="whitespace";var c3D="setCandleWidth";var V3D="pinchingCenter";var S3D="ipadMaxTicks";var e3D=0.499;var x3D="round";var P3D="ipad";var C3D=1.1;var O3D="0.1";var f3D=0.9;var R3D=0.1;var q3D="candleWidth";var Y3D="layout";var g3D="minimumCandleWidth";var X3D="grabStartCandleWidth";var o3D="maxTicks";var E3D="0";var w3D="W7D";var K3D="Z7D";var t3D="zoom-x";var d3D="zoom-y";var y3D="zoom-";var L3D="indexOf";var M3D="pan";var k3D="grabMode";var n3D="allowZoom";var l3D="grabOverrideClick";var H3D="abs";var z3D="grabStartScrollY";var u3D="grabStartY";var p3D="scroll";var b3D="grabStartScrollX";var J3D="grabStartX";var m3D="vectorType";var B3D="currentVectorParameters";var D3D="magnet";var h3D="displaySticky";var Z3D="series";var W3D="highlight";var j3D="overlays";var v3D="";var T3D="tempCanvas";var r3D="clearCanvas";var G3D="anyHighlighted";var Q3D="m";var N3D="o";var a5D="z";var s5D="draw";var A5D="100";var i5D="lastDraw";var I5D="now";var U5D="valueFromPixelUntransform";var F5D="userLevel";var c5D="baseline";var V5D="panels";var S5D="repositioningBaseline";var e5D="resizingPanel";var x5D="displayCrosshairs";var P5D="undisplayCrosshairs";var C5D="grabbingScreen";var O5D="overYAxis";var f5D="yAxis";var R5D="overXAxis";var q5D="insideChart";var Y5D="adjustIfNecessary";var g5D="crosshairValue";var X5D="l1N";var o5D="pixelFromPriceTransform";var E5D="43539";var w5D="toString";var K5D="Y1N";var t5D="2";var d5D="1448847263";var y5D="j7D";var L5D="h7D";var M5D="length";var k5D="horizontalCrosshairField";var n5D="preferences";var l5D="name";var H5D="valueFromPixel";var z5D="tickFromPixel";var u5D="crosshairTick";var p5D="dataSet";var b5D="panel";var J5D="whichPanel";var m5D="currentPanel";var B5D="backOutX";var D5D="cx";var h5D="backOutY";var Z5D="crossYActualPos";var W5D="cy";var j5D="crosshairY";var v5D="crosshairX";var T5D="hasDragged";var r5D="1";var G5D="cancelLongHold";var Q5D="bottom";var N5D="right";var a7D="left";var s7D="top";var A7D="getBoundingClientRect";var i7D="runPrepend";var I7D="resizeChart";var U7D="clientWidth";var F7D="width";var c7D="clientHeight";var V7D="container";var S7D="devicePixelRatio";var e7D="floor";var x7D="height";var P7D="isIOS7or8";var C7D="isAndroid";var O7D="canvas";var f7D="chart";var R7D="x";var q7D="p";var X7D=1492605899;var o7D=1441520932;var E7D=985032302;var w7D=937690790;var K7D=578083055;var t7D=93831;var d7D=89527;var y7D=43297;var L7D=34174;var M7D=7927;var k7D=100;var n7D=45;var l7D=31;var H7D=25;var z7D=17;var u7D=10;var p7D=9;var b7D=5;var J7D=3;var m7D=2;var B7D=1;var D7D=0;var o00,v9J,k4J,c9J,h4J,H9J,G4J,a20,w20,K20,e00,Z9J,p9J,W9J,q9J,G00,K4J,f9J,L4J,Q9J,C9J,F4J,E4J,N20,x20,V20,b4J,I9J,J6N,Z6N,f6N,S4J,j9J,y00;o00=q7D;o00+=R7D;if(!this[f7D][O7D]){return;}if(!b7[C7D]&&!b7[P7D]){if(this[f7D][O7D][x7D]!=Math[e7D](this[S7D]*this[f7D][V7D][c7D])||this[f7D][O7D][F7D]!=Math[e7D](this[S7D]*this[f7D][V7D][U7D])){this[I7D]();return;}}if(this[i7D](Y7D,arguments)){return;}k4J=this[V7D][A7D]();this[s7D]=k4J[s7D];this[a7D]=k4J[a7D];this[N5D]=this[a7D]+this[F7D];this[Q5D]=this[s7D]+this[x7D];this[G5D]=!!r5D;this[T5D]=!![];E7[v5D]=o4J;E7[j5D]=A4J;c9J=this[W5D]=this[Z5D]=this[h5D](E7[j5D]);h4J=this[D5D]=this[B5D](E7[v5D]);this[m5D]=this[J5D](c9J);if(!this[m5D]){this[m5D]=this[f7D][b5D];}if(!this[m5D]){return;}H9J=this[m5D][f7D];if(H9J[p5D]){this[u5D]=this[z5D](h4J,H9J);v9J=this[H5D](c9J,this[m5D]);G4J=this[m5D][l5D]==f7D?this[n5D][k5D]:this[m5D][k5D];if(G4J&&this[u5D]<H9J[p5D][M5D]&&this[u5D]>-B7D){v9J=H9J[p5D][this[u5D]][G4J];a20=w7D;Y2V[L5D](p7D);w20=-Y2V[y5D](d5D,D7D);K20=+t5D;for(var P20=+r5D;Y2V[K5D](P20[w5D](),P20[w5D]()[M5D],E5D|D7D)!==a20;P20++){this[Z5D]=this[o5D](v9J,this[m5D]);K20+=m7D;}if(Y2V[X5D](K20[w5D](),K20[w5D]()[M5D],d7D)!==w20){this[Z5D]=this[o5D](v9J,this[m5D]);}}this[g5D]=this[Y5D](this[m5D],this[u5D],v9J);}if(E7[v5D]>=this[a7D]&&E7[v5D]<=this[N5D]&&E7[j5D]>=this[s7D]&&E7[j5D]<=this[Q5D]){E7[q5D]=!!r5D;}else{E7[q5D]=!B7D;}this[R5D]=E7[j5D]>=this[s7D]+this[f7D][b5D][f5D][Q5D]&&E7[j5D]<=this[s7D]+this[f7D][b5D][Q5D]&&E7[q5D];this[O5D]=(this[D5D]>=this[m5D][N5D]||this[D5D]<=this[m5D][a7D])&&E7[q5D];if(this[R5D]||this[O5D]||!E7[q5D]&&!this[C5D]){this[P5D]();if(!this[R5D]&&!this[O5D]){return;}}if(!this[x5D]&&!E7[e5D]){this[P5D]();return;}if(this[S5D]){j9J=this[V5D][this[f7D][b5D][l5D]];this[f7D][c5D][F5D]=this[Y5D](j9J,this[u5D],this[U5D](this[h5D](E7[j5D]),j9J));if(Date[I5D]()-this[S5D][i5D]>A5D-D7D){this[s5D]();this[S5D][i5D]=Date[I5D]();}return;}if(this[C5D]&&!E7[e5D]){e00=a5D;e00+=N3D;e00+=N3D;e00+=Q3D;if(this[G3D]){b7[r3D](this[f7D][T3D],this);this[G3D]=!!v3D;for(Z9J in this[j3D]){this[j3D][Z9J][W3D]=!!v3D;}for(Z9J in H9J[Z3D]){H9J[Z3D][Z9J][W3D]=!{};}this[h3D]();}if(this[n5D][D3D]&&this[B3D][m3D]){b7[r3D](this[f7D][T3D],this);}if(this[J3D]==-B7D){this[J3D]=E7[v5D];this[b3D]=H9J[p3D];}if(this[u3D]==-B7D){this[u3D]=E7[j5D];this[z3D]=H9J[b5D][f5D][p3D];}p9J=E7[v5D]-this[J3D];W9J=E7[j5D]-this[u3D];if(p9J===D7D&&W9J===D7D){return;}if(Math[H3D](p9J)+Math[H3D](W9J)>b7D){this[l3D]=!!r5D;}if(this[n3D]&&this[k3D]!=M3D&&(this[k3D][L3D](e00)===D7D||this[R5D]||this[O5D])){if(this[k3D]===v3D){G00=y3D;G00+=R7D;if(this[R5D]){this[k3D]=G00;}else if(this[O5D]){this[k3D]=d3D;}}if(this[k3D]==t3D){Y2V[K3D](u7D);W9J=Y2V[w3D](B7D,E3D);}else if(this[k3D]==d3D){p9J=D7D;}Y2V[K3D](J7D);q9J=Y2V[w3D](p9J,H7D);K4J=!!{};if(H9J[p3D]<=H9J[o3D]){K4J=![];}f9J=this[X3D]+q9J;if(f9J<this[g3D]){f9J=this[g3D];}L4J=(this[Y3D][q3D]-f9J)/this[Y3D][q3D];if(L4J>R3D){f9J=this[Y3D][q3D]*f3D;}else if(L4J<-(O3D*B7D)){f9J=this[Y3D][q3D]*C3D;}if(b7[P3D]){if(Math[x3D](this[f7D][F7D]/this[Y3D][q3D]-e3D)-B7D<E7[S3D]&&Math[x3D](this[f7D][F7D]/f9J-e3D)-B7D>E7[S3D]){return;}}if(this[V3D]){C9J=this[B5D](this[V3D]);F4J=this[z5D](C9J,H9J);this[c3D](f9J,H9J);E4J=this[z5D](C9J,H9J);Y2V[K3D](p7D);H9J[p3D]+=Math[e7D](Y2V[y5D](E4J,F4J));}else if(K4J){Q9J=Math[x3D](this[f7D][F7D]/f9J-e3D);if(Q9J!=H9J[o3D]){this[c3D](f9J,H9J);H9J[p3D]+=Math[x3D]((Q9J-H9J[o3D])/m7D);}}else{Q9J=Math[x3D](this[f7D][F7D]/f9J-e3D);if(Q9J!=Math[x3D](this[f7D][F7D]/this[Y3D][q3D]-e3D)){this[c3D](f9J,H9J);N20=E7D;x20=K7D;V20=m7D;for(var Q20=B7D;Y2V[K5D](Q20[w5D](),Q20[w5D]()[M5D],L7D)!==N20;Q20++){b4J=Math[x3D](this[n5D][F3D]%this[Y3D][q3D]);H9J[p3D]=H9J[o3D]%b4J;V20+=m7D;}if(Y2V[K5D](V20[w5D](),V20[w5D]()[M5D],M7D)!==x20){b4J=Math[x3D](this[n5D][F3D]/this[Y3D][q3D]);H9J[p3D]=H9J[o3D]-b4J;}}}this[Y3D][U3D]=I3D;I9J=this[i3D](this[A3D],this[D5D]);if(this[O5D]){I9J[s3D]=Math[x3D](this[a3D]+W9J);if(this[a3D]<I9J[x7D]){J6N=o7D;Z6N=-X7D;f6N=m7D;for(var R6N=+r5D;Y2V[K5D](R6N[w5D](),R6N[w5D]()[M5D],y7D)!==J6N;R6N++){if(I9J[s3D]>I9J[x7D]){Y2V[K3D](l7D);var I2E=Y2V[w3D](J7D,z7D,n7D);I9J[s3D]=I9J[x7D]+I2E;}f6N+=m7D;}if(Y2V[X5D](f6N[w5D](),f6N[w5D]()[M5D],t7D)!==Z6N){if(I9J[s3D]>I9J[x7D]){I9J[s3D]=I9J[x7D]+(N8D|D7D);}}if(I9J[s3D]>=I9J[x7D]){I9J[s3D]=I9J[x7D]-+r5D;}}else{if(I9J[s3D]<=I9J[x7D]){I9J[s3D]=I9J[x7D]+ +r5D;}}}}else{if(this[Q8D]){if(Math[H3D](W9J)<this[G8D]){if(!this[r8D]){W9J=D7D;if(p9J===D7D){return;}}}else{this[r8D]=!v3D;}this[k3D]=M3D;q9J=Math[x3D](p9J/this[Y3D][q3D]);this[T8D]=q9J-p9J/this[Y3D][q3D];this[v8D]=this[Y3D][q3D]*this[T8D]*-B7D;if(this[j8D]){q9J*=+W8D;}H9J[p3D]=this[b3D]+q9J;if(H9J[p3D]<B7D){H9J[p3D]=B7D;}if(H9J[p3D]>=H9J[o3D]){this[n5D][F3D]=this[Z8D];}else{this[n5D][F3D]=(H9J[o3D]-H9J[p3D])*this[Y3D][q3D];}if(this[m5D][l5D]==H9J[l5D]){this[f7D][b5D][f5D][p3D]=this[z3D]+W9J;}}this[h8D](D8D,{stx:this,panel:this[m5D],x:this[D5D],y:this[W5D],grab:this[C5D]});}S4J=function(P4J){return function(){P4J[s5D]();};};if(E7[B8D]){window[m8D](S4J(this));}else{this[s5D]();}if(this[J8D]){b7[r3D](this[f7D][T3D],this);this[J8D][b8D](this[f7D][T3D][p8D]);this[J8D][u8D]();}this[P5D]();return;}else{this[k3D]=v3D;}this[A3D]=this[m5D];if(this[R5D]||this[O5D]){return;}this[z8D][H8D][l8D][a7D]=this[n8D](this[u5D],H9J)-+k8D+M8D;this[z8D][L8D][l8D][s7D]=this[Z5D]+o00;this[y8D]();if(E7[q5D]&&!E7[e5D]){if(!b7[d8D][this[B3D][m3D]]||!new b7[d8D][this[B3D][m3D]]()[t8D]){this[K8D]();}if(this[w8D]!==I3D){clearTimeout(this[w8D]);}if(E7[E8D]||!b7[o8D]){this[X8D]();}else{if(new Date()[g8D]()-this[Y8D]>k7D){this[X8D]();}this[w8D]=setTimeout(function(U4J){return function(){U4J[X8D]();};}(this),+q8D);}}else{this[P5D]();}if(this[R8D]){j9J=this[V5D][this[R8D][f8D]];v9J=this[Y5D](j9J,this[u5D],this[U5D](this[h5D](E7[j5D]),j9J));if(this[n5D][D3D]&&this[O8D]&&j9J[l5D]==j9J[f7D][l5D]){v9J=this[Y5D](j9J,this[u5D],this[O8D]);}b7[r3D](this[f7D][T3D],this);this[R8D][C8D](this[f7D][T3D][p8D],this[R8D][P8D],this[u5D],v9J);if(this[R8D][u8D]){this[R8D][u8D]();}}else if(E7[E8D]){if(this[J8D]){j9J=this[V5D][this[J8D][f8D]];v9J=this[Y5D](j9J,this[u5D],this[U5D](this[h5D](E7[j5D]),j9J));if(this[n5D][D3D]&&this[O8D]&&j9J[l5D]==j9J[f7D][l5D]){v9J=this[Y5D](j9J,this[u5D],this[O8D]);}b7[r3D](this[f7D][T3D],this);this[J8D][D8D](this[f7D][T3D][p8D],this[u5D],v9J);if(this[J8D][u8D]){this[J8D][u8D]();}}}else if(E7[e5D]){this[x8D]();this[e8D]();}else if(E7[q5D]){this[S8D]();}if(E7[q5D]){y00=Q3D;y00+=V8D;this[h8D](y00,{stx:this,panel:this[m5D],x:this[D5D],y:this[W5D],grab:this[C5D]});this[S8D]();}if(this[n5D][D3D]&&this[B3D][m3D]){if(!E7[E8D]&&!this[G3D]){b7[r3D](this[f7D][T3D]);}this[c8D]();}this[F8D](Y7D,arguments);};E7.prototype.findHighlights=function(f4J,g4J){var J4J,w4J,x4J,O4J,Y4J,r4J,l4J,H4J,N4J,D4J,M4J,j4J,y4J,B4J,R4J,s4J,m4J,n4J,V4J,T4J,X4J,a4J,u4J;J4J=10;if(f4J){J4J=+"30";}w4J=this.cy;x4J=this.cx;if(!this.currentPanel){return;}if(this.activeDrawing){return;}O4J=this.currentPanel.chart;this.anyHighlighted=!{};if(this.preferences.magnet&&!this.activeDrawing){b7.clearCanvas(this.chart.tempCanvas,this);}Y4J=!1;r4J=null;l4J=["","",!!{},null,"drawing"];H4J={x0:this.tickFromPixel(x4J-J4J,O4J),x1:this.tickFromPixel(x4J+J4J,O4J),y0:this.valueFromPixelUntransform(w4J-J4J,this.currentPanel),y1:this.valueFromPixelUntransform(w4J+J4J,this.currentPanel)};for(var t4J=0;t4J<this.drawingObjects.length;t4J++){N4J=this.drawingObjects[t4J];if(N4J.permanent)continue;D4J=N4J.highlighted;M4J=N4J.panelName==this.currentPanel.name;N4J.repositioner=N4J.intersected(this.crosshairTick,this.crosshairValue,H4J);M4J=M4J&&N4J.repositioner;if(!g4J&&M4J){if(D4J){r4J=N4J;}else if(D4J!=N4J.highlight(!!{})){if(!r4J){r4J=N4J;}Y4J=!!"1";}this.anyHighlighted=!!1;}else{if(D4J!=N4J.highlight(!{})){Y4J=!![];}}}j4J=![];for(y4J in this.overlays){B4J=this.overlays[y4J];B4J.prev=B4J.highlight;B4J.highlight=!{};}for(y4J in O4J.seriesRenderers){s4J=O4J.seriesRenderers[y4J];for(var i4J=0;i4J<s4J.seriesParams.length;i4J++){R4J=s4J.seriesParams[i4J];R4J.prev=R4J.highlight;R4J.highlight=![];}}if(!g4J){m4J=this.barFromPixel(x4J);if(m4J<O4J.dataSegment.length){for(y4J in this.overlays){B4J=this.overlays[y4J];if(B4J.panel!=this.currentPanel.name)continue;if(B4J.libraryEntry.isHighlighted&&B4J.libraryEntry.isHighlighted(this,x4J,w4J)){B4J.highlight=!![];this.anyHighlighted=!![];continue;}V4J=O4J.dataSegment[m4J];if(!V4J)continue;for(var z4J in this.overlays[y4J].outputMap){T4J=V4J[z4J];n4J=0;if(this.currentPanel.name==O4J.name){n4J=this.pixelFromPriceTransform(T4J,this.currentPanel);}else{n4J=this.pixelFromPrice(T4J,this.currentPanel);}if(w4J-J4J<n4J&&w4J+J4J>n4J){B4J.highlight=!![];this.anyHighlighted=!!1;break;}}if(B4J.highlight)break;}for(y4J in O4J.seriesRenderers){X4J=O4J.seriesRenderers[y4J];if(!X4J.params.highlightable)continue;for(var e4J="0"|0;e4J<X4J.seriesParams.length;e4J++){R4J=X4J.seriesParams[e4J];n4J=X4J.caches[R4J.field]&&X4J.caches[R4J.field][m4J];if(!n4J&&n4J!==0)continue;if(w4J-J4J<n4J&&w4J+J4J>n4J){R4J.highlight=!![];this.anyHighlighted=!0;}else if((X4J.params.subtype=="step"||R4J.type=="step")&&m4J>"0"*1){a4J=X4J.caches[R4J.field]&&X4J.caches[R4J.field][m4J-1];if((a4J||a4J==="0"-0)&&(w4J>n4J&&w4J<a4J)||w4J<n4J&&w4J>a4J){R4J.highlight=!!"1";this.anyHighlighted=!![];}}}}}}for(y4J in this.overlays){B4J=this.overlays[y4J];if(B4J.highlight){this.anyHighlighted=!!"1";l4J=[B4J.inputs.display?B4J.inputs.display:B4J.name,null,null,B4J.permanent,"study"];r4J=null;}if(B4J.prev!=B4J.highlight){Y4J=!!1;}}for(y4J in O4J.seriesRenderers){u4J=O4J.seriesRenderers[y4J];if(!u4J.params.highlightable)continue;for(var d4J=0;d4J<u4J.seriesParams.length;d4J++){R4J=u4J.seriesParams[d4J];if(R4J.highlight){this.anyHighlighted=!!{};l4J=[R4J.display,R4J.color,![],R4J.permanent,"series"];r4J=null;}if(R4J.prev!=R4J.highlight){Y4J=!0;}}}if(Y4J){this.draw();this.displaySticky.apply(this,l4J);this.clearMeasure();if(r4J){r4J.measure();}}if(!this.anyHighlighted){this.setMeasure();}};E7.prototype.positionSticky=function(I4J){var h00,u00,v4J,W4J;h00="p";h00+="x";u00="p";u00+="x";v4J=Math.max(this.cy-I4J.offsetHeight-60,0);W4J=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-I4J.offsetWidth);Y2V.Z7D(0);I4J.style.top=Y2V.j7D(u00,v4J);Y2V.Z7D(0);I4J.style.right=Y2V.W7D(h00,W4J);};E7.prototype.displaySticky=function(c4J,G3J,K3J,L3J,k3J){var I00,U00,q4J,p4J,C4J,Z4J,Q4J,O00,M00,H00,c00,E00,q00,F6N,k6N,L6N,p00,d00,C00;I00="#mouseDel";I00+="eteInstruc";I00+="tions";U00="#m";U00+="Stick";U00+="yInteri";U00+="or";q4J=this.controls.mSticky;if(!q4J){return;}p4J=S7(U00,q4J);if(!p4J){return;}C4J=S7("#overlayTrashCan",q4J);Z4J=S7(".overlayEdit",q4J);Q4J=S7(I00,q4J);if(!K3J&&!c4J){p4J.innerHTML="";q4J.style.display="none";if(b7.touchDevice){O00="non";O00+="e";M00="no";M00+="ne";if(C4J){C4J.style.display=M00;}if(Z4J){Z4J.style.display=O00;}}else if(!b7.touchDevice){if(Q4J){Q4J.style.display="none";}}}else{H00="inl";H00+="ine-block";c00="#mS";c00+="tickyRightClick";if(!c4J){c4J="";}if(K3J&&!c4J){E00="n";E00+="o";E00+="n";E00+="e";p4J.style.backgroundColor="";p4J.style.color="";p4J.style.display=E00;}else if(G3J){q00="i";q00+="n";q00+="line-";q00+="block";p4J.style.backgroundColor=G3J;p4J.style.color=b7.chooseForegroundColor(G3J);p4J.style.display=q00;}else{F6N=1682997693;k6N=-1396932137;L6N=2;for(var t8N=1;Y2V.Y1N(t8N.toString(),t8N.toString().length,17183)!==F6N;t8N++){p4J.style.backgroundColor="";p4J.style.color="";Y2V.h7D(1);L6N+=Y2V.W7D(0,"2");}if(Y2V.l1N(L6N.toString(),L6N.toString().length,"10634"*1)!==k6N){p4J.style.backgroundColor="";p4J.style.color="";}p4J.style.display="inline-block";}p4J.innerHTML=c4J;if(k3J){Y2V.Z7D(0);S7(c00,q4J).className=Y2V.j7D(k3J,"rightclick_");}q4J.style.display=H00;this.positionSticky(q4J);if(L3J){p00="n";p00+="o";p00+="n";p00+="e";d00="n";d00+="o";d00+="ne";if(C4J){C4J.style.display="none";}if(Z4J){Z4J.style.display=d00;}if(Q4J){Q4J.style.display=p00;}}else if(b7.touchDevice){C00="no";C00+="ne";if(C4J){C4J.style.display="inline-block";}if(Z4J){Z4J.style.display="inline-block";}if(Q4J){Q4J.style.display=C00;}}else if(!b7.touchDevice){if(Q4J){Q4J.style.display="block";}}}};E7.prototype.setMeasure=function(b3J,A3J,B3J,R3J,U3J){var b00,h3J,E3J,D00,o3J,F3J,k30,L30,A30,S3J,P3J;b00="setM";b00+="easure";if(this.runPrepend("setMeasure",arguments)){return;}h3J=R7("mMeasure");E3J="";if(!b3J){D00="measur";D00+="eUnlit";if(h3J&&h3J.className!=D00){h3J.className="measureUnlit";}if(!this.anyHighlighted&&this.currentVectorParameters.vectorType===""){this.clearMeasure();}}else{o3J=Math.round(Math.abs(b3J-A3J)*this.chart.roundit)/this.chart.roundit;if(this.internationalizer){E3J+=this.internationalizer.numbers.format(o3J);}else{E3J+=o3J;}Y2V.Z7D(39);F3J=Y2V.W7D(b3J,b3J,A3J);if(Math.abs(F3J)>0.1){Y2V.Z7D(10);F3J=Math.round(Y2V.j7D(100,F3J));}else if(Math.abs(F3J)>+"0.01"){Y2V.Z7D(0);var O2E=Y2V.W7D(12,988);F3J=Math.round(F3J*O2E)/("10"|0);}else{Y2V.Z7D(54);var E2E=Y2V.j7D(145610,13,2000,6,5);Y2V.Z7D(5);var q2E=Y2V.j7D(98,15,13);F3J=Math.round(F3J*E2E)/q2E;}if(this.internationalizer){k30=1090707103;L30=1914106663;Y2V.Z7D(10);A30=Y2V.W7D(1,"2");for(var W20=1;Y2V.Y1N(W20.toString(),W20.toString().length,97875)!==k30;W20++){Y2V.h7D(9);F3J=this.internationalizer.percent.format(Y2V.j7D(F3J,481));A30+=2;}if(Y2V.l1N(A30.toString(),A30.toString().length,61874)!==L30){Y2V.h7D(3);F3J=this.internationalizer.percent.format(Y2V.W7D(F3J,100));}}else{Y2V.Z7D(0);F3J=Y2V.W7D("%",F3J);}Y2V.h7D(27);E3J+=Y2V.j7D(" (",F3J,")");Y2V.Z7D(9);S3J=Math.abs(Y2V.j7D(R3J,B3J));S3J=Math.round(S3J)+1;P3J=this.translateIf("Bars");Y2V.h7D(55);E3J+=Y2V.j7D(260.88==(729,281.44)?!1:" ",P3J,S3J,(743.33,720.19)<260?("v",!!"1"):4532!=("523.54"-0,4253)?" ":(0x30f,734.97));if(h3J){if(h3J.className!="measureLit"){h3J.className="measureLit";}h3J.innerHTML=E3J;}}if(this.activeDrawing){return;}h3J=this.controls.mSticky;if(h3J){if(U3J){h3J.style.display="inline-block";h3J.children[0].style.display="inline-block";if(b3J){h3J.children["0"|0].innerHTML=E3J;}this.positionSticky(h3J);}else{h3J.style.display="none";h3J.children[+"0"].innerHTML="";}}this.runAppend(b00,arguments);};E7.prototype.clearMeasure=function(){var y3J,s00;y3J=R7("mMeasure");if(y3J){s00="me";s00+="as";s00+="ureUnlit";if(y3J.className!="measureUnlit"){y3J.className=s00;}y3J.innerHTML="";}};E7.prototype.drawTemporaryPanel=function(){var O3J,n3J;O3J=Math.round(E7.resizingPanel.right-3)+0.5;b7.clearCanvas(this.chart.tempCanvas,this);n3J=E7.crosshairY-this.top;this.plotLine(E7.resizingPanel.left,O3J,n3J,n3J,this.canvasStyle("stx_panel_drag"),"segment",this.chart.tempCanvas.context,!{},{});Y2V.Z7D(56);var d2E=Y2V.j7D(12,6,20);E7.resizingPanel.handle.style.top=n3J-E7.resizingPanel.handle.offsetHeight/d2E+"px";};E7.prototype.setTrashCan=function(){var w3J,g00;if(b7.touchDevice){w3J=this.controls.mSticky;if(w3J){g00="p";g00+="x";w3J.style.display="inline-block";w3J.children[0].style.display="none";w3J.children[1].style.display="inline-block";if(w3J.children[2]){w3J.children[2].style.display="none";}w3J.style.top=this.backOutY(E7.crosshairY)-+"60"+g00;w3J.style.right=this.chart.canvasWidth-(this.backOutX(E7.crosshairX)-("50"-0))+"px";}}};E7.prototype.pixelFromBar=function(J3J,X3J){var N3J;if(!X3J){X3J=this.chart;}N3J=0;if(this.chart.dataSegment&&this.chart.dataSegment[J3J]&&this.chart.dataSegment[J3J].leftOffset){N3J=this.chart.dataSegment[J3J].leftOffset;}else{N3J=(J3J+0.5)*this.layout.candleWidth;}Y2V.Z7D(57);var p2E=Y2V.j7D(8,167,20,6);N3J=X3J.panel.left+Math.floor(N3J+this.micropixels)-p2E;return N3J;};E7.prototype.barFromPixel=function(e3J,x3J){var j00,m3J,a3J,Y3J,d3J,t3J,l3J;j00="volum";j00+="e_candle";if(!x3J){x3J=this.chart;}if(this.layout.chartType==j00&&this.chart.dataSegment){m3J=e3J-x3J.panel.left-this.micropixels;Y2V.Z7D(1);a3J=Y2V.j7D(0,"2");Y3J=Math.round(this.chart.dataSegment.length/a3J);Y2V.h7D(31);var C2E=Y2V.W7D(9,18,161);Y2V.h7D(9);var b2E=Y2V.j7D(12,11);d3J=this.chart.dataSegment[this.chart.dataSegment.length-"1"*C2E].leftOffset+this.chart.dataSegment[this.chart.dataSegment.length-1].candleWidth/("2"*b2E);if(m3J>d3J){return this.chart.dataSegment.length+Math.floor((e3J-d3J-x3J.panel.left-this.micropixels)/this.layout.candleWidth);}else{for(var r3J=1;r3J<this.chart.dataSegment.length;r3J++){a3J*=2;if(!this.chart.dataSegment[Y3J])break;t3J=this.chart.dataSegment[Y3J].leftOffset-this.chart.dataSegment[Y3J].candleWidth/+"2";Y2V.Z7D(9);var s2E=Y2V.j7D(60,58);l3J=this.chart.dataSegment[Y3J].leftOffset+this.chart.dataSegment[Y3J].candleWidth/s2E;if(Y3J===+"0"||m3J>=t3J&&m3J<l3J)break;else if(m3J<t3J){Y3J-=Math.max(1,Math.round(this.chart.dataSegment.length/a3J));}else{Y3J+=Math.max(+"1",Math.round(this.chart.dataSegment.length/a3J));}Y3J=Math.max(0,Math.min(this.chart.dataSegment.length-1,Y3J));}if(!this.chart.dataSegment[Y3J]){for(r3J=+"0";r3J<this.chart.dataSegment.length;r3J++){if(!this.chart.dataSegment[r3J])continue;if(m3J<this.chart.dataSegment[r3J].leftOffset-this.chart.dataSegment[r3J].candleWidth/2){Y2V.Z7D(9);return Math.max(0,Y2V.W7D(r3J,1));}else if(m3J<this.chart.dataSegment[r3J].leftOffset+this.chart.dataSegment[r3J].candleWidth/2){return r3J;}else if(m3J>=this.chart.dataSegment[r3J].leftOffset+this.chart.dataSegment[r3J].candleWidth/2){Y2V.h7D(0);return Y2V.j7D(1,r3J);}}}}return Y3J;}else{return Math.floor((e3J-x3J.panel.left-this.micropixels)/this.layout.candleWidth);}};E7.prototype.tickFromPixel=function(M3J,i3J){var D3J;if(!i3J){i3J=this.chart;}Y2V.Z7D(48);var g2E=Y2V.j7D(1,16,14);D3J=i3J.dataSet.length-i3J.scroll+g2E;if(this.layout.chartType=="volume_candle"){D3J+=this.barFromPixel(M3J,i3J);}else{D3J+=Math.floor((M3J-i3J.panel.left-this.micropixels)/this.layout.candleWidth);}return D3J;};E7.prototype.pixelFromTick=function(T3J,u3J){var V3J,s3J,z3J;if(!u3J){u3J=this.chart;}Y2V.h7D(43);var j2E=Y2V.j7D(13,15,28);V3J=T3J-u3J.dataSet.length+u3J.scroll-j2E;if(this.chart.dataSegment&&this.chart.dataSegment[V3J]&&this.chart.dataSegment[V3J].leftOffset){return u3J.panel.left+Math.floor(this.chart.dataSegment[V3J].leftOffset+this.micropixels)-1;}else{s3J=0;z3J=0;if(this.chart.dataSegment&&this.chart.dataSegment[this.chart.dataSegment.length-("1"|0)]&&this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset){if(this.chart.dataSegment.length<T3J-u3J.dataSet.length+u3J.scroll){Y2V.Z7D(58);var N2E=Y2V.j7D(14,143,7,7,3);Y2V.h7D(59);var x2E=Y2V.W7D(5,19,7,12,18,2);s3J=this.chart.dataSegment[this.chart.dataSegment.length-N2E].leftOffset-this.chart.dataSegment[this.chart.dataSegment.length-"1"*x2E].candleWidth/2;z3J=this.chart.dataSegment.length;}}return s3J+u3J.panel.left+Math.floor((T3J-z3J-u3J.dataSet.length+u3J.scroll-0.5)*this.layout.candleWidth+this.micropixels)-1;}};E7.prototype.pixelFromDate=function(H3J,g3J){return this.pixelFromTick(this.tickFromDate(H3J,g3J),g3J);};E7.prototype.priceFromPixel=function(f3J,I3J,W3J){var q3J,j3J,v3J,p3J;if(!I3J){I3J=this.chart.panel;}q3J=I3J.chart;j3J=W3J?W3J:I3J.yAxis;f3J=j3J.bottom-f3J;if(!j3J.multiplier){return null;}v3J=j3J.low+f3J/j3J.multiplier;if(j3J.semiLog){p3J=j3J.logLow+f3J*j3J.logShadow/j3J.height;v3J=Math.pow(10,p3J);}return v3J;};E7.prototype.valueFromPixel=function(Z3J,Q3J,c3J){var C3J;if(!Q3J){Q3J=this.whichPanel(Z3J);}C3J=this.priceFromPixel(Z3J,Q3J,c3J);return C3J;};E7.prototype.valueFromPixelUntransform=function(k72,G72,L72){var K72;if(!G72){G72=this.whichPanel(k72);}if(!G72){if(k72<="0"-0){G72=this.panels[b7.first(this.panels)];}else{G72=this.panels[b7.last(this.panels)];}}K72=this.priceFromPixel(k72,G72,L72);if(G72.chart.untransformFunc&&G72.name==G72.chart.name){K72=G72.chart.untransformFunc(this,G72.chart,K72);}return K72;};E7.prototype.pixelFromPriceTransform=function(F72,h72,E72){if(h72.chart.transformFunc){F72=h72.chart.transformFunc(this,h72.chart,F72,E72);}return this.pixelFromPrice(F72,h72,E72);};E7.prototype.pixelFromPrice=function(P72,o72,U72){var b72,S72,R72,B72,A72;if(!o72){o72=this.chart.panel;}b72=U72?U72:o72.yAxis;S72=(b72.high-P72)*b72.multiplier;if(b72.semiLog){R72=Math.max(P72,0);B72=Math.log(R72)/Math.LN10;A72=b72.height;S72=A72-A72*(B72-b72.logLow)/b72.logShadow;}S72+=b72.top;return S72;};E7.prototype.pixelFromValueAdjusted=function(y72,J72,O72,w72){var n72,N72;if(this.layout.adj||!this.charts[y72.name]){return this.pixelFromPriceTransform(O72,y72,w72);}n72=Math.round(J72);if(n72>0&&n72<y72.chart.dataSet.length&&(N72=y72.chart.dataSet[n72].ratio)){Y2V.h7D(10);return this.pixelFromPriceTransform(Y2V.W7D(N72,O72),y72,w72);}return this.pixelFromPriceTransform(O72,y72,w72);};E7.prototype.adjustIfNecessary=function(X72,x72,r72){var Y72,m72;if(this.layout.adj){return r72;}if(!X72||!this.charts[X72.name]){return r72;}Y72=Math.round(x72);if(Y72>+"0"&&Y72<X72.chart.dataSet.length&&(m72=X72.chart.dataSet[Y72].ratio)){Y2V.Z7D(3);return Y2V.j7D(r72,m72);}return r72;};E7.prototype.setTransform=function(a72,e72,d72){var Z30,f30,m30;Z30=-824598608;f30=-1957639090;m30=2;for(var F30=1;Y2V.Y1N(F30.toString(),F30.toString().length,95820)!==Z30;F30++){a72.transformFunc=e72;a72.untransformFunc=d72;m30+=2;}if(Y2V.Y1N(m30.toString(),m30.toString().length,35933)!==f30){a72.transformFunc=e72;a72.untransformFunc=d72;}a72.transformFunc=e72;a72.untransformFunc=d72;};E7.prototype.unsetTransform=function(t72){delete t72.transformFunc;delete t72.untransformFunc;for(var l72=0;l72<t72.dataSet.length;l72++){t72.dataSet[l72].transform=null;}};E7.prototype.undo=function(){var N00,v00;if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){N00="s";N00+="tx_crosshair";v00="st";v00+="x_crosshai";v00+="r";v00+="_drawing";this.activeDrawing.abort();this.activeDrawing=null;b7.clearCanvas(this.chart.tempCanvas,this);this.draw();b7.swapClassName(this.controls.crossX,"stx_crosshair",v00);b7.swapClassName(this.controls.crossY,N00,"stx_crosshair_drawing");E7.drawingLine=!1;}this.runAppend("undo",arguments);};E7.prototype.undoStamp=function(i72,D72){this.undoStamps.push(i72);this.dispatch("undoStamp",{before:i72,after:D72});};E7.prototype.undoLast=function(){var x00;if(this.activeDrawing){this.undo();}else{if(this.undoStamps.length){x00="ve";x00+="ct";x00+="or";this.drawingObjects=this.undoStamps.pop();this.changeOccurred(x00);this.draw();}}};E7.prototype.addDrawing=function(u72){var M72;M72=b7.shallowClone(this.drawingObjects);this.drawingObjects.push(u72);this.undoStamp(M72,b7.shallowClone(this.drawingObjects));};E7.prototype.plotLine=function(g72,Q72,z72,s72,H72,k82,V72,v72,j72){var r00,Q00,n00,V00,F82,b82,K82,G82,q72,S82,T72,U82,R82,C72,c72,L82,h82,I72,Z72,p72,o82,P82,A82,E82,f72;r00="z";r00+="ig ";r00+="zag";Q00="o";Q00+="bj";Q00+="ec";Q00+="t";n00="verti";n00+="c";n00+="al";V00="r";V00+="a";V00+="y";if(!j72){j72={};}if(j72.pattern=="none"){return;}if(v72===!!1){v72=this.chart.panel;}if(V72===null||typeof V72=="undefined"){V72=this.chart.context;}if(isNaN(g72)||isNaN(Q72)||isNaN(z72)||isNaN(s72)){return;}F82=0;b82=this.chart.canvasHeight;Y2V.h7D(10);K82=Y2V.j7D(1,"0");G82=this.right;if(v72){b82=v72.yAxis.bottom;F82=v72.yAxis.top;K82=v72.left;G82=v72.right;}if(k82==V00){q72=10000000;if(Q72<g72){q72=-10000000;}T72={"x0":g72,"x1":Q72,"y0":z72,"y1":s72};S82=b7.yIntersection(T72,q72);Q72=q72;s72=S82;}if(k82=="line"||k82=="horizontal"||k82==n00){q72=10000000;U82=-10000000;T72={"x0":g72,"x1":Q72,"y0":z72,"y1":s72};S82=b7.yIntersection(T72,q72);R82=b7.yIntersection(T72,U82);g72=U82;Q72=q72;z72=R82;s72=S82;}C72=0.0;c72=1.0;Y2V.Z7D(9);L82=Y2V.W7D(Q72,g72);Y2V.h7D(9);h82=Y2V.j7D(s72,z72);for(var W72=0;W72<4;W72++){if(W72===0){I72=-L82;Y2V.h7D(9);Z72=-Y2V.W7D(K82,g72);}if(W72==1){I72=L82;Y2V.Z7D(9);Z72=Y2V.j7D(G82,g72);}if(W72=="2"*1){I72=-h82;Y2V.h7D(9);Z72=-Y2V.j7D(F82,z72);}if(W72==3){I72=h82;Y2V.h7D(9);Z72=Y2V.W7D(b82,z72);}Y2V.Z7D(3);p72=Y2V.W7D(Z72,I72);if((s72||s72==="0"*1)&&I72===0&&Z72<"0"-0){return!1;}if(I72<("0"|0)){if(p72>c72){return!!"";}else if(p72>C72){C72=p72;}}else if(I72>0){if(p72<C72){return!{};}else if(p72<c72){c72=p72;}}}Y2V.Z7D(26);o82=Y2V.W7D(L82,C72,g72);Y2V.Z7D(26);P82=Y2V.j7D(h82,C72,z72);Y2V.Z7D(26);A82=Y2V.W7D(L82,c72,g72);Y2V.Z7D(26);E82=Y2V.W7D(h82,c72,z72);if(!s72&&s72!==0&&!z72&&z72!==0){P82=F82;E82=b82;o82=T72.x0;A82=T72.x0;if(T72.x0>G82){return![];}if(T72.x0<K82){return!{};}}else if(!s72&&s72!==0){if(T72.y0<T72.y1){E82=b82;}else{E82=F82;}o82=T72.x0;A82=T72.x0;if(T72.x0>G82){return!!"";}if(T72.x0<K82){return!{};}}Y2V.Z7D(9);V72.lineWidth=Y2V.W7D("1.1",0);if(typeof H72==Q00){V72.strokeStyle=H72.color;if(H72.opacity){V72.globalAlpha=H72.opacity;}else{V72.globalAlpha=1;}V72.lineWidth=parseInt(b7.stripPX(H72.width));}else{if(!H72||H72=="auto"||b7.isTransparent(H72)){V72.strokeStyle=this.defaultColor;}else{V72.strokeStyle=H72;}}if(j72.opacity){V72.globalAlpha=j72.opacity;}if(j72.lineWidth){V72.lineWidth=j72.lineWidth;}if(k82==r00){V72.lineWidth=5;}f72=null;if(j72.pattern){f72=j72.pattern;if(f72=="solid"){f72=null;}else if(f72=="dotted"){f72=[V72.lineWidth,V72.lineWidth];}else if(f72=="dashed"){Y2V.h7D(12);var Q2E=Y2V.W7D(10,30,2);Y2V.h7D(5);var r2E=Y2V.j7D(17,7,19);f72=[V72.lineWidth*Q2E,V72.lineWidth*r2E];}}V72.stxLine(o82,P82,A82,E82,V72.strokeStyle,V72.globalAlpha,V72.lineWidth,f72);V72.globalAlpha=+"1";V72.lineWidth=1;};E7.prototype.connectTheDots=function(a82,O82,j82,B82,l82,n82){var l00,Y00,u82,V82,H82,g82,y82,B00,z00,X82,N82,T82,i82,m82,x82,d82,t82,w82,e82,Y82,z82,s82,D82,M82;l00="obje";l00+="ct";Y00="no";Y00+="ne";if(!n82){n82={};}if(n82.pattern==Y00){return;}if(l82===!!{}){l82=this.chart.panel;}if(B82===null||typeof B82=="undefined"){B82=this.chart.context;}if(a82.length<4){return;}u82=0;V82=this.chart.canvasHeight;H82=+"0";g82=this.chart.width;if(l82){V82=l82.yAxis.bottom;u82=l82.yAxis.top;}Y2V.Z7D(10);B82.lineWidth=Y2V.W7D(1,"1.1");if(typeof O82==l00){B82.strokeStyle=O82.color;if(O82.opacity){B82.globalAlpha=O82.opacity;}else{B82.globalAlpha=1;}B82.lineWidth=parseInt(b7.stripPX(O82.width));}else{if(!O82||O82=="auto"||b7.isTransparent(O82)){B82.strokeStyle=this.defaultColor;}else{B82.strokeStyle=O82;}}if(n82.opacity){B82.globalAlpha=n82.opacity;}if(n82.lineWidth){B82.lineWidth=n82.lineWidth;}y82=null;if(n82.pattern){B00="da";B00+="sh";B00+="ed";z00="dott";z00+="ed";y82=n82.pattern;if(y82=="solid"){y82=null;}else if(y82==z00){y82=[B82.lineWidth,B82.lineWidth];}else if(y82==B00){Y2V.h7D(9);var Y2E=Y2V.W7D(18,13);Y2V.Z7D(5);var l2E=Y2V.W7D(65,3,63);y82=[B82.lineWidth*Y2E,B82.lineWidth*l2E];}}B82.beginPath();for(var J82=0;J82<a82.length-2;J82+="2"|0){X82=a82[J82];Y2V.h7D(60);N82=a82[Y2V.j7D("1",J82)];Y2V.Z7D(0);T82=a82[Y2V.j7D(2,J82)];Y2V.h7D(0);i82=a82[Y2V.W7D(3,J82)];if(isNaN(X82)||isNaN(T82)||isNaN(N82)||isNaN(i82)){return;}m82=0.0;x82=1.0;Y2V.h7D(9);d82=Y2V.j7D(T82,X82);Y2V.Z7D(9);t82=Y2V.W7D(i82,N82);for(var r82=+"0";r82<4;r82++){if(r82===0){w82=-d82;Y2V.Z7D(9);e82=-Y2V.W7D(H82,X82);}if(r82==1){w82=d82;Y2V.Z7D(9);e82=Y2V.W7D(g82,X82);}if(r82==2){w82=-t82;Y2V.Z7D(9);e82=-Y2V.j7D(u82,N82);}if(r82==+"3"){w82=t82;Y2V.Z7D(9);e82=Y2V.W7D(V82,N82);}Y2V.h7D(3);Y82=Y2V.W7D(e82,w82);if((i82||i82===0)&&w82===0&&e82<0){return!!"";}if(w82<0){if(Y82>x82){return!!0;}else if(Y82>m82){m82=Y82;}}else if(w82>0){if(Y82<m82){return!{};}else if(Y82<x82){x82=Y82;}}}Y2V.Z7D(26);z82=Y2V.j7D(d82,m82,X82);Y2V.h7D(26);s82=Y2V.j7D(t82,m82,N82);Y2V.h7D(26);D82=Y2V.W7D(d82,x82,X82);Y2V.h7D(26);M82=Y2V.j7D(t82,x82,N82);try{if(y82){B82.dashedLineTo(z82,s82,D82,M82,y82);}else{B82.moveTo(z82,s82);B82.lineTo(D82,M82);}}catch(f82){}}B82.stroke();B82.closePath();B82.globalAlpha=1;B82.lineWidth=1;};E7.prototype.plotSpline=function(Q82,Z82,W82,C82,I82,q82,p82){var i00,v82,J00;i00="ob";i00+="j";i00+="e";i00+="ct";if(!p82){p82={};}if(p82.pattern=="none"){return;}if(q82===!!{}){q82=this.chart.panel;}if(I82===null||typeof I82=="undefined"){I82=this.chart.context;}I82.save();Y2V.Z7D(10);I82.lineWidth=Y2V.j7D(1,"1.1");if(typeof W82==i00){I82.strokeStyle=W82.color;if(W82.opacity){I82.globalAlpha=W82.opacity;}else{I82.globalAlpha=1;}I82.lineWidth=parseInt(b7.stripPX(W82.width));}else{if(!W82||W82=="auto"||b7.isTransparent(W82)){I82.strokeStyle=this.defaultColor;}else{I82.strokeStyle=W82;}}if(p82.opacity){I82.globalAlpha=p82.opacity;}if(p82.lineWidth){I82.lineWidth=p82.lineWidth;}v82=null;if(p82.pattern){J00="s";J00+="o";J00+="lid";v82=p82.pattern;if(v82==J00){v82=null;}else if(v82=="dotted"){v82=[I82.lineWidth,I82.lineWidth];}else if(v82=="dashed"){Y2V.Z7D(61);var z2E=Y2V.W7D(10,3,5,16,9);Y2V.Z7D(9);var B2E=Y2V.W7D(19,14);v82=[I82.lineWidth*z2E,I82.lineWidth*B2E];}}if(v82&&I82.setLineDash){I82.setLineDash(v82);I82.lineDashOffset=0;}y7(Q82,Z82,I82);I82.restore();};E7.prototype.drawingClick=function(G62,h62,F62){var c82,K62,k62,L62,f00,Z00;if(!this.activeDrawing){if(!G62){return;}c82=E7.drawingTools[this.currentVectorParameters.vectorType];if(!c82){if(b7.Drawing[this.currentVectorParameters.vectorType]){c82=b7.Drawing[this.currentVectorParameters.vectorType];E7.registerDrawingTool(this.currentVectorParameters.vectorType,c82);}}if(c82){this.activeDrawing=new c82();this.activeDrawing.construct(this,G62);if(!this.charts[G62.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;return;}}}}if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw){if(!E7.drawingLine){this.activeDrawing=null;}return;}K62=this.tickFromPixel(h62,G62.chart);k62=this.panels[this.activeDrawing.panelName];L62=this.adjustIfNecessary(k62,K62,this.valueFromPixelUntransform(F62,k62));if(this.preferences.magnet&&this.magnetizedPrice){L62=this.adjustIfNecessary(k62,K62,this.magnetizedPrice);}if(this.activeDrawing.click(this.chart.tempCanvas.context,K62,L62)){if(this.activeDrawing){f00="stx_crossha";f00+="ir";Z00="s";Z00+="tx_cr";Z00+="osshair";E7.drawingLine=!!0;b7.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);this.activeDrawing=null;this.adjustDrawings();this.draw();this.changeOccurred("vector");b7.swapClassName(this.controls.crossX,Z00,"stx_crosshair_drawing");b7.swapClassName(this.controls.crossY,f00,"stx_crosshair_drawing");}}else{this.changeOccurred("drawing");E7.drawingLine=!![];b7.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair");b7.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair");}return!!{};}return!!0;};E7.prototype.whichPanel=function(b62){var E62;for(var S62 in this.panels){E62=this.panels[S62];if(E62.hidden)continue;if(b62>E62.top&&b62<E62.bottom){return E62;}}return null;};E7.prototype.mouseup=function(o62){var m00,U62,R00,A62,P62;m00="st";m00+="x-drag-";m00+="chart";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!!{};this.cancelLongHold=!0;if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>"250"-0){this.changeOccurred("vector");b7.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.adjustDrawings();this.draw();return;}else{this.repositioningDrawing=![];}}if(this.repositioningBaseline){this.repositioningBaseline=null;this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2;this.draw();return;}U62=this.userPointerDown;this.userPointerDown=!{};if(!this.displayInitialized){return;}this.grabbingScreen=![];if(this.openDialog!==""){if(E7.insideChart){b7.unappendClassName(this.container,"stx-drag-chart");}return;}if(this.grabOverrideClick){this.swipeRelease();b7.unappendClassName(this.container,"stx-drag-chart");this.grabOverrideClick=!!0;return;}if(E7.insideChart){b7.unappendClassName(this.container,m00);}if(E7.resizingPanel){this.releaseHandle({});return;}if(!o62){o62=event;}if(o62.which&&o62.which>=+"2"||o62.button&&o62.button>=2||o62.ctrlKey){if(this.anyHighlighted&&!this.bypassRightClick){this.rightClickHighlighted();if(o62.preventDefault&&this.captureTouchEvents){o62.preventDefault();}o62.stopPropagation();return![];}else{R00="rightCl";R00+="ic";R00+="k";this.dispatch(R00,{stx:this,panel:this.currentPanel,x:P62,y:A62});return!0;}}if(o62.clientX<this.left||o62.clientX>this.right){return;}if(o62.clientY<this.top||o62.clientY>this.bottom){return;}A62=this.backOutY(o62.clientY);P62=this.backOutX(o62.clientX);if(U62&&(!this.longHoldTookEffect||this.activeDrawing)){this.drawingClick(this.currentPanel,P62,A62);}if(!this.activeDrawing&&!this.longHoldTookEffect){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:P62,y:A62});}this.runAppend("mouseup",arguments);};E7.prototype.grabbingHand=function(){var F00;F00="stx-d";F00+="r";F00+="ag-chart";if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(b7.touchDevice){return;}b7.appendClassName(this.container,F00);};E7.prototype.mousedown=function(R62){var B62,k00,y62,w62,n62,N62,J62,X62;if(this.runPrepend("mousedown",arguments)){return;}this.grabOverrideClick=!{};if(this.openDialog!==""){return;}if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(!E7.insideChart){return;}if(this.manageTouchAndMouse&&R62&&R62.preventDefault&&this.captureTouchEvents){R62.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=![];this.hasDragged=![];this.userPointerDown=!![];if(!R62){R62=event;}if(R62.which&&R62.which>=2||R62.button&&R62.button>=2){return;}B62=this.currentPanel.chart;if(R62.clientX>=this.left&&R62.clientX<this.right&&R62.clientY>=this.top&&R62.clientY<=this.bottom){k00="ba";k00+="seline";k00+="_delta_mountain";if(this.repositioningDrawing){return;}for(var O62=0;O62<this.drawingObjects.length;O62++){y62=this.drawingObjects[O62];if(y62.highlighted){if(this.cloneDrawing){w62=E7.drawingTools[y62.name];n62=new w62();n62.reconstruct(this,y62.serialize());this.drawingObjects.push(n62);this.repositioningDrawing=n62;n62.repositioner=y62.repositioner;return;}this.repositioningDrawing=y62;return;}}if((this.layout.chartType=="baseline_delta"||this.layout.chartType==k00)&&B62.baseline.userLevel!==!1){N62=this.valueFromPixelUntransform(this.cy-5,this.currentPanel);J62=this.valueFromPixelUntransform(this.cy+5,this.currentPanel);X62=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10);if(B62.baseline.actualLevel<N62&&B62.baseline.actualLevel>J62&&this.cx>X62){this.repositioningBaseline={lastDraw:Date.now()};return;}}this.drawingClick(this.currentPanel,this.cx,this.cy);if(this.activeDrawing&&this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!0;this.yToleranceBroken=!{};if(!R62){R62=event;}this.grabStartX=R62.clientX;this.grabStartY=R62.clientY;this.grabStartScrollX=B62.scroll;this.grabStartScrollY=B62.panel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;setTimeout(function(r62){return function(){r62.grabbingHand();};}(this),100);this.swipeStart(B62);if(this.longHoldTime){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};E7.prototype.startLongHoldTimer=function(){var Y62;Y62=this;this.cancelLongHold=!"1";if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}this.longHoldTimeout=setTimeout(function(){if(Y62.cancelLongHold){return;}Y62.dispatch("longhold",{stx:Y62,panel:Y62.currentPanel,x:Y62.cx,y:Y62.cy});Y62.longHoldTookEffect=!![];},this.longHoldTime);};E7.prototype.changeVectorType=function(m62){this.currentVectorParameters.vectorType=m62;if(E7.drawingLine){this.undo();}this.setCrosshairColors();if(E7.insideChart){this.doDisplayCrosshairs();}};E7.prototype.rightClickOverlay=function(a62,e62){var L00,R20,F20,k20,x62;L00="right";L00+="Cli";L00+="ckOverlay";R20=70533873;F20=-+"226952415";k20=2;for(var A20=1;Y2V.Y1N(A20.toString(),A20.toString().length,18027)!==R20;A20++){if(this.runPrepend("",arguments)){return;}k20+=+"2";}if(Y2V.l1N(k20.toString(),k20.toString().length,+"83041")!==F20){if(this.runPrepend("",arguments)){return;}}if(this.runPrepend("rightClickOverlay",arguments)){return;}x62=this.overlays[a62];if(x62.editFunction){x62.editFunction(e62);}else{this.removeOverlay(a62);}this.runAppend(L00,arguments);};E7.prototype.removeOverlay=function(t62){var A00,l62,d62,D62;A00="remo";A00+="veOv";A00+="erl";A00+="ay";if(this.runPrepend("removeOverlay",arguments)){return;}for(var i62 in this.overlays){d62=this.overlays[i62];if(d62.inputs.Field&&d62.inputs.Field.indexOf(t62)!=-1){this.removeOverlay(d62.name);}else if(d62.name==t62){l62=d62;}}D62=this.layout.studies[t62];b7.deleteRHS(b7.Studies.studyPanelMap,D62);if(l62){this.cleanupRemovedStudy(l62);}delete this.overlays[t62];this.displaySticky();this.createDataSet();this.changeOccurred("layout");this.runAppend(A00,arguments);};E7.prototype.addSeries=function(V62,M62,z62){var t50,u62,g62,s62,t70,W70,a70,j62,f62,T62,S50;function I62(G12,c62){var C62,w50,a50;if(c62.parameters.color){C62=G12.getSeriesRenderer("_generic_series");if(!C62){w50="_gener";w50+="i";w50+="c_seri";w50+="es";a50="l";a50+="e";a50+="ga";a50+="cy";C62=G12.setSeriesRenderer(new b7.Renderer.Lines({params:{panel:c62.parameters.panel,type:a50,name:w50,overChart:!!1}}));}C62.attachSeries(V62,c62.parameters).ready();}}t50="mounta";t50+="i";t50+="n";if(this.runPrepend("addSeries",arguments)){return;}if(!M62){M62={};}if(!M62.chartName){M62.chartName=this.chart.name;}if(!M62.symbolObject){M62.symbolObject={symbol:V62};}u62={parameters:b7.clone(M62),yValueCache:[],display:V62};if("display"in u62.parameters){u62.display=u62.parameters.display;}if(u62.parameters.isComparison){u62.parameters.shareYAxis=!"";}if(!u62.parameters.chartType&&u62.parameters.color){u62.parameters.chartType="line";}if(u62.parameters.chartType&&u62.parameters.chartType!=t50){u62.parameters.chartType="line";}if(!u62.parameters.panel){u62.parameters.panel=this.chart.panel.name;}g62=this.charts[M62.chartName];s62=this;if(g62){g62.series[V62]=u62;}if(M62.isComparison){t70=87785424;W70=1070605587;a70=2;for(var K70=1;Y2V.l1N(K70.toString(),K70.toString().length,+"309")!==t70;K70++){s62.setComparison(!"1",g62);a70+=2;}if(Y2V.Y1N(a70.toString(),a70.toString().length,55403)!==W70){s62.setComparison(![],g62);}s62.setComparison(!!1,g62);}function H62(Q62){var Z62,q62,W62,p62,W50;Z62=0;q62=0;while(M62.data&&Z62<Q62.masterData.length&&q62<M62.data.length){W62=M62.data[q62];p62=Q62.masterData[Z62];if(!W62.DT||typeof W62.DT=="undefined"){W62.DT=b7.strToDateTime(W62.Date);}if(W62.DT.getTime()==p62.DT.getTime()){W50="undefi";W50+="n";W50+="ed";if(typeof W62.Value!="undefined"){p62[V62]=W62.Value;}else if(Q62.layout.adj&&typeof W62.Adj_Close!=W50){p62[V62]=W62.Adj_Close;}else{p62[V62]=W62.Close;}q62++;Z62++;continue;}if(W62.DT<p62.DT){if(M62.forceData){Q62.masterData.splice(Z62,0,{DT:W62.DT});continue;}q62++;}else{Z62++;}}if(M62.forceData&&Z62>=Q62.masterData.length){while(M62.data&&q62<M62.data.length){W62=M62.data[q62];if(!W62.DT||typeof W62.DT=="undefined"){W62.DT=b7.strToDateTime(W62.Date);}p62={DT:W62.DT};if(typeof W62.Value!="undefined"){p62[V62]=W62.Value;}else if(Q62.layout.adj&&typeof W62.Adj_Close!="undefined"){p62[V62]=W62.Adj_Close;}else{p62[V62]=W62.Close;}Q62.masterData.push(p62);q62++;}}}j62=!{};if(M62.data&&!M62.data.useDefaultQuoteFeed){if(this.masterData){H62(this);}}else{if(this.quoteDriver){f62=this.quoteDriver;T62=f62.makeParams(V62,M62.symbolObject,this.chart);T62.startDate=this.chart.masterData[0].DT;T62.endDate=this.chart.masterData[this.chart.masterData.length-1].DT;if(M62.symbolObject){T62.symbolObject=M62.symbolObject;}function v62(K12){var K50,m8N,R8N,F8N;K50="symbolCh";K50+="ang";K50+="e";if(!K12.error&&K12.error!==0){M62.data=K12.quotes;m8N=-1262052151;R8N=2102811567;F8N=2;for(var L8N=1;Y2V.Y1N(L8N.toString(),L8N.toString().length,27511)!==m8N;L8N++){H62(s62);I62(s62,u62);F8N+=2;}if(Y2V.Y1N(F8N.toString(),F8N.toString().length,56110)!==R8N){H62(s62);I62(s62,u62);}}if(!s62.currentlyImporting){s62.dispatch(K50,{stx:s62,symbol:T62.symbol,symbolObject:T62.symbolObject});}if(z62){z62(K12.error,u62);}s62.runAppend("addSeries",arguments);}j62=!![];if(T62.stx.isEquationChart(T62.symbol)){b7.fetchEquationChart(T62,v62);}else{f62.quoteFeed.fetch(T62,v62);}}else{u62.addSeriesData=H62;}}if(!j62){S50="addSe";S50+="rie";S50+="s";I62(s62,u62);if(z62){z62(null,u62);}this.runAppend(S50,arguments);}return u62;};E7.prototype.isEquationChart=function(k12){if(!this.allowEquations||!b7.computeEquationChart){return!!"";}if(k12&&k12[0]=="="){return!!"1";}return!{};};E7.prototype.deleteSeries=function(h12,L12){if(this.runPrepend("deleteSeries",arguments)){return;}if(!L12){L12=this.chart;}delete L12.series[h12];if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};E7.prototype.removeSeries=function(E12,F12){var P12,b12,o12,A12,T20,X20,e20,T50,P50,X50;if(this.runPrepend("removeSeries",arguments)){return;}if(!F12){F12=this.chart;}for(var U12 in F12.seriesRenderers){b12=F12.seriesRenderers[U12];for(var S12=b12.seriesParams.length-1;S12>=0;S12--){o12=b12.seriesParams[S12];if(!o12.permanent&&o12.field===E12){P12=o12.symbolObject;b12.removeSeries(E12);}}}this.deleteSeries(E12,F12);A12=!!0;for(var R12 in F12.series){if(F12.series[R12].parameters.isComparison){A12=!!{};}}if(!A12){this.setComparison(!"1",F12);}this.createDataSet();this.draw();T20=+"1388174023";X20=84106473;e20=2;for(var o20=1;Y2V.l1N(o20.toString(),o20.toString().length,53645)!==T20;o20++){T50="remov";T50+="eSe";T50+="rie";T50+="s";P50="r";P50+="e";P50+="mo";P50+="ve-series";this.dispatch(P50,{stx:this,symbol:E12,symbolObject:P12,action:"remove-series"});this.runAppend(T50,arguments);e20+=2;}if(Y2V.l1N(e20.toString(),e20.toString().length,+"68454")!==X20){X50="r";X50+="emove";X50+="-se";X50+="ries";this.dispatch("symbolChange",{stx:this,symbol:E12,symbolObject:P12,action:X50});this.runAppend("removeSeries",arguments);}};E7.prototype.rendererAction=function(y12,n12){var G50,e50,B12;G50="r";G50+="enderer";G50+="A";G50+="ction";e50="r";e50+="endererAction";if(this.runPrepend(e50,arguments)){return;}for(var O12 in y12.seriesRenderers){B12=y12.seriesRenderers[O12];if(B12.params.overChart&&n12=="underlay")continue;if(!B12.params.overChart&&n12=="overlay")continue;if(!this.panels[B12.params.panel])continue;if(this.panels[B12.params.panel].chart!==y12)continue;if(n12=="calculate"){B12.performCalculations();}else{B12.draw();if(B12.cb){B12.cb(B12.colors);}}}this.runAppend(G50,arguments);};E7.prototype.drawSeries=function(l12,h22,G22){var s50,s12,S22,d12,u50,y50,o50,w12,a12,i12,Z12,o22,K22,H12,Y12,A22,q12,p12,E22,f12,T12,v12,N12,J12,C12,P22,x12,c12,t12,g12,V12,z12,I12,X12,r12,b22,L22,M12,F22,d50,D12,U50,h50,M50,I50,y22,B22,R22,U22,Q12,e12,E50,O50,q50,c50,H50,p50,b50,D50,C50,k22;s50="drawSeri";s50+="es";if(this.runPrepend("drawSeries",arguments)){return;}s12=l12.dataSegment;S22={};d12=null;if(!h22){h22=l12.series;}for(var u12 in h22){u50="str";u50+="oke";y50="s";y50+="tr";y50+="ok";y50+="e";o50="st";o50+="ep";d12=h22[u12];w12=d12.parameters;if(!w12.chartType)continue;a12=l12.panel;if(w12.panel){a12=this.panels[w12.panel];}if(!a12)continue;i12=G22?G22:a12.yAxis;Z12=[w12.minimum,w12.maximum];if(!w12.minimum&&w12.minimum!==0||!w12.maximum&&w12.maximum!=="0"*1){o22=b7.minMax(s12,u12);if(!w12.minimum&&w12.minimum!==0){Z12[0]=o22[0];}if(!w12.maximum&&w12.maximum!==0){Z12[1]=o22[1];}}K22=Z12[+"0"];H12=i12.top;Y12=i12.bottom;Y2V.h7D(9);A22=Y2V.j7D(Y12,H12);q12=w12.marginTop;p12=w12.marginBottom;if(q12){H12=q12>1?H12+q12:H12+A22*q12;}if(p12){Y12=p12>1?Y12-p12:Y12-A22*p12;}Y2V.Z7D(39);var Z2E=Y2V.W7D(6,9,15);E22=(Y12-H12)/(Z12[Z2E]-K22);f12=!1;T12=null;v12=null;N12=null;J12=null;C12=null;P22=null;x12=this.layout.candleWidth;c12=this.chart.context;t12=w12.type=="step"||w12.subtype==o50;g12=w12.color;if(!g12){g12=this.defaultColor;}V12=w12.width;if(!V12||isNaN(V12)||V12<1){V12=+"1";}if(d12.highlight||d12.parameters.highlight){V12*=2;}this.startClip(a12.name);seriesPlotter=new b7.Plotter();seriesPlotter.newSeries("line","stroke",g12,+"1",V12);if(w12.gaps&&w12.gaps.color){seriesPlotter.newSeries("gap",y50,w12.gaps.color,1,V12);}else{Y2V.Z7D(1);seriesPlotter.newSeries("gap",u50,g12,Y2V.W7D(0,"1"),V12);}d12.yValueCache=new Array(s12.length);z12=d12.yValueCache;I12=null;X12=null;r12=[];b22=d12.parameters.shareYAxis&&!G22;L22=d12.parameters.shareYAxis||G22;Y2V.h7D(9);var f2E=Y2V.W7D(20,19);Y2V.h7D(9);var m2E=Y2V.W7D(11,10);M12=a12.left-(t12?f2E:0.5)*x12+this.micropixels-m2E;F22=M12;for(var m12=0;m12<s12.length;m12++){d50="li";d50+="ne";Y2V.Z7D(3);M12+=Y2V.j7D(x12,2);if(t12){Y2V.h7D(3);M12+=Y2V.j7D(x12,2);}x12=this.layout.candleWidth;if(!t12){Y2V.Z7D(3);M12+=Y2V.j7D(x12,2);}if(N12!==null&&J12!==null){if(!X12||w12.gaps){r12.push([N12,J12]);}}D12=s12[m12];if(!D12)continue;if(D12.candleWidth){if(!t12){M12+=(D12.candleWidth-x12)/2;}x12=D12.candleWidth;}if(D12.transform&&b22){D12=D12.transform;}v12=D12[u12];if(!v12&&v12!==0){if(t12||w12.gaps){z12[m12]=J12;}if(X12===!1){U50="g";U50+="a";U50+="p";if(t12){h50="l";h50+="i";h50+="n";h50+="e";N12+=x12;seriesPlotter.lineTo(h50,N12,J12);}seriesPlotter.moveTo(U50,N12,J12);}X12=!!{};if(N12&&!w12.gaps){r12.push([N12,Y12]);}continue;}if(!t12&&T12&&T12!=m12-1){C12=N12;P22=J12;}else{C12=null;}N12=M12;if(N12<=a12.right){I12=D12;}if(this.extendLastTick&&m12==s12.length-1){Y2V.Z7D(3);N12+=Y2V.W7D(x12,2);}if(t12&&f12){if(X12&&w12.gaps&&w12.gaps.pattern){seriesPlotter.dashedLineTo("gap",N12,J12,w12.gaps.pattern);}else if(X12&&!w12.gaps){r12.push([N12,Y12]);seriesPlotter.moveTo("gap",N12,J12);}else if(!X12&&w12.pattern){seriesPlotter.dashedLineTo("line",N12,J12,w12.pattern);}else{M50="l";M50+="i";M50+="ne";I50="g";I50+="a";I50+="p";seriesPlotter.lineTo(X12?I50:M50,N12,J12);}r12.push([N12,J12]);}if(L22){J12=this.pixelFromPrice(v12,a12,i12);}else{Y2V.Z7D(62);J12=Y2V.W7D(E22,K22,v12,Y12);}if(C12!==null){y22={x0:C12,x1:N12,y0:P22,y1:J12};for(;T12!=m12;T12++){Y2V.h7D(63);var R2E=Y2V.W7D(317,2,21,15);B22=a12.left+Math.floor(M12+(T12-m12+0.5)*x12)+this.micropixels-R2E;R22=b7.yIntersection(y22,B22);z12[T12]=R22;}}z12[m12]=J12;if(m12&&r12.length&&f12&&!z12[m12-1]&&z12[m12-1]!==0){for(var W12=m12-1;W12>=0;W12--){if(z12[W12])break;Y2V.h7D(16);var F2E=Y2V.W7D(8,12,1,20);z12[W12]=r12[r12.length-F2E][1];}}if(!f12){f12=!"";U22=l12.dataSet.length-l12.scroll;if(U22<=0){seriesPlotter.moveTo(X12?"gap":"line",N12,J12);}else{Q12=l12.dataSet[U22];if(Q12.transform&&b22){Q12=Q12.transform;}e12=Q12[u12];if(L22){e12=this.pixelFromPrice(e12,a12,i12);}else{Y2V.h7D(62);e12=Y2V.j7D(E22,K22,e12,Y12);}e12=Math.min(Math.max(e12,H12),Y12);if(isNaN(e12)){seriesPlotter.moveTo(X12?"gap":"line",N12,J12);}else{E50="l";E50+="i";E50+="n";E50+="e";O50="g";O50+="a";O50+="p";seriesPlotter.moveTo(X12?O50:E50,F22,e12);if(t12){if(X12){if(w12.gaps){seriesPlotter.lineTo("gap",N12,e12);}else{seriesPlotter.moveTo("gap",N12,e12);}}else{seriesPlotter.lineTo("line",N12,e12);}}if(!X12||w12.gaps){if(t12){r12.unshift([N12,e12]);}r12.unshift([F22,e12]);}if(X12&&w12.gaps&&w12.gaps.pattern){seriesPlotter.dashedLineTo("gap",N12,J12,w12.gaps.pattern);}else if(X12&&!w12.gaps){r12.unshift([N12,Y12]);r12.unshift([F22,Y12]);seriesPlotter.moveTo("gap",N12,J12);}else if(!X12&&w12.pattern){seriesPlotter.dashedLineTo("line",N12,J12,w12.pattern);}else{seriesPlotter.lineTo(X12?"gap":"line",N12,J12);}}}}else{if(X12&&w12.gaps&&w12.gaps.pattern){q50="g";q50+="ap";seriesPlotter.dashedLineTo(q50,N12,J12,w12.gaps.pattern);}else if(X12&&!w12.gaps){c50="g";c50+="a";c50+="p";r12.push([N12,Y12]);seriesPlotter.moveTo(c50,N12,J12);}else if(!X12&&w12.pattern){H50="l";H50+="ine";seriesPlotter.dashedLineTo(H50,N12,J12,w12.pattern);if(t12&&m12==s12.length-1){Y2V.Z7D(0);seriesPlotter.dashedLineTo("line",Y2V.j7D(x12,N12),J12,w12.pattern);}}else{seriesPlotter.lineTo(X12?"gap":"line",N12,J12);if(t12&&m12==s12.length-1&&!X12){Y2V.h7D(0);seriesPlotter.lineTo("line",Y2V.W7D(x12,N12),J12);}}}T12=m12;if(X12){seriesPlotter.moveTo(d50,N12,J12);}X12=!!0;}if(X12){Y2V.Z7D(5);var k2E=Y2V.W7D(11,1,11);N12=a12.left+Math.floor(M12+x12+this.micropixels)-k2E;if(this.extendLastTick){Y2V.h7D(3);N12+=Y2V.j7D(x12,2);}if(w12.gaps&&w12.gaps.pattern){if(f12){seriesPlotter.dashedLineTo("gap",N12,J12,w12.gaps.pattern);}}else if(w12.gaps){seriesPlotter.lineTo("gap",N12,J12);}}if(d12.parameters.chartType=="mountain"&&r12.length){p50="f";p50+="i";p50+="l";p50+="l";r12.push([N12,X12&&!w12.gaps?Y12:J12]);if(!w12.fillStyle){w12.fillStyle=g12;if(!w12.fillOpacity){w12.fillOpacity=0.3;}}seriesPlotter.newSeries("mountain",p50,w12.fillStyle,w12.fillOpacity);for(var j12=0;j12<r12.length;j12++){b50="mo";b50+="u";b50+="nt";b50+="ain";D50="mo";D50+="ve";D50+="T";D50+="o";C50="li";C50+="neTo";seriesPlotter[j12?C50:D50](b50,r12[j12][0],Math.min(Y12,r12[j12][1]));}seriesPlotter.lineTo("mountain",N12,Y12);seriesPlotter.lineTo("mountain",r12[0][+"0"],Y12);seriesPlotter.draw(c12,"mountain");}seriesPlotter.draw(c12,"gap");seriesPlotter.draw(c12,"line");this.endClip();if(L22&&I12){if(i12.priceFormatter){txt=i12.priceFormatter(this,a12,I12[u12],i12);}else{txt=this.formatYAxisPrice(I12[u12],a12,null,i12);}this.yAxisLabels.push({src:"series","args":[a12,txt,this.pixelFromPrice(I12[u12],a12,i12),g12,null,null,i12]});}k22=d12.parameters.display;if(!k22){k22=d12.display;}S22[u12]={color:g12,display:k22};}if(l12.legend&&d12&&d12.useChartLegend){if(l12.legendRenderer){l12.legendRenderer(this,{"chart":l12,"legendColorMap":S22,"coordinates":{x:l12.legend.x,y:l12.legend.y+l12.panel.yAxis.top}});}}this.runAppend(s50,arguments);};E7.prototype.isDailyInterval=function(n22){var j50,g50;j50="wee";j50+="k";g50="d";g50+="a";g50+="y";if(n22==g50){return!![];}if(n22==j50){return!0;}if(n22=="month"){return!![];}return![];};E7.prototype.setPeriodicityV2=function(Y22,r22,w22,J22){var V50,x50,v50,G70,o70,y70,u22,N50,d6N,p6N,C6N,i22,t22,m22,e22,O22,l22,X22,x22,d22,D22,M22;V50="se";V50+="tPeriodi";V50+="cityV2";x50="lay";x50+="ou";x50+="t";v50="yea";v50+="r";if(this.runPrepend("setPeriodicityV2",arguments)){return;}if(typeof w22==="function"){G70=-478649900;o70=1551772726;y70=2;for(var h70=1;Y2V.Y1N(h70.toString(),h70.toString().length,25358)!==G70;h70++){J22=w22;y70+=2;}if(Y2V.l1N(y70.toString(),y70.toString().length,51614)!==o70){J22=w22;}J22=w22;w22=null;}u22=![];if(!r22){return;}if(!Y22){return;}delete this.layout.setSpan;if(r22==v50){N50="m";N50+="o";N50+="nt";N50+="h";r22=N50;if(!Y22){Y22=1;}d6N=1403574369;p6N=-458969203;C6N=2;for(var b6N=1;Y2V.Y1N(b6N.toString(),b6N.toString().length,59824)!==d6N;b6N++){Y2V.Z7D(9);Y22=Y2V.W7D(Y22,6);C6N+=2;}if(Y2V.l1N(C6N.toString(),C6N.toString().length,"72438"*1)!==p6N){Y2V.h7D(10);Y22=Y2V.W7D(7,Y22);}Y2V.Z7D(10);Y22=Y2V.j7D(12,Y22);}i22=this.isDailyInterval(r22);t22=this.isDailyInterval(this.layout.interval);if(i22){w22=null;}else if(r22=="tick"){w22=null;}else if(!w22){w22="minute";}m22=!{};if(this.chart.symbol){if(this.dontRoll||!t22){if(this.layout.interval!=r22){m22=!"";}}else{if(i22!=t22){m22=!!"1";}}if(w22!=this.layout.timeUnit){m22=!0;}}this.layout.periodicity=Y22;this.layout.interval=r22;this.layout.timeUnit=w22;if(m22){this.changeOccurred("layout");if(this.quoteDriver){for(var N22 in this.charts){if(this.charts[N22].symbol){if(this.displayInitialized){this.quoteDriver.newChart({symbol:this.charts[N22].symbol,symbolObject:this.charts[N22].symbolObject,chart:this.charts[N22]},J22);}else{this.newChart(this.charts[N22].symbol,null,this.charts[N22],J22);}}}return;}else if(this.dataCallback){this.dataCallback();if(J22){J22(null);}return;}else{console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");return;}}for(e22 in this.charts){O22=this.charts[e22];X22=Math.round(O22.maxTicks/2);this.setCandleWidth(this.layout.candleWidth,O22);x22=!!{};d22=![];if(O22.scroll<=O22.maxTicks){x22=!1;}else if(O22.dataSegment&&!O22.dataSegment[X22]){x22=!"1";d22=O22.scroll-O22.dataSet.length;}if(x22&&O22.dataSegment&&O22.dataSegment.length>+"0"){if(O22.maxTicks<(Math.round(this.chart.width/this.layout.candleWidth-+"0.499")-1)/("2"*1)){X22=O22.dataSegment.length-+"1";}if(X22>=O22.dataSegment.length){l22=O22.dataSegment[O22.dataSegment.length-1].DT;Y2V.h7D(4);var L2E=Y2V.j7D(15,13,195);X22=O22.dataSegment.length-L2E;}else{l22=O22.dataSegment[X22].DT;}}this.createDataSet();if(x22){if(O22.dataSegment&&O22.dataSegment.length>0){for(var a22=O22.dataSet.length-("1"-0);a22>=0;a22--){D22=O22.dataSet[a22].DT;if(D22.getTime()<l22.getTime()){O22.scroll=O22.dataSet.length-a22+X22;break;}}}}else if(!d22){M22=Math.round(this.preferences.whitespace/this.layout.candleWidth);O22.scroll=O22.maxTicks-M22;}else{O22.scroll=O22.dataSet.length+d22;}}if(this.displayInitialized){this.draw();}this.changeOccurred(x50);if(this.quoteDriver){for(e22 in this.charts){O22=this.charts[e22];if(O22.symbol&&O22.moreAvailable){this.quoteDriver.checkLoadMore(O22);}}}if(J22){J22(null);}this.runAppend(V50,arguments);};E7.prototype.drawVectors=function(){var s22,T22,V22,z22,g22;if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!![];if(!this.chart.hideDrawings){s22={};for(V22=0;V22<this.drawingObjects.length;V22++){z22=this.drawingObjects[V22];T22=z22.panelName;if(!this.panels[z22.panelName])continue;if(!s22[T22]){s22[T22]=[];}s22[T22].push(z22);}for(T22 in s22){this.startClip(T22);g22=s22[T22];for(V22=0;V22<g22.length;V22++){g22[V22].render(this.chart.context);}this.endClip();}}this.runAppend("drawVectors",arguments);};E7.prototype.consolidatedQuote=function(H22,v22,W22,p22,k52,q22,c22){var n50,Z22,I22,j22,f22,C22;n50="w";n50+="eek";if(v22<0){return null;}Z22=[H22,v22,W22,p22,q22,c22];function K52(B52,n52,O52,w52,y52){var U52,P52,R52;Y2V.Z7D(10);U52=Y2V.W7D(O52,w52);P52=new Date(H22[B52].DT);if(y52==="millisecond"){P52.setMilliseconds(P52.getMilliseconds()+U52);}else if(y52==="second"){P52.setSeconds(P52.getSeconds()+U52);}else{P52.setMinutes(P52.getMinutes()+U52);}R52=H22[n52].DT;if(c22){if(H22[B52].DT.getMinutes()%U52){if(R52.getMinutes()%U52===0){return!![];}}}if(R52.getTime()>=P52.getTime()){return!!1;}return!{};}if(this.runPrepend("consolidatedQuote",Z22)){return null;}if(!q22&&this.dontRoll){q22=!!1;}I22=H22[v22];function G52(o52,A52){var b52,S52;b52=H22[o52-+"1"].DT;S52=H22[o52].DT;if(A52=="week"){if(S52.getDay()<b52.getDay()){return!0;}}else if(A52=="month"){if(S52.getMonth()!=b52.getMonth()){return!"";}}else{if(S52.getDay()!=b52.getDay()){return!!1;}}return!1;}j22=v22;if((p22==n50||p22=="month")&&!q22){for(f22=1;f22<=W22;f22++){while(j22+1<H22.length&&!G52(j22+("1"|0),p22)){j22++;Q22(this,j22);}if(f22!=W22){j22++;if(j22<H22.length){Q22(this,j22);}}}}else if(!this.isDailyInterval(p22)&&p22!="tick"&&W22>1){for(f22=1;f22<W22;f22++){Y2V.h7D(0);j22=Y2V.j7D(f22,v22);if(j22<H22.length&&K52(v22,j22,W22,p22,k52)){j22--;break;}if(j22>=0&&j22<H22.length){Q22(this,j22);}}}else{for(f22=+"1";f22<W22;f22++){Y2V.Z7D(0);j22=Y2V.W7D(f22,v22);if(j22>=0&&j22<H22.length){Q22(this,j22);}}}for(f22 in this.plugins){C22=this.plugins[f22];if(C22.consolidate){C22.consolidate(H22,v22,j22,I22);}}this.runAppend("consolidatedQuote",Z22);function Q22(E52,L52){var h52,P8N,T8N,X8N;h52=1;if(E52.layout.adj&&H22[L52].Adj_Close){P8N=1404198034;T8N=-1377829520;Y2V.Z7D(1);X8N=Y2V.W7D(0,"2");for(var G8N="1"-0;Y2V.l1N(G8N.toString(),G8N.toString().length,58322)!==P8N;G8N++){h52=H22[L52].Adj_Close%H22[L52].Close;X8N+=2;}if(Y2V.Y1N(X8N.toString(),X8N.toString().length,84662)!==T8N){h52=H22[L52].Adj_Close/H22[L52].Close;}}if("High"in H22[L52])if(H22[L52].High*h52>I22.High){I22.High=H22[L52].High*h52;}if("Low"in H22[L52])if(H22[L52].Low*h52<I22.Low){I22.Low=H22[L52].Low*h52;}I22.Volume+=H22[L52].Volume;if("Close"in H22[L52]&&H22[L52].Close!==null){I22.Close=H22[L52].Close*h52;}I22.ratio=h52;for(var F52 in H22[L52]){if(!I22[F52]){I22[F52]=H22[L52][F52];}}}return{"quote":I22,"position":j22+1};};E7.NONE=0;E7.CLOSEUP=1;E7.CLOSEDOWN=2;E7.CLOSEEVEN=4;E7.CANDLEUP=8;E7.CANDLEDOWN=16;E7.CANDLEEVEN=32;E7.prototype.displayChart=function(X52){var k50,Z50,J50,l50,r50,Q50,s52,Y52,r52,N52,Y50,i50,B50,z50,M52,u52,l52,i52,f50,y20,u20,h20,v52,m50,F50,R50,V52,T52,g52,L50,f52,j52,H52,t90,A50,d52,e52,W90,J52,P90,S90,K90,a90,x52,w90,a52,t52,z52,h30,U30,I30,T90,o90,G90,e90,X90,y90;k50="c";k50+="a";k50+="n";k50+="dle";Z50="w";Z50+="a";Z50+="v";Z50+="e";J50="lin";J50+="e";l50="p";l50+="an";l50+="d";l50+="f";r50="no";r50+="ne";Q50="d";Q50+="isplayC";Q50+="hart";s52=this.layout.candleWidth-X52.tmpWidth<2&&X52.tmpWidth<=3;if(this.runPrepend(Q50,arguments)){return;}this.chart.baseLegendColors=[];Y52=this.layout.chartType;r52=null;if(X52.customChart){if(X52.customChart.chartType){Y52=X52.customChart.chartType;}if(X52.customChart.colorFunction){r52=X52.customChart.colorFunction;}}this.controls.baselineHandle.style.display=r50;N52=X52.panel;if(this.layout.aggregationType=="kagi"){Y50="s";Y50+="tx_kag";Y50+="i_up";this.drawKagiSquareWave(N52,"stx_kagi_up","stx_kagi_down");this.chart.baseLegendColors.push(this.getCanvasColor(Y50));this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_down"));}else if(this.layout.aggregationType==l50){i50="stx_";i50+="pandf_d";i50+="own";B50="stx";B50+="_pandf_down";z50="s";z50+="tx_pandf";z50+="_up";this.drawPointFigureChart(N52,z50,"X");this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_up"));this.drawPointFigureChart(N52,B50,(8814,7260)!=(3250,3280)?"O":4360===9760?+"9.70e+1":8560>"262.9"-0?("J",2.39e+3):976.79);this.chart.baseLegendColors.push(this.getCanvasColor(i50));}else if(Y52==J50){this.drawLineChart(N52,"stx_line_chart");}else if(Y52=="mountain"){this.startClip(N52.name);this.chart.baseLegendColors=null;this.drawMountainChart(N52);this.endClip();}else if(Y52=="colored_mountain"){this.startClip(N52.name);M52=this.getCanvasColor("stx_line_up");u52=this.getCanvasColor("stx_line_down");l52=this.getCanvasColor("stx_line_chart");if(!r52){r52=function(p52,W52,q52){if(W52.Close>W52.iqPrevClose){return M52;}else if(W52.Close<W52.iqPrevClose){return u52;}else{return l52;}return null;};}i52=this.drawMountainChart(N52,"stx_colored_mountain_chart",r52);for(var D52 in i52){this.chart.baseLegendColors.push(D52);}this.endClip();}else if(Y52==Z50){this.drawWaveChart(N52);}else if(Y52=="bar"){f50="s";f50+="tx_bar_";f50+="c";f50+="hart";this.startClip(N52.name);y20=2032807045;u20=-807101809;h20=2;for(var I20=1;Y2V.l1N(I20.toString(),I20.toString().length,20761)!==y20;I20++){this.drawBarChartHighPerformance(N52,"");this.endClip();h20+=2;}if(Y2V.l1N(h20.toString(),h20.toString().length,95413)!==u20){this.drawBarChartHighPerformance(N52,"");this.endClip();}this.drawBarChartHighPerformance(N52,f50);this.endClip();}else if(Y52=="colored_line"){this.startClip(N52.name);M52=this.getCanvasColor("stx_line_up");u52=this.getCanvasColor("stx_line_down");l52=this.getCanvasColor("stx_line_chart");if(!r52){r52=function(Z52,Q52,C52){if(Q52.Close>Q52.iqPrevClose){return M52;}else if(Q52.Close<Q52.iqPrevClose){return u52;}else{return l52;}return null;};}i52=this.drawLineChart(N52,"stx_line_chart",r52);for(var D52 in i52){this.chart.baseLegendColors.push(D52);}this.endClip();}else if(Y52=="colored_bar"){this.startClip(N52.name);if(r52){v52=this.drawBarChart(N52,"stx_bar_chart",r52);for(var I52 in v52){this.chart.baseLegendColors.push(I52);}}else{m50="stx_b";m50+="ar_";m50+="up";this.drawBarChartHighPerformance(N52,"stx_bar_up",E7.CLOSEUP);this.drawBarChartHighPerformance(N52,"stx_bar_down",E7.CLOSEDOWN);this.drawBarChartHighPerformance(N52,"stx_bar_even",E7.CLOSEEVEN);this.chart.baseLegendColors.push(this.getCanvasColor(m50));this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_down"));}this.endClip();}else if(Y52=="hollow_candle"||Y52=="volume_candle"){this.startClip(N52.name);if(r52){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(N52,r52);}this.drawCandles(N52,r52,!{});this.drawCandles(N52,r52,!!"1");}else{F50="trans";F50+="p";F50+="aren";F50+="t";if(!this.noWicksOnCandles[this.layout.aggregationType]){R50="st";R50+="x_hollow";R50+="_candle_up";this.drawShadowsHighPerformance(N52,R50,E7.CLOSEUP);this.drawShadowsHighPerformance(N52,"stx_hollow_candle_down",E7.CLOSEDOWN);this.drawShadowsHighPerformance(N52,"stx_hollow_candle_even",E7.CLOSEEVEN);}V52=this.getCanvasColor("stx_hollow_candle_up");T52=this.getCanvasColor("stx_hollow_candle_down");g52=this.getCanvasColor("stx_hollow_candle_even");this.drawCandlesHighPerformance(N52,V52,F50,E7.CLOSEUP|E7.CANDLEDOWN);this.drawCandlesHighPerformance(N52,T52,"transparent",E7.CLOSEDOWN|E7.CANDLEDOWN);this.drawCandlesHighPerformance(N52,g52,"transparent",E7.CLOSEEVEN|E7.CANDLEDOWN);this.drawCandlesHighPerformance(N52,this.containerColor,V52,E7.CLOSEUP|E7.CANDLEUP);this.drawCandlesHighPerformance(N52,this.containerColor,T52,E7.CLOSEDOWN|E7.CANDLEUP);this.drawCandlesHighPerformance(N52,this.containerColor,g52,E7.CLOSEEVEN|E7.CANDLEUP);this.chart.baseLegendColors.push(V52);this.chart.baseLegendColors.push(T52);}this.endClip();}else if(Y52==k50){L50="s";L50+="tx_";L50+="candle_shadow_up";this.startClip(N52.name);f52=this.getCanvasColor(L50);j52=this.getCanvasColor("stx_candle_shadow_down");Y2V.Z7D(64);H52=Y2V.j7D(f52,j52);if(r52){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(N52,r52);}this.drawCandles(N52,r52,![]);if(!s52){this.drawCandles(N52,r52,!!1);}}else{t90="b";t90+="or";t90+="der-";t90+="left-color";if(!this.noWicksOnCandles[this.layout.aggregationType]){if(H52){A50="stx_cand";A50+="le_shad";A50+="o";A50+="w_up";this.drawShadowsHighPerformance(N52,A50,E7.CANDLEUP);this.drawShadowsHighPerformance(N52,"stx_candle_shadow_down",E7.CANDLEDOWN);this.drawShadowsHighPerformance(N52,"stx_candle_shadow",E7.CANDLEEVEN);}else{this.drawShadowsHighPerformance(N52,"stx_candle_shadow");}}d52=this.canvasStyle("stx_candle_up");e52=d52["border-left-color"];if(!e52){e52=d52.borderLeftColor;}if(s52){e52=null;}this.drawCandlesHighPerformance(N52,this.getCanvasColor("stx_candle_up"),e52,E7.CANDLEUP);this.chart.baseLegendColors.push(d52.color);d52=this.canvasStyle("stx_candle_down");e52=d52[t90];if(!e52){e52=d52.borderLeftColor;}if(s52){e52=null;}this.drawCandlesHighPerformance(N52,this.getCanvasColor("stx_candle_down"),e52,E7.CANDLEDOWN);this.chart.baseLegendColors.push(d52.color);}this.endClip();}else if(Y52=="baseline_delta"){W90="stx_ba";W90+="seline_tra";W90+="ce";this.startClip(N52.name);this.setStyle("stx_baseline_trace","opacity",0);this.drawLineChart(N52,W90);J52=X52.baseline.actualLevel;if(J52!==null){P90="2";P90+=".";P90+="1";S90="dot";S90+="t";S90+="ed";K90="s";K90+="olid";a90="stx";a90+="_basel";a90+="ine_down";J52=this.pixelFromPriceTransform(J52,X52.panel);x52={"over":"stx_baseline_up","under":a90};for(var m52 in x52){w90="ch";w90+="art";a52={panelName:w90,band:"Close",threshold:X52.baseline.actualLevel,color:this.getCanvasColor(x52[m52]),direction:m52=="over"?1:-1,edgeHighlight:this.getCanvasColor(x52[m52]),edgeParameters:{pattern:"solid",lineWidth:parseInt(this.canvasStyle(x52[m52]).width,10)+0.1,opacity:1}};t52=a52.color;if(t52&&t52!="transparent"){z52=X52.context.createLinearGradient(0,m52=="over"?0:2*J52,+"0",J52);z52.addColorStop(+"0",b7.hexToRgba(t52,60));z52.addColorStop(1,b7.hexToRgba(t52,10));a52.color=z52;a52.opacity=1;}b7.Studies.preparePeakValleyFill(this,X52.dataSegment,a52);this.chart.baseLegendColors.push(t52);}this.plotLine(0,1,J52,J52,this.containerColor,"line",X52.context,!![],{pattern:K90,lineWidth:"1.1",opacity:+"1"});this.plotLine(0,1,J52,J52,this.getCanvasColor("stx_baseline"),"line",X52.context,!![],{pattern:S90,lineWidth:P90,opacity:+"0.5"});if(this.chart.baseline.userLevel!==![]){Y2V.Z7D(7);var A2E=Y2V.W7D(1,14,2,3);Y2V.h7D(4);var t7E=Y2V.W7D(2,13,13);this.controls.baselineHandle.style.top=J52-parseInt(getComputedStyle(this.controls.baselineHandle).height,A2E)/t7E+"px";h30=780249245;U30=-+"1756080144";I30=2;for(var O30=1;Y2V.Y1N(O30.toString(),O30.toString().length,73271)!==h30;O30++){T90="bloc";T90+="k";Y2V.Z7D(4);var W7E=Y2V.W7D(10,23,23);this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,W7E)+"px";this.controls.baselineHandle.style.display=T90;I30+=2;}if(Y2V.l1N(I30.toString(),I30.toString().length,52154)!==U30){Y2V.h7D(0);var a7E=Y2V.W7D(7,10);this.controls.baselineHandle.style.left=this.chart.right*parseInt(getComputedStyle(this.controls.baselineHandle).width,a7E)*"px";this.controls.baselineHandle.style.display="px";}}}this.endClip();}else if(Y52=="baseline_delta_mountain"){J52=X52.baseline.actualLevel;if(J52!==null){o90="2";o90+=".1";G90="l";G90+="i";G90+="ne";e90="l";e90+="i";e90+="ne";this.startClip(N52.name);this.drawMountainChart(N52,"stx_baseline_delta_mountain");this.endClip();this.startClip(N52.name);this.setStyle("stx_baseline_trace","opacity",0);this.drawLineChart(N52,"stx_baseline_trace");J52=this.pixelFromPriceTransform(J52,X52.panel);x52={"over":"stx_baseline_up","under":"stx_baseline_down"};for(var m52 in x52){X90="C";X90+="l";X90+="ose";a52={panelName:"chart",band:X90,threshold:X52.baseline.actualLevel,color:this.getCanvasColor(x52[m52]),direction:m52=="over"?1:-+"1",edgeHighlight:this.getCanvasColor(x52[m52]),edgeParameters:{pattern:"solid",lineWidth:parseInt(this.canvasStyle(x52[m52]).width,10)+0.1,opacity:1}};this.chart.baseLegendColors.push(a52.color);a52.color="transparent";b7.Studies.preparePeakValleyFill(this,X52.dataSegment,a52);}this.plotLine(0,+"1",J52,J52,this.containerColor,e90,X52.context,!!{},{pattern:"solid",lineWidth:"1.1",opacity:"1"*1});this.plotLine(0,1,J52,J52,this.getCanvasColor("stx_baseline"),G90,X52.context,!"",{pattern:"dotted",lineWidth:o90,opacity:0.5});if(this.chart.baseline.userLevel!==!!0){y90="blo";y90+="ck";Y2V.h7D(9);var w7E=Y2V.W7D(18,8);this.controls.baselineHandle.style.top=J52-parseInt(getComputedStyle(this.controls.baselineHandle).height,w7E)/+"2"+"px";Y2V.h7D(9);var K7E=Y2V.j7D(19,9);this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,K7E)+"px";this.controls.baselineHandle.style.display=y90;}this.endClip();}}else if(Y52=="scatterplot"){this.startClip(N52.name);this.scatter(N52);this.endClip();}else if(Y52){Y2V.Z7D(27);console.log(Y2V.j7D('Invalid chart layout.chartType: "',Y52,'". Defaulting to Line Chart.'));this.layout.chartType="line";this.drawLineChart(N52,"stx_line_chart");}else{this.chart.baseLegendColors=null;}this.runAppend("displayChart",arguments);};E7.prototype.calculateATR=function(k02,K02){var o8N,y8N,u8N,L02,G02,h02,F02;if(!K02){K02=20;}o8N=1552722870;Y2V.Z7D(1);y8N=-Y2V.j7D(0,"1637318811");u8N=2;for(var U8N=1;Y2V.Y1N(U8N.toString(),U8N.toString().length,99673)!==o8N;U8N++){L02=0;u8N+=2;}if(Y2V.Y1N(u8N.toString(),u8N.toString().length,95058)!==y8N){L02=1;}for(var c52=1;c52<k02.dataSet.length;c52++){G02=k02.dataSet[c52];h02=k02.dataSet[c52-1].Close;F02=Math.max(G02.High-G02.Low,Math.abs(G02.High-h02),Math.abs(G02.Low-h02));L02+=F02;if(c52>K02){L02-=k02.dataSet[c52-K02].trueRange;}G02.trueRange=F02;Y2V.h7D(3);G02.atr=Y2V.W7D(L02,K02);}};E7.prototype.calculateMedianPrice=function(S02){var E02;for(var b02=0;b02<S02.dataSet.length;++b02){E02=S02.dataSet[b02];Y2V.Z7D(5);var S7E=Y2V.j7D(20,14,32);E02["hl/2"]=(E02.High+E02.Low)/S7E;}};E7.prototype.calculateTypicalPrice=function(P02){var o02;for(var A02=0;A02<P02.dataSet.length;++A02){o02=P02.dataSet[A02];o02["hlc/3"]=(o02.High+o02.Low+o02.Close)/+"3";}};E7.prototype.calculateWeightedClose=function(B02){var U02;for(var R02=0;R02<B02.dataSet.length;++R02){U02=B02.dataSet[R02];Y2V.h7D(30);var T7E=Y2V.j7D(15,18,3,4);U02["hlcc/4"]=(U02.High+U02.Low+2*U02.Close)/T7E;}};E7.prototype.calculateOHLC4=function(O02){var y02;for(var n02=0;n02<O02.dataSet.length;++n02){y02=O02.dataSet[n02];Y2V.Z7D(5);var X7E=Y2V.W7D(15,2,13);y02["ohlc/4"]=(y02.Open+y02.High+y02.Low+y02.Close)/X7E;}};E7.prototype.currentQuote=function(){var N02;N02=null;if(!this.chart.dataSet){return null;}for(var w02=this.chart.dataSet.length-1;w02>=0;w02--)if(this.chart.dataSet[w02]){return this.chart.dataSet[w02];}return null;};E7.prototype.correctIfOffEdge=function(m02){var J02,X02,r02;if(this.runPrepend("correctIfOffEdge",arguments)){return;}for(var Y02 in this.charts){J02=this.charts[Y02];X02=this.minimumLeftBars+1;if(J02.allowScrollPast){r02=J02.maxTicks-X02;if(J02.maxTicks-r02>J02.dataSet.length){r02=J02.maxTicks-J02.dataSet.length;}if(J02.scroll-r02>J02.dataSet.length){J02.scroll=J02.dataSet.length+r02;}if(J02.scroll<=X02){J02.scroll=X02;this.micropixels=0;}}else{if(J02.scroll<X02){J02.scroll=X02;}if(J02.scroll>J02.dataSet.length){J02.scroll=J02.dataSet.length;}}}this.runAppend("correctIfOffEdge",arguments);};E7.prototype.createDataSegment=function(M02){var x02,e02,i02,t02,D02;if(this.runPrepend("createDataSegment",arguments)){return;}for(var u02 in this.charts){x02=this.charts[u02];if(M02){x02=M02;}x02.baseline.actualLevel=x02.baseline.userLevel?x02.baseline.userLevel:x02.baseline.defaultLevel;x02.dataSegment=[];e02=x02.dataSet.length-x02.scroll-+"1";for(var d02=-1;d02<x02.scroll&&d02<x02.maxTicks;d02++){e02++;if(d02==-("1"*1)&&!x02.baseline.includeInDataSegment)continue;if(e02<x02.dataSet.length&&e02>=("0"|0)){if(x02.dataSet[e02].candleWidth){x02.dataSet[e02].candleWidth=null;x02.dataSet[e02].leftOffset=null;}x02.dataSegment.push(x02.dataSet[e02]);if(x02.baseline.actualLevel===null&&d02>=+"0"){x02.baseline.actualLevel=x02.dataSet[e02].iqPrevClose;}}else if(e02<0){x02.dataSegment.push(null);}}if(this.layout.chartType=="volume_candle"){i02=0;for(var l02=0;l02<x02.dataSegment.length;l02++){if(x02.dataSegment[l02]){i02+=x02.dataSegment[l02].Volume;}}t02=0;for(var a02=+"0";a02<x02.dataSegment.length;a02++){if(x02.dataSegment[a02]){if(x02.dataSegment[a02].Volume){D02=x02.width;if(x02.scroll<x02.maxTicks){D02-=this.preferences.whitespace;}x02.dataSegment[a02].candleWidth=D02*x02.dataSegment[a02].Volume/ i02;Y2V.h7D(3);var G7E=Y2V.W7D(16,8);x02.dataSegment[a02].leftOffset=t02+x02.dataSegment[a02].candleWidth/G7E;t02+=x02.dataSegment[a02].candleWidth;}else{x02.dataSegment[a02].candleWidth=this.layout.candleWidth;Y2V.h7D(65);var o7E=Y2V.W7D(7,11,15);x02.dataSegment[a02].leftOffset=t02+this.layout.candleWidth/o7E;t02+=this.layout.candleWidth;}}else{t02+=this.layout.candleWidth;}}}if(M02)break;}this.runAppend("createDataSegment",arguments);};E7.prototype.leftTick=function(){return this.chart.dataSet.length-this.chart.scroll;};E7.prototype.getStartDateOffset=function(){for(var V02=0;V02<this.chart.dataSegment.length;V02++){if(this.chart.dataSegment[V02]){return V02;}}return+"0";};E7.prototype.setStartDate=function(z02){var s02;for(var T02=0;T02<this.chart.dataSet.length;T02++){s02=this.chart.dataSet[T02];if(s02.DT.getTime()==z02.getTime()){this.chart.scroll=this.chart.dataSet.length-T02;this.draw();return;}}};E7.prototype.updateListeners=function(j02){var g02;for(var H02 in this.plugins){g02=this.plugins[H02];if(g02.display&&g02.listener){g02.listener(this,j02);}}};E7.prototype.clearPixelCache=function(){var f02,I02;for(var W02 in this.panels){f02=this.panels[W02];f02.cacheHigh=null;f02.cacheLow=null;f02.cacheLeft=1000000;f02.cacheRight=-1;}for(var p02 in this.charts){I02=this.charts[p02];if(!I02.dataSet)continue;for(var v02=0;v02<I02.dataSet.length;v02++){I02.dataSet[v02].cache={};}}};E7.prototype.createYAxisLabel=function(F92,U92,c02,k92,P92,A92,o92){var q02,Q02,C02,Z02,L92,S92,K92,G92,b92,E92,R92,h92;if(F92.yAxis.drawPriceLabels===!!0){return;}q02=o92?o92:F92.yAxis;Q02=A92?A92:this.chart.context;C02=3;Z02=this.getCanvasFontSize("stx_yaxis")+C02*+"2";this.canvasFont("stx_yaxis",Q02);L92=q02.displayBorder;if(this.axisBorders===![]){L92=!!"";}if(this.axisBorders===!!{}){L92=!!"1";}S92=L92?3:0;try{K92=Q02.measureText(U92).width+S92+C02*2;}catch(B92){K92=q02.width;}Y2V.h7D(9);var u7E=Y2V.W7D(19,16);G92=q02.left-C02+u7E;Y2V.h7D(27);b92=Y2V.W7D(G92,C02,S92);E92=3;R92=q02.position===null?F92.chart.yAxis.position:q02.position;if(R92==="left"){Y2V.Z7D(9);var h7E=Y2V.j7D(15,12);G92=q02.left+q02.width+C02-h7E;Y2V.h7D(66);K92=Y2V.j7D(1,K92);b92=G92;E92=-3;Q02.textAlign="right";}if(c02+Z02/2>q02.bottom){Y2V.h7D(67);var U7E=Y2V.j7D(12,20,2,11,3);c02=q02.bottom-Z02/U7E;}if(c02-Z02/2<q02.top){Y2V.h7D(31);var I7E=Y2V.j7D(20,13,258);c02=q02.top+Z02/I7E;}Q02.fillStyle=k92;if(typeof b7[this.yaxisLabelStyle]=='undefined'){this.yaxisLabelStyle="roundRectArrow";}h92=this.yaxisLabelStyle;if(q02.yaxisLabelStyle){h92=q02.yaxisLabelStyle;}Y2V.h7D(68);b7[h92](Q02,G92,Y2V.j7D(2,Z02,c02),K92,Z02,E92,!![],!1);Q02.textBaseline="middle";Q02.fillStyle=P92?P92:b7.chooseForegroundColor(k92);if(Q02.fillStyle==k92){if(k92.toUpperCase()=="#FFFFFF"){Q02.fillStyle="#000000";}else{Q02.fillStyle="#FFFFFF";}}Y2V.Z7D(60);Q02.fillText(U92,b92,Y2V.W7D("1",c02));Q02.textAlign="left";};E7.prototype.createXAxisLabel=function(w92,e92,n92,r92,a92,x92){var y92,J92,m92,X92,O92,N92,Y92,u90;y92=this.chart.context;J92=2;m92="stx-float-date";Y2V.Z7D(16);var M7E=Y2V.W7D(7,3,1,17);X92=this.getCanvasFontSize(m92)+J92*M7E;this.canvasFont(m92,y92);try{Y2V.h7D(31);var O7E=Y2V.j7D(7,15,103);O92=y92.measureText(e92).width+J92*O7E;}catch(d92){O92=0;}N92=w92.top+w92.height-X92;if(n92+O92/2<w92.left||n92-O92/2>w92.right){return;}if(!x92){if(n92+O92/2>w92.right){Y2V.Z7D(9);var E7E=Y2V.j7D(17,15);n92=w92.right-O92/E7E;}if(n92-O92/2<w92.left){Y2V.h7D(31);var q7E=Y2V.j7D(14,10,138);n92=w92.left+O92/q7E;}}y92.fillStyle=r92;Y2V.h7D(69);b7.roundRect(y92,Y2V.W7D(O92,n92,"2"),N92,O92,X92,3,!!{},!{});if(x92){Y92=w92.bottom-w92.yAxis.bottom-X92;y92.beginPath();Y2V.h7D(9);y92.moveTo(Y2V.W7D(n92,Y92),N92);Y2V.Z7D(9);y92.lineTo(n92,Y2V.W7D(N92,Y92));Y2V.Z7D(0);y92.lineTo(Y2V.j7D(Y92,n92),N92);y92.closePath();y92.fill();}y92.textBaseline="top";y92.fillStyle=a92?a92:b7.chooseForegroundColor(r92);if(y92.fillStyle==r92){u90="#FF";u90+="FF";u90+="F";u90+="F";if(r92.toUpperCase()==u90){y92.fillStyle="#000000";}else{y92.fillStyle="#FFFFFF";}}Y2V.h7D(33);y92.fillText(e92,Y2V.W7D(n92,2,O92,J92),Y2V.j7D(J92,N92,Y2V.Z7D(0)));};E7.prototype.drawCurrentHR=function(){var s92,H92,i92,t92,D92,M92,u92,l92,z92,f92,I92,U90,h90,g92,V92,T92,O90,M90,I90;if(this.runPrepend("drawCurrentHR",arguments)){return;}for(var j92 in this.charts){i92=this.charts[j92];t92=i92.panel;D92=t92.yAxis;if(D92.drawCurrentPriceLabel===!"1")continue;if(i92.customChart&&i92.customChart.chartType=="none")continue;M92=D92.whichSet;if(!M92){M92="dataSet";}u92=i92[M92].length;if(M92=="dataSegment"){while(u92>(i92.width-this.micropixels+this.layout.candleWidth/2+ +"1")/this.layout.candleWidth){u92--;}}if(u92){Y2V.h7D(9);l92=i92[M92][Y2V.j7D(u92,1)];z92=l92.Close;f92=l92.Close;if(i92[M92].length>=2){Y2V.h7D(70);I92=i92[M92][Y2V.W7D(u92,1,"2")];z92=I92.Close;}if(f92<z92){s92=this.canvasStyle("stx_current_hr_down").backgroundColor;H92=this.canvasStyle("stx_current_hr_down").color;}else{U90="stx_cu";U90+="rrent_hr_up";h90="stx";h90+="_";h90+="cu";h90+="rrent_hr_up";s92=this.canvasStyle(h90).backgroundColor;H92=this.canvasStyle(U90).color;}if(l92.transform){l92=l92.transform;}V92=Math.max(t92.yAxis.printDecimalPlaces,t92.chart.decimalPlaces);if(D92.maxDecimalPlaces||D92.maxDecimalPlaces===0){V92=Math.min(V92,D92.maxDecimalPlaces);}if(D92.priceFormatter){g92=D92.priceFormatter(this,t92,l92.Close,V92);}else{g92=this.formatYAxisPrice(l92.Close,t92,V92);}T92=this.pixelFromPrice(l92.Close,t92);this.createYAxisLabel(t92,g92,T92,s92,H92);if(this.preferences.currentPriceLine===!!{}&&this.isHome()){O90="sourc";O90+="e-over";M90="da";M90+="she";M90+="d";I90="destinat";I90+="ion-";I90+="over";t92.chart.context.globalCompositeOperation=I90;this.plotLine(t92.left,t92.right,T92,T92,s92,"line",t92.chart.context,t92,{pattern:M90,lineWidth:1,opacity:0.8});t92.chart.context.globalCompositeOperation=O90;}}}this.runAppend("drawCurrentHR",arguments);};E7.prototype.getDefaultColor=function(){var v92,W92,p92,E90,q92,Q92;this.defaultColor="#000000";v92=null;W92=this.chart.container;while(!v92||b7.isTransparent(v92)){p92=getComputedStyle(W92);if(!p92){return;}v92=p92.backgroundColor;if(b7.isTransparent(v92)){v92="transparent";}W92=W92.parentNode;if(!W92||!W92.tagName)break;}if(v92){if(v92=="transparent"){v92="#FFFFFF";}this.containerColor=v92;if(!b7.isTransparent(v92)){E90="#FFF";E90+="FFF";q92=b7.hsv(v92);Q92=q92[2];if(Q92>0.65){this.defaultColor="#000000";}else{this.defaultColor=E90;}}else{this.defaultColor="#000000";}}else{this.containerColor="#FFFFFF";}};E7.prototype.startAsyncAction=function(){if(!this.pendingAsyncs){this.pendingAsyncs=[];}this.pendingAsyncs.push(!![]);};E7.prototype.registerChartDrawnCallback=function(Z92){if(!this.asyncCallbacks){this.asyncCallbacks=[];}this.asyncCallbacks.push(Z92);return{fc:Z92};};E7.prototype.unregisterChartDrawnCallback=function(c92){for(var C92=0;C92<this.asyncCallbacks.length;C92++){if(this.asyncCallbacks[C92]==c92.fc){Y2V.h7D(10);this.asyncCallbacks.splice(C92,Y2V.j7D(1,"1"));return;}}};E7.prototype.makeAsyncCallbacks=function(){if(!this.asyncCallbacks){return;}if(!this.pendingAsyncs||!this.pendingAsyncs.length){for(var G42=0;G42<this.asyncCallbacks.length;G42++){this.asyncCallbacks[G42]();}}};E7.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop();this.makeAsyncCallbacks();};E7.prototype.draw=function(){var q90,h42,K42,L42,k42,c90,b42,H90;q90="d";q90+="r";q90+="a";q90+="w";this.debug();if(!this.chart.canvas){return;}if(!this.chart.dataSet){return;}if(!this.chart.canvasHeight){return;}Y2V.h7D(9);var c7E=Y2V.W7D(14,12);this.offset=this.layout.candleWidth*this.candleWidthPercent/c7E;b7.clearCanvas(this.chart.canvas,this);if(this.runPrepend(q90,arguments)){return;}if(!this.xaxisHeight){Y2V.Z7D(9);var H7E=Y2V.W7D(23,19);this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+H7E;if(this.chart.xAxis.displayBorder||this.axisBorders){this.xaxisHeight+=3;}}this.getDefaultColor();this.vectorsShowing=!"1";this.drawPanels();this.yAxisLabels=[];for(L42 in this.charts){c90="o";c90+="ver";c90+="l";c90+="ay";K42=this.charts[L42];this.correctIfOffEdge();this.createDataSegment();b42=this.createXAxis(K42);this.initializeDisplay(K42);this.rendererAction(K42,"calculate");this.renderYAxis(K42);this.drawXAxis(K42,b42);K42.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent);if(K42.tmpWidth%2===+"0"){K42.tmpWidth+=1;if(K42.tmpWidth>this.layout.candleWidth){K42.tmpWidth-=2;}}if(K42.tmpWidth<+"0.5"){Y2V.h7D(9);K42.tmpWidth=Y2V.W7D("0.5",0);}for(h42 in this.plugins){k42=this.plugins[h42];if(k42.display){if(k42.drawUnder){k42.drawUnder(this,K42);}}}this.rendererAction(K42,"underlay");b7.Studies.displayStudies(this,K42,!!{});this.displayChart(K42);b7.Studies.displayStudies(this,K42,!1);this.rendererAction(K42,c90);}for(L42 in this.charts){K42=this.charts[L42];for(h42 in this.plugins){k42=this.plugins[h42];if(k42.display){if(k42.drawOver){k42.drawOver(this,K42);}}}}for(var E42 in this.panels){if(!this.panels[E42].hidden){this.plotYAxisText(this.panels[E42]);}}for(var F42=0;F42<this.yAxisLabels.length;F42++){this.createYAxisLabel.apply(this,this.yAxisLabels[F42].args);}this.createCrosshairs();this.drawVectors();this.drawCurrentHR();this.displayInitialized=!!"1";if(this.controls.home){H90="bl";H90+="ock";this.controls.home.style.display=this.isHome()?"none":H90;}this.positionMarkers();for(L42 in this.charts){K42=this.charts[L42];if(this.quoteDriver){this.quoteDriver.checkLoadMore(K42);}}this.runAppend("draw",arguments);this.makeAsyncCallbacks();};E7.prototype.adjustBackingStore=function(S42,o42){var R42,A42,p90,d90,P42,U42;this.devicePixelRatio=window.devicePixelRatio||1;if(this.devicePixelRatio<1.0){this.devicePixelRatio=1.0;}R42=o42.webkitBackingStorePixelRatio||o42.mozBackingStorePixelRatio||o42.msBackingStorePixelRatio||o42.oBackingStorePixelRatio||o42.backingStorePixelRatio||1;A42=this.devicePixelRatio/R42;if(!b7.isAndroid||b7.is_chrome){p90="p";p90+="x";d90="p";d90+="x";P42=S42.width;U42=S42.height;Y2V.Z7D(10);S42.width=Y2V.W7D(A42,P42);Y2V.h7D(10);S42.height=Y2V.j7D(A42,U42);Y2V.Z7D(0);S42.style.width=Y2V.j7D(d90,P42);Y2V.h7D(0);S42.style.height=Y2V.j7D(p90,U42);o42.scale(A42,A42);this.adjustedDisplayPixelRatio=A42;}};E7.prototype.resizeCanvas=function(){var n42,w42,N42,C90,y42,B42,r42,O42,J42;if(!this.chart.panel){this.chart.panel=this.panels.chart;}n42=this.chart.canvas;w42=this.chart.context;if(n42&&w42){this.chart.tempCanvas.height=n42.height=this.chart.container.clientHeight;this.chart.tempCanvas.width=n42.width=this.chart.container.clientWidth;this.adjustBackingStore(n42,w42);this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context);this.floatCanvas.height=this.chart.container.clientHeight;this.floatCanvas.width=this.chart.container.clientWidth;this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context);}N42=this.container.getBoundingClientRect();this.top=N42.top;this.left=N42.left;this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth;this.right=this.left+this.canvasWidth;this.height=this.chart.container.clientHeight;this.width=this.right-this.left;if(this.width===0&&!this.container.dimensionlessCanvas){C90="warning: zero width chart. Check CSS";C90+=" for chart contai";C90+="ner.";console.log(C90);}this.bottom=this.top+this.height;this.calculateYAxisPositions();this.chart.canvasRight=this.right;this.chart.canvasHeight=this.height;y42=this.layout.candleWidth;if(typeof y42=="undefined"){Y2V.h7D(1);y42=Y2V.j7D(0,"8");}for(var X42 in this.charts){B42=this.charts[X42];if(this.layout.span){this.setCandleWidth(this.getSpanCandleWidth(this.layout.span),B42);}else{this.setCandleWidth(y42,B42);if(B42.scroll<B42.width/y42){B42.scroll=Math.floor(B42.width/y42);r42=Math.round(this.preferences.whitespace/this.layout.candleWidth);B42.scroll-=r42;}}O42=10;try{J42=w42.measureText("10:00").width*("2"-0);}catch(Y42){J42=100;}while(O42>1){if(this.chart.width/J42>O42)break;Y2V.h7D(9);O42/=Y2V.W7D("1.5",0);}B42.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/O42);if(B42.xAxis.autoComputedTickSizePixels<1){Y2V.Z7D(10);B42.xAxis.autoComputedTickSizePixels=Y2V.j7D(1,"1");}}};E7.prototype.setCandleWidth=function(m42,x42){if(!x42){x42=this.chart;}if(m42<this.minimumCandleWidth){m42=this.minimumCandleWidth;}this.layout.candleWidth=m42;x42.maxTicks=Math.round(this.chart.width/m42)+1;};E7.prototype.resizeChart=function(a42){var b90,D90,e42;b90="re";b90+="siz";b90+="eChart";D90="resi";D90+="zeC";D90+="ha";D90+="rt";if(this.runPrepend(D90,arguments)){return;}if(a42!==!{}){a42=!![];}if(a42){this.preAdjustScroll();}e42=this.chart.canvasHeight;this.resizeCanvas();if(a42){this.postAdjustScroll();}if(this.displayInitialized){this.adjustPanelPositions();this.draw();}else if(this.chart.canvasHeight!==0&&e42==="0"*1){this.adjustPanelPositions();this.draw();}this.positionCrosshairsAtPointer();this.doDisplayCrosshairs();this.runAppend(b90,arguments);};E7.prototype.newChart=function(D42,u42,d42,M42,t42){var z42,T42,H42,s42,l42,V42,i42,g42;if(!d42){d42=this.chart;}if(!t42){t42={};}if(t42.periodicity){if(t42.periodicity.interval){this.layout.interval=t42.periodicity.interval;}if(t42.periodicity.period){this.layout.periodicity=t42.periodicity.period;}if(t42.periodicity.periodicity){this.layout.periodicity=t42.periodicity.periodicity;}this.layout.timeUnit=t42.periodicity.timeUnit;}z42=d42.symbol;T42=b7.clone(d42.symbolObject);H42=d42.market;if(!D42){d42.symbol=null;d42.symbolObject={symbol:null};}else if(typeof D42=='object'){d42.symbol=D42.symbol;d42.symbolObject=D42;}else{d42.symbol=D42;d42.symbolObject.symbol=D42;}if(this.marketFactory){s42=this.marketFactory(d42.symbolObject);this.setMarket(s42,d42);}l42=this;if(!u42&&this.quoteDriver){V42=function(j42){if(j42&&j42!="orphaned"){d42.symbol=z42;d42.symbolObject=T42;d42.market=H42;}if(!l42.currentlyImporting){l42.dispatch("symbolChange",{stx:l42,symbol:l42.chart.symbol,symbolObject:l42.chart.symbolObject});}if(M42){M42(j42);}};i42=t42.span;if(!i42&&this.layout){i42=this.layout.setSpan;}if(i42&&i42.base){g42=i42.multiplier||1;this.chart.masterData=null;this.displayInitialized=!!"";this.setSpan({maintainPeriodicity:t42.periodicity?!![]:!"1",multiplier:g42,base:i42.base,symbol:d42.symbol},V42);}else{this.quoteDriver.newChart({symbol:d42.symbol,symbolObject:d42.symbolObject,chart:d42,initializeChart:!![]},function(f42){if(!f42){l42.adjustPanelPositions();l42.quoteDriver.updateSubscriptions();if(t42.stretchToFillScreen){l42.fillScreen();}}V42.apply(l42,arguments);});}}else{if(!u42){console.log("Warning: No masterData specified and no QuoteFeed configured");}if(!d42.symbol){d42.symbol="";}this.setMasterData(u42,d42);this.createDataSet();this.initializeChart();if(t42.span&&t42.span.multiplier&&t42.span.base){this.setSpan({maintainPeriodicity:!!1,multiplier:t42.span.multiplier,base:t42.span.base});}else if(t42.stretchToFillScreen){this.fillScreen();}else{this.draw();}this.adjustPanelPositions();if(M42){M42();}}};E7.prototype.fillScreen=function(){var W42,I42,v42,p42;W42=this.layout.candleWidth;I42=this.chart.width-this.preferences.whitespace;v42=this.chart.dataSet.length;if(v42*W42>=I42){this.draw();return;}Y2V.Z7D(3);p42=Y2V.j7D(I42,v42);this.setCandleWidth(p42,this.chart);this.home({maintainWhitespace:!0});};E7.prototype.setMasterData=function(C42,Q42){var K32,Z42,q42,c42,G32;if(!Q42){Q42=this.chart;}if(this.marketFactory){K32=this.marketFactory(Q42.symbolObject);this.setMarket(K32,Q42);}Q42.masterData=C42;if(Q42.name=="chart"){this.masterData=C42;}for(Z42=0;C42&&Z42<C42.length;Z42++){if(this.transformMasterDataQuote){C42[Z42]=this.transformMasterDataQuote(C42[Z42]);}q42=C42[Z42];if(q42.DT){q42.DT=new Date(q42.DT);q42.Date=b7.yyyymmddhhmmssmmm(q42.DT);}else if(q42.Date){q42.DT=b7.strToDateTime(q42.Date);}else{console.log('setMasterData : Missing DT and Date on masterData object');}if(q42.Volume&&typeof q42.Volume!=="number"){q42.Volume=parseInt(q42.Volume,10);}if(typeof q42.Close=='number'){}else{console.log('setMasterData : Close is missing or not a number. Use parseFloat() if your data server provides strings. MasterData Index= '+Z42+' Value = '+q42.Close);}if(q42.High===null){delete q42.High;}if(q42.Low===null){delete q42.Low;}if(q42.Open===null){delete q42.Open;}}Q42.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:Q42,symbol:Q42.symbolObject.symbol,symbolObject:Q42.symbolObject});if(!E7.isDailyInterval(this.layout.interval)){this.setDisplayDates(C42);}Y2V.h7D(1);this.chart.roundit=Math.pow(Y2V.W7D(0,"10"),Q42.decimalPlaces);for(Z42 in this.plugins){c42=this.plugins[Z42];if(c42.display){if(c42.setMasterData){c42.setMasterData(this,Q42);}}}for(var k32 in this.chart.series){G32=this.chart.series[k32];if(G32.addSeriesData){G32.addSeriesData(this);}}};E7.prototype.getSymbols=function(){var L32,F32,b32,E32,R32,o32;L32=[];for(var B32 in this.charts){b32=this.charts[B32];L32.push({symbol:b32.symbol,symbolObject:b32.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan});for(var S32 in b32.series){E32=b32.series[S32];if(!E32.parameters.data||!E32.parameters.data.useDefaultQuoteFeed)continue;F32={symbol:S32,symbolObject:E32.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};if(arguments[0]==="include-parameters"){F32.parameters=E32.parameters;}if(!F32.symbolObject){F32.symbolObject=E32.parameters.symbolObject||{symbol:S32};}L32.push(F32);}}for(var U32 in this.panels){if(this.panels[U32].studyQuotes){for(var P32 in this.panels[U32].studyQuotes){F32={symbol:P32,symbolObject:{symbol:P32},periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};L32.push(F32);}}}for(var h32=L32.length-1;h32>=0;h32--){R32=L32[h32].symbol;if(this.isEquationChart(R32)){o32=b7.formatEquation(R32);if(o32){for(var A32="0"|0;A32<o32.symbols.length;A32++){F32={symbol:o32.symbols[A32],symbolObject:L32[h32].symbolObject,periodicity:L32[h32].periodicity,interval:L32[h32].interval,timeUnit:L32[h32].timeUnit,setSpan:L32[h32].setSpan};L32.push(F32);}L32.splice(h32,1);}}}return L32;};E7.prototype.setDisplayDate=function(w32){var y32,O32,n32;y32=w32.DT;O32=y32.getSeconds()*1000+y32.getMilliseconds();if(this.dataZone){n32=new o7.Date(y32.getFullYear(),y32.getMonth(),y32.getDate(),y32.getHours(),y32.getMinutes(),this.dataZone);y32=new Date(n32.getTime()+O32);}if(this.displayZone){n32=new o7.Date(y32.getTime(),this.displayZone);y32=new Date(n32.getFullYear(),n32.getMonth(),n32.getDate(),n32.getHours(),n32.getMinutes());y32=new Date(y32.getTime()+O32);}w32.displayDate=y32;};E7.prototype.setDisplayDates=function(J32){var c8N,H8N,d8N,X32;c8N=1536324887;H8N=-943975499;d8N=2;for(var C8N=1;Y2V.l1N(C8N.toString(),C8N.toString().length,61017)!==c8N;C8N++){if(+J32){return;}d8N+=2;}if(Y2V.Y1N(d8N.toString(),d8N.toString().length,97316)!==H8N){if(+J32){return;}}if(!J32){return;}for(var N32=0;N32<J32.length;N32++){X32=J32[N32];if(X32.DT){this.setDisplayDate(X32);}}};E7.prototype.streamTrade=function(M32,m32,i32,a32){var l32,Y32,t32,e32,d32,s90,D32,r32,s32,g32,T32,x32,H32,u32,j32,z32,f32,V32;l32=this.chart;if(!a32){a32={};}if(a32.chart){l32=a32.chart;}Y32=null;t32=null;e32=null;d32=0;if(typeof M32=="object"){Y32=M32.last;t32=M32.bid;e32=M32.ask;d32=M32.volume;if(typeof m32!="undefined"){m32=new Date(m32);}}else{s90="u";s90+="nde";s90+="fin";s90+="ed";Y32=arguments[0];d32=arguments[1];if(typeof m32!=s90){m32=new Date(arguments[2]);}i32=arguments[3];}D32=l32.masterData;if(!m32||m32=='Invalid Date'){m32=this.convertToDataZone(new Date());}if(!D32||!D32.length||this.layout.interval=="tick"){r32={Date:b7.yyyymmddhhmmssmmm(m32),DT:m32,Open:Y32,Close:Y32,High:Y32,Low:Y32,Volume:d32,Bid:t32,Ask:e32};this.appendMasterData([r32],l32,a32);}else{r32=b7.clone(D32[D32.length-1]);s32=new b7.Market({});g32={'begin':r32.DT,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};T32=s32.newIterator(g32);x32=T32.next();if(m32<x32){if(i32){if(Y32||Y32===0){r32[i32]=Y32;}}else{if(Y32||Y32===0){r32.Close=Y32;if(Y32>r32.High||r32.High===null){r32.High=Y32;}if(Y32<r32.Low||r32.Low===null){r32.Low=Y32;}if(r32.Open===null){r32.Open=Y32;}}if(d32){r32.Volume+=d32;}if(t32||t32===0){r32.Bid=t32;}if(e32||e32===0){r32.Ask=e32;}}H32=b7.clone(a32);if(typeof r32.Adj_Close!="undefined"){r32.Adj_Close=r32.Close;}this.appendMasterData([r32],l32,H32);}else{u32=[];j32={'begin':m32,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};z32=s32.newIterator(j32);z32.next();m32=z32.previous();while(x32<m32&&this.streamParameters.fillGaps){f32={Date:b7.yyyymmddhhmmssmmm(x32),DT:x32,Close:r32.Close,Open:r32.Close,High:r32.Close,Low:r32.Close,Volume:0,Bid:r32.Bid,Ask:r32.Ask};u32.push(f32);x32=T32.next();}if(i32){V32=this.currentQuote();r32={Date:b7.yyyymmddhhmmssmmm(x32),DT:x32,Close:V32.Close,Volume:0,Bid:V32.Bid,Ask:V32.Ask};r32[i32]=Y32;}else{r32={Date:b7.yyyymmddhhmmssmmm(x32),DT:x32,Open:Y32,Close:Y32,High:Y32,Low:Y32,Volume:d32,Bid:t32,Ask:e32};}u32.push(r32);this.appendMasterData(u32,l32,a32);}}};E7.prototype.appendMasterData=function(p32,c32,Z32){var N90,g90,k7Z,v32,I32,G7Z,q32,j90,v90,F7Z,Q32,C32;N90="appendM";N90+="aster";N90+="Dat";N90+="a";g90="appen";g90+="dMas";g90+="terData";if(!Z32){Z32={};}if(!c32){c32=this.chart;}if(p32.constructor==Object){p32=[p32];}if(this.runPrepend(g90,[p32,c32,Z32])){return;}if(!p32||!p32.length){return;}k7Z=p32[0].DT;if(!k7Z){k7Z=b7.strToDateTime(p32[0].Date);}v32=c32.masterData;if(!v32||!v32.length){v32=c32.masterData=b7.clone(p32);for(I32="0"-0;I32<v32.length;I32++){if(v32[I32].DT){v32[I32].Date=b7.yyyymmddhhmmssmmm(v32[I32].DT);}else{v32[I32].DT=b7.strToDateTime(v32[I32].Date);}if(v32[I32].Volume&&typeof v32[I32].Volume!=="number"){v32[I32].Volume=parseInt(v32[I32].Volume,10);}if(!E7.isDailyInterval(this.layout.interval)){this.setDisplayDate(v32[I32]);}}}else{I32=v32.length-1;while(I32>=0){G7Z=v32[I32].DT;if(!G7Z){G7Z=b7.strToDateTime(v32[I32].Date);}if(G7Z.getTime()<=k7Z.getTime()){Y2V.Z7D(10);q32=Y2V.W7D(1,"0");if(G7Z.getTime()<k7Z.getTime()){q32=1;}for(var W32=0;W32<p32.length;W32++){if(!q32){if(typeof v32[I32+W32]!="undefined"){if(!p32[W32].Volume&&v32[I32+W32].Volume){p32[W32].Volume=v32[I32+W32].Volume;}if(!Z32.allowReplaceOHL){if(v32[I32+W32].Open){p32[W32].Open=v32[I32+W32].Open;}if(v32[I32+W32].High>p32[W32].High){p32[W32].High=v32[I32+W32].High;}if(v32[I32+W32].Low&&v32[I32+W32].Low<p32[W32].Low){p32[W32].Low=v32[I32+W32].Low;}}}for(var L7Z in this.chart.series){j90="u";j90+="nde";j90+="fi";j90+="ned";if(typeof p32[W32][L7Z]=="undefined"&&typeof v32[I32+W32]!=j90){Y2V.Z7D(0);p32[W32][L7Z]=v32[Y2V.j7D(W32,I32)][L7Z];}}for(var h7Z in this.panels){if(this.panels[h7Z].studyQuotes){for(var K7Z in this.panels[h7Z].studyQuotes){v90="undefi";v90+="ned";if(!this.panels[h7Z].studyQuotes[K7Z])continue;if(typeof p32[W32][K7Z]==v90&&typeof v32[I32+W32]!="undefined"){Y2V.h7D(0);p32[W32][K7Z]=v32[Y2V.j7D(W32,I32)][K7Z];}}}}}Y2V.Z7D(27);v32[Y2V.j7D(I32,W32,q32)]=p32[W32];if(v32[I32+W32+q32].DT){v32[I32+W32+q32].Date=b7.yyyymmddhhmmssmmm(v32[I32+W32+q32].DT);}else{v32[I32+W32+q32].DT=b7.strToDateTime(v32[I32+W32+q32].Date);}if(v32[I32+W32+q32].Volume&&typeof v32[I32+W32+q32].Volume!=="number"){v32[I32+W32+q32].Volume=parseInt(v32[I32+W32+q32].Volume,10);}if(!E7.isDailyInterval(this.layout.interval)){this.setDisplayDate(this.masterData[I32+W32+q32]);}}break;}I32--;}for(I32 in this.plugins){F7Z=this.plugins[I32];if(F7Z.display){if(F7Z.appendMasterData){F7Z.appendMasterData(this,p32,c32);}}}}if(!this.masterData||!this.masterData.length){this.masterData=v32;}if(!Z32.noCreateDataSet){Q32=this.streamParameters;if(++Q32.count>Q32.maxTicks||Z32.bypassGovernor){clearTimeout(Q32.timeout);this.createDataSet();this.draw();this.updateChartAccessories();Q32.count=0;Q32.timeout=-1;}else{C32=this;if(Q32.timeout==-1){Q32.timeout=setTimeout(function(){C32.createDataSet();C32.draw();C32.updateChartAccessories();C32.streamParameters.count=0;C32.streamParameters.timeout=-+"1";},Q32.maxWait);}}}this.runAppend(N90,arguments);};E7.prototype.displayAll=function(E7Z,P7Z){var b7Z,S7Z;b7Z=this.chart;if(E7Z&&E7Z.chart){b7Z=E7Z.chart;}S7Z=this;if(!this.quoteDriver){o7Z();return;}function o7Z(){var U7Z;if(!b7Z.masterData.length){return;}U7Z=b7.clone(E7Z);U7Z.dtLeft=b7Z.masterData["0"|0].DT;U7Z.dtRight=b7Z.masterData[b7Z.masterData.length-+"1"].DT;if(E7Z.maintainPeriodicity){U7Z.periodicity={};U7Z.periodicity.interval=S7Z.layout.interval;U7Z.periodicity.period=S7Z.layout.periodicity;}S7Z.setRange(U7Z,function(R7Z){var x90,H20,d20,p20;if(!E7Z.maintainPeriodicity){x90="la";x90+="yout";S7Z.layout.setSpan={base:E7Z.base,multiplier:E7Z.multiplier};S7Z.changeOccurred(x90);}H20=-148874820;d20=1015675684;p20=+"2";for(var D20=1;Y2V.Y1N(D20.toString(),D20.toString().length,"13301"|0)!==H20;D20++){if(P7Z){P7Z(R7Z);}p20+=2;}if(Y2V.l1N(p20.toString(),p20.toString().length,70548)!==d20){if(P7Z){P7Z(R7Z);}}});}if(this.dontRoll&&this.layout.interval!="month"){this.setPeriodicityV2(1,"month",A7Z);}else if(!E7.isDailyInterval(this.layout.interval)){this.setPeriodicityV2(1,"day",A7Z);}else{if(b7Z.moreAvailable){A7Z();}else{o7Z();}}function A7Z(){S7Z.quoteDriver.loadAll(b7Z,o7Z);}};E7.prototype.setRange=function(B7Z,J7Z){var V90,s7Z,y7Z,N7Z,X7Z,g7Z,O7Z,u7Z,n7Z,w7Z,r7Z,T7Z,l7Z,x7Z,M7Z,z90,l90,Y90,r90,d7Z,V7Z,Y7Z,f7Z,z7Z,H7Z,j7Z,e7Z,J90,i90,B90,a7Z;V90="und";V90+="efine";V90+="d";if(b7.isEmpty(B7Z)){B7Z={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[+"2"],chart:arguments[3],goIntoFuture:![]};J7Z=arguments[4];}if(!B7Z.chart){B7Z.chart=this.chart;}if(typeof B7Z.padding==V90){B7Z.padding=this.preferences.whitespace;}s7Z=!{};function D7Z(){var v7Z,W7Z,p7Z;if(!y7Z.dataSet||y7Z.dataSet.length===+"0"){if(J7Z){J7Z();}return;}v7Z=+"0";W7Z=+"0";if(N7Z.getTime()>=y7Z.dataSet[0].DT.getTime()||B7Z.goIntoPast){v7Z=O7Z.tickFromDate(N7Z,y7Z,null,!0);}else{v7Z=0;}if(X7Z.getTime()<=y7Z.dataSet[y7Z.dataSet.length-1].DT.getTime()||B7Z.goIntoFuture){W7Z=O7Z.tickFromDate(X7Z,y7Z);}else{W7Z=y7Z.dataSet.length-+"1";}Y2V.h7D(5);p7Z=Y2V.j7D(W7Z,1,v7Z);if(p7Z<1){if(J7Z){J7Z();}return;}O7Z.setCandleWidth((O7Z.chart.width-B7Z.padding)/p7Z,y7Z);y7Z.scroll=y7Z.dataSet.length-v7Z+"1"*1;O7Z.micropixels=0;O7Z.draw();O7Z.changeOccurred("layout");if(J7Z){J7Z();}}y7Z=B7Z.chart;function i7Z(q7Z){var n90;if(q7Z){O7Z.chart.scroll=H7Z;O7Z.layout.candleWidth=j7Z;if(J7Z){J7Z(q7Z);}return;}u7Z++;if(u7Z>10){n90="STXChart.setRange(): Too many loads ";n90+="(10";n90+=") from server. S";n90+="topping. Check periodicity logic.";console.log(n90);D7Z();return;}if(y7Z.moreAvailable&&y7Z.masterData[0].DT>N7Z){O7Z.quoteDriver.checkLoadMore(y7Z,!![],![],function(Q7Z){if(!Q7Z){i7Z();}});}else{D7Z();}}function I7Z(K8Z,k8Z,c7Z,G8Z,L8Z){var Z7Z,C7Z,Q90;Z7Z=0;Y2V.Z7D(9);C7Z=Y2V.j7D(K8Z,k8Z);if(E7.isDailyInterval(c7Z)){if(c7Z=="month"){Z7Z=C7Z/b7.MONTH/G8Z;}else if(c7Z=="week"){Z7Z=C7Z/b7.WEEK/G8Z;}else{Z7Z=C7Z/b7.DAY/G8Z;}}else{if(!isNaN(c7Z)){Z7Z=C7Z/(b7.MINUTE*c7Z)/G8Z;}else{Q90="s";Q90+="e";Q90+="cond";if(c7Z=="millisecond"){Y2V.h7D(3);Z7Z=Y2V.j7D(C7Z,G8Z);}else if(c7Z==Q90){Z7Z=C7Z/b7.SECOND/G8Z;}else if(c7Z=="hour"){Z7Z=C7Z/b7.HOUR/G8Z;}else{Z7Z=C7Z/b7.MINUTE/G8Z;}}}return Math.round(Z7Z);}N7Z=B7Z.dtLeft;X7Z=this.convertToDataZone(new Date());if(B7Z.dtRight){X7Z=B7Z.dtRight;}if(!N7Z){g7Z=this.standardMarketIterator(X7Z,null,y7Z);N7Z=g7Z.previous(y7Z.maxTicks);if(!B7Z.periodicity){s7Z=!![];}}O7Z=this;u7Z=0;if(this.quoteDriver){if(s7Z){n7Z=this.layout.interval;r7Z=this.layout.timeUnit;w7Z=this.layout.period;}else if(B7Z.periodicity){n7Z=B7Z.periodicity.interval;r7Z=B7Z.periodicity.timeUnit;w7Z=B7Z.periodicity.period;}else{T7Z=X7Z.getTime()-N7Z.getTime();if(B7Z.rangePeriodicityMap){l7Z=B7Z.rangePeriodicityMap;x7Z=null;for(var t7Z=0;t7Z<l7Z.length;t7Z++){M7Z=l7Z[t7Z];if(T7Z<=M7Z.range){x7Z=M7Z;break;}}n7Z=x7Z.interval;w7Z=x7Z.periodicity;r7Z=x7Z.timeUnit;}else{z90="hollow_cand";z90+="le";l90="wav";l90+="e";Y90="base";Y90+="l";Y90+="i";Y90+="ne_delta";r90="co";r90+="lo";r90+="red_lin";r90+="e";d7Z=2;switch(this.layout.chartType){case"line":case r90:case"mountain":case"colored_mountain":case Y90:case"baseline_delta_mountain":case l90:d7Z=2;break;case"candle":case"bar":case"colored_bar":case z90:case"volume_candle":case"scatterplot":d7Z=5;break;}if(B7Z.pixelsPerBar){d7Z=B7Z.pixelsPerBar;}V7Z=y7Z.width/d7Z;Y7Z=[{interval:1,ms:b7.MINUTE},{interval:+"5",ms:b7.MINUTE*5},{interval:30,ms:b7.MINUTE*30},{interval:"day",ms:b7.DAY},{interval:"month",ms:b7.MONTH},{interval:"year",ms:Number.MAX_VALUE}];n7Z=Y7Z[+"0"].interval;w7Z=1;for(var m7Z=0;m7Z<Y7Z.length;m7Z++){z7Z=T7Z/Y7Z[m7Z].ms;if(z7Z<V7Z){if(Y7Z[m7Z-1]){n7Z=Y7Z[m7Z-1].interval;Y2V.Z7D(3);w7Z=Math.ceil(Y2V.W7D(f7Z,V7Z));}else{n7Z=Y7Z[m7Z].interval;w7Z=+"1";}break;}f7Z=z7Z;}}}H7Z=this.chart.scroll;j7Z=this.layout.candleWidth;this.chart.scroll=this.chart.maxTicks=I7Z(X7Z.getTime(),N7Z.getTime(),n7Z,w7Z,this.dontRoll);this.layout.candleWidth=this.chart.width/this.chart.maxTicks;e7Z=this.layout.timeUnit!=r7Z&&(r7Z=="seconds"||r7Z=="milliseconds");if(!e7Z&&E7.isDailyInterval(this.layout.interval)!==E7.isDailyInterval(n7Z)){e7Z=!!{};}else if(!E7.isDailyInterval(this.layout.interval)&&this.layout.interval!=n7Z){e7Z=!!1;}if(!this.chart.masterData||e7Z){this.layout.interval=n7Z;this.layout.periodicity=w7Z;this.layout.timeUnit=r7Z;if(!this.layout.timeUnit){J90="min";J90+="ut";J90+="e";i90="t";i90+="i";i90+="c";i90+="k";B90="s";B90+="eco";B90+="n";B90+="d";if(E7.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval=="second"){this.layout.timeUnit=B90;}else if(this.layout.interval!=i90){this.layout.timeUnit=J90;}}a7Z={symbol:y7Z.symbol,symbolObject:y7Z.symbolObject,chart:y7Z,nodraw:!!{}};if(this.layout.interval=="tick"){a7Z.startDate=N7Z;a7Z.endDate=X7Z;}if(!this.displayInitialized){a7Z.initializeChart=!0;}this.quoteDriver.newChart(a7Z,i7Z);}else{if(this.layout.interval!=n7Z||this.layout.periodicity!=w7Z){this.layout.interval=n7Z;this.layout.periodicity=w7Z;this.createDataSet();}i7Z();}}else{D7Z();}};E7.prototype.setSpan=function(F8Z,U8Z){var F90,R90,m90,Z90,A8Z,b8Z,n8Z,S8Z,P8Z,O8Z,f90,E8Z,Y8Z,o8Z,h8Z,L1N,A1N,t6N,X8Z,w8Z,N8Z,J8Z,B8Z,r8Z,y8Z;F90="to";F90+="day";R90="w";R90+="e";R90+="e";R90+="k";m90="t";m90+="od";m90+="a";m90+="y";Z90="objec";Z90+="t";Y2V.Z7D(10);A8Z=arguments[Y2V.j7D(1,"0")];b8Z=arguments[1];n8Z=arguments[2];S8Z=arguments[3];if(typeof F8Z==Z90){A8Z=F8Z.period?F8Z.period:F8Z.multiplier?F8Z.multiplier:1;b8Z=F8Z.interval?F8Z.interval:F8Z.base?F8Z.base:F8Z.span?F8Z.span:F8Z.period;n8Z=F8Z.padding;S8Z=F8Z.chart;}else{F8Z={period:A8Z,interval:b8Z,padding:n8Z,chart:S8Z};U8Z=arguments[5];}if(!F8Z.padding){F8Z.padding=0;}if(!S8Z){S8Z=this.chart;}b8Z=b8Z.toLowerCase();if(b8Z=="all"){this.displayAll(F8Z,U8Z);return;}P8Z=b8Z;O8Z=1;if(b8Z=="today"){f90="d";f90+="a";f90+="y";P8Z=f90;}else if(b8Z=="year"){P8Z="month";O8Z=12;}E8Z=b7.shallowClone(F8Z);E8Z.goIntoFuture=!{};Y8Z={'begin':new Date(),'interval':P8Z,'period':O8Z,'outZone':this.dataZone};o8Z=S8Z.market.newIterator(Y8Z);h8Z=this.convertToDataZone(new Date());if(b8Z==='ytd'){h8Z=R8Z(h8Z);h8Z.setMonth(0);h8Z.setDate(1);}else if(b8Z===m90){o8Z.next();h8Z=o8Z.previous();}else if(b8Z==="month"){h8Z=R8Z(new Date());L1N=822491033;A1N=-681263391;t6N=2;for(var a6N="1"*1;Y2V.l1N(a6N.toString(),a6N.toString().length,34404)!==L1N;a6N++){h8Z.setMonth(h8Z.getMonth()*A8Z);t6N+=2;}if(Y2V.Y1N(t6N.toString(),t6N.toString().length,88276)!==A1N){h8Z.setMonth(h8Z.getMonth()-A8Z);}}else if(b8Z==="year"){h8Z=R8Z(new Date());h8Z.setFullYear(h8Z.getFullYear()-A8Z);}else if(b8Z===R90){h8Z=R8Z(new Date());h8Z.setDate(h8Z.getDate()-A8Z*7);}else if(b8Z==="day"&&A8Z==1){X8Z=h8Z.getHours();w8Z=h8Z.getMinutes();N8Z=h8Z.getSeconds();J8Z=h8Z.getMilliseconds();h8Z=o8Z.previous();h8Z.setHours(X8Z);h8Z.setMinutes(w8Z);h8Z.setSeconds(N8Z);h8Z.setMilliseconds(J8Z);}else{Y2V.h7D(9);h8Z=o8Z.previous(Y2V.j7D(A8Z,1));}E8Z.dtLeft=h8Z;if(b8Z===F90){E8Z.goIntoFuture=!!1;E8Z.dtRight=new Date(h8Z);B8Z=o8Z.market.zclose_hour;r8Z=o8Z.market.zclose_minute;E8Z.dtRight.setHours(B8Z?B8Z:23);E8Z.dtRight.setMinutes(B8Z?r8Z:59);E8Z.dtRight.setSeconds(0);E8Z.dtRight=S8Z.market._convertFromMarketTZ(E8Z.dtRight,this.dataZone);E8Z.dtLeft.setHours(o8Z.market.zopen_hour);E8Z.dtLeft.setMinutes(o8Z.market.zopen_minute);E8Z.dtLeft.setSeconds(0);E8Z.dtLeft=S8Z.market._convertFromMarketTZ(E8Z.dtLeft,this.dataZone);}if(E8Z.maintainPeriodicity){E8Z.periodicity={};E8Z.periodicity.interval=this.layout.interval;E8Z.periodicity.period=this.layout.periodicity;}S8Z.spanLock=!1;y8Z=this;function R8Z(m8Z){m8Z.setHours(0);m8Z.setMinutes(0);m8Z.setSeconds(0);m8Z.setMilliseconds(0);return m8Z;}this.setRange(E8Z,function(x8Z){if(!F8Z.maintainPeriodicity){y8Z.layout.setSpan={base:F8Z.base,multiplier:F8Z.multiplier};y8Z.changeOccurred("layout");}if(b8Z==="ytd"||b8Z=="today"){S8Z.spanLock=!!"1";}if(U8Z){U8Z(x8Z);}});};E7.prototype.getSpanCandleWidth=function(D8Z){var L90,k90,e8Z,d8Z,l8Z,a8Z,W8N,a8N,w8N,t8Z,i8Z;L90="d";L90+="ay";k90="yea";k90+="r";e8Z=D8Z.split(",");if(e8Z.length<2){return;}d8Z=parseFloat(e8Z[0]);l8Z=new Date();a8Z=new Date();if(e8Z["1"*1]==k90){a8Z.setFullYear(a8Z.getFullYear()-d8Z);}else if(e8Z["1"|0]=="month"){a8Z.setMonth(a8Z.getMonth()-d8Z);}else if(e8Z["1"*1]==L90){a8Z.setDate(a8Z.getDate()-d8Z);}else if(e8Z[1]=="week"){Y2V.Z7D(10);W8N=Y2V.j7D(1,"1319602839");a8N=1436299309;w8N=2;for(var S8N=1;Y2V.l1N(S8N.toString(),S8N.toString().length,75860)!==W8N;S8N++){a8Z.setDate(a8Z.getDate()/(1+d8Z));w8N+=2;}if(Y2V.l1N(w8N.toString(),w8N.toString().length,"82352"|0)!==a8N){a8Z.setDate(a8Z.getDate()-7*d8Z);}}Y2V.Z7D(27);var s7E=Y2V.W7D(45,13,2);Y2V.h7D(27);var g7E=Y2V.W7D(42,16,2);Y2V.Z7D(5);var j7E=Y2V.W7D(32,8,16);t8Z=(l8Z.getTime()-a8Z.getTime())/1000/s7E/g7E/j7E;Y2V.h7D(71);t8Z=Y2V.W7D(5,"7",t8Z);i8Z=this.chart.width/t8Z;return i8Z;};E7.prototype.setMaxTicks=function(M8Z,u8Z){var V8Z;if(!u8Z){u8Z={};}M8Z=Math.round(M8Z);if(M8Z<2){M8Z=2;}V8Z=u8Z.padding;if(!V8Z){V8Z=0;}this.layout.candleWidth=(this.chart.width-V8Z)/M8Z;if(!this.layout.candleWidth){this.layout.candleWidth=+"8";}this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-0.499);if(u8Z.padding||u8Z.padding===0){Y2V.Z7D(0);this.chart.scroll=Y2V.j7D(1,M8Z);}};E7.prototype.construct=function(){var A90;A90="c";A90+="ha";A90+="r";A90+="t";Y2V.h7D(1);this.stackPanel("chart",A90,Y2V.W7D(0,"1"));this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.cx=0;this.cy=0;this.micropixels=+"0";this.chart.panel.subholder.appendChild(this.controls.home);this.callbackListeners={};this.longHoldTime=1000;};E7.prototype.addEventListener=function(T8Z,z8Z){var s8Z;if(!T8Z){T8Z="*";}s8Z=this.callbackListeners[T8Z];if(!s8Z){this.callbackListeners[T8Z]=s8Z=[];}s8Z.push(z8Z);return{type:T8Z,cb:z8Z};};E7.prototype.removeEventListener=function(g8Z,f8Z){var H8Z;if(typeof g8Z!="object"){g8Z={type:g8Z,cb:f8Z};}if(!g8Z.type){g8Z.type=(13.39,3168)!==7110?270.64==+"617.34"?8780<=(+"8220","3420"*1)?("0x163e"-0,"l"):!1:"*":"Z";}H8Z=this.callbackListeners[g8Z.type];if(!H8Z){return;}for(var j8Z=0;j8Z<H8Z.length;j8Z++){if(H8Z[j8Z]===g8Z.cb){H8Z.splice(j8Z);if(!H8Z.length){g8Z[g8Z.type]=null;}return;}}};E7.prototype.dispatch=function(p8Z,q8Z){var I8Z;if(this.callbacks[p8Z]){this.callbacks[p8Z].call(this,q8Z);}I8Z=this.callbackListeners[p8Z];if(I8Z){for(var v8Z=0;v8Z<I8Z.length;v8Z++){I8Z[v8Z].call(this,q8Z);}}I8Z=this.callbackListeners["*"];if(I8Z){for(var W8Z=+"0";W8Z<I8Z.length;W8Z++){I8Z[W8Z].call(this,q8Z);}}};E7.prototype.deleteYAxisIfUnused=function(Z8Z,C8Z){var c8Z,Q8Z;if(!C8Z){return;}if(C8Z===Z8Z.yAxis){return;}for(var G6Z in this.chart.seriesRenderers){c8Z=this.chart.seriesRenderers[G6Z];if(c8Z.params.yAxis===C8Z){if(c8Z.seriesParams.length!==0){return;}}}for(Q8Z=0;Q8Z<Z8Z.yaxisLHS.length;Q8Z++){if(Z8Z.yaxisLHS[Q8Z]===C8Z){Z8Z.yaxisLHS.splice(Q8Z,1);}}for(Q8Z=1;Q8Z<Z8Z.yaxisRHS.length;Q8Z++){if(Z8Z.yaxisRHS[Q8Z]===C8Z){Z8Z.yaxisRHS.splice(Q8Z,1);}}this.resizeCanvas();this.adjustPanelPositions();};E7.prototype.addYAxis=function(K6Z,k6Z){var t10,h6Z;t10="l";t10+="e";t10+="f";t10+="t";if(!k6Z){return;}if(!K6Z.yaxisLHS){K6Z.yaxisLHS=[];K6Z.yaxisRHS=[];if(K6Z.yAxis.position=="right"){K6Z.yaxisRHS.push(K6Z.yAxis);}else{K6Z.yaxisLHS.push(K6Z.yAxis);}}h6Z=K6Z.yaxisLHS.concat(K6Z.yaxisRHS);for(var L6Z=0;L6Z<h6Z.length;L6Z++){if(h6Z[L6Z]===k6Z){return;}}if(k6Z.position===t10){K6Z.yaxisLHS.unshift(k6Z);}else{k6Z.position="right";K6Z.yaxisRHS.push(k6Z);}this.preAdjustScroll();this.resizeCanvas();this.adjustPanelPositions();this.postAdjustScroll();};E7.prototype.calculateYAxisPositions=function(){var o6Z,P6Z,W10,F6Z,U6Z,R6Z,E6Z,b6Z,S6Z;o6Z=[];for(var y6Z in this.charts){o6Z.push(y6Z);}for(var B6Z in this.panels){P6Z=this.panels[B6Z];if(P6Z.name===P6Z.chart.name)continue;o6Z.push(B6Z);}for(var A6Z=0;A6Z<o6Z.length;A6Z++){W10="p";W10+="x";F6Z=this.panels[o6Z[A6Z]];if(!F6Z)continue;U6Z=F6Z.name===F6Z.chart.name;if(!F6Z.yaxisLHS){F6Z.yaxisLHS=[];F6Z.yaxisRHS=[];if(F6Z.name===F6Z.chart.name||F6Z.yAxis.position){if(F6Z.yAxis.position=="left"){F6Z.yaxisLHS.push(F6Z.yAxis);}else{F6Z.yaxisRHS.push(F6Z.yAxis);}}else{R6Z=F6Z.chart.panel.yAxis.position;if(!R6Z||R6Z=="right"){F6Z.yaxisRHS.push(F6Z.yAxis);}else{F6Z.yaxisLHS.push(F6Z.yAxis);}}}if(!F6Z.yAxis.width){F6Z.yAxis.width=this.yaxisWidth;}Y2V.Z7D(1);F6Z.yaxisTotalWidthRight=Y2V.W7D(0,"0");F6Z.yaxisTotalWidthLeft=0;for(E6Z=0;E6Z<F6Z.yaxisLHS.length;E6Z++){b6Z=F6Z.yaxisLHS[E6Z];F6Z.yaxisTotalWidthLeft+=b6Z.width;b6Z.justifyRight=b6Z.justifyRight===null?F6Z.chart.yAxis.justifyRight:b6Z.justifyRight;if(b6Z.justifyRight===null){b6Z.justifyRight=!"";}}for(E6Z="0"|0;E6Z<F6Z.yaxisRHS.length;E6Z++){b6Z=F6Z.yaxisRHS[E6Z];F6Z.yaxisTotalWidthRight+=b6Z.width;}S6Z=0;for(E6Z="0"|0;E6Z<F6Z.yaxisLHS.length;E6Z++){b6Z=F6Z.yaxisLHS[E6Z];b6Z.left=S6Z;S6Z+=b6Z.width;}S6Z=this.width-F6Z.yaxisTotalWidthRight;for(E6Z=0;E6Z<F6Z.yaxisRHS.length;E6Z++){b6Z=F6Z.yaxisRHS[E6Z];b6Z.left=S6Z;S6Z+=b6Z.width;}if(typeof this.yaxisLeft!="undefined"){F6Z.chart.yaxisPaddingRight=this.yaxisLeft;}F6Z.yaxisCalculatedPaddingRight=F6Z.yaxisTotalWidthRight;if(F6Z.chart.yaxisPaddingRight||F6Z.chart.yaxisPaddingRight===+"0"){F6Z.yaxisCalculatedPaddingRight=F6Z.chart.yaxisPaddingRight;}F6Z.yaxisCalculatedPaddingLeft=F6Z.yaxisTotalWidthLeft;if(F6Z.chart.yaxisPaddingLeft||F6Z.chart.yaxisPaddingLeft===0){F6Z.yaxisCalculatedPaddingLeft=F6Z.chart.yaxisPaddingLeft;}if(U6Z){F6Z.left=F6Z.yaxisCalculatedPaddingLeft;F6Z.right=this.width-F6Z.yaxisCalculatedPaddingRight;}else{F6Z.left=F6Z.chart.panel.left;F6Z.right=F6Z.chart.panel.right;}F6Z.width=F6Z.right-F6Z.left;F6Z.handle.style.left=F6Z.left+W10;F6Z.handle.style.width=F6Z.width+"px";if(U6Z){F6Z.chart.left=F6Z.left;F6Z.chart.right=F6Z.right;F6Z.chart.width=F6Z.right-F6Z.left;}}};E7.prototype.initializeChart=function(a6Z){var G10,X10,P10,w10,a10,S10,K10,T10,Y6Z,e10,J6Z,n6Z,X6Z,O6Z,w6Z,r6Z,N6Z;G10="ini";G10+="t";G10+="ia";G10+="lizeChart";X10="0";X10+="px";P10="2";P10+="d";w10="c";w10+="a";w10+="nv";w10+="as";a10="ca";a10+="n";a10+="vas";if(this.runPrepend("initializeChart",arguments)){return;}if(!this.chart.symbolObject.symbol){this.chart.symbolObject.symbol=this.chart.symbol;}if(this.locale){this.setLocale(this.locale);}if(!this.displayZone&&E7.defaultDisplayTimeZone){this.setTimeZone(null,E7.defaultDisplayTimeZone);}this.calculateYAxisPositions();Y2V.Z7D(10);this.micropixels=Y2V.W7D(1,"0");if(a6Z){this.chart.container=a6Z;}this.chart.container.stx=this;if(!this.chart.container.STXRegistered){this.chart.container.STXRegistered=!![];E7.registeredContainers.push(this.chart.container);}if(b7.isSurface){if(!this.gesture){this.gesture=new MSGesture();if(this.manageTouchAndMouse){this.gesture.target=this.chart.container;}else{this.gesture.target=document.body;}this.gesturePointerId=null;}}this.registerHTMLElements();if(this.chart.canvas&&document.createElement(a10).getContext){if(!this.chart.canvas.id){this.chart.container.removeChild(this.chart.canvas);this.chart.canvas=null;}if(this.chart.tempCanvas&&!this.chart.tempCanvas.id){this.chart.container.removeChild(this.chart.tempCanvas);this.chart.tempCanvas=null;}if(this.floatCanvas&&!this.floatCanvas.id){this.chart.container.removeChild(this.floatCanvas);this.floatCanvas=null;}}else{if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}if(this.layout.candleWidth>200){this.layout.candleWidth=8;}}if(!this.chart.canvas){this.chart.canvas=document.createElement(w10);}if(!this.chart.canvas.getContext){S10="b";S10+="lo";S10+="c";S10+="k";K10="#ie8ca";K10+="nvas";this.chart.canvas=this.chart.container.querySelectorAll(K10)[0];if(!this.chart.canvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.canvas);}}this.chart.canvas.style.display=S10;}else{this.chart.container.appendChild(this.chart.canvas);}this.chart.canvas.style.position="absolute";this.chart.canvas.style.left="0px";this.chart.context=this.chart.canvas.getContext("2d");this.chart.canvas.context=this.chart.context;this.chart.context.lineWidth=1;if(!this.chart.tempCanvas){this.chart.tempCanvas=document.createElement("canvas");}if(!this.chart.tempCanvas.getContext){this.chart.tempCanvas=this.chart.container.querySelectorAll("#ie8canvasTemp")[Y2V.W7D(0,"0",Y2V.Z7D(1))];if(!this.chart.tempCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.chart.tempCanvas.style.display="block";}else{this.chart.container.appendChild(this.chart.tempCanvas);}this.chart.tempCanvas.style.position="absolute";this.chart.tempCanvas.style.left="0px";this.chart.tempCanvas.context=this.chart.tempCanvas.getContext(P10);this.chart.tempCanvas.context.lineWidth=1;if(!this.floatCanvas){this.floatCanvas=document.createElement("canvas");}if(!this.floatCanvas.getContext){T10="#";T10+="ie8canvasF";T10+="loat";this.floatCanvas=this.chart.container.querySelectorAll(T10)[Y2V.j7D("0",0,Y2V.h7D(9))];if(!this.floatCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.floatCanvas.style.display="block";}else{this.chart.container.appendChild(this.floatCanvas);}this.floatCanvas.style.position="absolute";this.floatCanvas.style.left=X10;this.floatCanvas.context=this.floatCanvas.getContext("2d");this.floatCanvas.context.lineWidth=+"1";this.resizeCanvas();if(b7.isAndroid){this.chart.tempCanvas.ontouchstart=function(e6Z){if(e6Z.preventDefault){e6Z.preventDefault();}};this.floatCanvas.ontouchstart=function(d6Z){if(d6Z.preventDefault){d6Z.preventDefault();}};}this.panels.chart.display=this.chart.symbol;if(this.chart.symbolDisplay){this.panels.chart.display=this.chart.symbolDisplay;}this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.calculateYAxisMargins(this.chart.panel.yAxis);this.initialWhitespace=this.preferences.whitespace;if(this.chart.dataSet&&this.chart.dataSet.length>0){this.chart.scroll=Math.floor(this.chart.width/this.layout.candleWidth);Y6Z=Math.round(this.preferences.whitespace/this.layout.candleWidth);this.chart.scroll-=Y6Z;}if(b7.touchDevice){e10="#overlay";e10+="TrashC";e10+="an";J6Z=S7(".overlayEdit",this.chart.container);n6Z=S7(e10,this.chart.container);X6Z=S7("#vectorTrashCan",this.chart.container);if(J6Z){b7.safeClickTouch(J6Z,function(t6Z){return function(l6Z){t6Z.deleteHighlighted(!0,!"");};}(this));if(n6Z){b7.safeClickTouch(n6Z,function(i6Z){return function(D6Z){i6Z.deleteHighlighted(!1);};}(this));}}else if(n6Z){b7.safeClickTouch(n6Z,function(M6Z){return function(u6Z){M6Z.deleteHighlighted(!![]);};}(this));}if(X6Z){b7.safeClickTouch(X6Z,function(V6Z){return function(T6Z){V6Z.deleteHighlighted(!!1);};}(this));}}if(this.manageTouchAndMouse){this.registerTouchAndMouseEvents();}this.chart.container.onmouseout=function(s6Z){return function(z6Z){s6Z.handleMouseOut(z6Z);};}(this);if(this.controls.chartControls){this.controls.chartControls.style.display="block";}this.abortDrawings();this.undoStamps=[];for(var x6Z in this.panels){O6Z=this.panels[x6Z];if(O6Z.markerHolder){this.chart.container.removeChild(O6Z.markerHolder);O6Z.markerHolder=null;}}for(var m6Z in this.plugins){w6Z=this.plugins[m6Z];if(w6Z.display){if(w6Z.initializeChart){w6Z.initializeChart(this);}}}if(!this.resizeListenerInitialized){this.resizeListenerInitialized=!!{};r6Z=function(g6Z){return function(H6Z){g6Z.resizeChart();};};if(window.attachEvent){window.attachEvent("onresize",r6Z(this));}else{N6Z=r6Z(this);window.addEventListener("resize",N6Z,!!{});this.eventListeners.push({"element":window,"event":"resize","function":N6Z});}}if(this.chart.baseline.userLevel){this.chart.baseline.userLevel=null;}this.setResizeTimer(this.resizeDetectMS);this.runAppend(G10,arguments);};E7.prototype.destroy=function(){var f6Z;this.setResizeTimer(0);if(this.quoteDriver){this.quoteDriver.die();}this.styles={};for(var j6Z=0;j6Z<this.eventListeners.length;j6Z++){f6Z=this.eventListeners[j6Z];f6Z.element.removeEventListener(f6Z.event,f6Z["function"]);}};E7.prototype.handleMouseOut=function(I6Z){var o10,v6Z,W6Z;I6Z=I6Z||window.event;if(!b7.withinElement(this.chart.container,I6Z.pageX,I6Z.pageY)){o10="h";o10+="andleMouseOut";if(this.runPrepend("handleMouseOut",arguments)){return;}this.undisplayCrosshairs();this.grabbingScreen=!1;this.touches=[];this.touching=!!0;if(this.activeDrawing&&this.userPointerDown){this.userPointerDown=!{};this.drawingLine=!!0;v6Z=this.backOutY(I6Z.pageY);W6Z=this.backOutX(I6Z.pageX);this.drawingClick(this.currentPanel,W6Z,v6Z);}E7.insideChart=!"1";this.displaySticky();this.runAppend(o10,arguments);}};E7.prototype.registerTouchAndMouseEvents=function(){var p10,d10,H10,c10,y10,p6Z,C6Z,q6Z,Q6Z,h10,u10,I10,U10,E10,O10,M10,q10,O6N,E6N,q6N,Z6Z;p10="DOMMous";p10+="eSc";p10+="roll";d10="whee";d10+="l";H10="onw";H10+="heel";c10="d";c10+="i";c10+="v";y10="#z";y10+="oo";y10+="m";y10+="Out";if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!1;p6Z=this.chart.container;C6Z=S7("#home",this.controls.chartControls);q6Z=S7("#zoomIn",this.controls.chartControls);Q6Z=S7(y10,this.controls.chartControls);if(!b7.touchDevice){p6Z.addEventListener("mousemove",function(c6Z){return function(G1Z){c6Z.mousemove(G1Z);};}(this),!!"");p6Z.addEventListener("mousedown",function(K1Z){return function(k1Z){K1Z.mousedown(k1Z);};}(this),!!0);p6Z.addEventListener("mouseup",function(L1Z){return function(h1Z){L1Z.mouseup(h1Z);};}(this),![]);}else{if(b7.isSurface){h10="mous";h10+="e";h10+="up";u10="moused";u10+="ow";u10+="n";p6Z.addEventListener("mousemove",function(F1Z){return function(E1Z){F1Z.msMouseMoveProxy(E1Z);};}(this),!"1");p6Z.addEventListener(u10,function(b1Z){return function(S1Z){b1Z.msMouseDownProxy(S1Z);};}(this),!{});p6Z.addEventListener(h10,function(o1Z){return function(A1Z){o1Z.msMouseUpProxy(A1Z);};}(this),![]);if(window.navigator.msPointerEnabled){I10="MS";I10+="Po";I10+="interUp";U10="MSGestureS";U10+="tart";p6Z.addEventListener("MSPointerDown",function(P1Z){return function(U1Z){return P1Z.startProxy(U1Z);};}(this),![]);p6Z.addEventListener(U10,function(R1Z){return function(B1Z){R1Z.gestureInEffect=!0;};}(this),!"1");p6Z.addEventListener("MSGestureChange",function(y1Z){return function(n1Z){return y1Z.touchmove(n1Z);};}(this),!{});p6Z.addEventListener("MSGestureEnd",function(O1Z){return function(w1Z){O1Z.gestureInEffect=!!0;return O1Z.touchend(w1Z);};}(this),!"1");p6Z.addEventListener("MSPointerMove",function(N1Z){return function(J1Z){N1Z.moveProxy(J1Z);};}(this),!{});p6Z.addEventListener(I10,function(X1Z){return function(r1Z){return X1Z.endProxy(r1Z);};}(this),!!0);}else{p6Z.addEventListener("pointerdown",function(Y1Z){return function(m1Z){return Y1Z.startProxy(m1Z);};}(this),![]);p6Z.addEventListener("MSGestureStart",function(x1Z){return function(a1Z){x1Z.gestureInEffect=!0;};}(this),!1);p6Z.addEventListener("MSGestureChange",function(e1Z){return function(d1Z){return e1Z.touchmove(d1Z);};}(this),!"1");p6Z.addEventListener("MSGestureEnd",function(t1Z){return function(l1Z){t1Z.gestureInEffect=!{};return t1Z.touchend(l1Z);};}(this),![]);p6Z.addEventListener("pointermove",function(i1Z){return function(D1Z){i1Z.moveProxy(D1Z);};}(this),!{});p6Z.addEventListener("pointerup",function(M1Z){return function(u1Z){return M1Z.endProxy(u1Z);};}(this),!{});}}else{E10="tou";E10+="chend";O10="tou";O10+="chst";O10+="art";if(!b7.isAndroid&&!b7.ipad&&!b7.iphone){M10="mouse";M10+="u";M10+="p";p6Z.addEventListener("mousemove",function(V1Z){return function(T1Z){V1Z.iosMouseMoveProxy(T1Z);};}(this),!1);p6Z.addEventListener("mousedown",function(s1Z){return function(z1Z){s1Z.iosMouseDownProxy(z1Z);};}(this),!{});p6Z.addEventListener(M10,function(g1Z){return function(H1Z){g1Z.iosMouseUpProxy(H1Z);};}(this),![]);}p6Z.addEventListener(O10,function(j1Z){return function(f1Z){j1Z.touchstart(f1Z);};}(this),![]);p6Z.addEventListener("touchmove",function(I1Z){return function(v1Z){I1Z.touchmove(v1Z);};}(this),!"1");p6Z.addEventListener(E10,function(W1Z){return function(p1Z){W1Z.touchend(p1Z);};}(this),!1);if(q6Z){q10="o";q10+="nMo";q10+="useOut";q6Z.removeAttribute("onMouseOver");q6Z.removeAttribute(q10);}if(Q6Z){Y2V.h7D(9);O6N=-Y2V.W7D("623674281",0);E6N=1238750904;Y2V.h7D(10);q6N=Y2V.W7D(1,"2");for(var H6N=1;Y2V.Y1N(H6N.toString(),H6N.toString().length,11529)!==O6N;H6N++){Q6Z.removeAttribute("onMouseOver");q6N+=2;}if(Y2V.l1N(q6N.toString(),q6N.toString().length,"33282"|0)!==E6N){Q6Z.removeAttribute("");}Q6Z.removeAttribute("onMouseOut");}}}Z6Z="wheel"in document.createElement(c10)||H10 in document?d10:document.onmousewheel!==undefined?"mousewheel":p10;p6Z.addEventListener(Z6Z,function(q1Z,Q1Z){return function(Z1Z){q1Z.mouseWheel(Z1Z,Q1Z);};}(this,Z6Z),!!"");};E7.prototype.rightClickHighlighted=function(){var C10;C10="right";C10+="ClickHighl";C10+="ighted";if(this.runPrepend(C10,arguments)){return;}this.deleteHighlighted(!"");this.runAppend("rightClickHighlighted",arguments);};E7.prototype.deleteHighlighted=function(U2Z,P2Z){var D10,G2Z,b2Z,o2Z,F2Z,C1Z,k2Z,h2Z,E2Z;D10="delete";D10+="Highlighted";if(this.runPrepend(D10,arguments)){return;}this.cancelTouchSingleClick=!!{};b7.clearCanvas(this.chart.tempCanvas,this);for(var c1Z=this.drawingObjects.length-1;c1Z>=0;c1Z--){G2Z=this.drawingObjects[c1Z];if(G2Z.highlighted&&!G2Z.permanent){b2Z=G2Z.abort();if(!b2Z){o2Z=b7.shallowClone(this.drawingObjects);this.drawingObjects.splice(c1Z,1);this.undoStamp(o2Z,b7.shallowClone(this.drawingObjects));}this.changeOccurred("vector");}}for(var K2Z in this.overlays){F2Z=this.overlays[K2Z];if(F2Z.highlight&&!F2Z.permanent){if(U2Z||P2Z){this.rightClickOverlay(K2Z,P2Z);}else{this.removeOverlay(K2Z);}}}C1Z=this.currentPanel.chart;for(var S2Z in C1Z.seriesRenderers){k2Z=C1Z.seriesRenderers[S2Z];for(var L2Z=k2Z.seriesParams.length-1;L2Z>=0;L2Z--){h2Z=k2Z.seriesParams[L2Z];if(h2Z.highlight&&!h2Z.permanent){k2Z.removeSeries(h2Z.field);}}}E2Z=!{};for(var A2Z in C1Z.series){if(C1Z.series[A2Z].parameters.isComparison){E2Z=!![];}}if(!E2Z){this.setComparison(!"1",C1Z);}this.draw();if(this.controls.mSticky){this.controls.mSticky.style.display="none";this.controls.mSticky.children[0].innerHTML="";}this.runAppend("deleteHighlighted",arguments);};E7.prototype.panelExists=function(y2Z){var B2Z;for(var R2Z in this.panels){B2Z=this.panels[R2Z];if(B2Z.name==y2Z){return!!{};}}return!"1";};E7.prototype.hideCrosshairs=function(){this.displayCrosshairs=!1;};E7.prototype.showCrosshairs=function(){this.displayCrosshairs=!!"1";};E7.prototype.grabHandle=function(n2Z){if(this.runPrepend("grabHandle",arguments)){return;}if(!n2Z){return;}E7.crosshairY=n2Z.top+this.top;E7.resizingPanel=n2Z;this.drawTemporaryPanel();b7.appendClassName(n2Z.handle,"stx-grab");this.runAppend("grabHandle",arguments);};E7.prototype.releaseHandle=function(){if(this.runPrepend("releaseHandle",arguments)){return;}b7.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(E7.resizingPanel){b7.unappendClassName(E7.resizingPanel.handle,"stx-grab");}E7.resizingPanel=null;this.runAppend("releaseHandle",arguments);};E7.prototype.storePanels=function(){var w2Z,O2Z;if(!this.layout){this.layout={};}w2Z=this.layout;w2Z.panels={};for(var N2Z in this.panels){O2Z=this.panels[N2Z];w2Z.panels[O2Z.name]={"percent":O2Z.percent,"display":O2Z.display};}};E7.prototype.savePanels=function(J2Z){var b10;b10="la";b10+="yo";b10+="ut";this.storePanels();if(J2Z!==!!""){this.changeOccurred(b10);}};E7.prototype.resolveY=function(X2Z){return this.top+X2Z;};E7.prototype.resolveX=function(r2Z){return this.left+r2Z;};E7.prototype.backOutY=function(Y2Z){return Y2Z-this.top;};E7.prototype.backOutX=function(m2Z){return m2Z-this.left;};E7.prototype.cleanupRemovedStudy=function(x2Z){if(x2Z.libraryEntry){if(x2Z.libraryEntry.removeFN){x2Z.libraryEntry.removeFN(this,x2Z);}if(x2Z.libraryEntry.feed&&x2Z.libraryEntry.quoteFeed){this.detachTagAlongQuoteFeed(x2Z.libraryEntry.feed);}}for(var a2Z in this.plugins){if(a2Z.indexOf("{"+x2Z.id+(5740<(3500,570)?3241>(+"3340",86.9)?("569"*1,!!""):9.44e+3:"}"))>-1){delete this.plugins[a2Z];}}if(this.layout.studies){delete this.layout.studies[x2Z.name];}};E7.prototype.privateDeletePanel=function(e2Z){var l2Z,s10,D2Z;if(this.layout.studies){l2Z=this.layout.studies[e2Z.name];if(l2Z){this.cleanupRemovedStudy(l2Z);}}delete this.panels[e2Z.name];for(var i2Z in b7.Studies.studyPanelMap){if(b7.Studies.studyPanelMap[i2Z].panel==e2Z.name){delete b7.Studies.studyPanelMap[i2Z];}}for(var d2Z in this.overlays){if(this.overlays[d2Z].panel==e2Z.name){delete this.layout.studies[d2Z];delete this.overlays[d2Z];}}if(e2Z.holder){s10="pan";s10+="e";s10+="lName";this.chart.container.removeChild(e2Z.holder);D2Z=this.getMarkerArray(s10,e2Z.name);for(var t2Z=0;t2Z<D2Z.length;t2Z++){this.removeFromHolder(D2Z[t2Z]);}}e2Z.handle.parentNode.removeChild(e2Z.handle);};E7.prototype.panelClose=function(M2Z){var u2Z;if(!M2Z){return;}if(this.runPrepend("panelClose",arguments)){return;}this.cancelTouchSingleClick=!![];E7.drawingLine=!{};if(M2Z.soloing){this.panelSolo(M2Z);}if(this.charts[M2Z.name]){for(var V2Z in this.panels){u2Z=this.panels[V2Z];if(u2Z.chart.name==M2Z.name){this.privateDeletePanel(u2Z);}}delete this.charts[M2Z.name];}else{this.privateDeletePanel(M2Z);}this.showCrosshairs();this.createDataSet();this.adjustPanelPositions();this.draw();this.savePanels();this.runAppend("panelClose",arguments);};E7.prototype.deleteAllPanels=function(){var s2Z,r20,Y20,l20;for(var T2Z in this.panels){s2Z=this.panels[T2Z];this.privateDeletePanel(s2Z);}this.layout.panels={};r20=1091713230;Y20=1908187853;l20=2;for(var B20=1;Y2V.l1N(B20.toString(),B20.toString().length,33644)!==r20;B20++){this.panels={};l20+=2;}if(Y2V.Y1N(l20.toString(),l20.toString().length,60870)!==Y20){this.panels={};}};E7.prototype.panelUp=function(g2Z){var H2Z,j2Z,z2Z,f2Z;this.cancelTouchSingleClick=!"";E7.drawingLine=!"1";this.showCrosshairs();H2Z={};j2Z=0;for(z2Z in this.panels){if(z2Z==g2Z.name)break;j2Z++;}if(!j2Z){return;}f2Z=0;for(z2Z in this.panels){if(f2Z==j2Z-+"1"){H2Z[g2Z.name]=g2Z;}if(z2Z==g2Z.name)continue;H2Z[z2Z]=this.panels[z2Z];f2Z++;}this.panels=H2Z;this.adjustPanelPositions();this.draw();this.savePanels();};E7.prototype.panelDown=function(v2Z){var W2Z,p2Z,I2Z,Q2Z,q2Z;this.cancelTouchSingleClick=!0;E7.drawingLine=!{};this.showCrosshairs();W2Z={};p2Z=0;for(I2Z in this.panels){if(I2Z==v2Z.name)break;p2Z++;}Q2Z=+"0";for(I2Z in this.panels){Q2Z++;}if(p2Z==Q2Z-1){return;}q2Z=0;for(I2Z in this.panels){if(I2Z==v2Z.name){q2Z++;continue;}W2Z[I2Z]=this.panels[I2Z];if(q2Z==p2Z+1){W2Z[v2Z.name]=v2Z;}q2Z++;}this.panels=W2Z;this.adjustPanelPositions();this.draw();this.savePanels();};E7.prototype.panelSolo=function(Z2Z){var C2Z,g10,v10,j10;this.cancelTouchSingleClick=!!1;E7.drawingLine=![];this.showCrosshairs();C2Z=!![];if(Z2Z.soloing){g10="stx_";g10+="solo";g10+="_li";g10+="t";C2Z=![];Z2Z.soloing=![];b7.unappendClassName(Z2Z.solo,g10);Z2Z.percent=Z2Z.oldPercent;this.panels.chart.percent=this.panels.chart.oldPercent;}else{v10="ch";v10+="art";j10="stx_solo_l";j10+="it";Z2Z.soloing=!0;b7.appendClassName(Z2Z.solo,j10);if(Z2Z.name==v10){Z2Z.oldPercent=Z2Z.percent;}else{Z2Z.oldPercent=Z2Z.percent;this.panels.chart.oldPercent=this.panels.chart.percent;Y2V.h7D(3);var v7E=Y2V.j7D(10,10);Z2Z.percent=v7E-this.panels.chart.percent;}}for(var c2Z in this.panels){this.panels[c2Z].hidden=C2Z;}this.panels.chart.hidden=![];Z2Z.hidden=!1;this.adjustPanelPositions();this.draw();this.savePanels();};E7.prototype.calculatePanelPercent=function(G5Z){var K5Z;K5Z=G5Z.bottom-G5Z.top;G5Z.percent=K5Z/this.chart.canvasHeight;};E7.prototype.resizePanels=function(){var F5Z,h5Z,k5Z,L5Z;if(!E7.resizingPanel){return;}F5Z=!!"1";if(E7.crosshairY>this.resolveY(E7.resizingPanel.top)){F5Z=!{};}if(F5Z){L5Z=null;for(h5Z in this.panels){if(this.panels[h5Z]==E7.resizingPanel)break;if(this.panels[h5Z].hidden)continue;L5Z=this.panels[h5Z];}k5Z=this.backOutY(E7.crosshairY);if(k5Z<L5Z.top+30){Y2V.Z7D(9);var N7E=Y2V.W7D(270,240);k5Z=L5Z.top+N7E;E7.crosshairY=this.resolveY(k5Z);}L5Z.bottom=k5Z;E7.resizingPanel.top=k5Z;this.calculatePanelPercent(L5Z);this.calculatePanelPercent(E7.resizingPanel);}else{L5Z=null;for(h5Z in this.panels){if(this.panels[h5Z]==E7.resizingPanel)break;if(this.panels[h5Z].hidden)continue;L5Z=this.panels[h5Z];}k5Z=this.backOutY(E7.crosshairY);if(k5Z>E7.resizingPanel.bottom-30){k5Z=E7.resizingPanel.bottom-+"30";E7.crosshairY=this.resolveY(k5Z);}L5Z.bottom=k5Z;E7.resizingPanel.top=k5Z;this.calculatePanelPercent(L5Z);this.calculatePanelPercent(E7.resizingPanel);}this.adjustPanelPositions();this.draw();this.savePanels();};E7.prototype.adjustPanelPositions=function(){var Q10,B5Z,y5Z,n5Z,U5Z,R5Z,S5Z,A5Z,o5Z,E5Z,P5Z,N10,x10,b5Z,n10,V10;Q10="non";Q10+="e";if(!this.chart.symbol){return;}if(this.runPrepend("adjustPanelPositions",arguments)){return;}Y2V.h7D(9);B5Z=Y2V.j7D("0",0);y5Z=this.chart.canvasHeight;n5Z=0;U5Z=!{};R5Z=0;S5Z=0;A5Z=!"1";for(o5Z in this.panels){E5Z=this.panels[o5Z];if(isNaN(E5Z.percent)||E5Z.percent<=0){E5Z.percent=0.05;}if(E5Z.hidden)continue;R5Z+=E5Z.percent;S5Z++;if(E5Z.soloing){A5Z=!0;}}for(o5Z in this.panels){P5Z=+"0";E5Z=this.panels[o5Z];if(E5Z.hidden){if(E5Z.markerHolder){E5Z.markerHolder.style.display="none";}continue;}if(!U5Z){U5Z=!!{};E5Z.up.style.display="none";}else{if(this.displayIconsUpDown){E5Z.up.style.display="";}}if(A5Z){if(E5Z.soloing){if(this.displayIconsSolo){E5Z.solo.style.display="";}}else{N10="n";N10+="on";N10+="e";E5Z.solo.style.display=N10;}}else if(S5Z==1||S5Z==2){E5Z.solo.style.display="none";}else{if(this.displayIconsSolo){E5Z.solo.style.display="";}}if(S5Z==1){x10="no";x10+="n";x10+="e";E5Z.down.style.display=x10;}else{if(this.displayIconsUpDown){E5Z.down.style.display="";}}if(E5Z.editFunction){E5Z.edit.style.display="";}else{E5Z.edit.style.display="none";}E5Z.percent=E5Z.percent/R5Z;E5Z.top=B5Z;E5Z.bottom=E5Z.top+y5Z*E5Z.percent;E5Z.height=E5Z.bottom-E5Z.top;if(E5Z.chart.name==E5Z.name){E5Z.chart.top=E5Z.top;E5Z.chart.bottom=E5Z.bottom;E5Z.chart.height=E5Z.height;}b5Z=E5Z.yAxis;if(b5Z.zoom&&b5Z.height>0){P5Z=b5Z.zoom/b5Z.height;}this.adjustYAxisHeightOffset(E5Z,b5Z);b5Z.top=E5Z.top+b5Z.topOffset;b5Z.bottom=E5Z.bottom-b5Z.bottomOffset;b5Z.height=b5Z.bottom-b5Z.top;if(P5Z){b5Z.zoom=P5Z*b5Z.height;if(b5Z.zoom>b5Z.height){Y2V.h7D(1);b5Z.zoom=Y2V.W7D(0,"0");}}B5Z=E5Z.bottom;if(!b5Z.high&&b5Z.high!==0){Y2V.Z7D(9);b5Z.high=Y2V.W7D("100",0);b5Z.low=0;b5Z.shadow=100;}b5Z.multiplier=b5Z.height/b5Z.shadow;if(E5Z.holder){n10="p";n10+="x";V10="p";V10+="x";E5Z.holder.style.right="0px";E5Z.holder.style.top=E5Z.top+"px";E5Z.holder.style.left="0px";E5Z.holder.style.height=E5Z.height+V10;E5Z.subholder.style.left=E5Z.left+"px";E5Z.subholder.style.width=E5Z.width+n10;E5Z.subholder.style.top="0px";if(b5Z.height>=0){E5Z.subholder.style.height=b5Z.height+"px";}}}if(o5Z){this.panels[o5Z].down.style.display=Q10;}if(S5Z=="2"*1&&!A5Z){this.panels.chart.solo.style.display="";}if(this.controls.chartControls&&this.panels.chart){Y2V.Z7D(9);var x7E=Y2V.j7D(16,15);this.controls.chartControls.style.bottom=this.chart.canvasHeight-this.panels.chart.bottom+"22"*x7E+"px";}this.clearPixelCache();this.adjustDrawings();this.runAppend("adjustPanelPositions",arguments);};E7.prototype.makeMarkerHelper=function(){this.markerHelper={chartMap:{},classMap:{}};};E7.prototype.addToHolder=function(O5Z){var N5Z,J5Z,w5Z;N5Z=this.panels[O5Z.params.panelName];if(!N5Z){return;}if(b7.derivedFrom(O5Z.params.node,b7.Marker.NodeCreator)){O5Z.stxNodeCreator=O5Z.params.node;O5Z.node=O5Z.stxNodeCreator.node;}else{O5Z.node=O5Z.params.node;}if(!this.markerHelper){this.makeMarkerHelper();}if(O5Z.params.chartContainer){this.container.appendChild(O5Z.node);}else if(O5Z.params.includeAxis){N5Z.holder.appendChild(O5Z.node);}else{N5Z.subholder.appendChild(O5Z.node);}J5Z=O5Z.params.label;if(!this.markers[J5Z]){this.markers[J5Z]=[];}this.markers[J5Z].push(O5Z);O5Z.chart=N5Z.chart;if(!this.markerHelper.chartMap[O5Z.chart.name]){this.markerHelper.chartMap[O5Z.chart.name]={dataSetLength:"0"*1,markers:[]};}this.markerHelper.chartMap[O5Z.chart.name].markers.push(O5Z);if(!O5Z.className){console.log("Marker objects must have a member className");}w5Z=this.markerHelper.classMap[O5Z.className];if(!w5Z){w5Z=this.markerHelper.classMap[O5Z.className]={};}if(!w5Z[O5Z.params.panelName]){w5Z[O5Z.params.panelName]=[];}w5Z[O5Z.params.panelName].push(O5Z);this.setMarkerTick(O5Z);};E7.prototype.getMarkerArray=function(x5Z,a5Z){var X5Z,Y10,r10,r5Z;X5Z=[];for(var Y5Z in this.markers){for(var m5Z=0;m5Z<this.markers[Y5Z].length;m5Z++){Y10="la";Y10+="be";Y10+="l";r10="p";r10+="anelName";r5Z=this.markers[Y5Z][m5Z];if(x5Z==r10){if(r5Z.params.panelName==a5Z){X5Z.push(r5Z);}}else if(x5Z==Y10){if(Y5Z==a5Z){X5Z.push(r5Z);}}else if(x5Z=="all"){X5Z.push(r5Z);}}}return X5Z;};E7.prototype.removeFromHolder=function(d5Z){var t5Z,l5Z,e5Z,i5Z,M5Z,D5Z;t5Z=this.panels[d5Z.params.panelName];if(t5Z){if(d5Z.node.parentNode==t5Z.holder){t5Z.holder.removeChild(d5Z.node);}else if(d5Z.node.parentNode==t5Z.subholder){t5Z.subholder.removeChild(d5Z.node);}else if(d5Z.node.parentNode==this.container){this.container.removeChild(d5Z.node);}}l5Z=this.markers[d5Z.params.label];if(!l5Z){return;}for(e5Z=0;e5Z<l5Z.length;e5Z++){if(l5Z[e5Z]===d5Z){l5Z.splice(e5Z,1);break;}}i5Z=this.markerHelper.chartMap[d5Z.chart.name];if(i5Z){for(e5Z=0;e5Z<i5Z.markers.length;e5Z++){if(i5Z.markers[e5Z]===d5Z){i5Z.markers.splice(e5Z,+"1");break;}}}M5Z=this.markerHelper.classMap[d5Z.className];if(M5Z){D5Z=M5Z[d5Z.params.panelName];if(D5Z){for(e5Z=0;e5Z<D5Z.length;e5Z++){if(D5Z[e5Z]===d5Z){D5Z.splice(e5Z,+"1");break;}}}}};E7.prototype.establishMarkerTicks=function(){var T5Z,u5Z;if(!this.markerHelper){this.makeMarkerHelper();}T5Z=this.markerHelper.chartMap;for(var s5Z in T5Z){u5Z=T5Z[s5Z];if(u5Z.dataSetLength==this.charts[s5Z].dataSet.length)continue;for(var V5Z=0;V5Z<u5Z.markers.length;V5Z++){this.setMarkerTick(u5Z.markers[V5Z]);}}};E7.prototype.futureTickIfDisplayed=function(H5Z){var z5Z,f5Z,W5Z,p5Z,Q5Z,v5Z,j5Z,q5Z,I5Z;z5Z=H5Z.chart;if(z5Z.dataSet.length<1){return;}f5Z=z5Z.xaxis[z5Z.xaxis.length-+"1"].DT;Y2V.Z7D(9);var V7E=Y2V.j7D(60008,8);f5Z=new Date(f5Z.getTime()-this.timeZoneOffset*V7E);if(H5Z.params.x>f5Z){return;}W5Z=z5Z.maxTicks-z5Z.dataSegment.length;p5Z=z5Z.dataSet.length+W5Z;j5Z=new Date(z5Z.dataSet[z5Z.dataSet.length-+"1"].DT);q5Z=this.standardMarketIterator(j5Z,null,z5Z);I5Z=H5Z.params.x.getTime();for(var g5Z=z5Z.dataSet.length;g5Z<p5Z;g5Z++){Q5Z=j5Z.getTime();j5Z=q5Z.next();v5Z=j5Z.getTime();if(v5Z==I5Z){H5Z.tick=g5Z;return;}else if(v5Z>I5Z&&Q5Z<I5Z){Y2V.h7D(9);H5Z.tick=Math.max(Y2V.j7D(g5Z,1),0);return;}}};E7.prototype.setMarkerTick=function(Z5Z){var c5Z,k0Z,K0Z,G0Z,L0Z,h0Z;c5Z=Z5Z.chart;if(Z5Z.params.xPositioner=="master"&&Z5Z.params.x){Z5Z.tick=Math.floor(Z5Z.params.x/this.layout.periodicity);return;}else if(Z5Z.params.xPositioner=="date"&&Z5Z.params.x){G0Z=Z5Z.params.x.getTime();for(var C5Z=+"0";C5Z<c5Z.dataSet.length;C5Z++){L0Z=c5Z.dataSet[C5Z];K0Z=L0Z.DT.getTime();k0Z=K0Z;if(C5Z>0){k0Z=c5Z.dataSet[C5Z-1].DT.getTime();}if(K0Z==G0Z){Z5Z.tick=C5Z;return;}else if(K0Z>G0Z&&k0Z<G0Z){Y2V.Z7D(14);Z5Z.tick=Math.max(Y2V.j7D(C5Z,"1"),0);return;}else if(G0Z<K0Z){Z5Z.tick=null;return;}}if(c5Z.dataSet.length<1){return;}h0Z=new Date(c5Z.dataSet[C5Z-1].DT);if(h0Z.getTime()<G0Z){Z5Z.params.future=!![];}Z5Z.tick=null;}};E7.prototype.positionMarkers=function(){var F0Z;F0Z=this;if(!F0Z.markerHelper){return;}if(this.markerDelay||this.markerDelay===0){if(!this.markerTimeout){this.markerTimeout=setTimeout(E0Z,this.markerDelay);}}else{E0Z();}function E0Z(){var l10,o0Z,S0Z,b0Z,U0Z;l10="posi";l10+="t";l10+="io";l10+="nMarkers";if(F0Z.runPrepend(l10,arguments)){return;}F0Z.markerTimeout=null;for(var A0Z in F0Z.markerHelper.classMap){for(var P0Z in F0Z.markerHelper.classMap[A0Z]){o0Z=F0Z.markerHelper.classMap[A0Z][P0Z];S0Z=F0Z.panels[P0Z];if(o0Z.length){b0Z={stx:F0Z,arr:o0Z,panel:S0Z};b0Z.firstTick=S0Z.chart.dataSet.length-S0Z.chart.scroll;b0Z.lastTick=b0Z.firstTick+S0Z.chart.dataSegment.length;U0Z=o0Z[0].constructor.placementFunction;if(U0Z){U0Z(b0Z);}else{F0Z.defaultMarkerPlacement(b0Z);}}}}F0Z.runAppend("positionMarkers",arguments);}};E7.prototype.addChart=function(R0Z,B0Z){B0Z.name=R0Z;this.charts[R0Z]=B0Z;};E7.prototype.createPanel=function(r0Z,Y0Z,y0Z,n0Z){var O0Z,w0Z,N0Z,X0Z;if(this.runPrepend("createPanel",arguments)){return;}if(!n0Z){n0Z="chart";}O0Z=this.chart.canvasHeight;if(!y0Z){Y2V.h7D(10);y0Z=Y2V.j7D(0.20,O0Z);}Y2V.Z7D(3);w0Z=Y2V.W7D(y0Z,O0Z);Y2V.h7D(9);N0Z=Y2V.W7D(1,w0Z);for(var J0Z in this.panels){X0Z=this.panels[J0Z];X0Z.percent*=N0Z;}this.stackPanel(r0Z,Y0Z,w0Z,n0Z);this.adjustPanelPositions();this.savePanels(!!"");this.runAppend("createPanel",arguments);};E7.prototype.configurePanelControls=function(m0Z){var Z10,i10,B10,z10,x0Z,J10;Z10="n";Z10+="o";Z10+="n";Z10+="e";i10=".stx";i10+="-i";i10+="c";i10+="o-edit";B10=".s";B10+="tx-i";B10+="co-f";B10+="ocus";z10=".stx-";z10+="ico-close";x0Z=m0Z.name==m0Z.chart.name;m0Z.icons=S7(".stx-panel-control",m0Z.holder);m0Z.close=m0Z.icons.children[+"4"];m0Z.close=S7(z10,m0Z.icons).parentNode;b7.appendClassName(m0Z.icons,"stx-show");m0Z.title=S7(".stx-panel-title",m0Z.icons);m0Z.up=S7(".stx-ico-up",m0Z.icons).parentNode;m0Z.solo=S7(B10,m0Z.icons).parentNode;m0Z.down=S7(".stx-ico-down",m0Z.icons).parentNode;m0Z.edit=S7(i10,m0Z.icons).parentNode;if(!this.displayIconsUpDown){m0Z.up.style.display="none";}if(!this.displayIconsUpDown){m0Z.down.style.display="none";}if(!this.displayIconsSolo){m0Z.solo.style.display="none";}if(!this.displayIconsClose){J10="n";J10+="one";m0Z.close.style.display=J10;}if(!this.displayPanelResize){m0Z.handle.style.display=Z10;}m0Z.title.innerHTML="";m0Z.title.appendChild(document.createTextNode(m0Z.display));if(x0Z){b7.appendClassName(m0Z.title,"chart-title");b7.appendClassName(m0Z.icons,"stx-chart-panel");}if(!b7.touchDevice||b7.isSurface){m0Z.icons.onmouseover=function(a0Z){return function(e0Z){a0Z.hideCrosshairs();};}(this);}if(!b7.touchDevice||b7.isSurface){m0Z.icons.onmouseout=function(d0Z){return function(t0Z){d0Z.showCrosshairs();};}(this);}if(!b7.touchDevice||b7.isSurface){m0Z.handle.onmouseover=function(l0Z){return function(){l0Z.hideCrosshairs();};}(this);}if(!b7.touchDevice||b7.isSurface){m0Z.handle.onmouseout=function(i0Z){return function(){i0Z.showCrosshairs();};}(this);}if(b7.touchDevice){m0Z.handle.ontouchstart=function(D0Z,M0Z){return function(u0Z){if(D0Z.resizingPanel){return;}u0Z.preventDefault();D0Z.grabHandle(M0Z);};}(this,m0Z);m0Z.handle.ontouchend=function(V0Z){return function(T0Z){T0Z.preventDefault();V0Z.releaseHandle();};}(this);}m0Z.handle.onmousedown=function(s0Z,z0Z){return function(g0Z){if(!g0Z){g0Z=event;}s0Z.grabHandle(z0Z);};}(this,m0Z);m0Z.handle.onmouseup=function(H0Z){return function(j0Z){if(!j0Z){j0Z=event;}H0Z.releaseHandle();};}(this);b7.safeClickTouch(m0Z.close,function(f0Z,I0Z){return function(){f0Z.panelClose(I0Z);};}(this,m0Z));b7.safeClickTouch(m0Z.up,function(v0Z,W0Z){return function(){v0Z.panelUp(W0Z);};}(this,m0Z));b7.safeClickTouch(m0Z.down,function(p0Z,q0Z){return function(){p0Z.panelDown(q0Z);};}(this,m0Z));b7.safeClickTouch(m0Z.solo,function(Q0Z,Z0Z){return function(){Q0Z.panelSolo(Z0Z);};}(this,m0Z));if(m0Z.name=="chart"){m0Z.close.style.display="none";}};E7.prototype.stackPanel=function(L9Z,G9Z,E9Z,K9Z){var f10,c0Z,k9Z,h9Z,C0Z,F9Z;f10="cq-pan";f10+="el";f10+="-nam";f10+="e";if(this.runPrepend("stackPanel",arguments)){return;}if(!K9Z){K9Z="chart";}c0Z=this.charts[K9Z];Y2V.Z7D(72);k9Z=Y2V.W7D(K9Z,G9Z);h9Z=null;if(k9Z){L9Z=c0Z.symbol;if(c0Z.symbolDisplay){L9Z=c0Z.symbolDisplay;}h9Z=c0Z.yAxis;}C0Z=this.panels[G9Z]=new E7.Panel(G9Z,h9Z);if(!k9Z&&c0Z.yAxis){C0Z.yAxis.width=c0Z.yAxis.width;}C0Z.percent=E9Z;C0Z.chart=c0Z;C0Z.display=L9Z;C0Z.holder=b7.newChild(this.container,"div","stx-holder");C0Z.subholder=b7.newChild(C0Z.holder,"div","stx-subholder");C0Z.subholder.style.zIndex=+"1";C0Z.holder.setAttribute(f10,G9Z);C0Z.subholder.setAttribute("cq-panel-name",G9Z);F9Z=k9Z?"stx-panel-chart":"stx-panel-study";b7.appendClassName(C0Z.holder,F9Z);C0Z.subholder.appendChild(this.controls.iconsTemplate.cloneNode(!0));C0Z.handle=this.controls.handleTemplate.cloneNode(!!{});this.container.appendChild(C0Z.handle);C0Z.handle.id=null;C0Z.handle.panel=C0Z;this.configurePanelControls(C0Z);this.resizeCanvas();this.runAppend("stackPanel",arguments);};E7.prototype.setPanelEdit=function(b9Z,S9Z){b9Z.editFunction=S9Z;b7.safeClickTouch(b9Z.edit,S9Z);this.adjustPanelPositions();};E7.prototype.drawPanels=function(){var P9Z,W60,t60,m10,o9Z,F10,R10,L10,k10,A10,A9Z,q70,c70,H70;if(this.runPrepend("drawPanels",arguments)){return;}P9Z=!!"";for(var U9Z in this.panels){W60="p";W60+="x";t60="stx_pan";t60+="el_border";m10="stx-sh";m10+="ow";o9Z=this.panels[U9Z];o9Z.axisDrawn=!{};if(o9Z.title.innerHTML!=o9Z.display){o9Z.title.innerHTML="";o9Z.title.appendChild(document.createTextNode(o9Z.display));}b7.appendClassName(o9Z.icons,m10);if(o9Z.hidden){F10="no";F10+="ne";R10="stx-";R10+="show";b7.unappendClassName(o9Z.icons,R10);o9Z.handle.style.display="none";o9Z.holder.style.display=F10;continue;}else{L10="bloc";L10+="k";k10="no";k10+="n";k10+="e";if(!this.displayIconsUpDown){o9Z.up.style.display="none";}if(!this.displayIconsUpDown){o9Z.down.style.display=k10;}if(!this.displayIconsSolo){o9Z.solo.style.display="none";}o9Z.holder.style.display=L10;}if(!P9Z){A10="non";A10+="e";o9Z.handle.style.display=A10;P9Z=!"";continue;}A9Z=o9Z.top;A9Z=Math.round(A9Z)+0.5;this.plotLine(o9Z.left,o9Z.right,A9Z,A9Z,this.canvasStyle(t60),"segment",this.chart.context,!{},{});if(!this.displayPanelResize){o9Z.handle.style.display="none";}else{o9Z.handle.style.display="";}o9Z.handle.style.top=A9Z-o9Z.handle.offsetHeight/2+W60;}q70=-772542439;Y2V.Z7D(10);c70=Y2V.j7D(1,"1211709059");H70=2;for(var p70=1;Y2V.l1N(p70.toString(),p70.toString().length,88985)!==q70;p70++){this.runAppend("",arguments);H70+=2;}if(Y2V.Y1N(H70.toString(),H70.toString().length,+"80916")!==c70){this.runAppend("",arguments);}this.runAppend("drawPanels",arguments);};E7.prototype.touchSingleClick=function(O9Z,B9Z,y9Z){var n9Z,R9Z;n9Z=this;R9Z=arguments;return function(){(function(){var w9Z,N9Z,J9Z,a60;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",R9Z)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-1,e1MS:-1,s2MS:-("1"|0),e2MS:-("1"|0)};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(B9Z<this.left||B9Z>this.right||y9Z<this.top||y9Z>this.bottom){return;}w9Z=this.backOutY(E7.crosshairY);N9Z=this.backOutX(E7.crosshairX);this.currentPanel=this.whichPanel(w9Z);if(!this.currentVectorParameters.vectorType||!b7.Drawing[this.currentVectorParameters.vectorType]||!new b7.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(!this.drawingClick(this.currentPanel,N9Z,w9Z)){if(!this.layout.crosshair){E7.crosshairY=0;E7.crosshairX=0;this.cx=this.backOutX(E7.crosshairX);this.cy=this.backOutY(E7.crosshairY);this.findHighlights();E7.crosshairY=y9Z;E7.crosshairX=B9Z;J9Z=this.container.getBoundingClientRect();this.top=J9Z.top;this.left=J9Z.left;this.right=this.left+this.width;this.bottom=this.top+this.height;this.cx=this.backOutX(E7.crosshairX);this.cy=this.backOutY(E7.crosshairY);if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));}this.headsUpHR();this.findHighlights(!"");}}if(!this.currentVectorParameters.vectorType){a60="ta";a60+="p";this.dispatch(a60,{stx:this,panel:this.currentPanel,x:N9Z,y:w9Z});}}}n9Z.cancelTouchSingleClick=![];this.runAppend("touchSingleClick",R9Z);}.apply(n9Z,R9Z));};};E7.prototype.touchDoubleClick=function(m9Z,r9Z,Y9Z){var w60,X9Z;w60="to";w60+="uchD";w60+="oubleClick";if(r9Z<this.left||r9Z>this.right||Y9Z<this.panels.chart.top||Y9Z>this.panels.chart.bottom){return;}if(this.editingAnnotation){return;}if(this.runPrepend("touchDoubleClick",arguments)){return;}if(E7.drawingLine){this.undo();}else{if(this.anyHighlighted){this.deleteHighlighted();}else{X9Z=this.currentPanel.yAxis;if(X9Z.scroll==(X9Z.initialMarginTop-X9Z.initialMarginBottom)/2&&X9Z.zoom==X9Z.initialMarginTop+X9Z.initialMarginBottom){this.home();}else{this.calculateYAxisMargins(this.currentPanel.yAxis);}this.draw();}}this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-("1"|0)};this.runAppend(w60,arguments);};E7.prototype.touchmove=function(x9Z){var S60,K60,a9Z,f9Z,w6N,K6N,S6N,q9Z,Z9Z,K4Z,z9Z,g9Z,V9Z,u9Z,j9Z,t9Z,I9Z,f1N,m1N,R1N,H9Z,G4Z,l9Z,i9Z,v9Z,D9Z,M9Z,E4Z,W9Z,p9Z,T9Z,Q9Z,S4Z,s9Z,k4Z,L4Z,h4Z,F4Z,C9Z,c9Z,d9Z,o4Z,b4Z;S60="touc";S60+="hmove";K60="f";K60+="r";K60+="e";K60+="eform";if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(E7.ignoreTouch===!!{}){return;}a9Z=[];if(x9Z&&x9Z.touches&&x9Z.touches.length==1){if(Math.pow(this.clicks.x-x9Z.touches[0].clientX,2)+Math.pow(this.clicks.y-x9Z.touches[0].clientY,2)<=+"16"){return;}}if(!this.overYAxis||this.controls&&this.controls.crossX&&this.controls.crossX.style.display!="none"){if(x9Z&&x9Z.preventDefault&&this.captureTouchEvents){x9Z.preventDefault();}if(x9Z){x9Z.stopPropagation();}}f9Z=new Date().getTime();if(this.clicks.s2MS==-1){this.clicks.e1MS=f9Z;if(this.clicks.e1MS-this.clicks.s1MS<25){return;}}else{w6N=2081735581;K6N=2096136343;S6N=2;for(var T6N="1"-0;Y2V.Y1N(T6N.toString(),T6N.toString().length,+"56593")!==w6N;T6N++){this.clicks.e2MS=f9Z;S6N+=2;}if(Y2V.Y1N(S6N.toString(),S6N.toString().length,90783)!==K6N){this.clicks.e2MS=f9Z;}this.clicks.e2MS=f9Z;if(this.clicks.e2MS-this.clicks.s2MS<25){return;}}if(b7.isSurface){if(this.mouseMode){return;}if(!x9Z.pointerId){x9Z.pointerId=this.gesturePointerId;}if((!this.grabbingScreen||E7.resizingPanel)&&!this.overrideGesture){if(x9Z.detail==x9Z.MSGESTURE_FLAG_INERTIA){this.gesture.stop();return;}}for(var e9Z=0;e9Z<this.touches.length;e9Z++){if(this.touches[e9Z].pointerId==x9Z.pointerId){q9Z=Math.abs(this.touches[e9Z].pageX-x9Z.clientX);Z9Z=Math.abs(this.touches[e9Z].pageY-x9Z.clientY);Y2V.h7D(73);K4Z=Math.sqrt(Y2V.W7D(q9Z,Z9Z,q9Z,Z9Z));if(!K4Z){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS-this.clicks.s1MS<50){return;}if(this.touches[e9Z].pageX==x9Z.clientX&&this.touches[e9Z].pageY==x9Z.clientY){return;}this.touches[e9Z].pageX=x9Z.clientX;this.touches[e9Z].pageY=x9Z.clientY;break;}}if(e9Z===+"0"){this.movedPrimary=!![];}else{this.movedSecondary=!!{};}if(!this.gestureInEffect&&e9Z==this.touches.length){return;}this.changedTouches=[{pointerId:x9Z.pointerId,pageX:x9Z.clientX,pageY:x9Z.clientY}];a9Z=this.touches;if(this.gestureInEffect&&!a9Z.length){a9Z=this.changedTouches;}}else{a9Z=x9Z.touches;this.changedTouches=x9Z.changedTouches;}z9Z=this.crosshairXOffset;g9Z=this.crosshairYOffset;if(this.activeDrawing&&this.activeDrawing.name==K60){z9Z=0;g9Z=0;}if(this.runPrepend("touchmove",arguments)){return;}if(E7.resizingPanel){j9Z=a9Z[0];V9Z=j9Z.pageX;u9Z=j9Z.pageY;Y2V.Z7D(0);this.mousemoveinner(Y2V.W7D(z9Z,V9Z),Y2V.j7D(g9Z,u9Z));return;}if(this.moveB!=-("1"|0)){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=a9Z[+"0"].pageX;if(a9Z.length==1){I9Z=a9Z[0];V9Z=I9Z.pageX;u9Z=I9Z.pageY;f1N=754218725;m1N=1863663625;R1N=2;for(var k1N=1;Y2V.Y1N(k1N.toString(),k1N.toString().length,61916)!==f1N;k1N++){this.pinchingScreen=0;Y2V.Z7D(0);this.mousemoveinner(Y2V.W7D(z9Z,V9Z),Y2V.j7D(g9Z,u9Z));H9Z=this.whichPanel(u9Z);R1N+=2;}if(Y2V.l1N(R1N.toString(),R1N.toString().length,13909)!==m1N){this.pinchingScreen=7;Y2V.Z7D(9);this.mousemoveinner(Y2V.W7D(V9Z,z9Z),Y2V.j7D(g9Z,u9Z,Y2V.h7D(74)));H9Z=this.whichPanel(u9Z);}this.overXAxis=u9Z>=this.top+this.chart.panel.yAxis.bottom&&u9Z<=this.top+this.chart.panel.bottom&&E7.insideChart;if(!H9Z){this.overYAxis=![];}else{this.overYAxis=(V9Z>=H9Z.right||V9Z<=H9Z.left)&&E7.insideChart;}}else if(a9Z.length==2&&this.allowZoom){if(!this.displayCrosshairs){return;}Y2V.Z7D(9);G4Z=a9Z[Y2V.j7D("0",0)];l9Z=G4Z.pageX;i9Z=G4Z.pageY;Y2V.Z7D(1);v9Z=a9Z[Y2V.W7D(0,"1")];D9Z=v9Z.pageX;M9Z=v9Z.pageY;Y2V.h7D(75);t9Z=Math.sqrt(Y2V.j7D(D9Z,i9Z,i9Z,M9Z,l9Z,M9Z,D9Z,l9Z));this.pinchingCenter=Math.min(l9Z,D9Z)+(Math.max(l9Z,D9Z)-Math.min(l9Z,D9Z))/2;E4Z=Math.round(this.gestureStartDistance-t9Z);W9Z=!this.layout.crosshair&&!this.currentVectorParameters.vectorType;if(W9Z){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen<2){if(b7.isSurface&&(!this.movedPrimary||!this.movedSecondary)){return;}if(l9Z<this.pt.x1&&D9Z<this.pt.x2||l9Z>this.pt.x1&&D9Z>this.pt.x2||i9Z<this.pt.y1&&M9Z<this.pt.y2||i9Z>this.pt.y1&&M9Z>this.pt.y2){this.pinchingScreen=0;}else{this.pinchingScreen++;if(this.pinchingScreen<2){return;}}}this.pt={x1:l9Z,x2:D9Z,y1:i9Z,y2:M9Z};if(this.pinchingScreen===0){Y2V.Z7D(0);this.mousemoveinner(Y2V.W7D(z9Z,l9Z),Y2V.W7D(g9Z,i9Z));this.gestureStartDistance=t9Z;}else{p9Z=Math.asin((Math.max(M9Z,i9Z)-Math.min(M9Z,i9Z))/t9Z);if(Math.abs(E4Z)<12&&!W9Z){this.moveCount++;if(this.moveCount==4){this.pinchingScreen=0;this.moveCount=0;return;}}else{this.moveCount=0;}if(p9Z<1||!this.goneVertical&&p9Z<1.37){if(!this.currentPanel){return;}T9Z=this.currentPanel.chart;this.goneVertical=![];t9Z=this.pt.x2-this.pt.x1;Q9Z=this.grabStartValues.t2-this.grabStartValues.t1;Y2V.Z7D(6);var r7E=Y2V.W7D(170,20,17);S4Z=this.grabStartValues.t1+Q9Z/r7E;Y2V.Z7D(3);s9Z=Y2V.j7D(t9Z,Q9Z);if(s9Z<this.minimumCandleWidth){s9Z=this.minimumCandleWidth;}k4Z=this.layout.candleWidth;this.setCandleWidth(s9Z,T9Z);if(T9Z.maxTicks<this.minimumZoomTicks){this.setCandleWidth(k4Z,T9Z);return;}this.micropixels=0;L4Z=this.pixelFromTick(Math.round(S4Z),T9Z);h4Z=this.pt.x1-this.left+Math.round(t9Z/2);Y2V.Z7D(9);F4Z=Y2V.j7D(L4Z,h4Z);Y2V.Z7D(3);C9Z=Y2V.W7D(F4Z,s9Z);c9Z=Math.round(C9Z);T9Z.scroll-=c9Z;Y2V.Z7D(9);this.microscroll=Y2V.W7D(c9Z,C9Z);this.micropixels=s9Z*this.microscroll;this.draw();}else{d9Z=this.currentPanel.chart.panel.yAxis;this.goneVertical=!![];d9Z.zoom=this.grabStartZoom+(this.gestureStartDistance-t9Z);if(this.grabStartZoom<d9Z.height){if(d9Z.zoom>=d9Z.height){d9Z.zoom=d9Z.height-+"1";}}else{if(d9Z.zoom<=d9Z.height){Y2V.Z7D(76);var l7E=Y2V.j7D(14,14,15,196);d9Z.zoom=d9Z.height+l7E;}}this.draw();}}}else if(a9Z.length==3&&E7.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}o4Z=a9Z[0];b4Z=o4Z.pageX;t9Z=this.grabStartX-b4Z;this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(t9Z/10);if(this.grabEndPeriodicity<1){this.grabEndPeriodicity=+"1";}if(typeof headsUp!="undefined"){headsUp.period.innerHTML=this.grabEndPeriodicity+" "+this.layout.interval;if(this.grabEndPeriodicity>1){headsUp.period.innerHTML+="s";}}}this.runAppend(S60,arguments);};E7.prototype.touchstart=function(B4Z){var Y4Z,m4Z,n4Z,U4Z,P4Z,A4Z,O4Z,y4Z,X4Z,l4Z,R4Z,i4Z,D4Z,T60,P60,a4Z,e4Z,d4Z,A8N,t30,W30,r4Z,w4Z,J4Z,x4Z,M4Z,t4Z;if(E7.ignoreTouch){return;}if(b7.isSurface){this.movedPrimary=!"1";this.movedSecondary=!!"";}else{if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!"";this.touches=B4Z.touches;this.changedTouches=B4Z.changedTouches;}if(E7.resizingPanel){return;}Y4Z=this.crosshairXOffset;m4Z=this.crosshairYOffset;if(this.runPrepend("touchstart",arguments)){return;}if(this.manageTouchAndMouse&&B4Z&&B4Z.preventDefault&&this.captureTouchEvents){B4Z.preventDefault();}this.hasDragged=!1;this.doubleFingerMoves=0;this.moveCount=0;this.twoFingerStart=!1;if(this.touches.length==1||this.touches.length==2){if(this.changedTouches.length==+"1"){O4Z=Date.now();this.clicks.x=this.changedTouches[0].pageX;this.clicks.y=this.changedTouches[0].pageY;if(O4Z-this.clicks.e1MS<250){this.cancelTouchSingleClick=!!{};this.clicks.s2MS=O4Z;}else{this.cancelTouchSingleClick=!!0;this.clicks.s1MS=O4Z;this.clicks.e1MS=-1;this.clicks.s2MS=-1;this.clicks.e2MS=-1;}}this.touchMoveTime=Date.now();this.moveA=this.touches[0].pageX;this.moveB=-1;y4Z=this.touches[0];P4Z=y4Z.pageX;A4Z=y4Z.pageY;X4Z=this.container.getBoundingClientRect();this.top=X4Z.top;this.left=X4Z.left;this.right=this.left+this.width;this.bottom=this.top+this.height;if(this.touches.length==1){l4Z=this.cy=this.backOutY(A4Z);this.currentPanel=this.whichPanel(l4Z);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}if(P4Z>=this.left&&P4Z<=this.right&&A4Z>=this.top&&A4Z<=this.bottom){E7.insideChart=!!{};this.overXAxis=A4Z>=this.top+this.chart.panel.yAxis.bottom&&A4Z<=this.top+this.chart.panel.bottom;this.overYAxis=P4Z>=this.currentPanel.right||P4Z<=this.currentPanel.left;for(var N4Z="0"-0;N4Z<this.drawingObjects.length;N4Z++){R4Z=this.drawingObjects[N4Z];if(R4Z.highlighted){i4Z=R4Z.highlighted;this.cy=this.backOutY(A4Z);this.cx=this.backOutX(P4Z);this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));this.findHighlights(!!"1");if(R4Z.highlighted){this.repositioningDrawing=R4Z;return;}else{this.anyHighlighted=!"";R4Z.highlighted=i4Z;}}}B4Z.stopPropagation();}else{E7.insideChart=!"1";}D4Z=this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType!=="";if(!this.layout.crosshair&&!D4Z&&E7.insideChart&&!this.touchNoPan){T60="baseline_de";T60+="lta_mounta";T60+="in";P60="b";P60+="aselin";P60+="e_de";P60+="lta";if((this.layout.chartType==P60||this.layout.chartType==T60)&&this.chart.baseline.userLevel!==![]){a4Z=this.valueFromPixelUntransform(this.cy-5,this.currentPanel);e4Z=this.valueFromPixelUntransform(this.cy+5,this.currentPanel);Y2V.Z7D(3);var B7E=Y2V.j7D(15,15);d4Z=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,"10"*B7E);if(this.chart.baseline.actualLevel<a4Z&&this.chart.baseline.actualLevel>e4Z&&this.backOutX(y4Z.pageX)>d4Z){this.repositioningBaseline={lastDraw:Date.now()};return;}}for(n4Z in this.panels){U4Z=this.panels[n4Z];if(U4Z.highlighted){this.grabHandle(U4Z);return;}}this.grabbingScreen=!![];this.yToleranceBroken=!!0;Y2V.Z7D(0);this.grabStartX=Y2V.W7D(Y4Z,P4Z);Y2V.h7D(0);this.grabStartY=Y2V.j7D(m4Z,A4Z);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.swipeStart(this.currentPanel.chart);setTimeout(function(u4Z){return function(){u4Z.grabbingHand();};}(this),100);}else{A8N=1917135271;t30=-+"467060193";W30=2;for(var w30=1;Y2V.Y1N(w30.toString(),w30.toString().length,62118)!==A8N;w30++){this.grabbingScreen=!{};W30+=2;}if(Y2V.l1N(W30.toString(),W30.toString().length,96440)!==t30){this.grabbingScreen=!!{};}if(E7.insideChart){if(b7.Drawing[this.currentVectorParameters.vectorType]&&new b7.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.userPointerDown=!![];E7.crosshairX=P4Z;E7.crosshairY=A4Z;if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(E7.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.backOutY(E7.crosshairY),this.currentPanel));}this.drawingClick(this.currentPanel,this.backOutX(P4Z),this.backOutY(A4Z));this.headsUpHR();return;}}}}if(this.touches.length==2){this.cancelLongHold=!"";this.swipe.end=!![];if(!this.displayCrosshairs&&!this.touchNoPan||!E7.insideChart){return;}r4Z=this.touches[1];w4Z=r4Z.pageX;J4Z=r4Z.pageY;for(n4Z in this.panels){U4Z=this.panels[n4Z];if(U4Z.highlighted){this.grabHandle(U4Z);return;}}x4Z=this.currentPanel.chart;Y2V.h7D(75);this.gestureStartDistance=Math.sqrt(Y2V.j7D(w4Z,A4Z,A4Z,J4Z,P4Z,J4Z,w4Z,P4Z));this.pt={x1:P4Z,x2:w4Z,y1:A4Z,y2:J4Z};this.grabbingScreen=!!{};Y2V.Z7D(0);this.grabStartX=Y2V.W7D(Y4Z,P4Z);Y2V.h7D(0);this.grabStartY=Y2V.j7D(m4Z,A4Z);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,this.currentPanel),y2:this.valueFromPixel(this.pt.y2-this.top,this.currentPanel),t1:this.tickFromPixel(this.pt.x1-this.left,x4Z),t2:this.tickFromPixel(this.pt.x2-this.left,x4Z)};this.twoFingerStart=!!"1";setTimeout(function(V4Z){return function(){V4Z.grabbingHand();};}(this),100);}else if(this.touches.length==3){if(!this.displayCrosshairs){return;}M4Z=this.touches[0];t4Z=M4Z.pageX;this.grabStartX=t4Z;this.grabStartPeriodicity=this.layout.periodicity;}if(this.touches.length==1){this.mouseTimer=Date.now();this.longHoldTookEffect=!1;if(this.longHoldTime){this.startLongHoldTimer();}}this.runAppend("touchstart",arguments);};E7.prototype.swipeStart=function(s4Z){var T4Z;if(this.swipe&&this.swipe.interval){clearInterval(this.swipe.interval);}this.swipe.velocity=0;this.swipe.amplitude=0;this.swipe.frame=s4Z.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=this.currentPanel.chart;this.swipe.end=!{};this.swipe.timeConstant=325;this.swipe.cb=null;T4Z=this;requestAnimationFrame(function(){T4Z.swipeSample();});};E7.prototype.swipeSample=function(){var z4Z,g4Z,H4Z,j4Z,f4Z,v4Z,W4Z,p4Z,I4Z;z4Z=this.swipe;if(z4Z.end){return;}g4Z=this;W4Z=20;H4Z=Date.now();j4Z=H4Z-z4Z.timestamp;if(j4Z<W4Z){requestAnimationFrame(function(){g4Z.swipeSample();});return;}p4Z=b7.touchDevice?0.4:0.8;z4Z.timestamp=H4Z;f4Z=(z4Z.chart.scroll-z4Z.frame)*this.layout.candleWidth+this.micropixels-z4Z.micropixels;z4Z.frame=z4Z.chart.scroll;z4Z.micropixels=this.micropixels;Y2V.Z7D(77);v4Z=Y2V.W7D(1,j4Z,f4Z,1000);I4Z=p4Z*v4Z+ +"0.2"*this.swipe.velocity;if(Math.abs(I4Z)>Math.abs(z4Z.velocity)){z4Z.velocity=I4Z;}if(Math.abs(f4Z)<6){z4Z.velocity=0;}requestAnimationFrame(function(){g4Z.swipeSample();});};E7.prototype.swipeRelease=function(){var K30,S30,P30,q4Z,Q4Z;K30=-741143410;S30=-1219752553;P30=2;for(var X30=1;Y2V.Y1N(X30.toString(),X30.toString().length,37884)!==K30;X30++){q4Z=this.swipe;if(q4Z.velocity<7795){q4Z.velocity=20;}P30+=+"2";}if(Y2V.Y1N(P30.toString(),P30.toString().length,12862)!==S30){q4Z=this.swipe;if(q4Z.velocity<=7367){q4Z.velocity=+"42";}}q4Z=this.swipe;if(q4Z.velocity>3000){q4Z.velocity=3000;}if(q4Z.velocity<-3000){q4Z.velocity=-3000;}if(q4Z.velocity>+"10"||q4Z.velocity<-10){q4Z.amplitude=+"0.8"*q4Z.velocity;q4Z.scroll=q4Z.chart.scroll;q4Z.target=q4Z.amplitude;q4Z.timestamp=Date.now();Q4Z=this;requestAnimationFrame(function(){Q4Z.autoscroll();});}};E7.prototype.scrollTo=function(C4Z,G3Z,K3Z){var Z4Z,C70,D70,b70,c4Z;Z4Z=this.swipe;Z4Z.end=!!"1";Z4Z.amplitude=Z4Z.target=(G3Z-C4Z.scroll)*this.layout.candleWidth;Z4Z.timeConstant=100;Z4Z.timestamp=Date.now();Z4Z.scroll=C4Z.scroll;Z4Z.chart=C4Z;C70=1040691977;D70=-1198730260;b70=2;for(var g70="1"|0;Y2V.Y1N(g70.toString(),g70.toString().length,90075)!==C70;g70++){Z4Z.cb=K3Z;b70+=+"2";}if(Y2V.Y1N(b70.toString(),b70.toString().length,+"62944")!==D70){Z4Z.cb=K3Z;}c4Z=this;requestAnimationFrame(function(){c4Z.autoscroll();});};E7.prototype.autoscroll=function(){var h3Z,k3Z,X6N,e6N,G6N,E3Z,L3Z,F3Z;h3Z=this;k3Z=this.swipe;X6N=-1570163176;e6N=-1913362737;G6N=2;for(var y6N=1;Y2V.l1N(y6N.toString(),y6N.toString().length,+"4507")!==X6N;y6N++){G6N+=2;}if(Y2V.Y1N(G6N.toString(),G6N.toString().length,71243)!==e6N){}if(k3Z.amplitude){k3Z.elapsed=Date.now()-k3Z.timestamp;L3Z=-k3Z.amplitude*Math.exp(-k3Z.elapsed/k3Z.timeConstant);if(L3Z>0.5||L3Z<-("0.5"-0)){F3Z=(k3Z.target+L3Z)/this.layout.candleWidth;k3Z.chart.scroll=k3Z.scroll+Math.round(F3Z);this.draw();requestAnimationFrame(function(){h3Z.autoscroll();});}else{if(k3Z.cb){k3Z.cb();}}}};E7.prototype.touchend=function(o3Z){var b20,s20,g20,X60,S3Z,b3Z,A3Z,P3Z;if(E7.ignoreTouch){return;}this.swipe.end=!!{};if(b7.isSurface){}else{this.touches=o3Z.touches;this.changedTouches=o3Z.changedTouches;}if(this.runPrepend("touchend",arguments)){return;}this.cancelLongHold=!!{};if(this.touches.length<=1){if(this.layout.crosshair||this.currentVectorParameters.vectorType){if(!this.touches.length||!this.twoFingerStart){b20=-1913891300;s20=1683930952;g20=2;for(var v20=1;Y2V.l1N(v20.toString(),v20.toString().length,55299)!==b20;v20++){this.grabbingScreen=![];g20+=2;}if(Y2V.l1N(g20.toString(),g20.toString().length,57607)!==s20){this.grabbingScreen=!!1;}}}}if(this.touches.length){this.grabStartX=-1;this.grabStartY=-1;}if(!this.touches.length){this.touchingEvent=setTimeout(function(U3Z){return function(){U3Z.touching=!!0;};}(this),500);if(E7.resizingPanel){this.releaseHandle();return;}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!!0;this.grabbingScreen=!!"";}else{if(E7.resizingPanel){return;}}if(this.changedTouches.length==1){if(this.repositioningDrawing){X60="vec";X60+="t";X60+="o";X60+="r";this.changeOccurred(X60);b7.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.draw();if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType){this.findHighlights(!"1",!![]);}return;}if(this.repositioningBaseline){this.repositioningBaseline=null;Y2V.Z7D(78);var i7E=Y2V.W7D(3,17,30,1544,16);this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/ i7E;this.draw();return;}S3Z=Date.now();Y2V.Z7D(5);var J7E=Y2V.W7D(16,3,18);b3Z=this.touches.length+J7E;if(this.clicks.s2MS==-1){this.clicks.e1MS=S3Z;if(!this.currentVectorParameters.vectorType||!b7.Drawing[this.currentVectorParameters.vectorType]||!new b7.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&!this.hasDragged){setTimeout(this.touchSingleClick(b3Z,this.clicks.x,this.clicks.y),200);}else{this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};}}this.userPointerDown=!{};if(this.activeDrawing&&this.activeDrawing.dragToDraw){A3Z=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset;P3Z=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset;this.drawingClick(this.currentPanel,P3Z,A3Z);return;}}else{this.clicks.e2MS=S3Z;if(this.clicks.e2MS-this.clicks.s2MS<+"250"){this.touchDoubleClick(b3Z,this.clicks.x,this.clicks.y);}else{this.clicks={s1MS:-1,e1MS:-+"1",s2MS:-1,e2MS:-1};}}if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&b3Z==1||this.twoFingerStart&&!this.touches.length){this.swipeRelease();}}else{if(this.grabEndPeriodicity!=-1&&!isNaN(this.grabEndPeriodicity)){if(this.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute){this.setPeriodicityV2(this.grabEndPeriodicity);}this.grabEndPeriodicity=-1;}}if(!this.touches.length){this.twoFingerStart=![];}this.runAppend("touchend",arguments);};E7.prototype.startProxy=function(R3Z){var e60;e60="mo";e60+="u";e60+="s";e60+="e";if(R3Z.pointerType==4||R3Z.pointerType==e60){this.mouseMode=!!"1";}else{this.mouseMode=![];}if(this.mouseMode){return;}this.touches[this.touches.length]={pointerId:R3Z.pointerId,pageX:R3Z.clientX,pageY:R3Z.clientY};this.changedTouches=[{pointerId:R3Z.pointerId,pageX:R3Z.clientX,pageY:R3Z.clientY}];if(!this.gestureInEffect&&this.touches.length=="1"*1){this.gesturePointerId=R3Z.pointerId;this.overrideGesture=!!"";if(!this.gesture){return;}this.gesture.addPointer(R3Z.pointerId);this.touchstart(R3Z);}else{this.gesture.stop();this.touchstart(R3Z);}};E7.prototype.moveProxy=function(B3Z){var G60;G60="mous";G60+="e";if(B3Z.pointerType=="4"*1||B3Z.pointerType==G60){this.mouseMode=!!"1";}else{this.mouseMode=!!"";}if(this.mouseMode){return;}if(!this.gestureInEffect){this.touchmove(B3Z);}};E7.prototype.endProxy=function(n3Z){var O3Z;if(this.mouseMode){return;}O3Z=this.touches.length;for(var y3Z="0"*1;y3Z<this.touches.length;y3Z++){if(this.touches[y3Z].pointerId==n3Z.pointerId){this.touches.splice(y3Z,1);break;}}if(y3Z==O3Z){this.touches=[];this.grabbingScreen=!!"";this.touching=!1;return;}this.changedTouches=[{pointerId:n3Z.pointerId,pageX:n3Z.clientX,pageY:n3Z.clientY}];if(!this.gestureInEffect){this.touchend(n3Z);}};E7.prototype.msMouseMoveProxy=function(w3Z){if(this.touches.length||!this.mouseMode){return;}this.mousemove(w3Z);};E7.prototype.msMouseDownProxy=function(N3Z){if(!this.mouseMode){return;}this.mousedown(N3Z);};E7.prototype.msMouseUpProxy=function(J3Z){if(!this.mouseMode){return;}this.mouseup(J3Z);};E7.prototype.iosMouseMoveProxy=function(X3Z){if(this.touching){return;}this.mousemove(X3Z);};E7.prototype.iosMouseDownProxy=function(r3Z){if(this.touching){this.mouseMode=!"1";return;}this.mouseMode=!0;this.mousedown(r3Z);};E7.prototype.iosMouseUpProxy=function(Y3Z){if(this.touching){return;}this.mouseup(Y3Z);};E7.prototype.rawWatermark=function(m3Z,x3Z,a3Z,e3Z){var o60;o60="alphabet";o60+="ic";this.canvasFont("stx_watermark",m3Z);m3Z.fillStyle=this.defaultColor;m3Z.globalAlpha=0.5;this.chart.context.textBaseline=o60;m3Z.fillText(e3Z,x3Z,a3Z);m3Z.globalAlpha=1;};E7.prototype.watermark=function(D3Z,d3Z){var u60,y60,t3Z,l3Z,i3Z,x6N,V6N,n6N;u60="ri";u60+="gh";u60+="t";y60="alp";y60+="habe";y60+="ti";y60+="c";if(d3Z&&typeof d3Z!="object"){d3Z={h:arguments[1],v:arguments[2],text:arguments[3]};}d3Z={h:d3Z.h||"left",v:d3Z.v||"bottom",text:d3Z.text||"",hOffset:d3Z.hOffset||10,vOffset:d3Z.vOffset||+"20"};if(!this.chart.context){return;}t3Z=this.panels[D3Z];if(!t3Z||t3Z.hidden){return;}l3Z=t3Z.bottom-d3Z.vOffset;if(d3Z.v=="top"){l3Z=t3Z.top+d3Z.vOffset;}else if(d3Z.v=="middle"){Y2V.Z7D(5);var Z7E=Y2V.j7D(18,14,30);l3Z=(t3Z.top+t3Z.bottom)/Z7E;}this.chart.context.save();this.canvasFont("stx_watermark");this.canvasColor("stx_watermark");this.chart.context.textBaseline=y60;i3Z=t3Z.left+d3Z.hOffset;if(d3Z.h==u60){i3Z=t3Z.right-d3Z.hOffset;}else if(d3Z.h=="center"){x6N=1615530499;V6N=1598157556;n6N=2;for(var r6N=1;Y2V.Y1N(r6N.toString(),r6N.toString().length,87959)!==x6N;r6N++){Y2V.h7D(9);var f7E=Y2V.j7D(36,33);i3Z=(t3Z.right-t3Z.left)*this.chart.context.measureText(d3Z.text).width-f7E;n6N+=+"2";}if(Y2V.Y1N(n6N.toString(),n6N.toString().length,62298)!==V6N){i3Z=(t3Z.right-t3Z.left)*this.chart.context.measureText(d3Z.text).width-3;}Y2V.Z7D(5);var R7E=Y2V.W7D(12,3,13);i3Z=(t3Z.right+t3Z.left-this.chart.context.measureText(d3Z.text).width)/R7E;}this.chart.context.globalAlpha=0.5;this.chart.context.fillText(d3Z.text,i3Z,l3Z);this.chart.context.globalAlpha=1;this.chart.context.restore();};E7[W6V][X6V]=function(c3Z,z3Z){Y2V.j2V=function(d2V){if(Y2V)return Y2V.u7o(d2V);};Y2V.O2V=function(D2V){if(Y2V&&D2V)return Y2V.S7o(D2V);};Y2V.Z7V=function(B7V){if(Y2V&&B7V)return Y2V.u7o(B7V);};Y2V.P7V=function(M7V){if(Y2V)return Y2V.u7o(M7V);};Y2V.T1V=function(N1V){if(Y2V)return Y2V.u7o(N1V);};var y1V=Y2V.T1V("4375")?"establishMarkerTicks":"";var K1V=Y2V.j1V("b723")?"cache":"";var V1V=Y2V.G1V("e54c")?"plugins":"";var U1V=Y2V.e4V("4b2e")?"calculateFN":"";var e1V=Y2V.s4V("51d3")?"":"libraryEntry";var t1V=Y2V.I4V("bac6")?"overlay":"";var b1V=Y2V.u4V("52cf")?"":"type";var c1V=Y2V.Q7V("5cad")?"":"studyLibrary";var Q1V=Y2V.P7V("54b6")?"":"Studies";var o1V="panel";var X1V="panels";var W1V="on";var O1V=Y2V.Z7V("cc3b")?"":"ncti";var D1V="fu";var m5V=Y2V.q7V("2c35")?"":"studies";var s5V="adjustDrawings";var z5V=Y2V.O2V("3445")?"":"push";var A5V=Y2V.y2V("26f8")?"scrubbed":"";var R5V="dataSetContainsGaps";var P5V=Y2V.T2V("b49f")?"calculateOHLC4":"";var M5V="calculateWeightedClose";var x5V="calculateTypicalPrice";var J5V=Y2V.j2V("25a5")?"":"calculateMedianPrice";var y5V="20";var K5V="calculateATR";var V5V="slice";var U5V="maxDataSetSize";var e5V="transformDataSetPost";var t5V="calculatePointFigure";var b5V="pandf";var c5V="calculateRenkoBars";var Q5V="renko";var o5V="priceLines";var X5V="calculateLineBreak";var W5V="kagi";var O5V="calculateKagi";var D5V="calculateHeikinAshi";var f5V="range";var g5V="calculateRangeBars";var G9V="aggregationType";var w9V="grabStartScrollX";var a9V="spanLock";var S9V="lockScroll";var u9V="scroll";var p9V="iqPrevClose";var i9V="quote";var k9V="position";var q9V="alert";var v9V="tion";var h9V="ative posi";var Y9V="error:consolidatedQuote returned neg";var j9V="timeUnit";var d9V="consolidatedQuote";var H9V="month";var F9V="week";var I9V="periodicity";var n9V="Low";var C9V="High";var E9V="Open";var Z9V="e";var B9V="p";var l9V="O";var r9V="gh";var T9V="Hi";var N9V="Adj_Close";var L9V="adj";var m9V="ratio";var s9V="dontRoll";var z9V="isHourAligned";var A9V="market";var R9V="1000000000";var P9V="activeDrawing";var M9V="projection";var x9V="drawingObjects";var J9V="hideDrawings";var y9V="chart";var K9V=0.75;var V9V="maxTicks";var U9V="transformDataSetPre";var e9V="concat";var t9V="runAppend";var b9V="taSet";var c9V="createDa";var Q9V="masterData";var o9V="tickCache";var X9V="dataSet";var W9V=null;var O9V="name";var D9V="gebars";var f9V="ran";var g9V="ashi";var G6V="n";var w6V="heike";var a6V="inashi";var S6V="eik";var u6V="h";var p6V="i";var i6V="g";var k6V="a";var q6V="k";var v6V="ea";var h6V="br";var Y6V="line";var j6V="charts";var d6V="interval";var H6V="layout";var F6V="";var n6V="round";var E6V="DT";var l6V="Close";var L6V="1";var R6V="0";var V6V="length";var t6V="runPrepend";var b6V="et";var c6V="aS";var Q6V="teDat";var o6V="crea";var z3V=1;var A3V=0;var C60,q3Z,I3Z,M3Z,d60,H60,c60,q60,E60,p3Z,j3Z,U60,V3Z,b7m,T3Z,Q3Z,Z3Z,s3Z,F7m,v3Z,W3Z,h7m,u3Z,M60,I60,O60,L7m,C3Z,G7m,p60,H3Z,S7m,g3Z,f3Z,K7m;C60=o6V;C60+=Q6V;C60+=c6V;C60+=b6V;q3Z=[c3Z,z3Z];if(this[t6V](X6V,q3Z)){return;}function o7m(D7m,s7m){var I6V="yyyymmddhhmmssmmm";var C6V="yIntersection";var Z6V="inute";var B6V="m";var r6V="j7D";var T6V="Z7D";var N6V="Date";var m6V="next";var s6V="standardMarketIterator";var z6V="getTime";var A6V="strToDateTime";var P6V="W7D";var M6V="h7D";var x6V="789";var J6V="2";var y6V="arr";var K6V="34763";var U6V="toString";var e6V="Y1N";var O6V=1632950830;var D6V=1575912979;var f6V=1290000;var g6V=130000;var d3V=773;var F3V=556;var C3V=79;var E3V=31;var Z3V=21;var B3V=19;var l3V=18;var r3V=13;var T3V=11;var N3V=10;var L3V=9;var s3V=2;var p30,C30,D30,J7m,X7m,e7m,T7m,t7m,V7m,x7m,m7m,i7m,Y7m,M7m,l7m,h60,a7m,N7m,u7m;p30=-D6V;C30=-O6V;D30=s3V;for(var s30=z3V;Y2V[e6V](s30[U6V](),s30[U6V]()[V6V],+K6V)!==p30;s30++){J7m=s7m[y6V];D30+=+J6V;}if(Y2V[e6V](D30[U6V](),D30[U6V]()[V6V],+x6V)!==C30){J7m=s7m[y6V];}if(J7m[V6V]>z3V){X7m=J7m[A3V][A3V];for(var r7m=z3V;r7m<J7m[V6V];r7m++){Y2V[M6V](L3V);e7m=J7m[Y2V[P6V](r7m,z3V)][+R6V];T7m=J7m[r7m][A3V];t7m=b7[A6V](e7m);V7m=b7[A6V](T7m)[z6V]();x7m=D7m[s6V](t7m);m7m=+R6V;while(t7m[z6V]()<V7m){t7m=x7m[m6V]();Y2V[M6V](N3V);m7m+=Y2V[P6V](z3V,L6V);}i7m=b7[A6V](e7m)[z6V]();if(i7m>b7[A6V](V3Z[V3Z[V6V]-z3V][N6V])[z6V]()){Y2V[T6V](Z3V);var F7E=Y2V[r6V](r3V,L3V,l3V,r3V);Y7m=V3Z[V6V]-F7E;m7m+=z3V;}else{for(Y7m=V3Z[V6V]-z3V;Y7m>=A3V;Y7m--){if(i7m<=b7[A6V](V3Z[Y7m][N6V])[z6V]())break;}}M7m={"x0":A3V,"x1":m7m,"y0":V3Z[Y7m][l6V],"y1":J7m[r7m][+L6V]};X7m=b7[A6V](e7m);x7m=D7m[s6V](X7m);l7m=![];for(var d7m=A3V;d7m<=m7m;d7m++){h60=B6V;h60+=Z6V;if(!l7m){l7m=!!L6V;}else{X7m=x7m[m6V]();}if(X7m[z6V]()<=V3Z[V3Z[V6V]-z3V][E6V][z6V]())continue;a7m=b7[C6V](M7m,d7m);if(!a7m){a7m=A3V;}Y2V[T6V](E3V);var k7E=Y2V[P6V](g6V,N3V,f6V);Y2V[M6V](C3V);var L7E=Y2V[P6V](B3V,F3V,T3V,d3V);N7m=Math[n6V](a7m*k7E)/L7E;if(N7m===A3V){N7m=J7m[r7m][z3V];}u7m={"Date":b7[I6V](X7m),"DT":X7m,"Open":N7m,"Close":N7m,"High":N7m,"Low":N7m,"Volume":A3V,"Adj_Close":N7m,"Split_Close":N7m,"projection":!F6V};if(D7m[H6V][d6V]==h60)if(b7m--<A3V)break;V3Z[V3Z[V6V]]=u7m;}}}}for(I3Z in this[j6V]){d60=Y6V;d60+=h6V;d60+=v6V;d60+=q6V;H60=q6V;H60+=k6V;H60+=i6V;H60+=p6V;c60=u6V;c60+=S6V;c60+=a6V;q60=w6V;q60+=G6V;q60+=g9V;E60=f9V;E60+=D9V;if(z3Z&&z3Z[O9V]!=I3Z)continue;M3Z=this[j6V][I3Z];p3Z=W9V;if(M3Z[X9V]&&M3Z[X9V][V6V]){p3Z=M3Z[X9V][M3Z[X9V][V6V]-z3V][E6V];}M3Z[X9V]=[];M3Z[o9V]={};j3Z=M3Z[Q9V];if(!j3Z){j3Z=this[Q9V];}if(!j3Z||!j3Z[V6V]){U60=c9V;U60+=b9V;this[t9V](U60,q3Z);return;}V3Z=[][e9V](j3Z);if(!A7m()){return;}if(this[U9V]){this[U9V](this,V3Z);}b7m=Math[n6V](M3Z[V9V]*K9V);if(!this[y9V][J9V]){for(T3Z=A3V;T3Z<this[x9V][V6V];T3Z++){if(this[x9V][T3Z][O9V]==M9V){o7m(this,this[x9V][T3Z]);}}if(this[P9V]&&this[P9V][O9V]==M9V){o7m(this,this[P9V]);}}T3Z=A3V;Q3Z=A3V;Z3Z=+R9V;s3Z=+R6V;F7m=M3Z[A9V][z9V]();v3Z={};W3Z=A3V;h7m=c3Z||this[s9V];while(z3V){if(s3Z>=V3Z[V6V])break;u3Z={};for(var k7m in V3Z[s3Z]){u3Z[k7m]=V3Z[s3Z][k7m];}V3Z[s3Z]=u3Z;u3Z[m9V]=z3V;if(this[H6V][L9V]&&u3Z[N9V]){u3Z[m9V]=u3Z[N9V]/u3Z[l6V];}if(u3Z[m9V]!=L6V-A3V){M60=T9V;M60+=r9V;I60=l9V;I60+=B9V;I60+=Z9V;I60+=G6V;if(I60 in u3Z){u3Z[E9V]=u3Z[E9V]*u3Z[m9V];}if(l6V in u3Z&&u3Z[l6V]!==W9V){u3Z[l6V]=u3Z[l6V]*u3Z[m9V];}if(M60 in u3Z){u3Z[C9V]=u3Z[C9V]*u3Z[m9V];}if(n9V in u3Z){u3Z[n9V]=u3Z[n9V]*u3Z[m9V];}}if(!h7m&&(this[H6V][I9V]>z3V||this[H6V][d6V]==F9V||this[H6V][d6V]==H9V)){v3Z=this[d9V](V3Z,s3Z,this[H6V][I9V],this[H6V][d6V],this[H6V][j9V],c3Z,F7m);if(!v3Z){O60=Y9V;O60+=h9V;O60+=v9V;b7[q9V](O60);break;}s3Z=v3Z[k9V];M3Z[X9V][T3Z]=v3Z[i9V];}else{M3Z[X9V][T3Z]=V3Z[s3Z];s3Z++;}u3Z=M3Z[X9V][T3Z];if(T3Z>A3V){u3Z[p9V]=M3Z[X9V][T3Z-z3V][l6V];}else{u3Z[p9V]=u3Z[l6V];}if(C9V in u3Z&&u3Z[C9V]>Q3Z){Q3Z=u3Z[C9V];}if(n9V in u3Z&&u3Z[n9V]<Z3Z){Z3Z=u3Z[n9V];}T3Z++;if(p3Z&&u3Z[E6V]>p3Z){W3Z++;}}L7m=M3Z[u9V]>M3Z[V9V]+z3V||M3Z[S9V]||M3Z[a9V];if(L7m&&W3Z){M3Z[u9V]+=W3Z;this[w9V]+=W3Z;}if(this[H6V][G9V]==E60){M3Z[X9V]=b7[g5V](this,M3Z[X9V],this[H6V][f5V]);}else if(this[H6V][G9V]==q60||this[H6V][G9V]==c60){M3Z[X9V]=b7[D5V](this,M3Z[X9V]);}else if(this[H6V][G9V]==H60){M3Z[X9V]=b7[O5V](this,M3Z[X9V],this[H6V][W5V]);}else if(this[H6V][G9V]==d60){M3Z[X9V]=b7[X5V](this,M3Z[X9V],this[H6V][o5V]);}else if(this[H6V][G9V]==Q5V){M3Z[X9V]=b7[c5V](this,M3Z[X9V],this[H6V][Q5V]);}else if(this[H6V][G9V]==b5V){M3Z[X9V]=b7[t5V](this,M3Z[X9V],this[H6V][b5V]);}if(this[e5V]){this[e5V](this,M3Z[X9V],Z3Z,Q3Z);}if(this[U5V]){M3Z[X9V]=M3Z[X9V][V5V](-this[U5V]);}this[K5V](M3Z,+y5V);this[J5V](M3Z);this[x5V](M3Z);this[M5V](M3Z);this[P5V](M3Z);if(this[R5V]){M3Z[A5V]=[];for(T3Z=A3V;T3Z<M3Z[X9V][V6V];T3Z++){C3Z=M3Z[X9V][T3Z];if(C3Z[l6V]||C3Z[l6V]===A3V){M3Z[A5V][z5V](C3Z);}}}else{M3Z[A5V]=M3Z[X9V];}}this[s5V]();G7m=this[H6V][m5V];function A7m(){var f1V="indexOf";var g1V="referrer";var G5V="getHostName";var w5V="796.28";var a5V="127.41";var S5V=376.88;var u5V=446.39;var p5V=114.16;var i5V="charAt";var k5V="429";var q5V=197.97;var v5V=8.88e+2;var h5V=787.65;var Y5V="1630";var j5V=76.78;var d5V=853.96;var H5V="o";var F5V="281.40";var I5V="s";var n5V="231";var C5V=763.68;var E5V="z";var Z5V="0x191";var B5V="0x82f";var l5V="D";var r5V="t";var T5V=764.24;var N5V=41.52;var L5V="lesf";var G3V=8160;var w3V=7747;var a3V=7270;var S3V=6639;var u3V=6195;var p3V=5688;var i3V=4780;var k3V=4553;var q3V=4103;var v3V=3420;var h3V=2980;var Y3V=2910;var j3V=2620;var H3V=665;var I3V=199;var n3V=138;var m3V=3;var y7m,U7m,P7m,R7m,O7m,n7m,w7m;y7m=L5V;U7m=N5V!==T5V?H3V<=(a3V,G3V)?r5V:(l5V,B5V*z3V):(+Z5V,E5V);P7m=(C5V,S3V)!==(n5V|A3V)?h3V<=v3V?I5V:(!!L6V,!!{}):+F5V;U7m+=H5V;P7m+=d5V>=(j3V,j5V)?Z9V:(Y3V,n3V)>=(i3V,p3V)?!{}:q3V!=(+Y5V,h5V)?(v5V,q5V):+k5V;R7m=[];P7m+=y7m[i5V](A3V);U7m+=(u3V,p5V)!=(u5V,k3V)?B9V:S5V==(I3V,w3V)?a5V-A3V:(!{},w5V-A3V);P7m+=y7m[i5V](m3V);if(window[U7m]==window[P7m]){return!F6V;}if(R7m[V6V]){O7m=b7[G5V](document[g1V]);n7m=!L6V;for(var B7m=A3V;B7m<R7m[V6V];B7m++){w7m=R7m[B7m];if(O7m[f1V](w7m)!=-z3V){n7m=!!z3V;}}if(!n7m){return!z3V;}}return!!{};}for(var E7m in G7m){p60=D1V;p60+=O1V;p60+=W1V;H3Z=G7m[E7m];if(typeof H3Z==p60)continue;if(z3Z){S7m=this[X1V][H3Z[o1V]];if(S7m[y9V][O9V]!=z3Z[O9V])continue;}g3Z=b7[Q1V][c1V][H3Z[b1V]];if(!g3Z){g3Z={};if(H3Z[o1V]==y9V){g3Z[t1V]=!!{};}}H3Z[e1V]=g3Z;if(g3Z[U1V]){g3Z[U1V](this,H3Z);}}for(f3Z in this[V1V]){K7m=this[V1V][f3Z];if(K7m[X6V]){K7m[X6V](this,z3Z);}}for(I3Z in this[j6V]){if(z3Z&&z3Z[O9V]!=I3Z)continue;M3Z=this[j6V][I3Z];for(f3Z=A3V;f3Z<M3Z[X9V][V6V];f3Z++){M3Z[X9V][f3Z][K1V]={};}}this[y1V]();this[t9V](C60,q3Z);};E7.prototype.preAdjustScroll=function(z7m){if(!z7m){z7m=this.chart;}this.previousAdjust={chart:z7m,scroll:z7m.scroll,maxTicks:z7m.maxTicks};};E7.prototype.postAdjustScroll=function(){var g7m;if(!this.previousAdjust){return;}g7m=this.previousAdjust.chart;g7m.scroll=this.previousAdjust.scroll+(g7m.maxTicks-this.previousAdjust.maxTicks);if(this.displayInitialized){this.draw();}};E7.prototype.adjustDrawings=function(){var j7m;for(var H7m="0"|0;H7m<this.drawingObjects.length;H7m++){j7m=this.drawingObjects[H7m];if(this.panels[j7m.panelName]){j7m.adjust();}}};E7.prototype.getNextInterval=function(W7m,f7m,I7m){var v7m;if(!f7m){f7m=1;}if(I7m!==![]){I7m=!"";}v7m=this.standardMarketIterator(W7m,I7m?this.dataZone:this.displayZone);if(f7m<1){Y2V.Z7D(80);return v7m.previous(Y2V.W7D("1",f7m));}return v7m.next(f7m);};E7.prototype.standardMarketIterator=function(c7m,p7m,q7m){var Q7m,I8N,M8N,O8N,D60,Z7m,C7m;Q7m=p7m?p7m:this.dataZone;Y2V.Z7D(1);I8N=-Y2V.j7D(0,"356391521");M8N=-411126323;O8N=2;for(var q8N="1"*1;Y2V.l1N(q8N.toString(),q8N.toString().length,43865)!==I8N;q8N++){D60="begi";D60+="n";Z7m=q7m?q7m:this.chart;C7m={'begin':c7m,'interval':this.layout.interval==='begin'?4:this.layout.interval,'periodicity':this.layout.interval!==D60?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':Q7m};return Z7m.market.newIterator(C7m);}if(Y2V.Y1N(O8N.toString(),O8N.toString().length,39326)!==M8N){Z7m=q7m?q7m:this.chart;C7m={'begin':c7m,'interval':this.layout.interval=='tick'?1:this.layout.interval,'periodicity':this.layout.interval=='tick'?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':Q7m};return Z7m.market.newIterator(C7m);}};E7.prototype.zoomOut=function(F8m,k8m){var g60,s60,b60,G8m,h8m,b8m,K8m,L8m,E8m,A8m,P8m,S8m;g60="zoo";g60+="m";g60+="O";g60+="ut";s60="stx-drag-c";s60+="h";s60+="a";s60+="rt";b60="zoom";b60+="O";b60+="u";b60+="t";if(this.runPrepend(b60,arguments)){return;}this.grabbingScreen=!!0;if(E7.insideChart){b7.unappendClassName(this.container,s60);}if(this.preferences.zoomOutSpeed){k8m=this.preferences.zoomOutSpeed;}else if(!k8m){k8m=1.1;}if(F8m&&F8m.preventDefault){F8m.preventDefault();}this.cancelTouchSingleClick=!!1;for(var o8m in this.charts){G8m=this.charts[o8m];h8m=!![];if(G8m.scroll<=G8m.maxTicks){h8m=![];}if(b7.ipad&&G8m.maxTicks>E7.ipadMaxTicks){return;}b8m=Math.round(G8m.maxTicks*k8m);K8m=this.chart.width/b8m;if(K8m<this.minimumCandleWidth){K8m=this.minimumCandleWidth;}this.layout.span=null;if(h8m){Y2V.h7D(5);var A7E=Y2V.W7D(17,160,175);A8m=G8m.scroll-G8m.maxTicks/A7E;L8m=Math.round(this.chart.width/K8m-0.499);P8m=G8m.scroll-L8m/2;E8m=G8m.scroll+Math.round(A8m-P8m);}else{L8m=Math.round(this.chart.width/K8m-0.499);S8m=Math.round(this.preferences.whitespace/K8m);Y2V.h7D(9);E8m=Y2V.j7D(L8m,S8m);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:K8m});}else{this.setCandleWidth(K8m);this.chart.scroll=E8m;}}if(this.runAppend(g60,arguments)){return;}this.draw();this.changeOccurred("layout");};E7.prototype.mouseWheel=function(U8m,N8m){var B8m,R8m,J8m,j60,y8m,B8N,i8N,J8N,n8m,O8m,w8m,M20,O20,E20;if(!U8m){U8m=event;}U8m.preventDefault();B8m=U8m.deltaX;R8m=U8m.deltaY;J8m=Date.now()-this.lastMouseWheelEvent;if(Math.abs(R8m)>Math.abs(B8m)){Y2V.h7D(1);B8m=Y2V.W7D(0,"0");}else{R8m=0;}this.lastMouseWheelEvent=Date.now();if(Math.abs(B8m)===0&&Math.abs(R8m)===0){return;}if(this.allowSideswipe&&B8m!==0&&Math.abs(B8m)>Math.abs(R8m)){this.lastMove="horizontal";Y2V.h7D(66);delta=Y2V.W7D(1,B8m);if(delta>50){delta=50;}if(delta<-50){delta=-+"50";}this.grabbingScreen=!![];this.grabStartX=E7.crosshairX;this.grabStartY=E7.crosshairY;if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.chart.panel.yAxis.scroll;this.mousemoveinner(E7.crosshairX-delta,E7.crosshairY);this.grabbingScreen=!{};return;}this.lastMove="vertical";if(!this.allowZoom){return;}if(!this.displayInitialized){return;}if(this.runPrepend("mouseWheel",arguments)){return;}if(!R8m){j60="o";j60+="nmou";j60+="sewheel";if(N8m==j60){Y2V.Z7D(31);var W4E=Y2V.j7D(45,13,586);Y2V.Z7D(31);var a4E=Y2V.j7D(480,14,6680);R8m=W4E/a4E*U8m.wheelDelta;if(U8m.wheelDeltaX){Y2V.h7D(81);var w4E=Y2V.j7D(39,8,4,14,16);B8m=w4E/+"40"*U8m.wheelDeltaX;}}else{R8m=U8m.detail;}}if(typeof U8m.deltaMode=="undefined"){U8m.deltaMode=U8m.type=="MozMousePixelScroll"?0:1;}y8m=R8m;if(U8m.deltaMode==1){B8N=-847425760;i8N=1409411515;J8N=2;for(var f8N=1;Y2V.Y1N(f8N.toString(),f8N.toString().length,90225)!==B8N;f8N++){y8m+=88;J8N+=2;}if(Y2V.Y1N(J8N.toString(),J8N.toString().length,"68050"|0)!==i8N){y8m*=33;}}n8m=null;O8m=null;if(this.mouseWheelAcceleration){w8m=Math.max(Math.pow(Math.abs(y8m),+"0.3"),1);Y2V.h7D(70);n8m=Y2V.j7D(1,w8m,0.1);Y2V.Z7D(82);O8m=Y2V.W7D(w8m,"0.2",0,1);}if(y8m>0){if(this.reverseMouseWheel){this.zoomOut(null,O8m);}else{this.zoomIn(null,n8m);}}else if(y8m<0){M20=-943489461;O20=1872123413;E20=2;for(var c20=1;Y2V.l1N(c20.toString(),c20.toString().length,"15622"*1)!==M20;c20++){if(this.reverseMouseWheel){this.zoomIn(1,n8m);}else{this.zoomOut(1,O8m);}E20+=+"2";}if(Y2V.l1N(E20.toString(),E20.toString().length,87517)!==O20){if(this.reverseMouseWheel){Y2V.Z7D(10);this.zoomIn(Y2V.W7D(1,"1"),n8m);}else{this.zoomOut(1,O8m);}}if(this.reverseMouseWheel){this.zoomIn(null,n8m);}else{this.zoomOut(null,O8m);}}if(this.runAppend("mouseWheel",arguments)){return;}return!"1";};E7.prototype.zoomIn=function(e8m,m8m){var X8m,a8m,r8m,Y8m,x8m,d8m,i8m,D8m,t8m;if(this.runPrepend("zoomIn",arguments)){return;}this.grabbingScreen=![];if(E7.insideChart){b7.unappendClassName(this.container,"stx-drag-chart");}if(this.preferences.zoomInSpeed){m8m=this.preferences.zoomInSpeed;}else if(!m8m){m8m=0.9;}for(var l8m in this.charts){X8m=this.charts[l8m];a8m=!!1;if(X8m.scroll<=X8m.maxTicks){a8m=!1;}if(e8m&&e8m.preventDefault){e8m.preventDefault();}this.cancelTouchSingleClick=!0;r8m=Math.round(X8m.maxTicks*m8m);if(X8m.maxTicks-r8m<2){Y2V.h7D(83);var K4E=Y2V.j7D(16,12,14,33);r8m=X8m.maxTicks-"2"*K4E;}if(r8m<this.minimumZoomTicks){r8m=this.minimumZoomTicks;}Y8m=this.chart.width/r8m;this.layout.span=null;if(a8m){Y2V.Z7D(47);var S4E=Y2V.j7D(12,10,12,139,7);i8m=X8m.scroll-X8m.maxTicks/S4E;x8m=Math.round(this.chart.width/Y8m-0.499);Y2V.Z7D(9);var P4E=Y2V.j7D(17,15);D8m=X8m.scroll-x8m/P4E;d8m=X8m.scroll+Math.round(i8m-D8m);}else{x8m=Math.round(this.chart.width/Y8m-0.499);t8m=Math.round(this.preferences.whitespace/Y8m);Y2V.h7D(9);d8m=Y2V.j7D(x8m,t8m);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:Y8m});}else{this.setCandleWidth(Y8m);this.chart.scroll=d8m;}}if(this.runAppend("zoomIn",arguments)){return;}this.draw();this.changeOccurred("layout");};E7.prototype.translateIf=function(M8m){if(this.translationCallback){return this.translationCallback(M8m);}return M8m;};E7.prototype.setTimeZone=function(g8m,H8m){var V8m,u8m,T8m,i20,J20,Z20,s8m,z8m;if(typeof o7=="undefined"){this.timeZoneOffset=0;return;}V8m=new Date();u8m=V8m.getTimezoneOffset();T8m=u8m;i20=-909255821;J20=1581246148;Z20=2;for(var m20=1;Y2V.Y1N(m20.toString(),m20.toString().length,28741)!==i20;m20++){s8m=u8m;if(g8m){this.dataZone=g8m;}if(this.dataZone){T8m=new o7.Date(V8m,this.dataZone).getTimezoneOffset();}if(H8m){this.displayZone=H8m;}if(this.displayZone){s8m=new o7.Date(V8m,this.displayZone).getTimezoneOffset();}Z20+=2;}if(Y2V.l1N(Z20.toString(),Z20.toString().length,52865)!==J20){s8m=u8m;if(g8m){this.dataZone=g8m;}if(this.dataZone){T8m=new o7.Date(V8m,this.dataZone).getTimezoneOffset();}if(H8m){this.displayZone=H8m;}if(this.displayZone){s8m=new o7.Date(V8m,this.displayZone).getTimezoneOffset();}}Y2V.h7D(84);this.timeZoneOffset=Y2V.W7D(u8m,u8m,T8m,s8m);for(var j8m in this.charts){z8m=this.charts[j8m];if(z8m.masterData&&!E7.isDailyInterval(this.layout.interval)){this.setDisplayDates(z8m.masterData);}}this.createDataSet();};E7.prototype.setLocale=function(f8m){var Y60,r60,Q60,n60,V60,x60,N60,v60;Y60="p";Y60+="ercent";r60="numer";r60+="ic";Q60="numer";Q60+="ic";n60="nume";n60+="ric";V60="nume";V60+="r";V60+="ic";x60="2-";x60+="d";x60+="i";x60+="git";N60="num";N60+="er";N60+="i";N60+="c";v60="nume";v60+="ri";v60+="c";if(typeof Intl=="undefined"){return;}if(this.locale!=f8m){this.locale=f8m;}else{return;}this.internationalizer={};this.internationalizer.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hour12:!{}});this.internationalizer.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:v60,second:N60,hour12:!1});this.internationalizer.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:x60});this.internationalizer.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:V60});this.internationalizer.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:n60});this.internationalizer.yearMonth=new Intl.DateTimeFormat(this.locale,{year:Q60,month:r60});this.internationalizer.month=new Intl.DateTimeFormat(this.locale,{month:"short"});this.internationalizer.numbers=new Intl.NumberFormat(this.locale);this.internationalizer.priceFormatters=[];this.internationalizer.priceFormatters[0]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:"0"|0,minimumFractionDigits:0});this.internationalizer.priceFormatters[+"1"]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:1,minimumFractionDigits:1});this.internationalizer.priceFormatters[2]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:"2"*1,minimumFractionDigits:2});this.internationalizer.priceFormatters[3]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:3,minimumFractionDigits:+"3"});this.internationalizer.priceFormatters[4]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:4,minimumFractionDigits:4});this.internationalizer.priceFormatters[5]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:5,minimumFractionDigits:5});this.internationalizer.percent=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});this.internationalizer.percent0=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0});this.internationalizer.percent1=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1});this.internationalizer.percent2=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:+"2"});this.internationalizer.percent3=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:+"3",maximumFractionDigits:3});this.internationalizer.percent4=new Intl.NumberFormat(this.locale,{style:Y60,minimumFractionDigits:4,maximumFractionDigits:4});b7.createMonthArrays(this,this.internationalizer.month,this.locale);};E7.prototype.importLayout=function(W8m,I8m){var l60,Q8m,G6m,p8m,R6m,S6m,Z8m,k6m,K6m,z60,q8m,c8m,U6m,E6m,C8m,v8m,L6m,o6m,B60;l60="o";l60+="bj";l60+="e";l60+="ct";if(typeof I8m!==l60){I8m={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}if(!I8m.preserveTicksAndCandleWidth&&I8m.preserveTicksAndCandleWidth!==!{}){I8m.preserveTicksAndCandleWidth=!![];}Q8m=b7.shallowClone(this.layout);G6m=this.serializeDrawings();this.abortDrawings();this.currentlyImporting=!![];this.overlays={};p8m=b7.clone(W8m);for(var P6m in this.layout.studies){R6m=this.layout.studies[P6m];b7.Studies.removeStudy(this,R6m);}if(p8m){S6m=b7.shallowClone(this.panels);this.panels={};Z8m=b7.clone(p8m);delete Z8m.periodicity;delete Z8m.interval;delete Z8m.timeUnit;delete Z8m.setSpan;b7.dataBindSafeAssignment(this.layout,Z8m);this.layout.periodicity=Q8m.periodicity;this.layout.interval=Q8m.interval;this.layout.timeUnit=Q8m.timeUnit;this.layout.setSpan=Q8m.setSpan;if(I8m.preserveTicksAndCandleWidth){this.layout.candleWidth=Q8m.candleWidth;}else{if(!this.layout.candleWidth){this.layout.candleWidth=8;}}if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}this.setCandleWidth(this.layout.candleWidth);k6m=p8m.panels;this.layout.panels={};for(var b6m in k6m){K6m=k6m[b6m];this.stackPanel(K6m.display,b6m,K6m.percent,K6m.chartName);}if(b7.isEmpty(k6m)){z60="c";z60+="h";z60+="a";z60+="rt";this.stackPanel("chart",z60,1,"chart");}for(var h6m in S6m){q8m=S6m[h6m];c8m=this.panels[h6m];if(c8m){this.container.removeChild(c8m.holder);this.container.removeChild(q8m.handle);U6m={"holder":!!{},"subholder":!0,"display":!![]};for(var F6m in U6m){c8m[F6m]=q8m[F6m];}this.configurePanelControls(c8m);if(q8m.chart.panel==q8m){q8m.chart.panel=c8m;}}else{this.privateDeletePanel(q8m);}}this.adjustPanelPositions();this.storePanels();E6m=b7.clone(this.layout.studies);delete this.layout.studies;for(var A6m in E6m){C8m=E6m[A6m];b7.Studies.addStudy(this,C8m.type,C8m.inputs,C8m.outputs,C8m.parameters,C8m.panel);}}if(typeof this.layout.chartType=="undefined"){this.layout.chartType="line";}this.adjustPanelPositions();v8m=this;if(W8m.symbols){if(!this.quoteDriver||!this.quoteDriver.quoteFeed){console.log("WARNING: loading a symbol through 'importLayout' without a QuoteFeed may break data updates");}L6m={};if(I8m.managePeriodicity){if(W8m.symbols[0].setSpan){L6m.span=W8m.symbols[0].setSpan;}if(W8m.symbols[+"0"].interval){L6m.periodicity={interval:W8m.symbols[0].interval,periodicity:W8m.symbols[0].periodicity,timeUnit:W8m.symbols[+"0"].timeUnit};}}o6m=W8m.symbols[0].symbolObject||W8m.symbols["0"|0].symbol;this.newChart(o6m,null,this.chart,function(n6m){if(!n6m){for(var y6m,B6m=1;B6m<W8m.symbols.length;++B6m){y6m=W8m.symbols[B6m];v8m.addSeries(y6m.symbol,y6m.parameters);}}v8m.reconstructDrawings(G6m);v8m.draw();v8m.currentlyImporting=!1;v8m.updateListeners("layout");if(I8m.cb){I8m.cb.apply(null,arguments);}},L6m);return;}else{if(p8m&&I8m.managePeriodicity){if(p8m.setSpan&&this.chart.symbol){this.setSpan(p8m.setSpan,function(){v8m.reconstructDrawings(G6m);v8m.draw();v8m.currentlyImporting=![];v8m.updateListeners("layout");if(I8m.cb){I8m.cb();}});return;}else{B60="d";B60+="a";B60+="y";interval=p8m.interval;periodicity=p8m.periodicity;timeUnit=p8m.timeUnit;if(isNaN(periodicity)){periodicity=1;}if(!interval){interval=B60;}if(interval!=this.layout.interval||periodicity!=this.layout.periodicity){this.setPeriodicityV2(periodicity,interval,timeUnit,function(){v8m.reconstructDrawings(G6m);v8m.draw();v8m.currentlyImporting=!{};v8m.updateListeners("layout");if(I8m.cb){I8m.cb();}});return;}else{this.createDataSet();}}}else{this.createDataSet();}}this.reconstructDrawings(G6m);this.draw();if(!I8m.preserveTicksAndCandleWidth){this.home();}this.currentlyImporting=!{};this.updateListeners("layout");if(I8m.cb){I8m.cb();}};E7.prototype.exportLayout=function(x6m){var O6m,i60,X6m,r6m,N6m,J6m;O6m={};for(var w6m in this.layout){i60="stu";i60+="dies";if(w6m!="studies"&&w6m!="panels"){O6m[w6m]=b7.clone(this.layout[w6m]);}else if(w6m==i60){O6m.studies={};}else if(w6m=="panels"){O6m.panels={};}}for(var Y6m in this.panels){X6m=O6m.panels[Y6m]={};r6m=this.panels[Y6m];X6m.percent=r6m.percent;X6m.display=r6m.display;X6m.chartName=r6m.chart.name;}for(var m6m in this.layout.studies){N6m=O6m.studies[m6m]={};J6m=this.layout.studies[m6m];N6m.type=J6m.type;N6m.inputs=b7.clone(J6m.inputs);N6m.outputs=b7.clone(J6m.outputs);N6m.panel=J6m.panel;N6m.parameters=b7.clone(J6m.parameters);}if(x6m){O6m.symbols=this.getSymbols("include-parameters");}return O6m;};E7.prototype.doCleanupGaps=function(a6m,M6m){var J60,d6m,u6m,t6m,e6m,s6m,V6m,i6m,D6m,T6m;J60="wee";J60+="k";if(!this.cleanupGaps){return a6m;}if(this.layout.interval=="tick"){return a6m;}if(a6m&&!a6m.length){return a6m;}if(!M6m){M6m=this.chart;}d6m=this.layout.interval;if(d6m=="month"||d6m==J60){if(this.dontRoll){return a6m;}d6m="day";}u6m=function(z6m){var g6m;if(z6m.DT){g6m=z6m.DT;}else{g6m=b7.strToDateTime(z6m.Date);}return g6m;};t6m=[];Y2V.h7D(1);e6m=a6m[Y2V.j7D(0,"0")];t6m.push(a6m[0]);s6m={'begin':u6m(e6m),'interval':d6m,'periodicity':1,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};V6m=M6m.market.newIterator(s6m);for(var l6m=1;l6m<a6m.length;l6m++){i6m=a6m[l6m];D6m=V6m.next();T6m=u6m(i6m);while(D6m<T6m){t6m.push({DT:D6m,Open:e6m.Close,High:e6m.Close,Low:e6m.Close,Close:e6m.Close,Volume:0,Adj_Close:e6m.Adj_Close});D6m=V6m.next();}t6m.push(i6m);e6m=i6m;}return t6m;};E7.Driver=function(H6m,j6m,f6m){this.tagalongs={};this.stx=H6m;this.quoteFeed=j6m;this.behavior=f6m;this.loadingNewChart=![];this.intervalTimer=null;this.updatingChart=!1;this.updateChartLoop();};E7.Driver.prototype.die=function(){if(this.intervalTimer){window.clearInterval(this.intervalTimer);}};E7.Driver.prototype.updateSubscriptions=function(){if(this.quoteFeed.checkSubscriptions){this.quoteFeed.checkSubscriptions(this.stx);}};E7.Driver.prototype.attachTagAlongQuoteFeed=function(I6m){if(!this.tagalongs[I6m.label]){this.tagalongs[I6m.label]={label:I6m.label,quoteFeed:I6m.quoteFeed,behavior:I6m.behavior?I6m.behavior:{},count:0};}this.tagalongs[I6m.label].count++;};E7.Driver.prototype.detachTagAlongQuoteFeed=function(W6m){var v6m;v6m=this.tagalongs[W6m.label];v6m.count--;if(!v6m.count){this.tagalongs[W6m.label]=null;}};E7.Driver.prototype.loadDependents=function(c6m){var Q6m,C6m,p6m,Z6m,G1m,q6m;function L1m(F1m){var Z60;for(var h1m=p6m.masterData.length-("1"|0);h1m>=+"0";h1m--){Z60="undef";Z60+="ined";if(p6m.masterData[h1m]&&typeof p6m.masterData[h1m][F1m]!=Z60){return b7.strToDateTime(p6m.masterData[h1m].Date);}}return c6m.startDate;}C6m={};p6m=c6m.stx;Z6m=p6m.chart.series;for(Q6m in Z6m){if(!Z6m[Q6m].parameters.data||!Z6m[Q6m].parameters.data.useDefaultQuoteFeed)continue;C6m[Q6m]=!![];}for(var K1m in p6m.panels){if(p6m.panels[K1m].studyQuotes){for(var k1m in p6m.panels[K1m].studyQuotes){C6m[k1m]=!!1;}}}G1m=[];for(Q6m in C6m){q6m=b7.shallowClone(c6m.originalState);q6m.symbol=Q6m;if(Z6m[Q6m]&&Z6m[Q6m].parameters.symbolObject){q6m.symbolObject=Z6m[Q6m].parameters.symbolObject;}if(q6m.update){q6m.startDate=L1m(Q6m);}else{if(!q6m.startDate&&p6m.masterData[0]){q6m.startDate=p6m.masterData[0].DT;}if(!q6m.endDate&&p6m.masterData[p6m.masterData.length-+"1"]){q6m.endDate=p6m.masterData[p6m.masterData.length-"1"*1].DT;}}G1m.push(q6m);}if(!G1m.length){p6m.createDataSet();if(!c6m.nodraw){p6m.draw();}return;}this.quoteFeed.multiFetch(G1m,function(o1m){var E1m,S1m;for(var b1m=0;b1m<o1m.length;b1m++){E1m=o1m[b1m];if(!E1m.dataCallback.error&&E1m.dataCallback.error!==0){S1m=null;if(p6m.chart.series[E1m.params.symbol]){S1m=p6m.chart.series[E1m.params.symbol].parameters.field;}b7.addMemberToMasterdata(p6m,E1m.params.symbol,E1m.dataCallback.quotes,null,null,S1m);}}p6m.createDataSet();p6m.draw();});};E7.Driver.prototype.executeTagAlongs=function(y1m){var R1m,U1m,A1m,P1m;R1m={count:b7.objLength(this.taglongs)};U1m=this;for(var B1m in this.tagalongs){A1m=this.tagalongs[B1m];P1m=b7.shallowClone(A1m.behavior);b7.extend(P1m,y1m,!![]);A1m.quoteFeed.fetch(P1m,n1m(P1m,A1m,R1m));}function n1m(w1m,N1m,O1m){return function(X1m){var J1m;O1m.count--;if(!X1m.error&&X1m.error!==0){J1m=w1m.fields;if(!J1m){J1m=null;}b7.addMemberToMasterdata(U1m.stx,N1m.label,X1m.quotes,J1m);}if(O1m.count==-1){U1m.render();}};}};E7.Driver.prototype.render=function(){this.stx.createDataSet();this.stx.draw();};E7.Driver.prototype.updateChart=function(){var a1m,m1m,e1m,d1m,r1m,Y1m,x1m;if(this.updatingChart){return;}if(this.loadingNewChart){return;}function l1m(D1m,i1m,M1m){if(D1m.behavior.prefetchAction){D1m.behavior.prefetchAction("updateChart");}return function(u1m){var T1m,V1m;m1m++;if(M1m==i1m.chart.symbol&&e1m==D1m.stx.layout.interval&&d1m==D1m.stx.layout.timeUnit){if(!u1m.error&&u1m.error!==0){T1m=!{};if(!i1m.missingBarsCreated){if(i1m.chart.masterData&&i1m.chart.masterData.length&&u1m.quotes&&u1m.quotes.length>0){V1m=i1m.chart.masterData[i1m.chart.masterData.length-+"1"];if(u1m.quotes[0].DT&&V1m.DT<u1m.quotes[0].DT||u1m.quotes[0].Date&&V1m.Date<u1m.quotes[+"0"].Date){u1m.quotes.unshift(V1m);T1m=!0;}}u1m.quotes=D1m.stx.doCleanupGaps(u1m.quotes,i1m.chart);if(T1m){u1m.quotes.shift();}}D1m.stx.appendMasterData(u1m.quotes,i1m.chart,{noCreateDataSet:!!{}});i1m.chart.attribution=u1m.attribution;}else{D1m.quoteFeed.announceError(i1m.originalState,u1m);}}else{return;}if(m1m==a1m){D1m.updatingChart=![];}D1m.executeTagAlongs(i1m);if(D1m.behavior.callback){D1m.behavior.callback(i1m);}D1m.loadDependents(i1m);};}a1m=b7.objLength(this.stx.charts);m1m=0;e1m=this.stx.layout.interval;d1m=this.stx.layout.timeUnit;for(var t1m in this.stx.charts){r1m=this.stx.charts[t1m];if(!r1m.symbol)continue;Y1m=this.makeParams(r1m.symbol,r1m.symbolObject,r1m);if(r1m.masterData&&r1m.masterData.length){Y1m.startDate=r1m.masterData[r1m.masterData.length-1].DT;}Y1m.update=!0;Y1m.originalState=b7.shallowClone(Y1m);this.updatingChart=!0;x1m=l1m(this,Y1m,r1m.symbol);if(this.stx.isEquationChart(Y1m.symbol)){b7.fetchEquationChart(Y1m,x1m);}else{this.quoteFeed.fetch(Y1m,x1m);}}};E7.Driver.prototype.updateChartLoop=function(){var S70,P70,T70;function s1m(z1m){return function(){if(z1m.behavior.noUpdate){return;}z1m.updateChart();};}if(this.behavior.noUpdate){return;}S70=-1064524703;P70=-691956966;T70=2;for(var e70=1;Y2V.l1N(e70.toString(),e70.toString().length,32221)!==S70;e70++){if(this.behavior.refreshInterval){this.intervalTimer=window.setInterval(s1m(this),this.behavior.refreshInterval%2411);}T70+=2;}if(Y2V.l1N(T70.toString(),T70.toString().length,58543)!==P70){if(this.behavior.refreshInterval){this.intervalTimer=window.setInterval(s1m(this),this.behavior.refreshInterval%2411);}}if(this.behavior.refreshInterval){this.intervalTimer=window.setInterval(s1m(this),this.behavior.refreshInterval*1000);}};E7.Driver.prototype.resetRefreshInterval=function(g1m){if(this.intervalTimer){window.clearInterval(this.intervalTimer);}this.behavior.refreshInterval=g1m;this.updateChartLoop();};E7.Driver.prototype.loadAll=function(H1m,j1m){var f1m,I1m;f1m=this;I1m=0;this.checkLoadMore(H1m,!0,!"",v1m());function v1m(){return function(W1m){if(W1m){j1m(W1m);}else if(!H1m.moreAvailable){j1m(null);}else if(I1m++>20){j1m("error, moreAvailable not implemented correctly in QuoteFeed");}else{f1m.checkLoadMore(H1m,!!{},!!"1",v1m());}};}};E7.Driver.prototype.checkLoadMore=function(p1m,h2m,G2m,Q1m,c1m){var k2m,K2m,C1m,q1m,Z1m;function L2m(E2m,F2m){var f60;f60="checkLoadM";f60+="or";f60+="e";if(E2m.behavior.prefetchAction){E2m.behavior.prefetchAction(f60);}return function(b2m){var S2m;if(F2m.symbol==F2m.chart.symbol&&k2m==E2m.stx.layout.interval&&K2m==E2m.stx.layout.timeUnit){if(!F2m.loadMore){F2m.chart.loadingMore=![];}if(!b2m.error&&b2m.error!==0){if(!F2m.missingBarsCreated){b2m.quotes.push(F2m.chart.masterData[0]);b2m.quotes=E2m.stx.doCleanupGaps(b2m.quotes,F2m.chart);b2m.quotes.pop();}F2m.chart.moreAvailable=b2m.moreAvailable;S2m=F2m.loadMoreReplace?b2m.quotes:b2m.quotes.concat(F2m.chart.masterData);E2m.stx.setMasterData(S2m,F2m.chart);E2m.stx.createDataSet();if(!c1m){E2m.stx.draw();}F2m.startDate=F2m.chart.masterData[0].DT;E2m.executeTagAlongs(F2m);if(E2m.behavior.callback){E2m.behavior.callback(F2m);}E2m.loadDependents(F2m);}else{E2m.quoteFeed.announceError(F2m.originalState,b2m);}F2m.chart.loadingMore=![];if(Q1m){Q1m(null);}}else{return;}};}if(!p1m.moreAvailable){if(Q1m){Q1m();}return;}k2m=this.stx.layout.interval;K2m=this.stx.layout.timeUnit;C1m=p1m.loadingMore;if(!this.behavior.noLoadMore){if(!this.stx.maxDataSetSize||p1m.dataSet.length<this.stx.maxDataSetSize){if(p1m.dataSet.length>0&&p1m.scroll>=p1m.dataSet.length||h2m){if(!p1m.loadingMore){p1m.initialScroll=p1m.scroll;p1m.loadingMore=!!"1";q1m=this.makeParams(p1m.symbol,p1m.symbolObject,p1m);q1m.endDate=p1m.masterData[0].DT;q1m.originalState=b7.shallowClone(q1m);q1m.nodraw=c1m;if(this.stx.fetchMaximumBars[this.stx.layout.aggregationType]){G2m=!!1;}if(G2m){q1m.fetchMaximumBars=!![];q1m.ticks=Math.max(20000,q1m.ticks);}Z1m=L2m(this,q1m);if(this.stx.isEquationChart(q1m.symbol)){b7.fetchEquationChart(q1m,Z1m);}else{this.quoteFeed.fetch(q1m,Z1m);}C1m=!!{};}}}}if(p1m.loadingMore){p1m.initialScroll=p1m.scroll;}if(!C1m&&Q1m){Q1m(null);}};E7.Driver.prototype.barsToFetch=function(o2m){var A2m,P2m,U2m;if(o2m.isSeries){return o2m.stx.masterData.length;}A2m=this.stx.layout.interval;P2m=o2m.stx.layout.periodicity;if((A2m=="month"||A2m=="week")&&!this.stx.dontRoll){P2m*=A2m=="week"?7:30;}U2m=o2m.stx.chart.maxTicks*P2m;return U2m;};E7.Driver.prototype.makeParams=function(y2m,O2m,w2m){var R60,B2m,n2m,m60,R2m;R60="d";R60+="elay";R60+="e";R60+="d";B2m=this.stx.layout.interval;n2m=this.barsToFetch({stx:this.stx});if((B2m=="month"||B2m=="week")&&!this.stx.dontRoll){m60="d";m60+="a";m60+="y";B2m=m60;}R2m=b7.shallowClone(this.behavior);b7.extend(R2m,{stx:this.stx,symbol:y2m,symbolObject:O2m,chart:w2m,interval:B2m,extended:this.stx.layout.extended,period:1,feed:R60,ticks:n2m},!!1);if(!R2m.symbolObject){R2m.symbolObject={symbol:y2m};}if(!isNaN(R2m.interval)){R2m.period=R2m.interval;R2m.interval=this.stx.layout.timeUnit;if(!R2m.interval){R2m.interval="minute";}}if(R2m.pts){R2m.ticks=Math.max(R2m.ticks,1000);}return R2m;};E7.Driver.prototype.newChart=function(X2m,r2m){var N2m,x2m,a2m,e2m,Y2m,J2m,m2m;N2m=this.stx;x2m=X2m.symbol;a2m=N2m.layout.interval;e2m=N2m.layout.timeUnit;Y2m=X2m.chart;function d2m(l2m,t2m){if(l2m.behavior.prefetchAction){l2m.behavior.prefetchAction("newChart");}return function(i2m){var F60;if(x2m==t2m.chart.symbol&&a2m==N2m.layout.interval&&e2m==N2m.layout.timeUnit){if(!i2m.error&&i2m.error!==0){if(!t2m.missingBarsCreated){i2m.quotes=N2m.doCleanupGaps(i2m.quotes,X2m.chart);}N2m.setMasterData(i2m.quotes,t2m.chart);t2m.chart.moreAvailable=i2m.moreAvailable;t2m.chart.attribution=i2m.attribution;N2m.createDataSet();if(X2m.initializeChart){N2m.initializeChart();}if(!t2m.nodraw){N2m.home();}}else{l2m.quoteFeed.announceError(t2m.originalState,i2m);}}else{F60="orph";F60+="an";F60+="e";F60+="d";if(r2m){r2m(F60);}return;}l2m.loadingNewChart=!{};if(r2m){r2m(i2m.error);}if(t2m.chart.masterData&&t2m.chart.masterData.length){t2m.startDate=t2m.chart.masterData["0"-0].DT;}l2m.executeTagAlongs(t2m);if(l2m.behavior.callback){l2m.behavior.callback(t2m);}l2m.loadDependents(t2m);l2m.resetRefreshInterval(l2m.behavior.refreshInterval);};}Y2m.moreAvailable=!!0;Y2m.attribution=null;J2m=this.makeParams(x2m,X2m.symbolObject,Y2m);b7.extend(J2m,X2m,!!1);if(N2m.fetchMaximumBars[N2m.layout.aggregationType]){J2m.ticks=Math.max(20000,J2m.ticks);J2m.fetchMaximumBars=!![];}this.loadingNewChart=!!1;this.updatingChart=!"1";J2m.originalState=b7.shallowClone(J2m);m2m=d2m(this,J2m);if(this.stx.isEquationChart(J2m.symbol)){b7.fetchEquationChart(J2m,m2m);}else{this.quoteFeed.fetch(J2m,m2m);}};E7.prototype.attachQuoteFeed=function(M2m,D2m){if(!D2m){D2m={};}if(this.quoteDriver){this.quoteDriver.die();}this.quoteDriver=new E7.Driver(this,M2m,D2m);};E7.prototype.attachTagAlongQuoteFeed=function(u2m){if(!u2m.label){console.log("Attempt to attachTagAlongQuoteFeed without assigning a label");return;}this.quoteDriver.attachTagAlongQuoteFeed(u2m);};E7.prototype.detachTagAlongQuoteFeed=function(V2m){this.quoteDriver.detachTagAlongQuoteFeed(V2m);};b7.Comparison=function(){};b7.Comparison.mouseHasMoved=!1;b7.Comparison.priceToPercent=function(s2m,z2m,T2m){Y2V.Z7D(0);var T4E=Y2V.W7D(14,9986);return Math.round((T2m-b7.Comparison.baseline)/b7.Comparison.baseline*("100"-0)*+"10000")/T4E;};b7.Comparison.percentToPrice=function(H2m,j2m,g2m){Y2V.h7D(85);var e4E=Y2V.W7D(7,17,10);return b7.Comparison.baseline*(1+g2m/e4E);};b7.Comparison.stopSort=function(f2m,I2m){Y2V.h7D(9);return Y2V.j7D(f2m,I2m);};b7.Comparison.createComparisonSegmentInner=function(Z2m,C2m){var k5m,l30,z30,B30,W2m,A5m,c2m,F5m,B5m,b5m,K5m,Q2m,h5m,S5m,k60,v2m,q2m,E5m,p2m,P5m,U5m,o5m,G5m,L5m;k5m=[];l30=1596009532;z30=1186548061;B30=2;for(var J30=1;Y2V.l1N(J30.toString(),J30.toString().length,77307)!==l30;J30++){B30+=2;}if(Y2V.Y1N(B30.toString(),B30.toString().length,74506)!==z30){}for(W2m in C2m.series){if(C2m.series[W2m].parameters.isComparison){k5m.push(W2m);}}A5m=["Close","Open","High","Low","iqPrevClose"];C2m.dataSegment=[];c2m=null;F5m=C2m.dataSet.length-C2m.scroll;B5m=F5m+C2m.maxTicks;b5m=0;K5m=[];for(Q2m=0;Q2m<Z2m.drawingObjects.length;Q2m++){h5m=Z2m.drawingObjects[Q2m];if(h5m.name=="comparison_stop")if(h5m.tick>F5m&&h5m.tick<=B5m){K5m.push(h5m.tick);}}K5m.sort(b7.Comparison.stopSort);Y2V.h7D(9);var G4E=Y2V.W7D(20,17);S5m=C2m.maxTicks+G4E;for(Q2m=0;Q2m<=S5m;Q2m++){if(Q2m==S5m){Q2m=-1;}Y2V.h7D(0);position=Y2V.W7D(Q2m,F5m);if(position<C2m.dataSet.length&&position>=0){k60="com";k60+="pa";k60+="rison_stop";v2m=C2m.dataSet[position];if(!c2m){c2m=b7.clone(v2m);}if(!v2m.transform){v2m.transform={"cache":{},"DT":v2m.DT,"Date":v2m.Date};}b7.Comparison.baseline=c2m.Close;for(q2m=0;q2m<A5m.length;q2m++){W2m=A5m[q2m];if(v2m[W2m]||v2m[W2m]===0){Y2V.Z7D(8);var y4E=Y2V.j7D(990014,50000,14,20);Y2V.Z7D(86);var u4E=Y2V.j7D(8,10,16,160000,5976);v2m.transform[W2m]=Math.round((v2m[W2m]-b7.Comparison.baseline)/b7.Comparison.baseline*100*y4E)/u4E;}}E5m=Z2m.layout.studies;if(E5m){for(var R5m in E5m){p2m=E5m[R5m];if(!Z2m.panels[p2m.panel]||Z2m.panels[p2m.panel].name!=p2m.chart.name)continue;for(W2m in p2m.outputMap){if(v2m[W2m]||v2m[W2m]===0){Y2V.h7D(9);var h4E=Y2V.j7D(114,14);Y2V.h7D(0);var U4E=Y2V.W7D(10,9990);Y2V.Z7D(5);var I4E=Y2V.W7D(10012,1,13);v2m.transform[W2m]=Math.round((v2m[W2m]-b7.Comparison.baseline)/b7.Comparison.baseline*h4E*U4E)/I4E;}}if(p2m.referenceOutput&&(v2m[p2m.referenceOutput+((40.37,3784)==(4421,296)?+"3140"===(364.31,+"3054")?1.49e+3:(2.52e+3,0x103c):" ")+p2m.name]||v2m[p2m.referenceOutput+(5400===(5004,+"2170")?(5550,5270)==+"385"?"I":+"3.28e+2":" ")+p2m.name]===0)){Y2V.Z7D(12);var M4E=Y2V.W7D(3,108,1689);Y2V.Z7D(9);var O4E=Y2V.j7D(2342,12);Y2V.Z7D(31);var E4E=Y2V.W7D(4,30700,119730);Y2V.Z7D(0);var q4E=Y2V.W7D(10,90);v2m.transform[p2m.referenceOutput+((+"1964",+"184.65")>(M4E,O4E)?E4E:" ")+p2m.name]=Math.round((v2m[p2m.referenceOutput+" "+p2m.name]-b7.Comparison.baseline)/b7.Comparison.baseline*q4E*+"10000")/10000;}}}for(q2m in Z2m.plugins){P5m=Z2m.plugins[q2m];if(!P5m.transformOutputs)continue;for(W2m in P5m.transformOutputs){if(v2m[W2m]||v2m[W2m]===0){Y2V.Z7D(47);var H4E=Y2V.W7D(50,16,2,19,35);Y2V.Z7D(54);var d4E=Y2V.j7D(3589820,15,120000,2,6);v2m.transform[W2m]=Math.round((v2m[W2m]-b7.Comparison.baseline)/b7.Comparison.baseline*H4E*d4E)/+"10000";}}}U5m=!1;if(K5m&&b5m<K5m.length){if(position===K5m[b5m]){U5m=!"";b5m++;}}o5m=null;if(Z2m.activeDrawing&&Z2m.activeDrawing.name==k60){o5m=Z2m.activeDrawing.tick;}if(U5m||position==o5m){for(q2m=0;q2m<k5m.length;q2m++){W2m=k5m[q2m];G5m=v2m[W2m];c2m[W2m]=G5m/("1"-0+v2m.transform.Close/("100"|0));}}for(q2m=0;q2m<k5m.length;q2m++){W2m=k5m[q2m];G5m=v2m[W2m];if(G5m||G5m===0){L5m=c2m[W2m];if(!L5m&&L5m!=="0"*1){Y2V.Z7D(56);var p4E=Y2V.W7D(5,15,21);Y2V.h7D(9);var C4E=Y2V.j7D(1300,1200);c2m[W2m]=L5m=G5m/(p4E+v2m.transform.Close/C4E);}v2m.transform[W2m]=Math.round((G5m-L5m)/L5m*+"100"*10000)/10000;}}C2m.dataSegment.push(v2m);}else if(position<0){C2m.dataSegment.push(null);}if(Q2m<0)break;}Z2m.clearPixelCache();return!!"1";};b7.Comparison.createComparisonSegment=function(){var y5m;for(var n5m in this.charts){y5m=this.charts[n5m];if(y5m.isComparison){b7.Comparison.createComparisonSegmentInner(this,y5m);}}};b7.Comparison.priceFormat=function(N5m,J5m,O5m){var w5m;if(O5m===null||typeof O5m=="undefined"){return"";}w5m=J5m.yAxis.priceTick;if(N5m.internationalizer){if(w5m>=1){Y2V.Z7D(3);O5m=N5m.internationalizer.percent0.format(Y2V.j7D(O5m,100));}else if(w5m>=0.1){Y2V.Z7D(3);O5m=N5m.internationalizer.percent1.format(Y2V.j7D(O5m,100));}else if(w5m>=0.01){Y2V.Z7D(40);O5m=N5m.internationalizer.percent2.format(Y2V.W7D(O5m,1,"100"));}else if(w5m>=+"0.001"){Y2V.h7D(3);O5m=N5m.internationalizer.percent3.format(Y2V.W7D(O5m,100));}else{O5m=N5m.internationalizer.percent4.format(O5m);}}else{if(w5m>=1){O5m=O5m.toFixed(+"0")+"%";}else if(w5m>=0.1){Y2V.Z7D(87);var s4E=Y2V.W7D(82,15,2,3,10);Y2V.h7D(88);var g4E=Y2V.W7D(14,20,7,20,21);O5m=O5m.toFixed(s4E)+((215.29,267.31)!=("7417"*g4E,79.48)?"%":8.30e+3);}else if(w5m>=0.01){Y2V.h7D(31);var v4E=Y2V.W7D(2,20,38);Y2V.Z7D(31);var N4E=Y2V.j7D(6490,20,129151);Y2V.h7D(12);var x4E=Y2V.j7D(2,8142,4079);Y2V.Z7D(5);var V4E=Y2V.W7D(9291,10,13);Y2V.h7D(5);var n4E=Y2V.j7D(9626,14,16);Y2V.Z7D(9);var Q4E=Y2V.W7D(18722,17020);Y2V.h7D(54);var Y4E=Y2V.j7D(2572385,20,14300,9,5);Y2V.Z7D(51);var l4E=Y2V.W7D(8241,2,4114,3);Y2V.Z7D(52);var z4E=Y2V.j7D(90060,20,4493,8986);O5m=O5m.toFixed(v4E)+(105.64===(N4E,x4E)?("c",+"4.39e+3"):(V4E,634.94)<=(n4E,Q4E)?(5330,Y4E)!=(l4E,z4E)?"%":553.10:(!1,"9.01e+3"-0));}else if(w5m>=0.001){Y2V.h7D(21);var B4E=Y2V.j7D(20,23,11,11);Y2V.Z7D(89);var J4E=Y2V.W7D(2278,1138,4);O5m=O5m.toFixed(B4E)+(19.65!=+"7310"?(+"851.27",785.79)>=(968.77,4900)?(J4E,0xe9b):"%":"i");}else{Y2V.Z7D(50);var f4E=Y2V.j7D(12,51,5,5);O5m=O5m.toFixed(f4E)+"%";}}if(parseFloat(O5m)===0&&O5m.charAt(0)==(9963>(504.1,440.39)?"-":(80,0x1494))){O5m=O5m.substring(1);}return O5m;};b7.Comparison.correlate=function(X5m,x5m){var A60,L60,Y5m,r5m,a5m,m5m,i5m,D5m;A60="Compare ";A60+="To";L60=" ";L60+="(";if(!b7.Comparison.requestCorrelation||Y5m<=0){return;}Y5m=parseInt(S7(".stxCorrelate .stx-input-field").value,10);r5m=X5m.panels[b7.Comparison.correlationPanel+L60+Y5m+")"];a5m={"id":b7.Comparison.correlationPanel+" ("+Y5m+((4657,139.42)>=(192.73,6931)?(2.52e+3,"0x2458"|0):")"),"Period":Y5m,"Compare To":[]};m5m={};i5m=null;if(r5m){for(var t5m=0;t5m<X5m.layout.studies[r5m.name].inputs["Compare To"].length;t5m++){a5m["Compare To"].push(X5m.layout.studies[r5m.name].inputs["Compare To"][t5m]);}for(var l5m in X5m.layout.studies[r5m.name].outputs){m5m[l5m]=X5m.layout.studies[r5m.name].outputs[l5m];}i5m=r5m.name;}a5m[A60].push(x5m);Y2V.Z7D(0);m5m[Y2V.W7D(x5m,"Result ")]=b7.Comparison.colorSelection;b7.Studies.addStudy(X5m,"correl",a5m,m5m,null,i5m);for(var d5m in X5m.panels){if(X5m.panels[d5m].name.indexOf(b7.Comparison.correlationPanel)===0){D5m=X5m.layout.studies[X5m.panels[d5m].name].inputs["Compare To"];for(var e5m=0;e5m<D5m.length;e5m++){if(D5m[e5m]==x5m){Y2V.Z7D(0);X5m.layout.studies[X5m.panels[d5m].name].outputs[Y2V.j7D(x5m,"Result ")]=b7.Comparison.colorSelection;}}}}};b7.Comparison.toggleCorrelate=function(u5m){var M5m;b7.Comparison.requestCorrelation=!b7.Comparison.requestCorrelation;M5m=S7(".stxCorrelate .stx-checkbox");if(M5m){b7.unappendClassName(M5m,(!b7.Comparison.requestCorrelation).toString());b7.appendClassName(M5m,b7.Comparison.requestCorrelation.toString());}};E7.prototype.setComparison=function(T5m,V5m){var t80;t80="stri";t80+="ng";if(!V5m){V5m=this.chart;}if(typeof V5m==t80){V5m=this.charts[V5m];}if(!V5m.isComparison&&T5m){this.setTransform(V5m,b7.Comparison.priceToPercent,b7.Comparison.percentToPrice);V5m.panel.yAxis.priceFormatter=b7.Comparison.priceFormat;V5m.panel.yAxis.whichSet="dataSegment";}else if(V5m.isComparison&&!T5m){this.unsetTransform(V5m);V5m.panel.yAxis.priceFormatter=null;V5m.panel.yAxis.whichSet="dataSet";}V5m.isComparison=T5m;};b7.Comparison.startPlugin=function(){var W80;W80="cre";W80+="ateDat";W80+="aSe";W80+="gment";E7.prototype.prepend(W80,b7.Comparison.createComparisonSegment);};b7.Comparison.removeSeries=function(s5m,z5m){};b7.SearchableWordList=function(Q5m,q5m,Z5m){var g5m,H5m,v5m,j5m,f5m,I5m;if(!Q5m){return;}if(!q5m){q5m=+"50";}if(!Z5m){Z5m=!{};}g5m={"records":[],"words":[]};for(var W5m=0;W5m<Q5m.length;W5m++){H5m=Q5m[W5m];if(!H5m.name){H5m.name=H5m.id;}Y2V.h7D(9);var m4E=Y2V.j7D(13,12);H5m.index=g5m.records.push(H5m)-m4E;v5m=H5m.name.split(" ");if(H5m.keywords){v5m=v5m.concat(H5m.keywords.split(" "));}for(var p5m=0;p5m<v5m.length;p5m++){j5m=v5m[p5m].toUpperCase();f5m=(585.96,90)>251?4.63e+3:"_";I5m=(9090,6430)!=(114.44,4460)?(598,248)==(739.85,3020)?"M":"_":(9.66e+3,"0x2c9"-0);if(j5m.charCodeAt(0)>=("33"|0)&&j5m.charCodeAt(0)<=126){f5m=j5m.charAt(0);}if(!g5m.words[f5m]){g5m.words[f5m]=[];}if(j5m.length>1){if(j5m.charCodeAt(+"1")>=33&&j5m.charCodeAt(1)<=126){I5m=j5m.charAt(+"1");}}else{I5m=" ";}if(!g5m.words[f5m][I5m]){g5m.words[f5m][I5m]=[];}g5m.words[f5m][I5m].push({index:H5m.index,word:j5m});}}this.lookup=function(X0m,R0m,Y0m){var c5m,S0m,A0m,h0m,k0m,C5m,y0m,N0m,J0m,o0m,F0m,E0m,K0m,G0m,P0m,w0m;c5m=[];if(X0m&&g5m){S0m=[];A0m=X0m.toUpperCase();h0m=[];for(k0m=0;k0m<g5m.records.length;k0m++){C5m=g5m.records[k0m];if(S0m[C5m.index])continue;if(R0m&&C5m.category!=R0m)continue;y0m=C5m.name.toUpperCase();if(A0m==((2080,7403)!=2817?"*":0x18f2)){h0m.push(b7.extend(g5m.records[C5m.index],{weight:0}));S0m[C5m.index]=!!1;}else{N0m=y0m.indexOf(A0m);if(N0m>-1){J0m=y0m.length-A0m.length;if(!Z5m&&N0m>"0"-0)continue;(J0m?c5m:h0m).push(b7.extend(g5m.records[C5m.index],{weight:J0m}));S0m[C5m.index]=!!1;}}}o0m=A0m.split((+"7890",5541)<(4361,1177)?"9.29e+3"*1:" ");F0m=369!==267.53?"_":(!!"","0x1323"|0);E0m="_";K0m=o0m[0].toUpperCase();G0m=[];if(K0m.charCodeAt(0)>=33&&K0m.charCodeAt(0)<=126){F0m=K0m.charAt(0);}if(K0m.length>1){if(K0m.charCodeAt(1)>=33&&K0m.charCodeAt(1)<=126){E0m=K0m.charAt(1);}}else{E0m=" ";}if(g5m.words[F0m]){for(var b0m in g5m.words[F0m]){if(b0m.length>1)continue;if(E0m!=((239.78,3010)>862.49?2000===854.86?52.91:" ":(8.18e+3,0x1611))){b0m=E0m;}for(k0m=0;g5m.words[F0m][b0m]&&k0m<g5m.words[F0m][b0m].length;k0m++){C5m=g5m.words[F0m][b0m][k0m];if(C5m.word.toUpperCase().indexOf(K0m)!==0)continue;if(S0m[C5m.index])continue;if(R0m&&g5m.records[C5m.index].category!=R0m)continue;G0m.push(b7.clone(g5m.records[C5m.index]));S0m[C5m.index]=!"";}if(E0m!=((1806,240)>9040?(!!{},0x13c):(3930,+"161.44")<(154.38,6023)?" ":(!{},!"")))break;}}for(var U0m=+"1";U0m<o0m.length;U0m++){K0m=o0m[U0m].toUpperCase();for(var L0m=G0m.length-1;L0m>=0;L0m--){P0m=G0m[L0m].name.split((+"856",+"857.12")!=="7735"*1?303.8<=3550?" ":("M",!{}):(0x18c5,+"7.54e+3"));if(G0m[L0m].keywords){P0m=P0m.concat(G0m[L0m].keywords.split(" "));}w0m=!"1";for(var B0m=0;B0m<P0m.length;B0m++){if(P0m[B0m].toUpperCase().indexOf(K0m)===0){w0m=!!{};break;}}if(!w0m){G0m.splice(L0m,1);}}}h0m.sort(O0m);h0m=n0m(h0m);c5m.sort(O0m);c5m=n0m(c5m);c5m.length=Math.min(c5m.length,q5m);G0m.sort(O0m);G0m=n0m(G0m);c5m=h0m.sort(r0m).concat(c5m.sort(r0m),G0m.sort(m0m));c5m.length=Math.min(c5m.length,q5m);}if(Y0m){Y0m(c5m);}else{return c5m;}function O0m(x0m,a0m){if(x0m.id>a0m.id){return 1;}else if(x0m.id<a0m.id){return-1;}return x0m.weight>a0m.weight?1:-1;}function r0m(e0m,d0m){if(e0m.weight>d0m.weight){return 1;}else if(e0m.weight<d0m.weight){return-1;}return e0m.name>d0m.name?1:-1;}function m0m(t0m,l0m){var D0m,M0m,u0m;t0m.weight=0;l0m.weight=0;for(var i0m=0;i0m<o0m.length;i0m++){D0m=o0m[i0m].toUpperCase();M0m=t0m.name.toUpperCase().indexOf(D0m);u0m=l0m.name.toUpperCase().indexOf(D0m);if(M0m==-1){return 1;}else if(u0m==-1){return-1;}t0m.weight+=M0m;l0m.weight+=u0m;}if(t0m.weight>l0m.weight){return 1;}else if(t0m.weight<l0m.weight){return-+"1";}return t0m.name>l0m.name?1:-1;}function n0m(T0m){var s0m,z0m,U70,I70,M70;s0m=[];z0m="";for(var V0m=0;V0m<T0m.length;V0m++){if(z0m==T0m[V0m].id)continue;s0m.push(T0m[V0m]);z0m=T0m[V0m].id;}U70=770448838;I70=-457041441;M70=2;for(var E70=1;Y2V.l1N(E70.toString(),E70.toString().length,87948)!==U70;E70++){return s0m;}if(Y2V.l1N(M70.toString(),M70.toString().length,23295)!==I70){return s0m;}return s0m;}};};return A7;}}());