/* File generated on Thu May 28 2020 15:09:55 GMT+0000 (Coordinated Universal Time) */
/* Version 2016-07-16.9 */
/* Expires on 2020/10/28 */
/* Locked to domains ["127.0.0.1","localhost","nagatrader.com"] */
/* Copyright 2014-2019 ChartIQ LLC */
(function(){
	var trialExpiration =  "undefined";
	if (trialExpiration != "undefined") {
		var expiration = new Date(trialExpiration);
		var now = new Date();
		if (now.getTime() > expiration.getTime()) {
			alert("This license has expired!");
			console.log("This license has expired!");
		} else {
			var diffDays = (expiration.getTime() - now.getTime());
			diffDays = Math.round(Math.abs(diffDays/(1000*60*60*24)));
			if ( diffDays < 3) {
				alert("This license expires in " + diffDays + " days!");
				console.log("This license expires in " + diffDays + " days!");
			}
		}
	}
	var version=["Version 2016-07-16.9"];
	if(version.length>0 && window.STXChart && STXChart.version.length>0){
		if(version[0]!=STXChart.version[0])
		console.log("Mismatched kernel version stxChart:" + STXChart.version[0] + " stxKernel:" + version[0]);
	}

	var domains=["127.0.0.1","localhost","nagatrader.com"];
	if(domains.length){
		var href=document.location.href;
		var foundOne=false;
		for(var i=0;i<domains.length;i++){
			var domain=domains[i];
			if(href.indexOf(domain)!=-1){
				foundOne=true;
			}
		}
		if(!foundOne){
			console.log("!!!! Not licensed for domain " + document.location.href);
		}
	}
})();
W6hh(k6hh());v7dd(y7dd());C6PP(h6PP());d1nn(r1nn());function r1nn(){var X4k=2;for(;X4k!==3;){switch(X4k){case 5:try{var j4k=2;for(;j4k!==9;){switch(j4k){case 4:window.globalThis=window;j4k=3;break;case 2:Object.defineProperty(Object.prototype,'kl5pj',{get:function(){return this;},configurable:true});kl5pj.globalThis=kl5pj;j4k=5;break;case 3:delete Object.prototype.kl5pj;j4k=9;break;case 5:j4k=typeof globalThis==='undefined'?4:3;break;}}}catch(o2k){window.globalThis=window;}return globalThis;break;case 2:X4k=typeof globalThis==='object'?1:5;break;case 1:return globalThis;break;}}}M9EE.W4k=function (){return typeof M9EE.q4k.x1A==='function'?M9EE.q4k.x1A.apply(M9EE.q4k,arguments):M9EE.q4k.x1A;};function W6hh(){function a1(){var W2=2;for(;W2!==5;){switch(W2){case 2:var Q2=[arguments];return Q2[0][0];break;}}}var B2=2;for(;B2!==73;){switch(B2){case 75:z1(U1,"push",H2[55],H2[20]);B2=74;break;case 41:H2[20]=H2[88];H2[20]+=H2[99];H2[20]+=H2[99];H2[69]=H2[77];B2=37;break;case 37:H2[69]+=H2[67];H2[69]+=H2[94];H2[13]=H2[62];H2[13]+=H2[48];B2=52;break;case 21:H2[88]="";H2[88]="A6";H2[94]="";H2[94]="hh";B2=32;break;case 55:z1(e1,"test",H2[55],H2[21]);B2=77;break;case 56:z1(a1,H2[64],H2[92],H2[46]);B2=55;break;case 18:H2[2]="M6";H2[4]="sidual";H2[48]="";H2[48]="e";H2[99]="";H2[99]="";B2=25;break;case 48:H2[57]=H2[7];H2[57]+=H2[3];H2[57]+=H2[48];H2[21]=H2[8];H2[21]+=H2[99];H2[21]+=H2[99];B2=63;break;case 6:H2[3]="";H2[3]="timiz";H2[6]="__ab";H2[7]="";B2=11;break;case 11:H2[7]="";H2[7]="__op";H2[4]="";H2[4]="";B2=18;break;case 52:H2[13]+=H2[4];H2[49]=H2[2];H2[49]+=H2[99];H2[49]+=H2[99];B2=48;break;case 63:H2[46]=H2[5];H2[46]+=H2[67];H2[46]+=H2[94];H2[64]=H2[6];B2=59;break;case 74:z1(q1,"apply",H2[55],H2[42]);B2=73;break;case 28:H2[92]=0;H2[42]=H2[17];H2[42]+=H2[67];H2[42]+=H2[94];B2=41;break;case 57:var z1=function(){var L2=2;for(;L2!==5;){switch(L2){case 2:var G2=[arguments];J1(H2[0][0],G2[0][0],G2[0][1],G2[0][2],G2[0][3]);L2=5;break;}}};B2=56;break;case 3:H2[1]="stra";H2[5]="Y";H2[8]="";H2[8]="u6";B2=6;break;case 32:H2[67]="6";H2[55]=1;H2[17]="F";H2[92]=6;B2=28;break;case 59:H2[64]+=H2[1];H2[64]+=H2[9];B2=57;break;case 77:z1(a1,H2[57],H2[92],H2[49]);B2=76;break;case 25:H2[77]="N";H2[62]="__r";H2[99]="h";H2[88]="";B2=21;break;case 76:z1(a1,H2[13],H2[92],H2[69]);B2=75;break;case 2:var H2=[arguments];H2[9]="";H2[9]="ct";H2[5]="";B2=3;break;}}function U1(){var R3=2;for(;R3!==5;){switch(R3){case 2:var A2=[arguments];return A2[0][0].Array;break;}}}function J1(){var u2=2;for(;u2!==7;){switch(u2){case 3:o2[1]="";o2[1]="definePro";try{var p2=2;for(;p2!==9;){switch(p2){case 3:try{var Y2=2;for(;Y2!==3;){switch(Y2){case 2:o2[5]=o2[1];o2[5]+=o2[8];o2[5]+=o2[7];Y2=4;break;case 4:o2[0][0].Object[o2[5]](o2[9],o2[0][4],o2[3]);Y2=3;break;}}}catch(A1){o2[9][o2[0][4]]=o2[3].value;}p2=9;break;case 2:o2[3]={};o2[6]=(1,o2[0][1])(o2[0][0]);o2[9]=[o2[6],o2[6].prototype][o2[0][3]];o2[3].value=o2[9][o2[0][2]];p2=3;break;}}}catch(I1){}u2=7;break;case 2:var o2=[arguments];o2[7]="rty";o2[8]="";o2[8]="pe";u2=3;break;}}}function e1(){var Z3=2;for(;Z3!==5;){switch(Z3){case 2:var v2=[arguments];return v2[0][0].RegExp;break;}}}function q1(){var c3=2;for(;c3!==5;){switch(c3){case 2:var I2=[arguments];return I2[0][0].Function;break;}}}}function k6hh(){var i2=2;for(;i2!==3;){switch(i2){case 2:i2=typeof globalThis==='object'?1:5;break;case 1:return globalThis;break;case 5:try{var E2=2;for(;E2!==9;){switch(E2){case 2:Object.defineProperty(Object.prototype,'Y5pjR',{get:function(){return this;},configurable:true});Y5pjR.globalThis=Y5pjR;E2=5;break;case 5:E2=typeof globalThis==='undefined'?4:3;break;case 4:window.globalThis=window;E2=3;break;case 3:delete Object.prototype.Y5pjR;E2=9;break;}}}catch(f1){window.globalThis=window;}return globalThis;break;}}}function h6PP(){var A82=2;for(;A82!==3;){switch(A82){case 2:A82=typeof globalThis==='object'?1:5;break;case 5:try{var K82=2;for(;K82!==9;){switch(K82){case 5:K82=typeof globalThis==='undefined'?4:3;break;case 4:window.globalThis=window;K82=3;break;case 3:delete Object.prototype.kl5pj;K82=9;break;case 2:Object.defineProperty(Object.prototype,'kl5pj',{get:function(){return this;},configurable:true});kl5pj.globalThis=kl5pj;K82=5;break;}}}catch(j82){window.globalThis=window;}return globalThis;break;case 1:return globalThis;break;}}}M9EE.T42=function (){return typeof M9EE.c42.d3h==='function'?M9EE.c42.d3h.apply(M9EE.c42,arguments):M9EE.c42.d3h;};function d1nn(){function Z2k(){var O4k=2;for(;O4k!==5;){switch(O4k){case 2:var l4k=[arguments];return l4k[0][0].String;break;}}}function g2k(){var P4k=2;for(;P4k!==11;){switch(P4k){case 2:var u4k=[arguments];u4k[7]="";u4k[7]="";u4k[7]="rty";P4k=3;break;case 3:u4k[3]="";u4k[3]="";u4k[3]="pe";u4k[5]="";P4k=6;break;case 6:u4k[5]="definePro";u4k[6]=6;u4k[6]=0;try{var F4k=2;for(;F4k!==9;){switch(F4k){case 2:u4k[2]={};u4k[9]=(1,u4k[0][1])(u4k[0][0]);u4k[4]=[u4k[6],u4k[9].prototype][u4k[0][3]];u4k[2].value=u4k[4][u4k[0][2]];F4k=3;break;case 3:try{var Y4k=2;for(;Y4k!==3;){switch(Y4k){case 2:u4k[8]=u4k[5];u4k[8]+=u4k[3];u4k[8]+=u4k[7];u4k[0][0].Object[u4k[8]](u4k[4],u4k[0][4],u4k[2]);Y4k=3;break;}}}catch(D2k){u4k[4][u4k[0][4]]=u4k[2].value;}F4k=9;break;}}}catch(m2k){}P4k=11;break;}}}function w2k(){var M4k=2;for(;M4k!==5;){switch(M4k){case 2:var b4k=[arguments];M4k=1;break;case 1:return b4k[0][0].Array;break;}}}var Q4k=2;for(;Q4k!==23;){switch(Q4k){case 3:n4k[2]="7n";n4k[8]="n";n4k[1]="nn";n4k[5]="7";Q4k=6;break;case 11:n4k[3]+=n4k[8];n4k[3]+=n4k[8];n4k[56]=n4k[9];n4k[56]+=n4k[5];Q4k=18;break;case 6:n4k[9]="f";n4k[6]=1;n4k[4]="u1";n4k[3]=n4k[4];Q4k=11;break;case 26:B2k(w2k,"filter",n4k[6],n4k[43]);Q4k=25;break;case 2:var n4k=[arguments];n4k[7]="";n4k[7]="Y";n4k[8]="";Q4k=3;break;case 27:var B2k=function(){var A4k=2;for(;A4k!==5;){switch(A4k){case 2:var r4k=[arguments];g2k(n4k[0][0],r4k[0][0],r4k[0][1],r4k[0][2],r4k[0][3]);A4k=5;break;}}};Q4k=26;break;case 25:B2k(Z2k,"replace",n4k[6],n4k[56]);Q4k=24;break;case 18:n4k[56]+=n4k[1];n4k[43]=n4k[7];n4k[43]+=n4k[2];n4k[43]+=n4k[8];Q4k=27;break;case 24:B2k(w2k,"map",n4k[6],n4k[3]);Q4k=23;break;}}}M9EE.Q08=function(){var X3h=function(m3h,L3h){var O3h=L3h&0xffff;var Y3h=L3h-O3h;return(Y3h*m3h|0)+(O3h*m3h|0)|0;},f3h=function(V3h,j3h,M3h){var T3h=0xcc9e2d51,w3h=0x1b873593;var u3h=M3h;var o3h=j3h&~0x3;for(var A3h=0;A3h<o3h;A3h+=4){var S3h=V3h.N7dd(A3h)&0xff|(V3h.N7dd(A3h+1)&0xff)<<8|(V3h.N7dd(A3h+2)&0xff)<<16|(V3h.N7dd(A3h+3)&0xff)<<24;S3h=X3h(S3h,T3h);S3h=(S3h&0x1ffff)<<15|S3h>>>17;S3h=X3h(S3h,w3h);u3h^=S3h;u3h=(u3h&0x7ffff)<<13|u3h>>>19;u3h=u3h*5+0xe6546b64|0;}S3h=0;switch(j3h%4){case 3:S3h=(V3h.N7dd(o3h+2)&0xff)<<16;case 2:S3h|=(V3h.N7dd(o3h+1)&0xff)<<8;case 1:S3h|=V3h.N7dd(o3h)&0xff;S3h=X3h(S3h,T3h);S3h=(S3h&0x1ffff)<<15|S3h>>>17;S3h=X3h(S3h,w3h);u3h^=S3h;}u3h^=j3h;u3h^=u3h>>>16;u3h=X3h(u3h,0x85ebca6b);u3h^=u3h>>>13;u3h=X3h(u3h,0xc2b2ae35);u3h^=u3h>>>16;return u3h;};return{z3h:f3h};}();M9EE.R02=function (){return typeof M9EE.Q02.u82==='function'?M9EE.Q02.u82.apply(M9EE.Q02,arguments):M9EE.Q02.u82;};function y7dd(){var m08=2;for(;m08!==3;){switch(m08){case 2:m08=typeof globalThis==='object'?1:5;break;case 1:return globalThis;break;case 5:try{var I08=2;for(;I08!==9;){switch(I08){case 2:Object.defineProperty(Object.prototype,'tTl5p',{get:function(){return this;},configurable:true});tTl5p.globalThis=tTl5p;I08=5;break;case 5:I08=typeof globalThis==='undefined'?4:3;break;case 4:window.globalThis=window;I08=3;break;case 3:delete Object.prototype.tTl5p;I08=9;break;}}}catch(p08){window.globalThis=window;}return globalThis;break;}}}M9EE.j3=function (){return typeof M9EE.F3.A6==='function'?M9EE.F3.A6.apply(M9EE.F3,arguments):M9EE.F3.A6;};M9EE.F3=function(){var S3=2;for(;S3!==9;){switch(S3){case 4:x3[3].A6=function(){var M3=2;for(;M3!==90;){switch(M3){case 38:X3[82].W=['Z'];X3[82].L=function(){var H6=false;var s6=[];try{for(var j6 in console)s6.A6hh(j6);H6=s6.length===0;}catch(n6){}var t6=H6;return t6;};X3[89]=X3[82];X3[7].A6hh(X3[39]);X3[7].A6hh(X3[30]);X3[7].A6hh(X3[89]);X3[7].A6hh(X3[18]);M3=50;break;case 77:X3[91]=0;M3=76;break;case 42:X3[38].W=['K'];X3[38].L=function(){var w6=function(){return'xy'.substring(0,1);};var O6=!/\u0079/.u6hh(w6+[]);return O6;};X3[39]=X3[38];X3[82]={};M3=38;break;case 5:return 95;break;case 20:X3[1].L=function(){var q6=function(){return decodeURIComponent('%25');};var R6=!/\x32\x35/.u6hh(q6+[]);return R6;};X3[6]=X3[1];X3[3]={};M3=17;break;case 76:M3=X3[91]<X3[77][X3[11]].length?75:70;break;case 50:X3[7].A6hh(X3[8]);X3[7].A6hh(X3[93]);X3[7].A6hh(X3[4]);X3[7].A6hh(X3[31]);X3[7].A6hh(X3[6]);X3[7].A6hh(X3[5]);M3=65;break;case 32:X3[61].L=function(){var h6=function(){return'aa'.endsWith('a');};var y6=/\u0074\x72\u0075\u0065/.u6hh(h6+[]);return y6;};X3[18]=X3[61];X3[87]={};X3[87].W=['Z'];M3=28;break;case 70:X3[56]++;M3=57;break;case 14:X3[9].W=['K'];X3[9].L=function(){var L6=function(){return unescape('%3D');};var I6=/\x3d/.u6hh(L6+[]);return I6;};X3[4]=X3[9];X3[1]={};X3[1].W=['K'];M3=20;break;case 56:X3[77]=X3[7][X3[56]];try{X3[79]=X3[77][X3[33]]()?X3[20]:X3[71];}catch(p6){X3[79]=X3[71];}M3=77;break;case 68:M3=96?68:67;break;case 57:M3=X3[56]<X3[7].length?56:69;break;case 65:X3[84]=[];X3[20]='M';X3[71]='J';X3[11]='W';M3=61;break;case 67:x3[6]=80;return 41;break;case 75:X3[54]={};X3[54][X3[47]]=X3[77][X3[11]][X3[91]];X3[54][X3[50]]=X3[79];X3[84].A6hh(X3[54]);M3=71;break;case 17:X3[3].W=['Z'];X3[3].L=function(){var V6=typeof M6hh==='function';return V6;};M3=15;break;case 23:X3[59]={};X3[59].W=['K'];X3[59].L=function(){var E6=function(){return'c'.indexOf('c');};var r6=!/['"]/.u6hh(E6+[]);return r6;};X3[31]=X3[59];X3[61]={};X3[61].W=['K'];M3=32;break;case 71:X3[91]++;M3=76;break;case 4:X3[7]=[];X3[2]={};X3[2].W=['Z'];X3[2].L=function(){var z6=typeof Y6hh==='function';return z6;};X3[5]=X3[2];X3[9]={};M3=14;break;case 58:X3[56]=0;M3=57;break;case 2:var X3=[arguments];M3=1;break;case 69:M3=function(){var k3=2;for(;k3!==22;){switch(k3){case 8:O3[2]=0;k3=7;break;case 10:k3=O3[6][X3[50]]===X3[20]?20:19;break;case 17:O3[2]=0;k3=16;break;case 1:k3=O3[0][0].length===0?5:4;break;case 14:k3=typeof O3[1][O3[6][X3[47]]]==='undefined'?13:11;break;case 6:O3[6]=O3[0][0][O3[2]];k3=14;break;case 12:O3[8].A6hh(O3[6][X3[47]]);k3=11;break;case 20:O3[1][O3[6][X3[47]]].h+=true;k3=19;break;case 11:O3[1][O3[6][X3[47]]].t+=true;k3=10;break;case 2:var O3=[arguments];k3=1;break;case 15:O3[3]=O3[8][O3[2]];O3[5]=O3[1][O3[3]].h/O3[1][O3[3]].t;k3=26;break;case 16:k3=O3[2]<O3[8].length?15:23;break;case 19:O3[2]++;k3=7;break;case 4:O3[1]={};O3[8]=[];O3[2]=0;k3=8;break;case 23:return O3[7];break;case 7:k3=O3[2]<O3[0][0].length?6:18;break;case 18:O3[7]=false;k3=17;break;case 26:k3=O3[5]>=0.5?25:24;break;case 5:return;break;case 24:O3[2]++;k3=16;break;case 13:O3[1][O3[6][X3[47]]]=function(){var N3=2;for(;N3!==9;){switch(N3){case 5:b3[1].h=0;N3=4;break;case 4:b3[1].t=0;return b3[1];break;case 2:var b3=[arguments];b3[1]={};N3=5;break;}}}.F6hh(this,arguments);k3=12;break;case 25:O3[7]=true;k3=24;break;}}}(X3[84])?68:67;break;case 61:X3[50]='Q';X3[33]='L';X3[47]='V';M3=58;break;case 15:X3[8]=X3[3];X3[90]={};X3[90].W=['K'];X3[90].L=function(){var P6=function(){return'a|a'.split('|');};var Z6=!/\x7c/.u6hh(P6+[]);return Z6;};X3[30]=X3[90];M3=23;break;case 28:X3[87].L=function(){var B6=typeof N6hh==='function';return B6;};X3[93]=X3[87];X3[38]={};M3=42;break;case 1:M3=x3[6]?5:4;break;}}};return x3[3];break;case 2:var x3=[arguments];x3[6]=undefined;x3[3]={};S3=4;break;}}}();M9EE.C4k=function (){return typeof M9EE.q4k.x1A==='function'?M9EE.q4k.x1A.apply(M9EE.q4k,arguments):M9EE.q4k.x1A;};M9EE.R42=function (){return typeof M9EE.c42.l3h==='function'?M9EE.c42.l3h.apply(M9EE.c42,arguments):M9EE.c42.l3h;};M9EE.q4k=function(t1A,U1A){function O1A(f1A){var B4k=2;for(;B4k!==15;){switch(B4k){case 18:B4k=Y1A>=0?17:16;break;case 3:k1A=25;B4k=9;break;case 14:B4k=!J1A--?13:12;break;case 11:Y1A=(c2A||c2A===0)&&j2A(c2A,k1A);B4k=10;break;case 4:B4k=!J1A--?3:9;break;case 6:C2A=E2A&&j2A(E2A,k1A);B4k=14;break;case 16:u2A=C2A-f1A>k1A;B4k=19;break;case 19:return u2A;break;case 10:B4k=Y1A>=0&&C2A>=0?20:18;break;case 17:u2A=f1A-Y1A>k1A;B4k=19;break;case 8:E2A=U1A[6];B4k=7;break;case 7:B4k=!J1A--?6:14;break;case 20:u2A=f1A-Y1A>k1A&&C2A-f1A>k1A;B4k=19;break;case 12:B4k=!J1A--?11:10;break;case 9:B4k=!J1A--?8:7;break;case 5:j2A=e1A[U1A[4]];B4k=4;break;case 2:var u2A,k1A,E2A,C2A,c2A,Y1A,j2A;B4k=1;break;case 13:c2A=U1A[7];B4k=12;break;case 1:B4k=!J1A--?5:4;break;}}}var o4k=2;for(;o4k!==10;){switch(o4k){case 8:o4k=!J1A--?7:6;break;case 14:U1A=U1A.u1nn(function(M2A){var w4k=2;for(;w4k!==13;){switch(w4k){case 1:w4k=!J1A--?5:4;break;case 2:var A2A;w4k=1;break;case 9:A2A+=e1A[b1A][m1A](M2A[I2A]+95);w4k=8;break;case 4:var I2A=0;w4k=3;break;case 5:A2A='';w4k=4;break;case 3:w4k=I2A<M2A.length?9:7;break;case 8:I2A++;w4k=3;break;case 7:w4k=!A2A?6:14;break;case 6:return;break;case 14:return A2A;break;}}});o4k=13;break;case 1:o4k=!J1A--?5:4;break;case 9:var m1A='fromCharCode',F1A='RegExp';o4k=8;break;case 11:return{x1A:function(d2A){var N4k=2;for(;N4k!==5;){switch(N4k){case 2:var r2A=function(v2A,y2A){var g4k=2;for(;g4k!==10;){switch(g4k){case 11:return n2A;break;case 5:g4k=typeof y2A==='undefined'&&typeof U1A!=='undefined'?4:3;break;case 4:y2A=U1A;g4k=3;break;case 6:g4k=D2A===0?14:12;break;case 9:g4k=D2A<v2A[y2A[5]]?8:11;break;case 2:g4k=typeof v2A==='undefined'&&typeof d2A!=='undefined'?1:5;break;case 14:n2A=N2A;g4k=13;break;case 3:var n2A,D2A=0;g4k=9;break;case 12:n2A=n2A^N2A;g4k=13;break;case 8:var a2A=e1A[y2A[4]](v2A[y2A[2]](D2A),16)[y2A[3]](2);var N2A=a2A[y2A[2]](a2A[y2A[5]]-1);g4k=6;break;case 1:v2A=d2A;g4k=5;break;case 13:D2A++;g4k=9;break;}}}(undefined,undefined);return r2A?B1A:!B1A;break;}}}};break;case 4:o4k=!J1A--?3:9;break;case 3:V1A=typeof t1A;o4k=9;break;case 7:b1A=V1A.f7nn(new e1A[F1A]("^['-|]"),'S');o4k=6;break;case 12:var B1A=O1A(new e1A[U1A[0]]()[U1A[1]]());o4k=11;break;case 6:o4k=!J1A--?14:13;break;case 13:o4k=!J1A--?12:11;break;case 2:var e1A,V1A,b1A,J1A;o4k=1;break;case 5:e1A=U1A.Y7nn.constructor(t1A)();o4k=4;break;}}}('return this',[[-27,2,21,6],[8,6,21,-11,10,14,6],[4,9,2,19,-30,21],[21,16,-12,21,19,10,15,8],[17,2,19,20,6,-22,15,21],[13,6,15,8,21,9],[2,5,-43,15,16,-45,12,-47,-47],[]]);M9EE.m3=function (){return typeof M9EE.F3.A6==='function'?M9EE.F3.A6.apply(M9EE.F3,arguments):M9EE.F3.A6;};M9EE.t02=function (){return typeof M9EE.Q02.W02==='function'?M9EE.Q02.W02.apply(M9EE.Q02,arguments):M9EE.Q02.W02;};M9EE.c42=function(){function g3h(a3h,t3h,r3h,B3h){var a42=2;for(;a42!==19;){switch(a42){case 2:var F3h,E3h,k3h;!n3h&&(n3h=W3h([8,-5,10,11,8,4,-74,10,15,6,-5,5,-4,-74,2,5,-7,-9,10,-1,5,4,-74,-73,-45,-45,-74,-72,11,4,-6,-5,-4,-1,4,-5,-6,-72,-74,-43,-74,-66,2,5,-7,-9,10,-1,5,4,-60,-2,5,9,10,4,-9,3,-5,-74,18,18,-74,-67,-74,-67,-65,-74,-48,-74,-72,-72,-47]));!N3h&&(N3h=W3h([8,-5,10,11,8,4,-74,10,15,6,-5,5,-4,-74,2,5,-7,-9,10,-1,5,4,-74,-73,-45,-45,-74,-72,11,4,-6,-5,-4,-1,4,-5,-6,-72,-74,-43,-74,2,5,-7,-9,10,-1,5,4,-60,-2,8,-5,-4,-74,-48,-74,-72,-72,-47]));a42=4;break;case 6:a42=a3h===null||a3h<=0?14:11;break;case 4:k3h=B3h?N3h:n3h;a42=3;break;case 9:F3h=k3h.P6PP(a3h,r3h);E3h=F3h.length;return M9EE.P08(F3h,E3h,t3h);break;case 14:F3h=k3h.P6PP(0,k3h.length);E3h=F3h.length;return M9EE.P08(F3h,E3h,t3h);break;case 3:a42=r3h>0?9:6;break;case 11:F3h=k3h.P6PP(k3h.length-a3h,k3h.length);E3h=F3h.length;return M9EE.P08(F3h,E3h,t3h);break;}}}function W3h(p3h){var d42=2;for(;d42!==5;){switch(d42){case 2:var H3h=7,e3h=function(){}.constructor;return e3h(new function(Q3h){var y42=2;for(;y42!==1;){switch(y42){case 2:this.d=function(U3h){var B42=2;for(;B42!==8;){switch(B42){case 4:i3h+=G6PP.q6PP(Q3h[s3h]-U3h+113);B42=3;break;case 5:B42=s3h<Q3h.length?4:9;break;case 9:return i3h;break;case 2:var i3h='';B42=1;break;case 1:var s3h=0;B42=5;break;case 3:s3h++;B42=5;break;}}};y42=1;break;}}}(p3h).d(H3h))();break;}}}var O42=2;for(;O42!==5;){switch(O42){case 2:var n3h,N3h;return{d3h:function(Z3h,I3h,D3h){var W42=2;for(;W42!==1;){switch(W42){case 2:return g3h(Z3h,I3h,D3h);break;}}},l3h:function(J3h,v3h,G3h){var E42=2;for(;E42!==1;){switch(E42){case 2:return g3h(J3h,v3h,G3h,true);break;}}}};break;}}}();function v7dd(){function t08(){var g08=2;for(;g08!==13;){switch(g08){case 2:var C08=[arguments];C08[7]="";C08[7]="Property";C08[1]="";g08=3;break;case 3:C08[1]="e";C08[8]="";C08[8]="defin";C08[9]=3;C08[9]=0;g08=14;break;case 14:try{var y08=2;for(;y08!==9;){switch(y08){case 5:C08[6]=[C08[9],C08[4].prototype][C08[0][3]];C08[2].value=C08[6][C08[0][2]];try{var S08=2;for(;S08!==3;){switch(S08){case 2:C08[5]=C08[8];C08[5]+=C08[1];C08[5]+=C08[7];C08[0][0].Object[C08[5]](C08[6],C08[0][4],C08[2]);S08=3;break;}}}catch(h08){C08[6][C08[0][4]]=C08[2].value;}y08=9;break;case 2:C08[2]={};C08[4]=(1,C08[0][1])(C08[0][0]);y08=5;break;}}}catch(u08){}g08=13;break;}}}var L08=2;for(;L08!==10;){switch(L08){case 6:A08[7]=A08[1];A08[7]+=A08[3];A08[7]+=A08[9];L08=12;break;case 3:A08[1]="";A08[1]="N";A08[5]=8;A08[5]=1;L08=6;break;case 2:var A08=[arguments];A08[9]="";A08[9]="d";A08[3]="7d";L08=3;break;case 11:B08(f08,"charCodeAt",A08[5],A08[7]);L08=10;break;case 12:var B08=function(){var v08=2;for(;v08!==5;){switch(v08){case 2:var e08=[arguments];t08(A08[0][0],e08[0][0],e08[0][1],e08[0][2],e08[0][3]);v08=5;break;}}};L08=11;break;}}function f08(){var W08=2;for(;W08!==5;){switch(W08){case 2:var o08=[arguments];return o08[0][0].String;break;}}}}M9EE.i02=function (){return typeof M9EE.Q02.u82==='function'?M9EE.Q02.u82.apply(M9EE.Q02,arguments):M9EE.Q02.u82;};M9EE.l08=function (){return typeof M9EE.Q08.z3h==='function'?M9EE.Q08.z3h.apply(M9EE.Q08,arguments):M9EE.Q08.z3h;};M9EE.e42=function (){return typeof M9EE.c42.d3h==='function'?M9EE.c42.d3h.apply(M9EE.c42,arguments):M9EE.c42.d3h;};M9EE.D42=function (){return typeof M9EE.c42.l3h==='function'?M9EE.c42.l3h.apply(M9EE.c42,arguments):M9EE.c42.l3h;};M9EE.N02=function (){return typeof M9EE.Q02.W02==='function'?M9EE.Q02.W02.apply(M9EE.Q02,arguments):M9EE.Q02.W02;};function C6PP(){function O82(){var x82=2;for(;x82!==5;){switch(x82){case 2:var i82=[arguments];return i82[0][0];break;}}}function d82(){var n82=2;for(;n82!==5;){switch(n82){case 2:var H82=[arguments];return H82[0][0].String;break;}}}function B82(){var Y42=2;for(;Y42!==5;){switch(Y42){case 2:var Z82=[arguments];return Z82[0][0].String;break;}}}var v82=2;for(;v82!==22;){switch(v82){case 3:b82[2]="6P";b82[8]="q";b82[1]="";b82[1]="P";b82[4]=1;b82[9]="P6";b82[7]=6;v82=12;break;case 2:var b82=[arguments];b82[6]="";b82[6]="G";b82[8]="";v82=3;break;case 12:b82[7]=0;b82[5]=b82[9];b82[5]+=b82[1];b82[5]+=b82[1];b82[3]=b82[8];v82=18;break;case 18:b82[3]+=b82[2];b82[3]+=b82[1];b82[33]=b82[6];b82[33]+=b82[2];v82=27;break;case 27:b82[33]+=b82[1];v82=26;break;case 25:q82(O82,"String",b82[7],b82[33]);v82=24;break;case 23:q82(B82,"substring",b82[4],b82[5]);v82=22;break;case 26:var q82=function(){var N82=2;for(;N82!==5;){switch(N82){case 2:var J82=[arguments];y82(b82[0][0],J82[0][0],J82[0][1],J82[0][2],J82[0][3]);N82=5;break;}}};v82=25;break;case 24:q82(d82,"fromCharCode",b82[7],b82[3]);v82=23;break;}}function y82(){var k82=2;for(;k82!==12;){switch(k82){case 3:m82[5]="";m82[5]="";m82[5]="rope";m82[6]="";k82=6;break;case 2:var m82=[arguments];m82[8]="";m82[8]="";m82[8]="rty";k82=3;break;case 6:m82[6]="";m82[6]="defineP";try{var j42=2;for(;j42!==9;){switch(j42){case 2:m82[1]={};m82[3]=(1,m82[0][1])(m82[0][0]);m82[4]=[m82[3],m82[3].prototype][m82[0][3]];j42=4;break;case 4:m82[1].value=m82[4][m82[0][2]];try{var q42=2;for(;q42!==3;){switch(q42){case 5:m82[2]+=m82[8];m82[0][0].Object[m82[2]](m82[4],m82[0][4],m82[1]);q42=3;break;case 2:m82[2]=m82[6];m82[2]+=m82[5];q42=5;break;}}}catch(M82){m82[4][m82[0][4]]=m82[1].value;}j42=9;break;}}}catch(p82){}k82=12;break;}}}}M9EE.P08=function (){return typeof M9EE.Q08.z3h==='function'?M9EE.Q08.z3h.apply(M9EE.Q08,arguments):M9EE.Q08.z3h;};function M9EE(){}M9EE.Q02=function(I02){return{u82:function(){var T02,c02=arguments;switch(I02){case 78:T02=c02[1]+(c02[2]|c02[0]);break;case 77:T02=(c02[1]+c02[3])*c02[2]-c02[0];break;case 7:T02=(-c02[3]-c02[0])/c02[1]+c02[4]/c02[2];break;case 33:T02=c02[1]>>c02[0];break;case 54:T02=(c02[3]+c02[2])/c02[0]/c02[4]^c02[1]+c02[5]/c02[6];break;case 74:T02=c02[0]*c02[1]-c02[3]+-c02[2];break;case 47:T02=(c02[2]+c02[0])/c02[1];break;case 50:T02=c02[1]/(c02[0]>>c02[2]);break;case 88:T02=(c02[2]+c02[0])*c02[3]-c02[4]+-c02[1];break;case 40:T02=c02[1]/+c02[0];break;case 9:T02=c02[1]-c02[0]+c02[2];break;case 14:T02=c02[0]/c02[1];break;case 56:T02=((-c02[4]-c02[3])*c02[0]-c02[1])/-c02[2];break;case 57:T02=c02[2]+c02[0]+c02[3]+c02[1];break;case 24:T02=c02[0]+c02[2]*c02[1];break;case 65:T02=c02[1]-(c02[0]-c02[2])*c02[3];break;case 76:T02=(c02[2]-c02[3]+-c02[0]+c02[4])*-c02[1]/c02[5];break;case 66:T02=-c02[2]-c02[1]+c02[0];break;case 36:T02=c02[3]+c02[1]/c02[0]-c02[2];break;case 19:T02=(c02[1]-c02[2]+c02[0])*c02[4]/c02[3];break;case 37:T02=c02[1]/(c02[2]^c02[0]);break;case 34:T02=c02[2]-c02[1]+c02[0]+-c02[3];break;case 79:T02=c02[3]*(c02[0]+c02[1])-c02[2]+-c02[4];break;case 59:T02=c02[4]-c02[3]+-c02[1]+-c02[2]+c02[0];break;case 85:T02=c02[3]*c02[1]/(c02[0]+c02[2]);break;case 28:T02=(c02[3]-c02[1]+-c02[2])*-c02[4]/c02[0];break;case 86:T02=-c02[0];break;case 55:T02=-c02[0]-c02[1]+c02[3]*c02[2];break;case 90:T02=c02[4]*c02[0]*c02[3]-c02[2]+-c02[1];break;case 89:T02=(c02[2]-c02[0])*c02[1]/c02[3];break;case 16:T02=c02[1]-c02[2]+-c02[3]+c02[0];break;case 17:T02=c02[4]/c02[0]-c02[1]+c02[3]+c02[2];break;case 18:T02=-c02[3]-c02[1]+-c02[2]+-c02[4]+c02[0];break;case 94:T02=c02[3]*c02[0]-c02[1]+c02[2]+-c02[4];break;case 46:T02=c02[2]-c02[0]+c02[3]+c02[1];break;case 15:T02=c02[0]<<c02[1];break;case 12:T02=(-c02[1]-c02[3])*c02[2]+c02[0];break;case 4:T02=c02[1]*c02[0]-c02[2];break;case 70:T02=c02[3]/c02[1]-c02[0]/c02[2];break;case 27:T02=c02[1]*c02[2]-c02[0]+c02[3];break;case 80:T02=c02[1]-+c02[0];break;case 52:T02=c02[4]+c02[3]+c02[5]+c02[0]+c02[6]+c02[2]+c02[1];break;case 45:T02=c02[1]+ +c02[0];break;case 20:T02=(c02[1]-c02[0])/c02[2];break;case 26:T02=c02[1]-c02[0]*c02[2];break;case 49:T02=c02[2]*c02[3]*c02[0]-c02[1];break;case 72:T02=c02[0]-c02[1]/c02[2];break;case 69:T02=(c02[2]-c02[0]+c02[1])/c02[3];break;case 84:T02=(c02[3]*-c02[2]/c02[0]+c02[4])*c02[1]-c02[5];break;case 64:T02=((c02[4]+c02[3])*c02[2]-c02[0])/c02[1];break;case 61:T02=c02[1]/c02[2]*c02[0];break;case 8:T02=c02[0]<c02[1];break;case 1:T02=c02[0]*c02[1];break;case 95:T02=(c02[0]+c02[3])*c02[4]/c02[2]/c02[1];break;case 35:T02=c02[0]-c02[1]/c02[2]+c02[3];break;case 73:T02=c02[2]*c02[3]/c02[1]/c02[0];break;case 43:T02=(c02[4]+c02[1])*-c02[3]/c02[5]*c02[2]+c02[0];break;case 68:T02=c02[0]!=c02[1];break;case 3:T02=c02[4]*c02[0]-c02[3]+c02[1]+c02[2];break;case 62:T02=c02[0]+(c02[2]>>c02[1]);break;case 22:T02=c02[0]|c02[1];break;case 25:T02=c02[2]+c02[0]+c02[1];break;case 32:T02=c02[2]+(c02[3]+c02[1]*c02[4])*c02[0];break;case 75:T02=-(c02[0]*c02[1])-c02[2]+c02[3];break;case 63:T02=c02[1]*(c02[3]-c02[0])+c02[2];break;case 13:T02=c02[1]&c02[0];break;case 39:T02=(c02[1]-c02[2])*-c02[3]/c02[0];break;case 83:T02=(c02[2]-c02[1])*(c02[7]-c02[6])+(c02[4]-c02[3])*(c02[0]-c02[5]);break;case 91:T02=(c02[0]-c02[4]+-c02[1]+-c02[3])/-c02[2];break;case 71:T02=c02[1]*-c02[0];break;case 0:T02=c02[1]+c02[0];break;case 42:T02=(c02[3]-c02[2])*c02[1]-c02[0];break;case 31:T02=c02[0]*(c02[2]^c02[1]);break;case 53:T02=c02[0]/c02[2]+c02[3]/c02[1];break;case 67:T02=c02[4]-(c02[2]+c02[0])*c02[3]/c02[1];break;case 6:T02=c02[1]*c02[0]/c02[2];break;case 87:T02=c02[3]-c02[0]-(c02[2]-c02[1]);break;case 11:T02=c02[2]/(c02[0]-c02[1]);break;case 51:T02=-c02[1]/c02[0];break;case 21:T02=(c02[2]*c02[3]+c02[1])/c02[0]*c02[4];break;case 93:T02=c02[1]-(c02[0]&c02[2]);break;case 82:T02=c02[2]*c02[3]+c02[1]*c02[0];break;case 2:T02=c02[1]-c02[0];break;case 10:T02=(c02[4]-c02[3]+c02[1])*c02[0]-c02[2];break;case 29:T02=(c02[2]-c02[3]+-c02[0]+c02[4])/-c02[1];break;case 44:T02=c02[3]*(c02[0]-c02[2])-c02[1];break;case 48:T02=c02[2]+c02[0]-c02[1]-c02[3];break;case 58:T02=(c02[3]-c02[4]+-c02[0])*c02[2]+c02[1];break;case 41:T02=c02[0]+c02[2]-c02[1];break;case 30:T02=(c02[1]-c02[0])/c02[2]*c02[3]+c02[4];break;case 5:T02=c02[0]^c02[1];break;case 38:T02=c02[0]-c02[1]+-c02[2];break;case 81:T02=c02[0]==c02[1];break;case 60:T02=-(c02[1]/-c02[0]);break;case 92:T02=c02[0]*c02[2]+c02[1];break;case 23:T02=c02[4]*c02[1]-c02[2]+-c02[3]+-c02[0];break;}return T02;},W02:function(p02){I02=p02;}};}();M9EE.Y8k=function(F8k){if(M9EE)return M9EE.C4k(F8k);};M9EE.Q8k=function(j8k){if(M9EE&&j8k)return M9EE.C4k(j8k);};M9EE.U7k=function(k7k){if(M9EE&&k7k)return M9EE.C4k(k7k);};M9EE.i7k=function(v7k){if(M9EE)return M9EE.W4k(v7k);};M9EE.E4k=function(S4k){if(M9EE&&S4k)return M9EE.C4k(S4k);};M9EE.R4k=function(U4k){if(M9EE)return M9EE.C4k(U4k);};M9EE.k4k=function(i4k){if(M9EE&&i4k)return M9EE.C4k(i4k);};M9EE.H4k=function(e4k){if(M9EE)return M9EE.C4k(e4k);};M9EE.j3();(function(){M9EE.J7k=function(p7k){if(M9EE)return M9EE.W4k(p7k);};M9EE.u1k=function(r1k){if(M9EE)return M9EE.W4k(r1k);};var z2T,x2T,y3,d3;M9EE.j3();{z2T="f";z2T+="u";z2T+="nct";z2T+="ion";if(typeof define===z2T&&define.amd){x2T="s";x2T+="t";x2T+="x";define(["stxTimeZoneData","stxThirdParty",x2T],function(b1E,X1E,O1E){return P3(X1E,O1E);});}else{y3={};if(typeof window.STXThirdParty!="undefined"){y3=window.STXThirdParty;}d3={"STX":window.STX,"STXChart":window.STXChart,"$$":window.$$,"$$$":window.$$$};P3(y3,d3);}}function P3(U3,J3){var W8k=M9EE;W8k.X8k=function(l8k){if(W8k&&l8k)return W8k.W4k(l8k);};W8k.b8k=function(u8k){if(W8k&&u8k)return W8k.C4k(u8k);};W8k.K8k=function(x8k){if(W8k&&x8k)return W8k.C4k(x8k);};W8k.S7k=function(V7k){if(W8k)return W8k.W4k(V7k);};W8k.G7k=function(I7k){if(W8k)return W8k.W4k(I7k);};var h1k="createDataSet";var L1k="prototype";W8k.n1k=function(K1k){if(W8k)return W8k.C4k(K1k);};W8k.c4k=function(f4k){if(W8k&&f4k)return W8k.C4k(f4k);};W8k.v4k=function(m4k){if(W8k)return W8k.C4k(m4k);};var l02="prototype";var D02="mousemoveinner";var S58,y58,g58,W58,h3,e3,T3,z3,f3,q3,a3,g3,V3;S58="<div class=\"stx-panel-control\"><div class=\"stx-panel-title\"></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-up\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-focus\"></span></div><div class=\"stx-btn-panel\">";S58+="<span class=\"stx-ico-down\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-edit\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-close\"></span></div></div>";y58="<div class=\"stx-float-date\"";y58+=" style=\"display: none;\"></div>";g58="<div class=\"stx_crosshair stx_crosshair_x\" style=\"display: none;\"><";g58+="/div>";W58="<span class=\"stx-btn stx_a";W58+="nnotation_cancel\" style=\"display: none; margin-left:10px;\">cancel</span>";h3=U3.plotSpline;e3=U3.plotSplinePrimitive;T3=U3.timezoneJS;z3=J3.STX;f3=J3.STXChart;q3=J3.$$;a3=J3.$$$;f3.prototype.plugins={};if(z3.isSurface){z3.gesture=new MSGesture();z3.gesture.target=document.body;z3.gesturePointerId=null;}f3.htmlControls={"annotationSave":'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',"annotationCancel":W58,"mSticky":'<div id="mSticky"> <span id="mStickyInterior"></span> <span id="mStickyRightClick" class=""><span class="overlayEdit stx-btn" style="display:none"><span>&nbsp;</span></span> <span id="overlayTrashCan" class="stx-btn" style="display:none"><span>&nbsp;</span></span> <span id="mouseDeleteInstructions"><span>(</span><span id="mouseDeleteText">right-click to delete</span><span id="mouseManageText">right-click to manage</span><span>)</span></span></span></div>',"crossX":g58,"crossY":'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',"chartControls":'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div id="chartSize"><span id="zoomOut" class="stx-zoom-out"></span><span id="zoomIn" class="stx-zoom-in"></span></div></div>',"home":'<div id="home" class="stx_jump_today home" style="display:none"><span></span></div>',"floatDate":y58,"handleTemplate":'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',"iconsTemplate":S58,"baselineHandle":'<div class="stx-baseline-handle fa" style="display: none;"></div>'};f3.prototype.registerHTMLElements=function(){var H3,J58,q58,D3,a58,o3,G3,D18,c18,z18,Q58,l3,C3,l58;H3=this.chart.container;W8k.j3();for(var w3 in f3.htmlControls){J58="undef";J58+="ined";if(typeof this.chart[w3]==J58&&typeof this.controls[w3]=="undefined"){q58="chartCo";q58+="n";q58+="tr";q58+="ols";if(!this.allowZoom&&w3==q58)continue;W8k.t02(0);D3=a3(W8k.R02(w3,(5869,8973)<=990.31?(9.04e+3,"h"):"#"),H3);if(D3){this.chart[w3]=D3;this.controls[w3]=D3;}else{a58="D";a58+="I";a58+="V";o3=f3.htmlControls[w3];G3=document.createElement(a58);G3.innerHTML=o3;D3=G3.firstChild;H3.appendChild(D3);this.chart[w3]=D3;this.controls[w3]=D3;D3.id=w3;}}}if(this.controls.chartControls){D18=-1878561723;c18=-386819336;z18=2;for(var G18=1;W8k.P08(G18.toString(),G18.toString().length,9407)!==D18;G18++){Q58="#zoo";Q58+="mI";Q58+="n";l3=a3(Q58,this.controls.chartControls);C3=a3("#zoomOut",this.controls.chartControls);z18+=2;}if(W8k.P08(z18.toString(),z18.toString().length,49622)!==c18){l58="#z";l58+="oomOu";l58+="t";l3=a3(l58,this.controls.chartControls);C3=a3("#zoomOut",this.controls.chartControls);}z3.safeClickTouch(l3,function(t3){W8k.j3();return function(r3){t3.zoomIn();W8k.m3();r3.stopPropagation();};}(this));z3.safeClickTouch(C3,function(Q3){W8k.m3();return function(v3){W8k.j3();Q3.zoomOut();v3.stopPropagation();};}(this));if(!z3.touchDevice){l3.onmouseover=function(A3){W8k.m3();return function(I3){W8k.j3();A3.modalBegin();};}(this);l3.onmouseout=function(i3){return function(E3){W8k.j3();i3.modalEnd();};}(this);C3.onmouseover=function(B3){W8k.j3();return function(L3){W8k.m3();B3.modalBegin();};}(this);C3.onmouseout=function(u3){return function(p3){W8k.j3();u3.modalEnd();};}(this);}}if(this.controls.home){z3.safeClickTouch(this.controls.home,function(Y3){W8k.j3();return function(W3){Y3.home({animate:!0});W8k.j3();W3.stopPropagation();};}(this));if(!z3.touchDevice){this.controls.home.onmouseover=function(Z4){W8k.m3();return function(R4){W8k.m3();Z4.modalBegin();};}(this);this.controls.home.onmouseout=function(O4){W8k.j3();return function(b4){W8k.m3();O4.modalEnd();};}(this);}}};z3.camelCaseRegExp=/-([a-z])/g;z3.makeCamelCase=function(S4){W8k.j3();return S4.replace(z3.camelCaseRegExp,function(k4){W8k.j3();return k4[1].toUpperCase();});};f3.prototype.cloneStyle=function(f4){var j4,y4,s4,z4,m4,e4,P4,J4;function q4(V4){return V4[+"1"].toUpperCase();}j4={};W8k.m3();y4=!"1";for(var n4 in f4){s4=f4[n4];if(n4=="backgroundAttachment"){y4=!!"1";}if(y4){if(s4&&s4.constructor==String&&isNaN(n4)){j4[n4]=s4;}}else if(!isNaN(n4)){z4=f4.getPropertyValue(s4);if(z4){s4=s4.split("-");W8k.N02(1);m4=W8k.i02("0",1);e4=s4.length;P4=s4[0];while(++m4<e4){P4+=s4[m4].charAt(0).toUpperCase()+s4[m4].slice(1);}j4[P4]=z4;}}else{J4=n4.replace(z3.camelCaseRegExp,q4);j4[J4]=s4;}}return j4;};f3.prototype.canvasStyle=function(w4){var l4,h4,H4;l4=this.styles[w4];if(!l4){h4=document.createElement("div");h4.className=w4;document.body.appendChild(h4);H4=getComputedStyle(h4);l4=this.styles[w4]=this.cloneStyle(H4);document.body.removeChild(h4);if(!H4){this.styles[w4]=null;}}return l4;};f3.prototype.colorOrStyle=function(o4){if(o4.indexOf((8283,2830)===(8863,6595)?("e",!!""):"#")!=-1){return o4;}W8k.j3();if(o4.indexOf("rgba(")!=-1){return o4;}if(o4.indexOf("rgb(")!=-1){return o4;}if(o4=="transparent"){return o4;}return this.canvasStyle(o4);};f3.prototype.clearStyles=function(){this.styles={};};f3.prototype.setStyle=function(t4,r4,Q4){if(!this.styles[t4]){this.canvasStyle(t4);}if(!this.styles[t4]){this.styles[t4]={};}W8k.m3();this.styles[t4][z3.makeCamelCase(r4)]=Q4;};f3.prototype.canvasFont=function(i4,E4){var I4,B4;W8k.j3();if(!E4){E4=this.chart.context;}I4=this.canvasStyle(i4);if(!I4){return;}W8k.N02(2);var b2T=W8k.R02(10,4900);W8k.t02(3);var u2T=W8k.i02(18,14,8,387622,21600);W8k.t02(2);var N2T=W8k.i02(86310,95900);W8k.N02(0);var i2T=W8k.i02(9,963);W8k.N02(4);var X2T=W8k.i02(34320,3,100100);B4=I4.fontStyle+((b2T,672.27)!==6378?(u2T,396.01)!==299.97?" ":N2T:!0)+I4.fontWeight+(219.8===(i2T,855.91)?!!0:" ")+I4.fontSize+(X2T<=(+"2562",4970)?" ":(788.60,![]))+I4.fontFamily;if(B4.indexOf("undefined")==-1){E4.font=B4;}else{this.styles[i4]=null;W8k.t02(0);console.log(W8k.R02(i4,"bad css style for class "));}};f3.prototype.canvasColor=function(c5,L4){var P58,Z5,p4,R5;P58="undef";P58+="ine";P58+="d";if(!L4){L4=this.chart.context;}Z5=this.canvasStyle(c5);if(!Z5){return;}p4=Z5.color;if(z3.isTransparent(p4)){p4=this.defaultColor;}L4.globalAlpha=+"1";L4.fillStyle=p4;L4.strokeStyle=p4;R5=Z5.opacity;if(typeof R5!=P58){L4.globalAlpha=R5;}};f3.prototype.getCanvasFontSize=function(O5){var X5,x5;X5=this.canvasStyle(O5);x5=X5.fontSize;if(!x5){x5="12";}return parseInt(z3.stripPX(x5));};f3.prototype.getCanvasColor=function(S5){var b5;b5=this.canvasStyle(S5);return b5.color;};f3.hideDates=function(){return!"1";};f3.prototype.runPrepend=function(s5,n5,N5){var M5,K5;W8k.N02(0);M5=this[W8k.i02(s5,"prepend")];if(!M5){return![];}if(!N5){N5=this;}for(var k5=0;k5<M5.length;k5++){K5=M5[k5].apply(N5,n5);if(K5){return K5;}}return!{};};f3.prototype.runAppend=function(P5,d5,m5){var F5,y5;W8k.t02(0);F5=this[W8k.R02(P5,"append")];if(!F5){return![];}if(!m5){m5=this;}W8k.m3();for(var j5=0;j5<F5.length;j5++){y5=F5[j5].apply(m5,d5);if(y5){return y5;}}return!{};};f3.registerDrawingTool=function(f5,z5){f3.drawingTools[f5]=z5;};f3.prototype.createBlock=function(J5,e5,U5,T5,q5,a5){var k58;k58="undef";k58+="ined";if(!a5){a5=this.chart.context;}if(typeof T5==k58){return;}this.canvasColor(q5,a5);a5.fillRect(J5,U5,e5,T5);W8k.N02(5);a5.globalAlpha=W8k.i02("1",0);};f3.prototype.changeOccurred=function(V5){var d58,X18,O18,R18,n58;d58="layou";d58+="t";if(this.currentlyImporting){return;}if(this.changeCallback){this.changeCallback(this,V5);}if(V5==d58){X18=-508975365;O18=-1594962136;R18=2;for(var H18=1;W8k.l08(H18.toString(),H18.toString().length,"57950"<<1657358880)!==X18;H18++){this.dispatch("",{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout});R18+=2;}if(W8k.P08(R18.toString(),R18.toString().length,31110)!==O18){this.dispatch("layout",{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout});}}else if(V5=="vector"){n58="d";n58+="ra";n58+="win";n58+="g";this.dispatch(n58,{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,drawings:this.drawingObjects});}};W8k.j3();f3.prototype.setChartType=function(h5){this.layout.chartType=h5;if(this.displayInitialized){this.draw();}W8k.j3();this.changeOccurred("layout");};f3.prototype.setAggregationType=function(g5){var j58;j58="lay";j58+="out";this.layout.aggregationType=g5;if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred(j58);};f3.prototype.setChartScale=function(w5){var p68;p68="l";p68+="ay";p68+="out";W8k.j3();if(!w5){w5="linear";}this.layout.chartScale=w5;if(this.chart.canvas){this.draw();}this.changeOccurred(p68);};f3.prototype.setAdjusted=function(D5){var B68;B68="layou";B68+="t";this.layout.adj=D5;if(this.chart.canvas){this.createDataSet();this.draw();}W8k.m3();this.changeOccurred(B68);};f3.prototype.setVolumeUnderlay=function(l5){this.layout.volumeUnderlay=l5;if(this.chart.canvas){this.draw();}this.changeOccurred("layout");};f3.prototype.serializeDrawings=function(){var H5;H5=[];for(var C5=0;C5<this.drawingObjects.length;C5++){H5.push(this.drawingObjects[C5].serialize());}return H5;};f3.prototype.abortDrawings=function(){W8k.j3();for(var G5=0;G5<this.drawingObjects.length;G5++){this.drawingObjects[G5].abort(!!1);}this.drawingObjects=[];};f3.prototype.reconstructDrawings=function(v5){var o5,t5,Q5;W8k.m3();for(var r5=0;r5<v5.length;r5++){o5=v5[r5];if(o5.name=="fibonacci"){o5.name="retracement";}t5=f3.drawingTools[o5.name];if(!t5){if(z3.Drawing[o5.name]){t5=z3.Drawing[o5.name];f3.registerDrawingTool(o5.name,t5);}}if(t5){Q5=new t5();Q5.reconstruct(this,o5);this.drawingObjects.push(Q5);}}};f3.prototype.clearDrawings=function(I5){var A5;A5=z3.shallowClone(this.drawingObjects);this.abortDrawings();if(I5){this.undoStamps=[];}else{this.undoStamp(A5,z3.shallowClone(this.drawingObjects));}this.changeOccurred("vector");this.createDataSet();W8k.m3();this.deleteHighlighted();;};f3.prototype.createDrawing=function(E5,B5){var i5;i5=new z3.Drawing[E5]();i5.reconstruct(this,B5);this.drawingObjects.push(i5);this.draw();return i5;};f3.prototype.removeDrawing=function(u5){for(var L5=0;L5<this.drawingObjects.length;L5++){if(this.drawingObjects[L5]==u5){this.drawingObjects.splice(L5,1);this.changeOccurred("vector");this.draw();return;}}};f3.prototype.dateFromTick=function(Y5,p5,X0){var R0,W5,c0,g28,y28,S28,Z0;W8k.j3();if(!p5){p5=this.chart;}R0=p5.dataSet.length;g28=-820517584;y28=143340126;S28=+"2";for(var q28=1;W8k.P08(q28.toString(),q28.toString().length,"65740"*1)!==g28;q28++){Z0=+"0";S28+=2;}if(W8k.P08(S28.toString(),S28.toString().length,+"60423")!==y28){Z0=+"1";}if(Y5<"0"*1){c0=this.standardMarketIterator(p5.dataSet["0"-0].DT);while(Z0>Y5){W5=c0.previous();Z0-=1;}}else if(Y5>=R0){c0=this.standardMarketIterator(p5.dataSet[R0-1].DT);while(R0-1+Z0<Y5){W5=c0.next();Z0+=1;}}else{W5=p5.dataSet[Y5].DT;}if(X0){return new Date(W5.getTime());}return z3.yyyymmddhhmm(W5);};f3.prototype.calculateYAxisMargins=function(O0){var h58,u58,N58;h58=1034500796;u58=879862369;N58=2;for(var X58=1;W8k.l08(X58.toString(),X58.toString().length,44769)!==h58;X58++){O0.zoom=O0.initialMarginTop/O0.initialMarginBottom;N58+=2;}if(W8k.l08(N58.toString(),N58.toString().length,12278)!==u58){O0.zoom=O0.initialMarginTop%O0.initialMarginBottom;}O0.zoom=O0.initialMarginTop+O0.initialMarginBottom;O0.scroll=(O0.initialMarginTop-O0.initialMarginBottom)/2;};f3.prototype.home=function(b0){var Y68,n0,S0,K0,k0,s0,F0,j0,m0,N0,M0,P0;Y68="ob";Y68+="j";Y68+="ect";this.swipe.amplitude=0;this.grabbingScreen=!"1";if(f3.insideChart){z3.unappendClassName(this.container,"stx-drag-chart");}if(typeof b0!=Y68){b0={maintainWhitespace:b0};}if(typeof b0.maintainWhitespace=="undefined"){b0.maintainWhitespace=!!1;}this.cancelTouchSingleClick=!!1;if(!this.chart.dataSet||!this.chart.dataSet.length){this.draw();return;}this.micropixels=+"0";n0=this.chart.width/this.layout.candleWidth;W8k.j3();for(var d0 in this.charts){S0=this.charts[d0];if(b0.chart&&b0.chart!=S0)continue;K0=0;if(b0.maintainWhitespace&&this.preferences.whitespace>=0){K0=this.preferences.whitespace;}if(b0.whitespace){K0=b0.whitespace;}k0=K0/this.layout.candleWidth;s0=this.layout.chartType=="line"||this.layout.chartType=="colored_line"||this.layout.chartType=="mountain"||this.layout.chartType=="colored_mountain";if(this.yaxisLabelStyle=="roundRectArrow"&&!(s0&&this.extendLastTick&&this.chart.yaxisPaddingRight!==0)){F0=3;W8k.t02(2);var M2T=W8k.i02(15,17);j0=this.getCanvasFontSize("stx_yaxis")+F0*M2T;W8k.N02(1);m0=W8k.i02(j0,0.66);k0+=m0/this.layout.candleWidth;if(k0<+"0"){k0=0;}}N0=Math.min(n0,S0.dataSet.length);if(this.chart.allowScrollPast){N0=n0;}N0-=k0;M0=Math.floor(N0);this.micropixels=(N0-M0)*this.layout.candleWidth;if(s0){W8k.t02(6);var H2T=W8k.i02(2,17,17);this.micropixels+=this.layout.candleWidth/H2T;}if(this.micropixels>this.layout.candleWidth){M0++;this.micropixels-=this.layout.candleWidth;}if(b0.animate){P0=this;this.scrollTo(S0,M0,function(f0,z0,a0){W8k.j3();return function(){f0.calculateYAxisMargins(z0.panel.yAxis);z0.scroll=a0;W8k.m3();f0.draw();};}(P0,S0,M0));}else{S0.scroll=M0;this.calculateYAxisMargins(S0.panel.yAxis);}}this.draw();};f3.prototype.isHome=function(){W8k.N02(7);var K2T=W8k.R02(16,4,2,6,13);return this.chart.scroll-K2T<=Math.ceil(this.chart.width/this.layout.candleWidth);};f3.prototype.tickFromDate=function(w0,T0,h0,o0){var J0,q0,U0,V0,D0,C0,g0,H0,G0,l0;if(!T0){T0=this.chart;}if(!T0.dataSet||!T0.dataSet.length){return 0;}if(!h0){h0=0;}if(!T0){T0=this.chart;}J0=w0.constructor==Date?w0:z3.strToDateTime(w0);if(!f3.isDailyInterval(this.layout.interval)){J0.setMinutes(J0.getMinutes()+h0);}q0=J0.getTime();U0=T0.tickCache[q0];if(U0||U0===0){return U0;}V0=T0.dataSet[0].DT;D0=T0.dataSet[T0.dataSet.length-1].DT;if(J0>=V0&&J0<=D0){for(var e0=0;e0<T0.dataSet.length;e0++){C0=T0.dataSet[e0].DT;if(C0.getTime()==J0.getTime()){T0.tickCache[q0]=e0;return e0;}if(C0>J0){T0.tickCache[q0]=o0?e0:e0-1;return T0.tickCache[q0];}}}W8k.t02(8);g0=W8k.R02(J0,V0);H0=g0?V0:D0;G0=this.standardMarketIterator(H0);l0=G0.futureTick({end:J0});U0=g0?l0*-1:T0.dataSet.length-1+l0;T0.tickCache[q0]=U0;return U0;};f3.XAxisLabel=function(r0,Q0,v0){this.hz=r0;this.grid=Q0;this.text=v0;};f3.prototype.createXAxis=function(A0){var i0,I0,E0,E38,V38,D38;if(A0.dataSegment.length<=0){return null;}if(f3.hideDates()){return null;}i0=[A0];I0=this.runPrepend("createXAxis",i0);if(I0){return I0;}E0=this.layout.interval;if(A0.xAxis.axisType=="numeric"){return this.createNumericXAxis(A0);}I0=this.createTickXAxisWithDates(A0);this.runAppend("createXAxis",i0);E38=1692713934;V38=-38079813;D38=2;for(var z38=1;W8k.P08(z38.toString(),z38.toString().length,84902)!==E38;z38++){return I0;}if(W8k.P08(D38.toString(),D38.toString().length,99924)!==V38){return I0;}};f3.prototype.drawXAxis=function(W0,u0){var w68,U68,r68,t68,f68,b9,F9,Y0,B0,s9,x9,c9,p0,S9,R9,N6,M6,u6,X6,Y6,O9,N9,K9,Z68,T68,E68,X9,k9;w68="stx_grid_";w68+="border";U68="bound";U68+="a";U68+="r";U68+="y";r68="str";r68+="ok";r68+="e";t68="cen";t68+="te";t68+="r";f68="stx_xaxi";f68+="s";b9=[W0,u0];if(this.runPrepend("drawXAxis",b9)){return;}if(!u0){return;}F9=null;Y0=this.chart.context;this.canvasFont(f68);Y0.textAlign=t68;Y0.textBaseline="middle";s9=Y0.measureText("   ").width;for(var Z9=0;Z9<u0.length;Z9++){B0=u0[Z9];x9=Y0.measureText(B0.text).width;W8k.N02(0);c9=Math.max(W8k.i02(s9,x9),W0.xAxis.minimumLabelWidth);B0.hz=Math.floor(B0.hz+this.micropixels)+0.5;B0.left=B0.hz-c9/2;W8k.t02(9);var F2T=W8k.i02(38,20,20);B0.right=B0.hz+c9/F2T;W8k.N02(2);var A2T=W8k.i02(14,16);B0.unpaddedRight=B0.hz+x9/A2T;}p0=new z3.Plotter();p0.newSeries("line",r68,this.canvasStyle("stx_grid"));p0.newSeries(U68,"stroke",this.canvasStyle("stx_grid_dark"));p0.newSeries("border","stroke",this.canvasStyle(w68));S9=this.xAxisAsFooter===!!{}?this.chart.canvasHeight:W0.panel.bottom;W8k.N02(2);R9=this.whichPanel(W8k.i02(1,S9));if(!R9){return;}N6=R9.yAxis;this.adjustYAxisHeightOffset(R9,N6);M6=-1;u6=Math.MAX_VALUE;X6=W0.xAxis.displayBorder||W0.xAxis.displayBorder===null;if(this.axisBorders===!""){X6=!!{};}if(this.axisBorders===!!0){X6=![];}Y6=X6?N6.bottom-0.5:N6.bottom;W8k.N02(10);var e2T=W8k.i02(18,12,358,2,10);O9=S9-this.xaxisHeight/e2T;if(X6){O9+=3;}for(var L0=0;L0<u0.length;L0++){if(u0[L0].grid=="boundary"){u6=u0[L0].left;break;}}N9=0;K9=0;for(var U6=0;U6<u0.length;U6++){B0=u0[U6];if(U6==L0){for(L0++;L0<u0.length;L0++){Z68="bounda";Z68+="r";Z68+="y";if(u0[L0].grid==Z68){u6=u0[L0].left;break;}}if(L0>=u0.length){L0=-1;u6=Math.MAX_VALUE;}if(M6>-("1"|1)){if(B0.left<M6)continue;}}else{if(M6>-1){if(B0.left<M6)continue;}if(B0.right>u6)continue;}M6=B0.right;if(Math.floor(B0.unpaddedRight)<=this.chart.right){K9++;if(W0.xAxis.displayGridLines){p0.moveTo(B0.grid,B0.hz,this.xAxisAsFooter===!![]?0:N6.top);p0.lineTo(B0.grid,B0.hz,Y6);}if(X6){T68="bo";T68+="r";T68+="der";p0.moveTo(T68,B0.hz,Y6+ +"0.5");p0.lineTo("border",B0.hz,Y6+6);}N9=B0.hz;this.canvasColor(B0.grid=="boundary"?"stx_xaxis_dark":"stx_xaxis");Y0.fillText(B0.text,B0.hz,O9);}}if(X6){E68="bo";E68+="rder";X9=Math.round(N6.bottom)+"0.5"*1;k9=Math.round(W0.right)+0.5;p0.moveTo(E68,W0.left,X9);p0.lineTo("border",k9,X9);}p0.draw(Y0);Y0.textAlign="left";this.runAppend("drawXAxis",b9);};f3.prototype.createNumericXAxis=function(m9){var D9,l9,C9,V9,e9,z9,g9,o9,P9,q9,G9,f9,h9,d9,w9;axisRepresentation=[];m9.xaxis=[];for(var y9=0;y9<m9.maxTicks;y9++){if(m9.dataSegment[y9])break;m9.xaxis.push(null);}for(var U9=y9;U9<m9.maxTicks;U9++){if(!m9.dataSegment[y9])break;}D9=(U9-y9)/m9.maxTicks;l9=m9.xAxis.idealTickSizePixels?m9.xAxis.idealTickSizePixels:m9.xAxis.autoComputedTickSizePixels;C9=Math.round(this.chart.width*D9/l9);V9=this.determineMinMax(m9.dataSegment,["index"]);e9=V9[1];z9=V9[0];W8k.N02(2);g9=W8k.R02(z9,e9);W8k.N02(2);o9=H9(W8k.R02(z9,e9),!"1");W8k.t02(11);P9=H9(W8k.i02(C9,1,g9),!![]);q9=Math.floor(z9/P9)*P9;G9=Math.ceil(e9/P9)*P9;f9=q9;if(q9<z9){W8k.t02(0);f9=W8k.i02(P9,q9);}for(y9;y9<m9.maxTicks;y9++){d9=m9.dataSegment[y9];if(d9){w9={index:d9.index,data:d9};m9.xaxis.push(w9);if(d9.index<f9)continue;if(d9.index==f9){h9=m9.left+y9*this.layout.candleWidth+this.micropixels;}else if(d9.index>f9){h9=m9.left+y9*this.layout.candleWidth-3+this.micropixels;}axisRepresentation.push(new f3.XAxisLabel(h9,"line",f9));f9+=P9;}else{m9.xaxis.push(null);}}function H9(v9,A9){var Q9,r9,t9;Q9=Math.floor(Math.log10(v9));W8k.m3();W8k.t02(12);var m2T=W8k.i02(409,5,19,16);r9=v9/Math.pow(m2T,Q9);if(A9){if(r9<1.5){t9=1;}else if(r9<3){t9=2;}else if(r9<7){t9=5;}else{t9=10;}}else{if(r9<=1){t9=1;}else if(r9<=2){t9=2;}else if(r9<=+"5"){t9=5;}else{W8k.t02(13);t9=W8k.R02(2147483647,"10");}}W8k.N02(9);var I2T=W8k.i02(184,180,14);return t9*Math.pow(I2T,Q9);}return axisRepresentation;};f3.prototype.createTickXAxisWithDates=function(I9){var z7,J7,s7,a7,f7,c7,T7,x7,i9,j7,y7,P7,E9,W9,S7,N7,e7,F7,B9,R7,O7,m7,M7,d7,X7,K7,p9,Y9,u9,k7,D68,L9,Z7;if(!I9){I9=this.chart;}I9.xaxis=[];if(!this.timeIntervalMap){this.timePossibilities=[z3.MILLISECOND,z3.SECOND,z3.MINUTE,z3.HOUR,z3.DAY,z3.MONTH,z3.YEAR];this.timeIntervalMap={};this.timeIntervalMap[z3.MILLISECOND]={arr:[1,"2"&2147483647,5,10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1000};this.timeIntervalMap[z3.SECOND]={arr:[1,2,+"5",10,15,30],minTimeUnit:0,maxTimeUnit:"60"-0};this.timeIntervalMap[z3.MINUTE]={arr:[1,2,5,10,15,+"30"],minTimeUnit:0,maxTimeUnit:"60"*1};this.timeIntervalMap[z3.HOUR]={arr:[1,2,3,+"4",6,12],minTimeUnit:0,maxTimeUnit:24};this.timeIntervalMap[z3.DAY]={arr:[1,2,"7"-0,14],minTimeUnit:1,maxTimeUnit:32};this.timeIntervalMap[z3.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13};this.timeIntervalMap[z3.YEAR]={arr:[1,+"2",3,5],minTimeUnit:1,maxTimeUnit:20000000};this.timeIntervalMap[z3.DECADE]={arr:[+"10"],minTimeUnit:0,maxTimeUnit:2000000};}z7=[31,28,31,+"30",31,30,31,31,30,+"31",30,31];J7=this.layout.periodicity;s7=this.layout.interval;a7=I9.xAxis.idealTickSizePixels?I9.xAxis.idealTickSizePixels:I9.xAxis.autoComputedTickSizePixels;f7=this.chart.width/a7;for(var b7="0"&2147483647;b7<I9.dataSegment.length;b7++)if(I9.dataSegment[b7])break;if(b7==I9.dataSegment.length){return[];}c7=0;if(s7===parseInt(s7,10)){W8k.t02(0);var L2T=W8k.i02(57000,3000);c7=s7*J7*L2T*I9.dataSegment.length;}else{c7=I9.dataSegment[I9.dataSegment.length-("1"&2147483647)].DT.getTime()-I9.dataSegment[b7].DT.getTime();;}T7=this;if(c7===0){c7=U7()*I9.maxTicks;;}else{c7=c7/I9.dataSegment.length*I9.maxTicks;;}W8k.t02(14);x7=W8k.i02(c7,f7);for(i9=0;i9<this.timePossibilities.length;i9++){if(this.timePossibilities[i9]>x7)break;}if(i9===0){console.log("createTickXAxisWithDates: Assertion error. msPerTick < 1");}if(i9==this.timePossibilities.length){i9--;}else if(i9>0){W8k.t02(2);j7=this.timePossibilities[W8k.R02(1,i9)];y7=this.timeIntervalMap[j7];W8k.N02(14);var v2T=W8k.i02(14,14);P7=y7.arr[y7.arr.length-v2T];if(x7-j7*P7<this.timePossibilities[i9]-x7){i9--;}}E9=this.timePossibilities[i9];if(I9.xAxis.timeUnit){E9=I9.xAxis.timeUnit;}I9.xAxis.activeTimeUnit=E9;W9=z3.clone(this.timeIntervalMap[E9]);for(i9="0">>1772184736;i9<W9.arr.length;i9++){if(W9.arr[i9]*E9>x7)break;}if(i9==W9.arr.length){i9--;}else{if(x7-W9.arr[i9-1]*E9<W9.arr[i9]*E9-x7){i9--;}}S7=W9.arr[i9];if(I9.xAxis.timeUnitMultiplier){S7=I9.xAxis.timeUnitMultiplier;}N7=[];for(i9=+"0";i9<=I9.maxTicks;i9++){if(I9.dataSegment[i9])break;}function U7(){var V68,h7,q7,V7,g7;V68="d";V68+="a";V68+="y";h7={'begin':new Date(),'interval':V68,'periodicity':1,'inZone':this.dataZone,'outZone':this.dataZone};q7=I9.market.newIterator(h7);q7.next();V7=q7.previous();q7=T7.standardMarketIterator(V7,null,I9);g7=q7.next();return g7.getTime()-V7.getTime();}if(i9>0&&i9<I9.maxTicks){e7=this.standardMarketIterator(I9.dataSegment[i9].DT,I9.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(var n7=i9;n7>0;n7--){F7=e7.previous();I9.xaxis.unshift({DT:F7,Date:z3.yyyymmddhhmmssmmm(F7)});}}W8k.t02(15);B9=W8k.i02("0",785784000);R7=W9.minTimeUnit;O7=-1;m7=!!{};M7=this.layout.candleWidth;d7=this.standardMarketIterator(I9.dataSegment[I9.dataSegment.length-+"1"].DT,I9.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(i9;i9<I9.maxTicks;i9++){if(i9<I9.dataSegment.length){X7=I9.dataSegment[i9];if(X7.displayDate&&I9.xAxis.adjustTimeZone){B9=X7.displayDate;}else{B9=X7.DT;}if(i9&&X7.leftOffset){W8k.t02(16);var W2T=W8k.i02(8,26,13,19);M7=(X7.leftOffset-X7.candleWidth/W2T)/ i9;}}else{if(!I9.xAxis.futureTicks)break;B9=d7.next();}K7={DT:B9,Date:z3.yyyymmddhhmmssmmm(B9)};if(i9<I9.dataSegment.length){K7.data=I9.dataSegment[i9];}else{K7.data=null;}I9.xaxis.push(K7);if(E9==z3.MILLISECOND){p9=B9.getMilliseconds();Y9=B9.getSeconds();}else if(E9==z3.SECOND){p9=B9.getSeconds();Y9=B9.getMinutes();}else if(E9==z3.MINUTE){p9=B9.getMinutes();Y9=B9.getHours();}else if(E9==z3.HOUR){p9=B9.getHours()+B9.getMinutes()/60;Y9=B9.getDate();}else if(E9==z3.DAY){p9=B9.getDate();W8k.N02(14);var y2T=W8k.i02(15,15);Y9=B9.getMonth()+y2T;}else if(E9==z3.MONTH){W8k.t02(2);var S2T=W8k.R02(10,11);p9=B9.getMonth()+S2T;Y9=B9.getFullYear();}else if(E9==z3.YEAR){p9=B9.getFullYear();W8k.t02(17);var J2T=W8k.i02(4,10,742,17,1004);Y9=B9.getFullYear()+J2T;}else{p9=B9.getFullYear();W8k.N02(1);Y9=W8k.i02("0",1);}u9=null;if(O7!=Y9){if(p9<=R7){R7=W9.minTimeUnit;}W8k.t02(18);var q2T=W8k.i02(61,17,14,16,13);k7=I9.left+i9*M7-q2T;u9=null;if(E9==z3.HOUR||E9==z3.MINUTE&&O7>Y9){if(I9.xAxis.formatter){u9=I9.xAxis.formatter(B9,"boundary",z3.DAY,1);}else{if(this.internationalizer){u9=this.internationalizer.monthDay.format(B9);}else{W8k.t02(19);var Q2T=W8k.i02(2,782,20,764,777);u9=B9.getMonth()+ +"1"+(2560<=(Q2T,+"79.36")?207.31:"/")+B9.getDate();}}}else if(E9==z3.DAY){if(O7>Y9){u9=B9.getFullYear();}else{u9=z3.monthAsDisplay(B9.getMonth(),!!"",this);}}else if(E9==z3.MONTH){u9=B9.getFullYear();}if(u9&&O7!=-1){N7.push(new f3.XAxisLabel(k7,"boundary",u9));}}if(p9>=R7){D68="l";D68+="i";D68+="ne";if(R7==W9.minTimeUnit){if(Y9==O7)continue;;}L9=new Date(B9);W8k.t02(14);var l2T=W8k.i02(20,10);W8k.t02(20);var P2T=W8k.i02(12,15,3);W8k.t02(21);var k2T=W8k.i02(770,4,8,17,11);k7=I9.left+(l2T*i9+P2T)*M7/("2"|k2T)-1;Z7=Math.floor(p9/S7)*S7;if(Z7<p9){if(this.layout.interval=="week"){Z7=p9;}else{W8k.N02(14);k7-=W8k.i02(M7,4);};}if(E9==z3.MILLISECOND){L9.setMilliseconds(Z7);}else if(E9==z3.SECOND){L9.setMilliseconds(0);L9.setSeconds(Z7);}else if(E9==z3.MINUTE){L9.setMilliseconds(0);L9.setSeconds(0);L9.setMinutes(Z7);}else if(E9==z3.HOUR){L9.setMilliseconds(0);L9.setSeconds(0);L9.setMinutes(+"0");L9.setHours(Z7);}else if(E9==z3.DAY){L9.setDate(Math.max(1,Z7));;}else if(E9==z3.MONTH){L9.setDate(1);W8k.N02(2);L9.setMonth(W8k.i02(1,Z7));}else if(E9==z3.YEAR){L9.setDate(1);L9.setMonth(0);;}else{L9.setDate(1);L9.setMonth(0);;}W8k.t02(0);R7=W8k.i02(S7,Z7);if(E9==z3.DAY){W9.maxTimeUnit=z7[L9.getMonth()]+1;}if(R7>=W9.maxTimeUnit){R7=W9.minTimeUnit;}O7=Y9;if(m7&&Z7<p9)continue;if(I9.xAxis.formatter){u9=I9.xAxis.formatter(L9,"line",E9,S7);}else{if(E9==z3.DAY){u9=L9.getDate();;}else if(E9==z3.MONTH){u9=z3.monthAsDisplay(B9.getMonth(),!{},this);}else if(E9==z3.YEAR||E9==z3.DECADE){u9=L9.getFullYear();}else{u9=z3.timeAsDisplay(L9,this,E9);}}N7.push(new f3.XAxisLabel(k7,D68,u9));}m7=!{};}return N7;};g3=0;V3=0;f3.prototype.createYAxis=function(D7,l7){var H7,I7,w7,Q7,p7,Y7,A7,o7,x8Q,c8Q,G7,v7,C7,t7,r7,B7,Z8Q,R8Q,W7,u7;if(this.runPrepend("createYAxis",arguments)){return;}H7=D7.chart;I7=D7.name==H7.name;if(!l7){l7={};}l7.noChange=![];w7=l7.yAxis?l7.yAxis:D7.yAxis;if(f3.enableCaching&&w7.high==D7.cacheHigh&&w7.low==D7.cacheLow){Q7=H7.dataSet.length-H7.scroll;p7=Q7+H7.maxTicks;D7.cacheLeft=Math.min(D7.cacheLeft,Q7);D7.cacheRight=Math.max(D7.cacheRight,p7);D7.cacheLeft=Q7;D7.cacheRight=p7;l7.noChange=!!1;g3++;}else{W8k.t02(15);D7.cacheLeft=W8k.R02("1000000",1891634592);D7.cacheRight=-1;D7.cacheHigh=w7.high;D7.cacheLow=w7.low;V3++;}Y7=H7.xAxis.idealTickSizePixels?H7.xAxis.idealTickSizePixels:H7.xAxis.autoComputedTickSizePixels;if(w7.goldenRatioYAxis){if(w7.idealTickSizePixels!=Y7/1.618){l7.noChange=!!"";}}if(!l7.noChange){this.adjustYAxisHeightOffset(D7,w7);A7=w7.height=w7.bottom-w7.top;o7=(w7.high-w7.low)/(A7-w7.zoom);if(l7.ground&&!w7.semiLog){w7.high=w7.high+w7.zoom*o7;}else{w7.high=w7.high+w7.zoom/2*o7+w7.scroll*o7;x8Q=w7.low;W8k.N02(6);var p1T=W8k.i02(2,15,15);w7.low=w7.low-w7.zoom/p1T*o7+w7.scroll*o7;if(w7.semiLog&&w7.low<=0){w7.low=x8Q;}}if(w7.min||w7.min===0){w7.low=w7.min;}if(w7.max||w7.max===("0"^0)){w7.high=w7.max;}w7.shadow=w7.high-w7.low;if(w7.semiLog&&(!this.activeDrawing||this.activeDrawing.name!="projection")){w7.logHigh=Math.log(w7.high)/Math.LN10;c8Q=Math.max(w7.low,0.000000001);w7.logLow=Math.log(c8Q)/Math.LN10;if(w7.low<=0){W8k.N02(22);w7.logLow=W8k.i02("0",0);}w7.logShadow=w7.logHigh-w7.logLow;}if(w7.goldenRatioYAxis&&I7){W8k.t02(14);w7.idealTickSizePixels=W8k.i02(Y7,1.618);if(w7.idealTickSizePixels===0){G7=this.getCanvasFontSize("stx_yaxis");W8k.N02(1);w7.idealTickSizePixels=W8k.R02(G7,5);}}else{if(!w7.idealTickSizePixels){G7=this.getCanvasFontSize("stx_yaxis");if(I7){W8k.N02(1);w7.idealTickSizePixels=W8k.i02(G7,5);}else{W8k.t02(1);w7.idealTickSizePixels=W8k.R02(G7,2);}}}v7=Math.round(A7/w7.idealTickSizePixels);C7=l7.range?l7.range[1]-l7.range[0]:w7.shadow;W8k.t02(14);w7.priceTick=Math.floor(W8k.R02(C7,v7));t7=1;for(var i7=0;i7<10;i7++){if(w7.priceTick>0)break;W8k.t02(2);t7*=W8k.R02(0,"10");w7.priceTick=Math.floor(C7/v7*t7)/t7;}if(i7==10){w7.priceTick=0.00000001;}w7.priceTick=Math.round(C7/v7*t7)/t7;r7=Math.round(C7/w7.priceTick);if(l7.range&&r7<C7&&!w7.noEvenDivisorTicks){while(r7>=1){if(C7%r7===0)break;r7--;}W8k.N02(14);w7.priceTick=W8k.R02(C7,r7);}if(w7.minimumPriceTick){B7=w7.minimumPriceTick;G7=this.getCanvasFontSize("stx_yaxis");for(var E7=0;E7<100;E7++){W8k.N02(14);Z8Q=W8k.R02(C7,B7);if(A7/Z8Q<G7*2){B7+=w7.minimumPriceTick;}else break;}if(E7<100){w7.priceTick=B7;}}w7.multiplier=w7.height/w7.shadow;}if(!this.activeDrawing||this.activeDrawing.name!="projection"){w7.high=this.valueFromPixel(D7.top,D7,w7);if(w7.semiLog){w7.logHigh=Math.log(w7.high)/Math.LN10;R8Q=Math.max(w7.low,0.00000000001);w7.logLow=Math.log(R8Q)/Math.LN10;w7.logShadow=w7.logHigh-w7.logLow;}w7.shadow=w7.high-w7.low;}w7.multiplier=w7.height/w7.shadow;if(w7.multiplier==Infinity){w7.multiplier=+"0";}if(!w7.decimalPlaces&&w7.decimalPlaces!==0){if(I7){W7=0;for(var L7=0;L7<D7.yAxis.shadowBreaks.length;L7++){u7=D7.yAxis.shadowBreaks[L7];if(D7.yAxis.shadow<u7[0]){W7=u7[1];}}w7.printDecimalPlaces=W7;;}else{w7.printDecimalPlaces=null;};}else{w7.printDecimalPlaces=w7.decimalPlaces;}this.runAppend("createYAxis",arguments);};f3.prototype.adjustYAxisHeightOffset=function(O8Q,X8Q){var z68,c68;z68="c";z68+="har";z68+="t";X8Q.bottomOffset=+"0";W8k.j3();if(!this.xaxisHeight){c68="stx_x";c68+="axis";this.xaxisHeight=this.getCanvasFontSize(c68)+4;if(this.chart.xAxis.displayBorder||this.axisBorders){W8k.t02(15);this.xaxisHeight+=W8k.i02("3",1485876448);}}if(this.xAxisAsFooter===!![]&&O8Q.bottom>this.chart.canvasHeight-this.xaxisHeight){X8Q.bottomOffset=this.xaxisHeight;}else if(this.xAxisAsFooter!==!![]&&O8Q.name==z68){X8Q.bottomOffset=this.xaxisHeight;}X8Q.bottom=O8Q.bottom-X8Q.bottomOffset;};f3.prototype.drawYAxis=function(S8Q,M8Q){var R68,x68,b8Q,i68,N68,u68,h68,b68,G68,a8Q,e8Q,T8Q,l48,P48,k48,P8Q,U8Q,q8Q,K18,s18,F18,g8Q,n8Q,J8Q,j8Q,K8Q,y8Q,f8Q,F8Q,m8Q,z8Q,O68,k8Q,V8Q,h8Q,N8Q,X68,w8Q,d8Q,D8Q;R68="d";R68+="r";R68+="awYAxis";x68="dra";x68+="w";x68+="YAxi";x68+="s";if(!M8Q){M8Q={};}b8Q=M8Q.yAxis?M8Q.yAxis:S8Q.yAxis;if(b8Q.fractional){if(!b8Q.originalPriceFormatter){b8Q.originalPriceFormatter={func:b8Q.priceFormatter};}if(!b8Q.fractional.resolution){b8Q.fractional.resolution=b8Q.minimumPrice;}if(!b8Q.fractional.formatter){b8Q.fractional.formatter=(4520,"5788"&2147483647)<(8551,916.29)?3.80e+3:"'";}if(!b8Q.priceFormatter){b8Q.priceFormatter=function(o8Q,t8Q,G8Q){var C8Q,H8Q,l8Q;C8Q=Math.floor(Math.round(G8Q/b8Q.fractional.resolution)*b8Q.fractional.resolution);H8Q=Math.round((G8Q-C8Q)/b8Q.fractional.resolution);l8Q=Math.floor(H8Q);W8k.t02(2);var f1T=W8k.i02(18,19);return C8Q+b8Q.fractional.formatter+(l8Q<10?"0":"")+l8Q+(H8Q-l8Q>="0.5"*f1T?"+":"");};}}else{if(b8Q.originalPriceFormatter){b8Q.priceFormatter=b8Q.originalPriceFormatter.func;b8Q.originalPriceFormatter=null;}}if(b8Q.pretty){return this.drawYAxisPretty(S8Q,M8Q);}if(this.runPrepend(x68,arguments)){return;}if(!M8Q.noDraw&&!b8Q.noDraw){if(!b8Q.yAxisPlotter||!M8Q.noChange){i68="stx_yax";i68+="is";N68="strok";N68+="e";u68="b";u68+="ord";u68+="er";h68="stro";h68+="ke";b68="g";b68+="r";b68+="i";b68+="d";G68="s";G68+="t";G68+="x_yaxis";a8Q=S8Q.chart;e8Q=S8Q.name==a8Q.name&&b8Q===S8Q.yAxis;if(!b8Q.priceTick){return;}T8Q=b8Q.shadow;if(M8Q.range){l48=730038697;P48=-517693951;k48=2;for(var n48=1;W8k.l08(n48.toString(),n48.toString().length,13655)!==l48;n48++){W8k.t02(2);var t1T=W8k.i02(63,64);T8Q=M8Q.range[t1T]-M8Q.range[0];k48+=2;}if(W8k.l08(k48.toString(),k48.toString().length,72529)!==P48){W8k.t02(23);var r1T=W8k.i02(159,18,14,19,11);T8Q=M8Q.range[+"2"]*M8Q.range[r1T];}}P8Q=T8Q/b8Q.priceTick;P8Q=Math.round(P8Q);if(b8Q.semiLog){U8Q=Math.log(this.valueFromPixel(b8Q.bottom,S8Q))/Math.LN10;K18=2065385189;s18=-1238074182;F18=2;for(var e18=+"1";W8k.P08(e18.toString(),e18.toString().length,20038)!==K18;e18++){q8Q=b8Q.logHigh%b8Q.logLow%P8Q;F18+=2;}if(W8k.P08(F18.toString(),F18.toString().length,+"26313")!==s18){q8Q=(b8Q.logHigh-b8Q.logLow)/P8Q;}}g8Q=b8Q.textStyle?b8Q.textStyle:G68;b8Q.yAxisPlotter=new z3.Plotter();b8Q.yAxisPlotter.newSeries(b68,h68,this.canvasStyle("stx_grid"));b8Q.yAxisPlotter.newSeries("text","fill",this.colorOrStyle(g8Q));b8Q.yAxisPlotter.newSeries(u68,N68,this.canvasStyle("stx_grid_border"));n8Q=0;J8Q=M8Q.range?M8Q.range[1]:b8Q.high;j8Q=M8Q.range?M8Q.range[+"0"]:b8Q.low;K8Q=b8Q.displayBorder===null?a8Q.panel.yAxis.displayBorder:b8Q.displayBorder;if(this.axisBorders===!1){K8Q=!!0;}if(this.axisBorders===!0){K8Q=!!{};}f8Q=b8Q.position===null?a8Q.panel.yAxis.position:b8Q.position;if(f8Q=="left"){y8Q=b8Q.left+b8Q.width;}else{y8Q=b8Q.left;}F8Q=Math.round(y8Q)+ +"0.5";m8Q=K8Q?3:0;if(f8Q=="left"){m8Q=K8Q?-3:"0"*1;}if(e8Q)if(b8Q.shadow<1){W8k.t02(19);var U1T=W8k.R02(20,24,16,14,5);n8Q=(parseInt(j8Q/b8Q.priceTick,U1T)+1)*b8Q.priceTick-j8Q;}else{n8Q=b8Q.priceTick-Math.round(j8Q%b8Q.priceTick*S8Q.chart.roundit)/S8Q.chart.roundit;}else{n8Q=J8Q%b8Q.priceTick;}z8Q=this.getCanvasFontSize(i68);for(var s8Q=0;s8Q<P8Q;s8Q++){O68="l";O68+="eft";if(b8Q.semiLog){W8k.t02(24);V8Q=W8k.i02(U8Q,q8Q,s8Q);k8Q=Math.pow(+"10",V8Q);}else{if(e8Q){k8Q=j8Q+s8Q*b8Q.priceTick+n8Q;}else{k8Q=J8Q-s8Q*b8Q.priceTick-n8Q;}}h8Q=this.pixelFromPrice(k8Q,S8Q,b8Q);N8Q=Math.round(h8Q)+0.5;if(N8Q+z8Q/+"2">S8Q.bottom)continue;if(N8Q-z8Q/("2"|2)<S8Q.top)continue;if(b8Q.displayGridLines){X68="g";X68+="r";X68+="i";X68+="d";b8Q.yAxisPlotter.moveTo("grid",S8Q.left,N8Q);b8Q.yAxisPlotter.lineTo(X68,S8Q.right,N8Q);}if(K8Q){W8k.t02(2);b8Q.yAxisPlotter.moveTo("border",W8k.i02(0.5,F8Q),N8Q);W8k.N02(0);b8Q.yAxisPlotter.lineTo("border",W8k.i02(m8Q,F8Q),N8Q);}if(b8Q.priceFormatter){k8Q=b8Q.priceFormatter(this,S8Q,k8Q);}else{k8Q=this.formatYAxisPrice(k8Q,S8Q,null,b8Q);}w8Q=b8Q.textBackground?this.containerColor:null;W8k.t02(25);d8Q=W8k.R02(m8Q,3,y8Q);if(f8Q==O68){d8Q=b8Q.left+3;if(b8Q.justifyRight){W8k.t02(9);var T1T=W8k.i02(21,17,7);d8Q=b8Q.left+b8Q.width+m8Q-T1T;}}else{if(b8Q.justifyRight){d8Q=y8Q+b8Q.width;}}b8Q.yAxisPlotter.addText("text",k8Q,d8Q,N8Q,w8Q,null,z8Q);}if(K8Q){D8Q=Math.round(b8Q.bottom)+0.5;b8Q.yAxisPlotter.moveTo("border",F8Q,b8Q.top);b8Q.yAxisPlotter.lineTo("border",F8Q,D8Q);b8Q.yAxisPlotter.draw(this.chart.context,"border");}}this.plotYAxisGrid(S8Q);}this.runAppend(R68,arguments);};f3.prototype.drawYAxisPretty=function(Q8Q,v8Q){var M68,r8Q,K68,H68,O1Q,e1Q,K1Q,p8Q,f1Q,J1Q,P1Q,j1Q,u8Q,Y8Q,S1Q,W8Q,Z1Q,X1Q,m1Q,y1Q,I8Q,R1Q,c1Q,A8Q,b1Q,n1Q,N1Q,i8Q,z1Q,s1Q,L8Q,F1Q,s68,B8Q,a1Q,E8Q,T1Q,x1Q,F68,d1Q,z28,x28,G28,A68;M68="dr";M68+="aw";M68+="YAxis";if(this.runPrepend(M68,arguments)){return;}if(!v8Q){v8Q={};}r8Q=v8Q.yAxis?v8Q.yAxis:Q8Q.yAxis;W8k.m3();if(!v8Q.noDraw&&!r8Q.noDraw){if(!r8Q.yAxisPlotter||!v8Q.noChange){K68="st";K68+="r";K68+="ok";K68+="e";H68="bo";H68+="rder";O1Q=Q8Q.chart;e1Q=Q8Q.name==O1Q.name&&r8Q===Q8Q.yAxis;if(!r8Q.priceTick){return;}if(isNaN(r8Q.high)||isNaN(r8Q.low)){return;}K1Q=r8Q.shadow;if(v8Q.range){W8k.N02(2);var E1T=W8k.i02(14,15);K1Q=v8Q.range[+"1"]-v8Q.range["0"*E1T];}p8Q=r8Q.height/r8Q.idealTickSizePixels;p8Q=Math.round(p8Q);f1Q=r8Q.textStyle?r8Q.textStyle:"stx_yaxis";r8Q.yAxisPlotter=new z3.Plotter();r8Q.yAxisPlotter.newSeries("grid","stroke",this.canvasStyle("stx_grid"));r8Q.yAxisPlotter.newSeries("text","fill",this.colorOrStyle(f1Q));r8Q.yAxisPlotter.newSeries(H68,K68,this.canvasStyle("stx_grid_border"));J1Q=0;P1Q=v8Q.range?v8Q.range["1"^0]:r8Q.high;j1Q=v8Q.range?v8Q.range[0]:r8Q.low;u8Q=r8Q.displayBorder===null?O1Q.panel.yAxis.displayBorder:r8Q.displayBorder;if(this.axisBorders===!!""){u8Q=!{};}if(this.axisBorders===!![]){u8Q=!!{};}S1Q=r8Q.position===null?O1Q.panel.yAxis.position:r8Q.position;if(S1Q=="left"){Y8Q=r8Q.left+r8Q.width;}else{Y8Q=r8Q.left;}W8Q=Math.round(Y8Q)+0.5;Z1Q=u8Q?3:0;if(S1Q=="left"){Z1Q=u8Q?-3:"0"<<817972320;}X1Q=this.getCanvasFontSize("stx_yaxis");m1Q=r8Q.increments;y1Q=m1Q.length;I8Q=0;R1Q=1;c1Q=0;A8Q=0;b1Q=0;n1Q=Number.MAX_VALUE;for(var k1Q=0;k1Q<100;k1Q++){c1Q=m1Q[I8Q]*Math.pow("10"&2147483647,b1Q);W8k.t02(14);R1Q=Math.floor(W8k.R02(K1Q,c1Q));W8k.t02(2);N1Q=Math.abs(W8k.R02(R1Q,p8Q));if(N1Q>n1Q){break;}else{n1Q=N1Q;}if(R1Q==p8Q){A8Q=c1Q;break;}else if(R1Q>p8Q){I8Q++;if(I8Q>=y1Q){I8Q=0;b1Q++;}}else{I8Q--;if(I8Q<("0"&2147483647)){W8k.t02(2);I8Q=W8k.i02(1,y1Q);b1Q--;}}A8Q=c1Q;}i8Q=Math.ceil(j1Q/A8Q)*A8Q;z1Q=r8Q.bottom-this.pixelFromPrice(i8Q,Q8Q,r8Q);s1Q=0;if(z1Q>r8Q.idealTickSizePixels&&r8Q.semiLog&&r8Q.prettySemiLog){for(L8Q=Math.ceil(j1Q);L8Q<i8Q&&i8Q%L8Q!==0;++L8Q);if(L8Q<i8Q){if(i8Q===A8Q){A8Q=L8Q;s1Q=L8Q;}i8Q=L8Q;}}F1Q=0;for(var M1Q="0"&2147483647;M1Q<+"100";M1Q++){s68="le";s68+="ft";W8k.N02(24);B8Q=W8k.i02(i8Q,A8Q,F1Q);if(B8Q>P1Q)break;A8Q+=s1Q;F1Q++;a1Q=this.pixelFromPrice(B8Q,Q8Q,r8Q);E8Q=Math.round(a1Q)+0.5;if(E8Q+X1Q/("2">>2127609312)>Q8Q.bottom)continue;if(E8Q-X1Q/2<Q8Q.top)continue;if(r8Q.displayGridLines){r8Q.yAxisPlotter.moveTo("grid",Q8Q.left,E8Q);r8Q.yAxisPlotter.lineTo("grid",Q8Q.right,E8Q);}if(u8Q){W8k.t02(26);r8Q.yAxisPlotter.moveTo("border",W8k.i02("0.5",W8Q,1),E8Q);W8k.t02(0);r8Q.yAxisPlotter.lineTo("border",W8k.R02(Z1Q,W8Q),E8Q);}if(r8Q.priceFormatter){B8Q=r8Q.priceFormatter(this,Q8Q,B8Q);}else{B8Q=this.formatYAxisPrice(B8Q,Q8Q,null,r8Q);}T1Q=r8Q.textBackground?this.containerColor:null;W8k.t02(25);x1Q=W8k.i02(Z1Q,3,Y8Q);if(S1Q==s68){x1Q=r8Q.left+3;if(r8Q.justifyRight){W8k.t02(2);var D1T=W8k.R02(11,14);x1Q=r8Q.left+r8Q.width+Z1Q-D1T;}}else{if(r8Q.justifyRight){x1Q=Y8Q+r8Q.width;}}r8Q.yAxisPlotter.addText("text",B8Q,x1Q,E8Q,T1Q,null,X1Q);}if(M1Q>=100){F68="drawYA";F68+="xisPretty: assertion error. zz reached 100";console.log(F68);}if(u8Q){d1Q=Math.round(r8Q.bottom)+0.5;z28=-1234066132;x28=-1854967323;G28=2;for(var h28=1;W8k.l08(h28.toString(),h28.toString().length,63062)!==z28;h28++){r8Q.yAxisPlotter.moveTo("border",W8Q,r8Q.top);r8Q.yAxisPlotter.lineTo("border",W8Q,d1Q);r8Q.yAxisPlotter.draw(this.chart.context,"border");G28+=2;}if(W8k.l08(G28.toString(),G28.toString().length,38304)!==x28){A68="bo";A68+="rde";A68+="r";r8Q.yAxisPlotter.moveTo("border",W8Q,r8Q.top);r8Q.yAxisPlotter.lineTo(A68,W8Q,d1Q);r8Q.yAxisPlotter.draw(this.chart.context,"border");}}}this.plotYAxisGrid(Q8Q);}this.runAppend("drawYAxis",arguments);};f3.prototype.plotYAxisGrid=function(q1Q){var U1Q;if(this.runPrepend("plotYAxisGrid",arguments)){return;}U1Q=this.chart.context;q1Q.yAxis.yAxisPlotter.draw(U1Q,"grid");this.runAppend("plotYAxisGrid",arguments);};f3.prototype.plotYAxisText=function(D1Q){var w1Q,I68,m68,C68,o68,e68,h1Q,V1Q,l1Q;W8k.j3();if(this.runPrepend("plotYAxisText",arguments)){return;}w1Q=D1Q.yaxisLHS.concat(D1Q.yaxisRHS);for(var g1Q=0;g1Q<w1Q.length;g1Q++){I68="st";I68+="x_yaxis";m68="rig";m68+="ht";C68="midd";C68+="le";o68="stx_y";o68+="axi";o68+="s";e68="stx_";e68+="y";e68+="axis";h1Q=w1Q[g1Q];if(!h1Q.yAxisPlotter)continue;if(h1Q.noDraw)continue;this.canvasFont(e68);this.canvasColor(o68);V1Q=this.chart.context;V1Q.textBaseline=C68;if(h1Q.justifyRight){V1Q.textAlign=m68;}else{V1Q.textAlign="left";}l1Q=this.getCanvasFontSize(I68);h1Q.yAxisPlotter.draw(V1Q,"text");V1Q.textBaseline="alphabetic";V1Q.textAlign="left";}this.runAppend("plotYAxisText",arguments);};f3.prototype.formatYAxisPrice=function(H1Q,o1Q,r1Q,t1Q){var G1Q,C1Q;if(H1Q===null||typeof H1Q=="undefined"||isNaN(H1Q)){return"";}G1Q=t1Q?t1Q:o1Q.yAxis;C1Q=r1Q;if(!C1Q&&C1Q!==0){C1Q=G1Q.printDecimalPlaces;}if(!C1Q&&C1Q!==0){if(G1Q.priceTick<0.01){C1Q=4;}else if(G1Q.priceTick<0.1){C1Q=2;}else if(G1Q.priceTick<1){W8k.t02(15);C1Q=W8k.R02("1",1330366880);}else{C1Q=0;}}W8k.m3();if(o1Q.name!=o1Q.chart.name){if(G1Q.priceTick>100){return z3.condenseInt(H1Q);}}if(this.internationalizer){if(C1Q>=this.internationalizer.priceFormatters.length){C1Q=this.internationalizer.priceFormatters.length-1;}H1Q=this.internationalizer.priceFormatters[C1Q].format(H1Q);}else{H1Q=H1Q.toFixed(C1Q);;}return H1Q;};f3.prototype.padOutPrice=function(Q1Q){var L68,A1Q,v1Q,m28,I28,L28;L68="u";L68+="nde";L68+="f";L68+="ined";if(Q1Q!==0&&(!Q1Q||typeof Q1Q==L68)){return"";}W8k.N02(0);A1Q=W8k.R02(Q1Q,"");W8k.N02(27);var z1T=W8k.R02(19911,16,1327,19);W8k.N02(9);var G1T=W8k.R02(13,3509,6);W8k.N02(4);var b1T=W8k.R02(14,811,1617);W8k.N02(0);var h1T=W8k.R02(5100,510);W8k.N02(16);var u1T=W8k.R02(3,66844,16,62899);W8k.N02(28);var N1T=W8k.R02(9,6,16,13,1);v1Q=A1Q.substring(A1Q.indexOf((+"4462",642.18)===z1T?(7130,G1T)>b1T?(!{},510.40):h1T<=901.46?(u1T,"0x4de"&2147483647):(!!{},![]):".")).length-N1T;if(Q1Q>=1000){v1Q=Math.max(v1Q,+"0");}else if(Q1Q<2){v1Q=Math.max(v1Q,4);}else{v1Q=Math.max(v1Q,2);}if(this.internationalizer){m28=-1825375911;I28=271615017;L28=2;for(var W28=+"1";W8k.P08(W28.toString(),W28.toString().length,14540)!==m28;W28++){if(v1Q>=this.internationalizer.priceFormatters.length){v1Q=this.internationalizer.priceFormatters.length-1;}Q1Q=this.internationalizer.priceFormatters[v1Q].format(Q1Q);L28+=2;}if(W8k.l08(L28.toString(),L28.toString().length,87524)!==I28){if(v1Q>this.internationalizer.priceFormatters.length){W8k.N02(2);var X1T=W8k.i02(10,19);v1Q=this.internationalizer.priceFormatters.length+X1T;}Q1Q=this.internationalizer.priceFormatters[v1Q].format(Q1Q);}}else{Q1Q=Q1Q.toFixed(v1Q);}return Q1Q;};f3.prototype.formatPrice=function(I1Q,E1Q){var i1Q;if(I1Q!==0&&(!I1Q||typeof I1Q=="undefined")){return"";}if(!E1Q){E1Q=this.currentPanel;}if(!E1Q){E1Q=this.chart.panel;}if(!E1Q){return I1Q;}i1Q=E1Q.decimalPlaces;if(!i1Q&&i1Q!==0){i1Q=E1Q.chart.decimalPlaces;}if(!i1Q&&i1Q!==0){return I1Q;}if(this.internationalizer){if(i1Q>=this.internationalizer.priceFormatters.length){W8k.t02(29);var O1T=W8k.R02(12,16,12,18,2);i1Q=this.internationalizer.priceFormatters.length-O1T;}I1Q=this.internationalizer.priceFormatters[i1Q].format(I1Q);}else{I1Q=I1Q.toFixed(i1Q);}return I1Q;};f3.prototype.createCrosshairs=function(){var v68;v68="create";v68+="Cr";v68+="osshairs";if(this.runPrepend("createCrosshairs",arguments)){return;}if(this.controls.crossX.onmousedown){return;}this.controls.crossY.onmousedown=function(B1Q){if(!B1Q){B1Q=event;}W8k.j3();if(B1Q.preventDefault){B1Q.preventDefault();}return![];};this.controls.crossX.onmousedown=function(L1Q){if(!L1Q){L1Q=event;}W8k.j3();if(L1Q.preventDefault){L1Q.preventDefault();}return!!0;};W8k.j3();this.runAppend(v68,arguments);};f3.prototype.determineMinMax=function(S2Q,k2Q,K2Q,N2Q,M2Q){var p1Q,Y1Q,b2Q,O2Q,R2Q,Z2Q,W1Q,u1Q;p1Q=Number.MAX_VALUE*-1;Y1Q=Number.MAX_VALUE;b2Q=!!0;O2Q=S2Q.length;if(M2Q){O2Q=M2Q;}for(var X2Q="0"^0;X2Q<O2Q;X2Q++){R2Q=S2Q[X2Q];if(!R2Q)continue;if(!N2Q){if(R2Q.transform){b2Q=!0;R2Q=R2Q.transform;}else if(b2Q)continue;;}Z2Q=0;for(var x2Q=0;x2Q<k2Q.length;x2Q++){W1Q=R2Q[k2Q[x2Q]];if(!W1Q)continue;if(typeof W1Q=="number"){W1Q=[W1Q];}for(var c2Q=0;c2Q<W1Q.length;c2Q++){u1Q=W1Q[c2Q];if(u1Q||u1Q===("0"&2147483647)){if(K2Q){Z2Q+=u1Q;if(Z2Q>p1Q){p1Q=Z2Q;}if(Z2Q<Y1Q){Y1Q=Z2Q;}}else{if(u1Q>p1Q){p1Q=u1Q;}if(u1Q<Y1Q){Y1Q=u1Q;}}}}}}if(p1Q==Number.MAX_VALUE*-1){p1Q=0;}if(Y1Q==Number.MAX_VALUE){Y1Q=0;}return[Y1Q,p1Q];};f3.prototype.calculateYAxisRange=function(F2Q,s2Q,n2Q,m2Q){var d2Q,j2Q,y2Q,f2Q,T2Q,A38,e38,o38,z2Q,a2Q,W68,P2Q;if(n2Q==Number.MAX_VALUE){n2Q=0;m2Q=0;}d2Q=F2Q.height;j2Q=null;y2Q=null;this.adjustYAxisHeightOffset(F2Q,s2Q);s2Q.top=F2Q.top;s2Q.height=s2Q.bottom-s2Q.top;f2Q=Math.round(Math.abs(d2Q/5));if(d2Q-Math.abs(s2Q.scroll)<f2Q){W8k.N02(4);var M1T=W8k.i02(16,3,49);W8k.t02(30);var H1T=W8k.i02(16,11,5,19,20);s2Q.scroll=(d2Q-f2Q)*(s2Q.scroll<0?M1T:H1T);}T2Q=(m2Q-n2Q)/s2Q.height;if(n2Q||n2Q==="0"<<1885932384){if(m2Q-n2Q===0){A38=574889588;e38=628272541;o38=2;for(var m38=1;W8k.l08(m38.toString(),m38.toString().length,+"41643")!==A38;m38++){W8k.N02(2);j2Q=W8k.i02(8,m2Q);y2Q=1;o38+=+"2";}if(W8k.P08(o38.toString(),o38.toString().length,6027)!==e38){W8k.N02(31);j2Q=W8k.R02(m2Q,0,"2");y2Q=0;}}else{if((this.layout.semiLog||this.layout.chartScale=="log")&&j2Q){z2Q=Math.log(n2Q)/Math.LN10;a2Q=Math.log(m2Q)/Math.LN10;j2Q=Math.pow(10,a2Q);y2Q=Math.pow(10,z2Q);}else{j2Q=m2Q;y2Q=n2Q;}}s2Q.high=j2Q;s2Q.low=y2Q;}if(s2Q.max||s2Q.max===0){s2Q.high=s2Q.max;}if(s2Q.min||s2Q.min===+"0"){s2Q.low=s2Q.min;}s2Q.shadow=s2Q.high-s2Q.low;if(F2Q.chart.name===F2Q.name&&F2Q.yAxis===s2Q){W68="lo";W68+="g";P2Q=this.layout.semiLog||this.layout.chartScale==W68;if(F2Q.chart.isComparison){P2Q=![];}if(s2Q.semiLog!=P2Q){this.clearPixelCache();s2Q.semiLog=P2Q;}}};f3.prototype.renderYAxis=function(V2Q){var y68,g68,e2Q,U2Q,J2Q,h2Q,g2Q,w2Q,q2Q;y68="r";y68+="en";y68+="derYAxis";g68="render";g68+="YA";g68+="xis";if(this.runPrepend(g68,arguments)){return;}e2Q=V2Q.panel;U2Q=e2Q.yaxisRHS.concat(e2Q.yaxisLHS);W8k.m3();for(J2Q=+"0";J2Q<U2Q.length;J2Q++){h2Q=U2Q[J2Q];g2Q=null;w2Q=null;if(e2Q.yAxis===h2Q){g2Q=V2Q.lowValue;w2Q=V2Q.highValue;}this.calculateYAxisRange(e2Q,h2Q,g2Q,w2Q);}q2Q={};for(J2Q=0;J2Q<U2Q.length;J2Q++){q2Q.yAxis=U2Q[J2Q];this.createYAxis(e2Q,q2Q);this.drawYAxis(e2Q,q2Q);}this.runAppend(y68,arguments);};f3.prototype.initializeDisplay=function(D2Q){var S68,H2Q,Q2Q,l2Q,G2Q,r2Q,C2Q,t2Q;S68="initi";S68+="alizeDispl";S68+="ay";if(this.runPrepend("initializeDisplay",arguments)){return;}H2Q=[];for(var o2Q in D2Q.series){if(D2Q.series[o2Q].parameters.shareYAxis){H2Q.push(o2Q);}}Q2Q=D2Q.panel=this.panels[D2Q.name];G2Q=null;r2Q=Math.floor((D2Q.width-this.micropixels)/this.layout.candleWidth);if(D2Q.scroll>D2Q.maxTicks&&D2Q.maxTicks>r2Q+("1"-0)){W8k.N02(14);var K1T=W8k.i02(10,10);G2Q=D2Q.dataSegment.length-K1T;}if(!f3.chartShowsHighs(this.layout.chartType)){H2Q.push("Close");l2Q=this.determineMinMax(D2Q.dataSegment,H2Q,null,null,G2Q);if(this.layout.chartType=="baseline_delta"){C2Q=D2Q.baseline.actualLevel;if(D2Q.transformFunc){C2Q=D2Q.transformFunc(this,D2Q,C2Q);}t2Q=Math.max(C2Q-l2Q[0],l2Q[1]-C2Q);if(this.repositioningBaseline){l2Q=[D2Q.lowValue,D2Q.highValue];}else{W8k.t02(2);l2Q[0]=W8k.R02(t2Q,C2Q);W8k.N02(0);l2Q[1]=W8k.R02(t2Q,C2Q);}}}else{H2Q.push("Close","High","Low");l2Q=this.determineMinMax(D2Q.dataSegment,H2Q,null,null,G2Q);}D2Q.lowValue=l2Q[0];W8k.m3();D2Q.highValue=l2Q[1];this.runAppend(S68,arguments);};f3.prototype.computePosition=function(I2Q,v2Q){var A2Q;if(typeof v2Q=="undefined"){v2Q=0;}A2Q=I2Q*this.layout.candleWidth+v2Q+this.micropixels;return A2Q;};f3.prototype.computeColor=function(i2Q,E2Q){var J68;J68="stx_candle";J68+="_down";W8k.m3();if(i2Q<E2Q){return"stx_candle_up";}if(i2Q>E2Q){return J68;}return"stx_candle_shadow";};f3.prototype.computeLength=function(u2Q,p2Q){var B2Q,L2Q;B2Q=this.pixelFromPrice(u2Q);L2Q=this.pixelFromPrice(p2Q);W8k.N02(2);return W8k.R02(B2Q,L2Q);};f3.prototype.setSeriesRenderer=function(Y2Q){var W2Q;W2Q=Y2Q.params;if(this.chart.seriesRenderers[Y2Q.params.name]){return this.chart.seriesRenderers[Y2Q.params.name];}W8k.m3();if(W2Q.yAxis){this.addYAxis(this.panels[W2Q.panel],W2Q.yAxis);}Y2Q.stx=this;this.chart.seriesRenderers[Y2Q.params.name]=Y2Q;return Y2Q;};f3.prototype.setMarket=function(c3Q,Z3Q){if(!Z3Q){Z3Q=this.chart;}Z3Q.market=new z3.Market(c3Q);for(var R3Q in this.layout.marketSessions){Z3Q.market.disableSession(R3Q,this.layout.marketSessions[R3Q]);}};f3.prototype.setMarketFactory=function(x3Q){this.marketFactory=x3Q;};f3.prototype.removeSeriesRenderer=function(X3Q){var O3Q,S3Q,M3Q;for(var b3Q in this.chart.seriesRenderers){if(X3Q.params.name===this.chart.seriesRenderers[b3Q].params.name){O3Q=this.chart.seriesRenderers[X3Q.params.name];S3Q=O3Q.params.yAxis;M3Q=this.panels[O3Q.params.panel];delete this.chart.seriesRenderers[X3Q.params.name];this.deleteYAxisIfUnused(M3Q,S3Q);return;}}};f3.prototype.getSeriesRenderer=function(k3Q){W8k.j3();return this.chart.seriesRenderers[k3Q];};f3.prototype.drawHistogram=function(s3Q,n3Q){var a68,q68,T3Q,a3Q,h3Q,y3Q,C3Q,q3Q,K3Q,H3Q,e3Q,P3Q,V3Q,z3Q,G3Q,f3Q,w3Q,N3Q,g3Q,m3Q,U3Q,j3Q,d3Q,F3Q,J3Q;function l3Q(R4Q,B3Q,Z4Q,A3Q,X4Q,x4Q,c4Q){var Q68,i3Q,Y3Q,E3Q,t3Q,Q3Q,W3Q,L3Q,v3Q,r3Q,I3Q,p3Q,u3Q;Q68="a";Q68+="u";Q68+="to";if(!Z4Q){Z4Q=1;}if(z3.isIE8){N3Q.globalAlpha=+"0.5";}else{N3Q.globalAlpha=Z4Q;}N3Q.beginPath();W8k.N02(0);i3Q=W8k.R02(0.5,f3Q);Y3Q=Math.floor(j3Q.pixelFromBar("0"<<1632142848,a3Q.chart)-j3Q.layout.candleWidth/+"2");E3Q=Y3Q;for(var o3Q=0;o3Q<C3Q.length;o3Q++){t3Q=U3Q[o3Q];if(!t3Q){t3Q=f3Q;}if(o3Q===0){i3Q=t3Q;}Q3Q=C3Q[o3Q];if(!Q3Q||!Q3Q[R4Q]){i3Q=t3Q;E3Q+=j3Q.layout.candleWidth;continue;}W3Q=(Q3Q[R4Q]-P3Q)*H3Q;if(isNaN(W3Q))continue;L3Q=j3Q.layout.candleWidth;if(Q3Q.candleWidth){L3Q=Q3Q.candleWidth;if(o3Q===0){Y3Q=E3Q=Math.floor(j3Q.pixelFromBar(0,a3Q.chart)-Q3Q.candleWidth/2);}}v3Q=Math.min(Math.floor(t3Q-W3Q)+0.5,t3Q);if(X4Q){if(Q3Q.Close<Q3Q.iqPrevClose){i3Q=v3Q;E3Q+=L3Q;continue;}}else{if(Q3Q.Close>=Q3Q.iqPrevClose){i3Q=v3Q;E3Q+=L3Q;continue;}}p3Q=L3Q/j3Q.layout.candleWidth;W8k.N02(32);u3Q=W8k.i02(p3Q,x4Q,E3Q,g3Q,c4Q);r3Q=Math.round(u3Q)+(A3Q?0:w3Q);I3Q=Math.round(u3Q+c4Q*p3Q)-(A3Q?+"0":w3Q);if(I3Q-r3Q<"2"<<390725088){W8k.t02(0);I3Q=W8k.R02(1,r3Q);}if(A3Q){roundPixel=0;}else{roundPixel=0.5;}if(r3Q%("1"^0)==roundPixel){r3Q+=0.5;}if(I3Q%1==roundPixel){I3Q+=+"0.5";}N3Q.moveTo(r3Q,t3Q);if(f3Q==t3Q){N3Q.lineTo(I3Q,t3Q);}else{N3Q.moveTo(I3Q,t3Q);if(A3Q&&!g3Q){if(U3Q[o3Q+1]){N3Q.moveTo(I3Q,Math.max(v3Q,Math.min(t3Q,U3Q[o3Q+1])));}}}N3Q.lineTo(I3Q,v3Q);N3Q.lineTo(r3Q,v3Q);if(A3Q&&x4Q){if(m3Q[o3Q]>v3Q||o3Q===0){N3Q.lineTo(r3Q,Math.min(t3Q,m3Q[o3Q]));};}else if(A3Q&&!g3Q&&y3Q=="clustered"){if(o3Q>0&&m3Q[o3Q-1]&&m3Q[o3Q-1]>v3Q){N3Q.lineTo(r3Q,Math.min(t3Q,m3Q[o3Q-1]));};}else if(A3Q&&!g3Q){if(i3Q>v3Q||o3Q===0){N3Q.lineTo(r3Q,Math.min(t3Q,i3Q));};}else{N3Q.lineTo(r3Q,t3Q);}i3Q=v3Q;E3Q+=L3Q;if(y3Q!="clustered"||A3Q){m3Q[o3Q]=v3Q;}}if(!B3Q){B3Q=Q68;}if(A3Q){N3Q.strokeStyle=B3Q=="auto"?j3Q.defaultColor:B3Q;N3Q.stroke();}else{N3Q.fillStyle=B3Q=="auto"?j3Q.defaultColor:B3Q;N3Q.fill();}N3Q.closePath();}a68="Dat";a68+="a";q68="hi";q68+="s";q68+="t";q68+="ogram";if(!n3Q||!n3Q.length){return;}T3Q=s3Q.panel;if(!T3Q){T3Q="chart";}a3Q=this.panels[T3Q];if(!a3Q){return;}h3Q=s3Q.yAxis?s3Q.yAxis:a3Q.yAxis;y3Q=s3Q.type;if(y3Q==q68){y3Q=s3Q.subtype;}C3Q=this.chart.dataSegment;q3Q=!{};this.getDefaultColor();for(K3Q="0"&2147483647;K3Q<n3Q.length;K3Q++){q3Q|=n3Q[K3Q].border_color_up&&!z3.isTransparent(n3Q[K3Q].border_color_up);q3Q|=n3Q[K3Q].border_color_down&&!z3.isTransparent(n3Q[K3Q].border_color_down);}if(!s3Q.name){s3Q.name=a68;}H3Q=h3Q.multiplier;if(!s3Q.heightPercentage){s3Q.heightPercentage=0.7;}if(!s3Q.widthFactor){s3Q.widthFactor=0.8;}e3Q=0;W8k.t02(33);P3Q=W8k.R02(1763795424,"0");for(var D3Q=0;D3Q<this.chart.maxTicks;D3Q++){V3Q=C3Q[D3Q];if(!V3Q)continue;z3Q=0;for(K3Q=0;K3Q<n3Q.length;K3Q++){if(V3Q[n3Q[K3Q].field]){if(s3Q.subtype=="stacked"){z3Q+=V3Q[n3Q[K3Q].field];}else{z3Q=V3Q[n3Q[K3Q].field];}if(z3Q>e3Q){e3Q=z3Q;}if(z3Q<P3Q){P3Q=z3Q;}}}}G3Q=Math.floor(h3Q.top)+0.5;if(!s3Q.bindToYAxis){f3Q=Math.floor(h3Q.bottom)+0.5;if(e3Q===0&&P3Q===0){this.watermark(T3Q,"center","bottom",this.translateIf(s3Q.name+" Not Available"));return;}H3Q=(f3Q-G3Q)*s3Q.heightPercentage/(e3Q-P3Q);}else{f3Q=Math.floor(this.pixelFromPriceTransform(P3Q,a3Q,h3Q))+0.5;}w3Q=0.5;if(this.layout.candleWidth<=+"1"||!q3Q){w3Q=0;}this.startClip(T3Q);N3Q=this.chart.context;g3Q=Math.max(0,(1-s3Q.widthFactor)*this.layout.candleWidth/2);m3Q={};U3Q={};j3Q=this;d3Q=1;W8k.j3();for(K3Q=0;K3Q<n3Q.length;K3Q++){F3Q=n3Q[K3Q];d3Q=this.layout.candleWidth*s3Q.widthFactor;J3Q=0;if(y3Q=="clustered"){J3Q=K3Q;d3Q/=n3Q.length;}l3Q(F3Q.field,F3Q.fill_color_up,F3Q.opacity_up,null,!!1,J3Q,d3Q);l3Q(F3Q.field,F3Q.fill_color_down,F3Q.opacity_down,null,null,J3Q,d3Q);if(this.layout.candleWidth>=2&&q3Q){l3Q(F3Q.field,F3Q.border_color_up,F3Q.opacity_up,!0,!![],J3Q,d3Q);l3Q(F3Q.field,F3Q.border_color_down,F3Q.opacity_down,!!"1",null,J3Q,d3Q);}if(y3Q=="stacked"){U3Q=z3.shallowClone(m3Q);}}N3Q.globalAlpha=1;this.endClip();};f3.prototype.drawHeatmap=function(b4Q,j4Q){var l68,n4Q,k4Q,N4Q,z4Q,f4Q,y4Q,K4Q,F4Q,s4Q,S4Q,P4Q,O4Q,M4Q;l68="c";function d4Q(t4Q,o4Q,H4Q,D4Q,C4Q){var Q4Q,r4Q,h4Q,e4Q,T4Q,U4Q,a4Q,J4Q,q4Q,G4Q,w4Q,l4Q;O4Q.beginPath();O4Q.fillStyle=o4Q;O4Q.strokeStyle=o4Q;Q4Q=N4Q.top;r4Q=N4Q.bottom;h4Q=S4Q.layout.candleWidth*D4Q;e4Q=Math.floor(S4Q.pixelFromBar(+"0",k4Q.chart)-S4Q.layout.candleWidth);for(var g4Q=0;g4Q<y4Q.length;g4Q++){a4Q=y4Q[g4Q];if(!a4Q)continue;if(a4Q.candleWidth){if(g4Q===+"0"){e4Q+=S4Q.layout.candleWidth;}else{W8k.N02(34);var s1T=W8k.R02(14,3,563523123,30);e4Q+=(a4Q.candleWidth+h4Q/D4Q)/("2">>s1T);}h4Q=a4Q.candleWidth*D4Q;}else{e4Q+=S4Q.layout.candleWidth;}W8k.t02(35);T4Q=W8k.R02(e4Q,h4Q,2,C4Q);W8k.t02(36);U4Q=W8k.i02(2,h4Q,C4Q,e4Q);if(U4Q-T4Q<2){W8k.t02(0);U4Q=W8k.i02(1,T4Q);}if(a4Q.transform){a4Q=a4Q.transform;}J4Q=a4Q[t4Q];if(!J4Q)continue;if(typeof J4Q=="number"){J4Q=[J4Q];}for(var V4Q=0;V4Q<J4Q.length;V4Q++){q4Q=S4Q.pixelFromPrice(J4Q[V4Q],k4Q,N4Q);if(!P4Q){G4Q=S4Q.pixelFromPrice(J4Q[V4Q]-b4Q.height,k4Q,N4Q);O4Q.lineWidth=1;W8k.t02(2);F4Q=W8k.i02(q4Q,G4Q);W8k.N02(37);s4Q=W8k.i02(0,F4Q,"2");P4Q=O4Q.lineWidth;}if(H4Q){W8k.t02(0);w4Q=W8k.R02(s4Q,q4Q);W8k.N02(2);l4Q=W8k.i02(s4Q,q4Q);O4Q.moveTo(T4Q,w4Q);O4Q.lineTo(T4Q,l4Q);O4Q.lineTo(U4Q,l4Q);O4Q.lineTo(U4Q,w4Q);O4Q.lineTo(T4Q,w4Q);}else{W8k.N02(2);O4Q.fillRect(T4Q,W8k.R02(s4Q,q4Q),W8k.i02(T4Q,U4Q),F4Q);}}}if(H4Q){O4Q.stroke();}O4Q.closePath();}l68+="h";l68+="art";if(!j4Q||!j4Q.length){return;}n4Q=b4Q.panel;if(!n4Q){n4Q=l68;}k4Q=this.panels[n4Q];if(!k4Q){return;}N4Q=b4Q.yAxis?b4Q.yAxis:k4Q.yAxis;z4Q=Math.floor(N4Q.bottom)+ +"0.5";f4Q=Math.floor(N4Q.top)+0.5;y4Q=this.chart.dataSegment;this.getDefaultColor();if(!b4Q.name){b4Q.name="Data";}if(!b4Q.widthFactor){b4Q.widthFactor=1;}W8k.t02(2);K4Q=W8k.i02(0,"0.5");if(k4Q.chart.tmpWidth<=+"1"){K4Q=+"0";}F4Q=null;s4Q=null;S4Q=this;P4Q=null;this.startClip(n4Q);O4Q=this.chart.context;O4Q.globalAlpha=b4Q.opacity;for(var m4Q="0">>561603552;m4Q<j4Q.length;m4Q++){M4Q=j4Q[m4Q];d4Q(M4Q.field,M4Q.color,null,b4Q.widthFactor,M4Q.border_color?K4Q:-K4Q/4);if(M4Q.border_color&&this.layout.candleWidth>=("2"&2147483647)){d4Q(M4Q.field,M4Q.border_color,!![],b4Q.widthFactor,K4Q);}}O4Q.lineWidth=1;O4Q.globalAlpha=1;this.endClip();};f3.prototype.startClip=function(A4Q,B4Q){var v4Q,E4Q,I4Q,i4Q;if(!A4Q){A4Q="chart";}v4Q=this.panels[A4Q];E4Q=v4Q.yAxis;this.chart.context.save();this.chart.context.beginPath();I4Q=v4Q.left;i4Q=v4Q.width;if(B4Q){I4Q=0;i4Q=this.width;}this.chart.context.rect(I4Q,v4Q.top,i4Q,E4Q.height);this.chart.context.clip();};f3.prototype.endClip=function(){W8k.j3();this.chart.context.restore();};f3.prototype.drawCandlesHighPerformance=function(R5Q,n5Q,m5Q,b5Q){var x5Q,F5Q,p4Q,O5Q,K5Q,Y4Q,z5Q,W4Q,X5Q,s5Q,a5Q,Z5Q,k5Q,c5Q,S5Q,L4Q,P68,u4Q,P5Q,d5Q,f5Q,j5Q,N5Q,y5Q;x5Q=R5Q.chart;F5Q=x5Q.dataSegment;p4Q=this.chart.context;O5Q=R5Q.yAxis.top;K5Q=R5Q.yAxis.bottom;X5Q=0;if(m5Q&&!z3.isTransparent(m5Q)){X5Q=0.5;}s5Q=x5Q.dataSet.length-x5Q.scroll;a5Q=s5Q+x5Q.maxTicks;p4Q.beginPath();if(z3.isTransparent(n5Q)){n5Q=this.containerColor;}p4Q.fillStyle=n5Q;Z5Q=R5Q.yAxis;W8k.t02(38);var F1T=W8k.R02(26,6,18);k5Q=x5Q.tmpWidth/F1T;c5Q=this.layout.candleWidth;W8k.t02(39);var A1T=W8k.i02(7,11,18,1);S5Q=R5Q.left-0.5*c5Q+this.micropixels-A1T;for(var M5Q="0"*1;M5Q<=F5Q.length;M5Q++){W8k.N02(40);S5Q+=W8k.i02("2",c5Q);c5Q=this.layout.candleWidth;W8k.t02(14);S5Q+=W8k.i02(c5Q,2);L4Q=F5Q[M5Q];if(!L4Q)continue;if(L4Q.projection)continue;if(L4Q.candleWidth){P68="volume_";P68+="c";P68+="a";P68+="ndle";S5Q+=(L4Q.candleWidth-c5Q)/2;c5Q=L4Q.candleWidth;if(this.layout.chartType==P68){W8k.t02(14);k5Q=W8k.R02(c5Q,2);}}if(L4Q.Open==L4Q.Close)continue;if(b5Q&f3.CANDLEUP&&L4Q.Open>=L4Q.Close)continue;if(b5Q&f3.CANDLEDOWN&&L4Q.Open<=L4Q.Close)continue;if(b5Q&f3.CLOSEUP&&L4Q.Close<=L4Q.iqPrevClose)continue;if(b5Q&f3.CLOSEDOWN&&L4Q.Close>=L4Q.iqPrevClose)continue;if(b5Q&f3.CLOSEEVEN&&L4Q.Close!=L4Q.iqPrevClose)continue;if(L4Q.transform){L4Q=L4Q.transform;}u4Q=L4Q.cache;W8k.N02(0);P5Q=W8k.i02(M5Q,s5Q);if(P5Q<R5Q.cacheLeft||P5Q>R5Q.cacheRight||!u4Q.open){d5Q=Z5Q.semiLog?this.pixelFromPrice(L4Q.Open,R5Q):(Z5Q.high-L4Q.Open)*Z5Q.multiplier+Z5Q.top;f5Q=Z5Q.semiLog?this.pixelFromPrice(L4Q.Close,R5Q):(Z5Q.high-L4Q.Close)*Z5Q.multiplier+Z5Q.top;Y4Q=Math.floor(Math.min(d5Q,f5Q))+X5Q;z5Q=Math.max(d5Q,f5Q);W8k.N02(2);W4Q=Math.floor(W8k.R02(Y4Q,z5Q));if(Y4Q<O5Q){if(Y4Q+W4Q<O5Q){u4Q.open=Y4Q;u4Q.close=Y4Q;continue;}W8k.t02(2);W4Q-=W8k.i02(Y4Q,O5Q);Y4Q=O5Q;}if(Y4Q+W4Q>K5Q){W8k.t02(41);W4Q-=W8k.R02(Y4Q,K5Q,W4Q);}W4Q=Math.max(W4Q,2);u4Q.open=Y4Q;u4Q.close=u4Q.open+W4Q;}if(u4Q.open>=K5Q)continue;if(u4Q.close<=O5Q)continue;j5Q=Math.floor(S5Q)+ +"0.5";N5Q=Math.floor(j5Q-k5Q)+X5Q;y5Q=Math.round(j5Q+k5Q)-X5Q;if(L4Q.Open!=L4Q.Close){p4Q.moveTo(N5Q,u4Q.open);p4Q.lineTo(y5Q,u4Q.open);p4Q.lineTo(y5Q,u4Q.close);p4Q.lineTo(N5Q,u4Q.close);p4Q.lineTo(N5Q,u4Q.open);}}p4Q.fill();if(X5Q){p4Q.lineWidth=1;p4Q.strokeStyle=m5Q;p4Q.stroke();};};f3.prototype.drawCandles=function(U5Q,W5Q,p5Q){var g5Q,E5Q,e5Q,l5Q,Q5Q,q5Q,u5Q,V5Q,r5Q,o5Q,D5Q,A5Q,Y5Q,h5Q,t5Q,w5Q,C5Q,n68,d68,T5Q,k68,v5Q,J5Q,i5Q,L5Q,B5Q,G5Q,I5Q;g5Q=U5Q.chart;if(!g5Q){g5Q=U5Q;U5Q=U5Q.chart;}E5Q=g5Q.dataSegment;e5Q=this.chart.context;l5Q=U5Q.yAxis.top;Q5Q=U5Q.yAxis.bottom;r5Q="transparent";o5Q="transparent";D5Q=0;if(!z3.isTransparent(r5Q)){W8k.t02(1);D5Q=W8k.R02("0.5",1);}A5Q=g5Q.dataSet.length-g5Q.scroll;Y5Q=A5Q+g5Q.maxTicks;h5Q=U5Q.yAxis;W8k.N02(38);var o1T=W8k.i02(34,4,28);t5Q=g5Q.tmpWidth/o1T;w5Q=this.layout.candleWidth;C5Q=U5Q.left-0.5*w5Q+this.micropixels-+"1";for(var H5Q=0;H5Q<=E5Q.length;H5Q++){n68="s";n68+="o";n68+="lid";d68="outli";d68+="ne";W8k.N02(14);C5Q+=W8k.R02(w5Q,2);w5Q=this.layout.candleWidth;W8k.t02(14);C5Q+=W8k.R02(w5Q,2);T5Q=E5Q[H5Q];if(!T5Q)continue;if(T5Q.projection)continue;if(T5Q.candleWidth){k68="volume_can";k68+="dle";W8k.N02(42);var C1T=W8k.R02(254,16,4,20);C5Q+=(T5Q.candleWidth-w5Q)/C1T;w5Q=T5Q.candleWidth;if(this.layout.chartType==k68){W8k.N02(14);t5Q=W8k.i02(w5Q,2);}}if(!T5Q.Open&&T5Q.Open!==+"0")continue;if(T5Q.Open==T5Q.Close)continue;v5Q=W5Q(this,T5Q,p5Q?d68:n68);if(!v5Q)continue;if(p5Q){r5Q=v5Q;}else{o5Q=v5Q;}e5Q.beginPath();e5Q.fillStyle=o5Q;if(T5Q.transform){T5Q=T5Q.transform;}J5Q=T5Q.cache;W8k.t02(0);i5Q=W8k.i02(H5Q,A5Q);if(i5Q<U5Q.cacheLeft||i5Q>U5Q.cacheRight||!J5Q.open){L5Q=h5Q.semiLog?this.pixelFromPrice(T5Q.Open,U5Q):(h5Q.high-T5Q.Open)*h5Q.multiplier+h5Q.top;B5Q=h5Q.semiLog?this.pixelFromPrice(T5Q.Close,U5Q):(h5Q.high-T5Q.Close)*h5Q.multiplier+h5Q.top;q5Q=Math.floor(Math.min(L5Q,B5Q))+D5Q;u5Q=Math.max(L5Q,B5Q);W8k.N02(2);V5Q=Math.floor(W8k.R02(q5Q,u5Q));if(q5Q<l5Q){if(q5Q+V5Q<l5Q){J5Q.open=q5Q;J5Q.close=q5Q;continue;}W8k.t02(2);V5Q-=W8k.i02(q5Q,l5Q);q5Q=l5Q;}if(q5Q+V5Q>Q5Q){W8k.t02(41);V5Q-=W8k.R02(q5Q,Q5Q,V5Q);}V5Q=Math.max(V5Q,2);J5Q.open=q5Q;J5Q.close=J5Q.open+V5Q;}if(J5Q.open>=Q5Q)continue;if(J5Q.close<=l5Q)continue;flr_xbase=Math.floor(C5Q)+0.5;G5Q=Math.floor(flr_xbase-t5Q)+D5Q;I5Q=Math.round(flr_xbase+t5Q)-D5Q;if(T5Q.Open!=T5Q.Close){e5Q.moveTo(G5Q,J5Q.open);e5Q.lineTo(I5Q,J5Q.open);e5Q.lineTo(I5Q,J5Q.close);e5Q.lineTo(G5Q,J5Q.close);e5Q.lineTo(G5Q,J5Q.open);}if(o5Q!="transparent"){e5Q.fill();}if(D5Q){e5Q.lineWidth=+"1";e5Q.strokeStyle=r5Q;e5Q.stroke();}}};f3.prototype.drawShadowsHighPerformance=function(X0Q,J0Q,k0Q){var n0Q,d0Q,O0Q,S0Q,N0Q,c0Q,z0Q,e0Q,y0Q,T0Q,R0Q,b0Q,F0Q,Z0Q,x0Q,P0Q,M0Q,K0Q,m0Q,a0Q,f0Q,s0Q,C58,m58,I58;n0Q=X0Q.chart;d0Q=n0Q.dataSegment;O0Q=this.chart.context;O0Q.lineWidth=1;S0Q=X0Q.yAxis.top;N0Q=X0Q.yAxis.bottom;y0Q=n0Q.dataSet.length-n0Q.scroll;W8k.m3();T0Q=y0Q+n0Q.maxTicks;O0Q.beginPath();R0Q=X0Q.yAxis;b0Q=this.layout.candleWidth;W8k.N02(43);var m1T=W8k.R02(100,1,11,1,17,2);F0Q=X0Q.left-0.5*b0Q+this.micropixels-m1T;for(var j0Q=0;j0Q<=d0Q.length;j0Q++){W8k.N02(14);F0Q+=W8k.R02(b0Q,2);b0Q=this.layout.candleWidth;W8k.N02(14);F0Q+=W8k.i02(b0Q,2);Z0Q=d0Q[j0Q];if(!Z0Q)continue;if(Z0Q.projection)continue;if(Z0Q.candleWidth){W8k.t02(2);var I1T=W8k.R02(11,13);F0Q+=(Z0Q.candleWidth-b0Q)/I1T;b0Q=Z0Q.candleWidth;}if(k0Q){if(k0Q&f3.CANDLEUP&&Z0Q.Open>=Z0Q.Close)continue;else if(k0Q&f3.CANDLEDOWN&&Z0Q.Open<=Z0Q.Close)continue;else if(k0Q&f3.CANDLEEVEN&&Z0Q.Open!=Z0Q.Close)continue;else if(k0Q&f3.CLOSEUP&&Z0Q.Close<=Z0Q.iqPrevClose)continue;else if(k0Q&f3.CLOSEDOWN&&Z0Q.Close>=Z0Q.iqPrevClose)continue;else if(k0Q&f3.CLOSEEVEN&&Z0Q.Close!=Z0Q.iqPrevClose)continue;}if(Z0Q.transform){Z0Q=Z0Q.transform;}x0Q=Z0Q.cache;W8k.N02(0);P0Q=W8k.R02(j0Q,y0Q);if(P0Q<X0Q.cacheLeft||P0Q>X0Q.cacheRight||!x0Q.top){c0Q=R0Q.semiLog?this.pixelFromPrice(Z0Q.High,X0Q):(R0Q.high-Z0Q.High)*R0Q.multiplier+R0Q.top;z0Q=R0Q.semiLog?this.pixelFromPrice(Z0Q.Low,X0Q):(R0Q.high-Z0Q.Low)*R0Q.multiplier+R0Q.top;W8k.N02(2);M0Q=W8k.R02(c0Q,z0Q);if(c0Q<S0Q){if(c0Q+M0Q<S0Q){x0Q.top=c0Q;x0Q.bottom=c0Q;continue;}W8k.N02(2);M0Q-=W8k.R02(c0Q,S0Q);c0Q=S0Q;}if(c0Q+M0Q>N0Q){W8k.N02(41);M0Q-=W8k.R02(c0Q,N0Q,M0Q);}x0Q.top=c0Q;x0Q.bottom=x0Q.top+M0Q;}if(x0Q.top>=N0Q)continue;if(x0Q.bottom<=S0Q)continue;K0Q=Math.floor(F0Q)+ +"0.5";O0Q.moveTo(K0Q,x0Q.top);O0Q.lineTo(K0Q,x0Q.bottom);if(Z0Q.Open==Z0Q.Close){m0Q=this.offset;if(this.layout.chartType=="volume_candle"){W8k.N02(14);m0Q=W8k.R02(b0Q,2);}W8k.N02(2);a0Q=W8k.R02(m0Q,K0Q);W8k.t02(0);f0Q=W8k.R02(m0Q,K0Q);s0Q=Math.floor(R0Q.semiLog?this.pixelFromPrice(Z0Q.Open,X0Q):(R0Q.high-Z0Q.Open)*R0Q.multiplier+R0Q.top)+0.5;if(s0Q<=N0Q&&s0Q>=S0Q){O0Q.moveTo(a0Q,s0Q);O0Q.lineTo(f0Q,s0Q);}}}this.canvasColor(J0Q);O0Q.stroke();C58=776449389;W8k.N02(15);m58=-W8k.i02("1728850907",1071638848);I58=2;for(var v58=1;W8k.l08(v58.toString(),v58.toString().length,"67035"*1)!==C58;v58++){;I58+=2;}if(W8k.l08(I58.toString(),I58.toString().length,90589)!==m58){;}};f3.prototype.drawShadows=function(V0Q,Y0Q){var l0Q,A0Q,w0Q,H0Q,G0Q,h0Q,L0Q,W0Q,E0Q,p0Q,q0Q,D0Q,t0Q,U0Q,I0Q,g0Q,i0Q,C0Q,Q0Q,v0Q,u0Q,B0Q,r0Q;l0Q=V0Q.chart;if(!l0Q){l0Q=V0Q;V0Q=V0Q.chart;}A0Q=l0Q.dataSegment;w0Q=this.chart.context;w0Q.lineWidth=1;H0Q=V0Q.yAxis.top;G0Q=V0Q.yAxis.bottom;E0Q=l0Q.dataSet.length-l0Q.scroll;p0Q=E0Q+l0Q.maxTicks;q0Q=V0Q.yAxis;D0Q=this.layout.candleWidth;t0Q=V0Q.left-0.5*D0Q+this.micropixels-+"1";for(var o0Q=+"0";o0Q<=A0Q.length;o0Q++){W8k.N02(14);t0Q+=W8k.R02(D0Q,2);D0Q=this.layout.candleWidth;W8k.t02(14);t0Q+=W8k.i02(D0Q,2);U0Q=A0Q[o0Q];if(!U0Q)continue;if(U0Q.projection)continue;if(U0Q.candleWidth){W8k.N02(44);var L1T=W8k.R02(8367859584,74613414462,18,9);t0Q+=(U0Q.candleWidth-D0Q)/("2">>L1T);D0Q=U0Q.candleWidth;}I0Q=Y0Q(this,U0Q,"shadow");if(!I0Q)continue;if(U0Q.transform){U0Q=U0Q.transform;}g0Q=U0Q.cache;W8k.t02(0);i0Q=W8k.R02(o0Q,E0Q);if(i0Q<V0Q.cacheLeft||i0Q>V0Q.cacheRight||!g0Q.top){h0Q=q0Q.semiLog?this.pixelFromPrice(U0Q.High,V0Q):(q0Q.high-U0Q.High)*q0Q.multiplier+q0Q.top;L0Q=q0Q.semiLog?this.pixelFromPrice(U0Q.Low,V0Q):(q0Q.high-U0Q.Low)*q0Q.multiplier+q0Q.top;W8k.t02(2);C0Q=W8k.R02(h0Q,L0Q);if(h0Q<H0Q){if(h0Q+C0Q<H0Q){g0Q.top=h0Q;g0Q.bottom=h0Q;continue;}W8k.N02(2);C0Q-=W8k.i02(h0Q,H0Q);h0Q=H0Q;}if(h0Q+C0Q>G0Q){W8k.N02(41);C0Q-=W8k.i02(h0Q,G0Q,C0Q);}g0Q.top=h0Q;g0Q.bottom=g0Q.top+C0Q;}if(g0Q.top>=G0Q)continue;if(g0Q.bottom<=H0Q)continue;Q0Q=Math.floor(t0Q)+ +"0.5";w0Q.beginPath();w0Q.moveTo(Q0Q,g0Q.top);w0Q.lineTo(Q0Q,g0Q.bottom);if(U0Q.Open==U0Q.Close||!U0Q.Open&&U0Q.Open!==0){v0Q=this.offset;if(this.layout.chartType=="volume_candle"){W8k.N02(14);v0Q=W8k.R02(D0Q,2);}W8k.t02(2);u0Q=W8k.R02(v0Q,Q0Q);W8k.N02(0);B0Q=W8k.R02(v0Q,Q0Q);r0Q=Math.floor(q0Q.semiLog?this.pixelFromPrice(U0Q.Close,V0Q):(q0Q.high-U0Q.Close)*q0Q.multiplier+q0Q.top)+0.5;if(r0Q<=G0Q&&r0Q>=H0Q){w0Q.moveTo(u0Q,r0Q);w0Q.lineTo(B0Q,r0Q);}}w0Q.strokeStyle=I0Q;w0Q.stroke();}};f3.prototype.scatter=function(x6Q){var N6Q,M6Q,R6Q,K6Q,k6Q,X6Q,Z6Q,b6Q,c6Q;N6Q=x6Q.chart;M6Q=N6Q.dataSegment;R6Q=this.chart.context;R6Q.beginPath();R6Q.lineWidth=4;K6Q=x6Q.yAxis.top;k6Q=x6Q.yAxis.bottom;W8k.t02(4);var v1T=W8k.i02(15,8,119);X6Q=x6Q.left-0.5*this.layout.candleWidth+this.micropixels-v1T;for(var O6Q=0;O6Q<=M6Q.length;O6Q++){X6Q+=this.layout.candleWidth;Z6Q=M6Q[O6Q];if(!Z6Q)continue;if(!Z6Q.projection){if(Z6Q.transform){Z6Q=Z6Q.transform;}b6Q=[Z6Q.Close];if("Scatter"in Z6Q){b6Q=Z6Q.Scatter;}for(var S6Q=0;S6Q<b6Q.length;S6Q++){c6Q=this.pixelFromPrice(b6Q[S6Q],x6Q);if(c6Q<K6Q)continue;if(c6Q>k6Q)continue;W8k.t02(2);R6Q.moveTo(W8k.R02(2,X6Q),c6Q);W8k.N02(45);R6Q.lineTo(W8k.i02("2",X6Q),c6Q);}}}this.canvasColor("stx_scatter_chart");R6Q.stroke();R6Q.closePath();R6Q.lineWidth=1;};f3.prototype.drawKagiSquareWave=function(d6Q,C6Q,l6Q){var z6Q,T6Q,s6Q,a6Q,U6Q,V6Q,g6Q,J6Q,e6Q,D6Q,y6Q,q6Q,F6Q,h6Q,P6Q,m6Q,j6Q,n6Q,w6Q;z6Q=d6Q.chart;this.startClip(d6Q.name);T6Q=z6Q.dataSegment;s6Q=z6Q.context;a6Q=this.canvasStyle(C6Q);U6Q=this.canvasStyle(l6Q);this.canvasColor(C6Q);V6Q=s6Q.strokeStyle;this.canvasColor(l6Q);g6Q=s6Q.strokeStyle;J6Q=1;if(a6Q.width&&parseInt(a6Q.width,10)<=+"25"){J6Q=Math.max(1,z3.stripPX(a6Q.width));}e6Q=1;if(U6Q.width&&parseInt(U6Q.width,10)<=25){e6Q=Math.max(1,z3.stripPX(U6Q.width));}s6Q.beginPath();D6Q=z6Q.dataSet.length-z6Q.scroll;y6Q=d6Q.yAxis;q6Q=!!1;F6Q=null;h6Q=null;P6Q=null;m6Q=d6Q.left-0.5*this.layout.candleWidth+this.micropixels-1;for(var f6Q=0;f6Q<=T6Q.length;f6Q++){m6Q+=this.layout.candleWidth;j6Q=T6Q[f6Q];if(!j6Q)continue;if(j6Q.projection)break;if(j6Q.transform){j6Q=j6Q.transform;}n6Q=j6Q.cache;W8k.N02(0);w6Q=W8k.R02(f6Q,D6Q);if(w6Q<d6Q.cacheLeft||w6Q>d6Q.cacheRight||!n6Q.open){n6Q.open=y6Q.semiLog?this.pixelFromPrice(j6Q.Open,d6Q):(y6Q.high-j6Q.Open)*y6Q.multiplier+y6Q.top;n6Q.close=y6Q.semiLog?this.pixelFromPrice(j6Q.Close,d6Q):(y6Q.high-j6Q.Close)*y6Q.multiplier+y6Q.top;;}h6Q=n6Q.close;if(q6Q){s6Q.moveTo(Math.floor(m6Q),n6Q.open);F6Q=n6Q.open;if(n6Q.close>n6Q.open){P6Q=1;}else{P6Q=-1;}q6Q=!1;}if(P6Q!=-1&&n6Q.close<F6Q&&F6Q<n6Q.open){s6Q.lineTo(Math.floor(m6Q),F6Q);s6Q.strokeStyle=g6Q;s6Q.lineWidth=e6Q;s6Q.stroke();s6Q.closePath();s6Q.beginPath();P6Q=-1;s6Q.moveTo(Math.floor(m6Q),F6Q);}else if(P6Q!=1&&n6Q.close>F6Q&&F6Q>n6Q.open){s6Q.lineTo(Math.floor(m6Q),F6Q);s6Q.strokeStyle=V6Q;s6Q.lineWidth=J6Q;s6Q.stroke();s6Q.closePath();s6Q.beginPath();P6Q=1;s6Q.moveTo(Math.floor(m6Q),F6Q);}s6Q.lineTo(Math.floor(m6Q),n6Q.close);if(f6Q+1<T6Q.length){s6Q.lineTo(Math.floor(m6Q+this.layout.candleWidth),n6Q.close);F6Q=n6Q.open;}}if(P6Q==-1||P6Q===null&&h6Q<F6Q){s6Q.strokeStyle=V6Q;s6Q.lineWidth=J6Q;}else{s6Q.strokeStyle=g6Q;s6Q.lineWidth=e6Q;}s6Q.stroke();s6Q.closePath();this.endClip();s6Q.lineWidth=1;};f3.prototype.drawPointFigureChart=function(I6Q,M9Q,x9Q){var Y6Q,O9Q,o6Q,i6Q,E6Q,L6Q,Z9Q,W6Q,S9Q,b9Q,r6Q,R9Q,Q6Q,G6Q,p6Q,c9Q,H6Q,B6Q,X9Q,A6Q,v6Q,t6Q;Y6Q=I6Q.chart;this.startClip(I6Q.name);O9Q=Y6Q.dataSegment;o6Q=Y6Q.context;this.canvasColor(M9Q);i6Q=this.canvasStyle(M9Q);W8k.m3();E6Q=parseInt(i6Q.paddingTop,10);L6Q=parseInt(i6Q.paddingBottom,"10"<<604605248);Z9Q=parseInt(i6Q.paddingLeft,"10"&2147483647);W6Q=parseInt(i6Q.paddingRight,10);if(i6Q.width&&parseInt(i6Q.width,10)<=25){o6Q.lineWidth=Math.max(1,z3.stripPX(i6Q.width));}else{o6Q.lineWidth=2;}o6Q.beginPath();if(!this.chart.pandf){this.chart.pandf={"box":1,"reversal":"3"-0};}S9Q=this.chart.pandf.box;b9Q=Y6Q.dataSet.length-Y6Q.scroll;r6Q=I6Q.yAxis;p6Q=this.layout.candleWidth;W8k.t02(2);var g1T=W8k.R02(20,21);c9Q=I6Q.left-p6Q+this.micropixels-("1"|g1T);for(var u6Q=0;u6Q<O9Q.length;u6Q++){c9Q+=p6Q;H6Q=O9Q[u6Q];if(!H6Q)continue;if(H6Q.projection)break;if(H6Q.candleWidth){p6Q=H6Q.candleWidth;}if(H6Q.transform){H6Q=H6Q.transform;}if(x9Q==((565.57,1859)<=("211"^0)?(0xbe6,"C"):"X")&&H6Q.Open>H6Q.Close)continue;else if(x9Q==(7925===869.12?402:"O")&&H6Q.Open<H6Q.Close)continue;B6Q=H6Q.cache;W8k.t02(0);X9Q=W8k.i02(u6Q,b9Q);if(X9Q<I6Q.cacheLeft||X9Q>I6Q.cacheRight||!B6Q.open){B6Q.open=r6Q.semiLog?this.pixelFromPrice(H6Q.Open,I6Q):(r6Q.high-H6Q.Open)*r6Q.multiplier+r6Q.top;B6Q.close=r6Q.semiLog?this.pixelFromPrice(H6Q.Close,I6Q):(r6Q.high-H6Q.Close)*r6Q.multiplier+r6Q.top;;}A6Q=Math.round(c9Q);W8k.t02(0);v6Q=Math.round(W8k.i02(p6Q,c9Q));R9Q=Math.abs(Math.round((H6Q.Close-H6Q.Open)/S9Q));Q6Q=Math.abs((B6Q.open-B6Q.close)/R9Q);W8k.t02(14);t6Q=W8k.R02(Q6Q,2);G6Q=B6Q.open;for(;R9Q>="0">>1375475744;R9Q--){if(x9Q=="X"){W8k.t02(0);o6Q.moveTo(W8k.R02(Z9Q,A6Q),W8k.i02(L6Q,G6Q,t6Q,W8k.N02(9)));W8k.t02(2);o6Q.lineTo(W8k.i02(W6Q,v6Q),W8k.R02(Q6Q,t6Q,G6Q,E6Q,W8k.t02(46)));W8k.t02(0);o6Q.moveTo(W8k.i02(Z9Q,A6Q),W8k.R02(Q6Q,t6Q,G6Q,E6Q,W8k.t02(46)));W8k.t02(2);o6Q.lineTo(W8k.i02(W6Q,v6Q),W8k.R02(L6Q,G6Q,t6Q,W8k.t02(9)));G6Q-=Q6Q;}else if(x9Q==((+"5944","8030"&2147483647)===(964.3,4644)?2970>=(6860,8727)?(519.32,"6.19e+3"-0):"U":"O")){W8k.t02(47);o6Q.moveTo(W8k.R02(v6Q,2,A6Q),W8k.i02(G6Q,t6Q,E6Q,W8k.t02(41)));W8k.t02(0);o6Q.bezierCurveTo(W8k.R02(W6Q,v6Q),W8k.R02(G6Q,t6Q,E6Q,W8k.N02(41)),W8k.i02(W6Q,v6Q,W8k.N02(0)),W8k.R02(Q6Q,L6Q,G6Q,t6Q,W8k.t02(48)),W8k.R02(v6Q,2,A6Q,W8k.t02(47)),W8k.i02(Q6Q,L6Q,G6Q,t6Q,W8k.N02(48)));W8k.N02(2);o6Q.bezierCurveTo(W8k.R02(Z9Q,A6Q),W8k.i02(Q6Q,L6Q,G6Q,t6Q,W8k.t02(48)),W8k.i02(Z9Q,A6Q,W8k.t02(2)),W8k.i02(G6Q,t6Q,E6Q,W8k.N02(41)),W8k.i02(v6Q,2,A6Q,W8k.t02(47)),W8k.i02(G6Q,t6Q,E6Q,W8k.t02(41)));G6Q+=Q6Q;}}}o6Q.stroke();this.endClip();o6Q.lineWidth=1;};f3.prototype.drawBarChartHighPerformance=function(F9Q,g9Q,a9Q){var y9Q,J9Q,s9Q,z9Q,j9Q,d9Q,n9Q,h9Q,m9Q,V9Q,w9Q,K9Q,e9Q,U9Q,q9Q,k9Q,N9Q,T9Q,P9Q;y9Q=F9Q.chart;J9Q=y9Q.dataSegment;s9Q=y9Q.context;z9Q=this.canvasStyle(g9Q);if(z9Q.width&&parseInt(z9Q.width,10)<=25){s9Q.lineWidth=Math.max(1,z3.stripPX(z9Q.width));}else{W8k.t02(13);s9Q.lineWidth=W8k.i02(2147483647,"1");}s9Q.beginPath();j9Q=F9Q.yAxis.top;d9Q=F9Q.yAxis.bottom;V9Q=y9Q.dataSet.length-y9Q.scroll;w9Q=V9Q+y9Q.maxTicks;K9Q=F9Q.yAxis;e9Q=F9Q.left-0.5*this.layout.candleWidth+this.micropixels-1;W8k.t02(2);var S1T=W8k.R02(15,1041896527);U9Q=y9Q.tmpWidth/("2">>S1T);q9Q=s9Q.lineWidth/+"2";for(var f9Q=0;f9Q<=J9Q.length;f9Q++){e9Q+=this.layout.candleWidth;k9Q=J9Q[f9Q];if(!k9Q)continue;if(k9Q.projection)break;if(a9Q){if(a9Q&f3.CLOSEUP&&k9Q.Close<=k9Q.iqPrevClose)continue;else if(a9Q&f3.CLOSEDOWN&&k9Q.Close>=k9Q.iqPrevClose)continue;else if(a9Q&f3.CLOSEEVEN&&k9Q.Close!=k9Q.iqPrevClose)continue;}if(k9Q.transform){k9Q=k9Q.transform;}N9Q=k9Q.cache;W8k.t02(0);T9Q=W8k.R02(f9Q,V9Q);if(T9Q<F9Q.cacheLeft||T9Q>F9Q.cacheRight||!N9Q.top){n9Q=K9Q.semiLog?this.pixelFromPrice(k9Q.High,F9Q):(K9Q.high-k9Q.High)*K9Q.multiplier+K9Q.top;h9Q=K9Q.semiLog?this.pixelFromPrice(k9Q.Low,F9Q):(K9Q.high-k9Q.Low)*K9Q.multiplier+K9Q.top;W8k.t02(2);m9Q=W8k.R02(n9Q,h9Q);N9Q.open=K9Q.semiLog?this.pixelFromPrice(k9Q.Open,F9Q):(K9Q.high-k9Q.Open)*K9Q.multiplier+K9Q.top;N9Q.close=K9Q.semiLog?this.pixelFromPrice(k9Q.Close,F9Q):(K9Q.high-k9Q.Close)*K9Q.multiplier+K9Q.top;if(n9Q<j9Q){if(n9Q+m9Q<j9Q){N9Q.top=n9Q;N9Q.bottom=n9Q;continue;}W8k.t02(2);m9Q-=W8k.R02(n9Q,j9Q);n9Q=j9Q;}if(n9Q+m9Q>d9Q){W8k.t02(41);m9Q-=W8k.i02(n9Q,d9Q,m9Q);}N9Q.top=n9Q;W8k.t02(0);N9Q.bottom=W8k.R02(m9Q,n9Q);}P9Q=Math.floor(e9Q)+0.5;if(N9Q.top<d9Q&&N9Q.bottom>j9Q){s9Q.moveTo(P9Q,N9Q.top-q9Q);s9Q.lineTo(P9Q,N9Q.bottom+q9Q);}if(N9Q.open>j9Q&&N9Q.open<d9Q){s9Q.moveTo(P9Q,N9Q.open);W8k.t02(2);s9Q.lineTo(W8k.R02(U9Q,P9Q),N9Q.open);}if(N9Q.close>j9Q&&N9Q.close<d9Q){s9Q.moveTo(P9Q,N9Q.close);W8k.N02(0);s9Q.lineTo(W8k.i02(U9Q,P9Q),N9Q.close);}}this.canvasColor(g9Q);s9Q.stroke();s9Q.closePath();s9Q.lineWidth=1;};f3.prototype.drawBarChart=function(H9Q,O7Q,X7Q){var t9Q,Z7Q,C9Q,B9Q,r9Q,I9Q,G9Q,c7Q,v9Q,R7Q,x7Q,o9Q,u9Q,p9Q,Y9Q,A9Q,i9Q,l9Q,L9Q,D9Q,W9Q,Q9Q;t9Q=H9Q.chart;if(!t9Q){t9Q=H9Q;H9Q=H9Q.chart;}Z7Q=t9Q.dataSegment;C9Q=t9Q.context;B9Q=this.canvasStyle(O7Q);W8k.j3();if(B9Q.width&&parseInt(B9Q.width,10)<=25){C9Q.lineWidth=Math.max(1,z3.stripPX(B9Q.width));}else{C9Q.lineWidth=1;}r9Q=H9Q.yAxis.top;I9Q=H9Q.yAxis.bottom;R7Q=t9Q.dataSet.length-t9Q.scroll;x7Q=R7Q+t9Q.maxTicks;o9Q=H9Q.yAxis;u9Q={};W8k.t02(49);var J1T=W8k.i02(15,1888,9,14);p9Q=t9Q.tmpWidth/J1T;Y9Q=C9Q.lineWidth/2;A9Q=this.layout.candleWidth;W8k.N02(14);var a1T=W8k.i02(12,12);i9Q=H9Q.left-0.5*A9Q+this.micropixels-a1T;for(var E9Q=0;E9Q<=Z7Q.length;E9Q++){W8k.N02(14);i9Q+=W8k.R02(A9Q,2);A9Q=this.layout.candleWidth;W8k.t02(40);i9Q+=W8k.i02("2",A9Q);l9Q=Z7Q[E9Q];if(!l9Q)continue;if(l9Q.projection)break;if(l9Q.candleWidth){W8k.t02(2);var Q1T=W8k.i02(13,15);i9Q+=(l9Q.candleWidth-A9Q)/Q1T;A9Q=l9Q.candleWidth;}L9Q=X7Q(this,l9Q);if(!L9Q)continue;u9Q[L9Q]=1;C9Q.strokeStyle=L9Q;C9Q.beginPath();if(l9Q.transform){l9Q=l9Q.transform;}D9Q=l9Q.cache;W8k.N02(0);W9Q=W8k.R02(E9Q,R7Q);if(W9Q<H9Q.cacheLeft||W9Q>H9Q.cacheRight||!D9Q.top){G9Q=this.pixelFromPrice(l9Q.High,H9Q);c7Q=this.pixelFromPrice(l9Q.Low,H9Q);W8k.t02(2);v9Q=W8k.R02(G9Q,c7Q);D9Q.open=o9Q.semiLog?this.pixelFromPrice(l9Q.Open,H9Q):(o9Q.high-l9Q.Open)*o9Q.multiplier+o9Q.top;D9Q.close=o9Q.semiLog?this.pixelFromPrice(l9Q.Close,H9Q):(o9Q.high-l9Q.Close)*o9Q.multiplier+o9Q.top;if(G9Q<r9Q){if(G9Q+v9Q<r9Q){D9Q.top=G9Q;D9Q.bottom=G9Q;continue;}W8k.t02(2);v9Q-=W8k.R02(G9Q,r9Q);G9Q=r9Q;}if(G9Q+v9Q>I9Q){W8k.N02(41);v9Q-=W8k.R02(G9Q,I9Q,v9Q);}D9Q.top=G9Q;W8k.N02(0);D9Q.bottom=W8k.i02(v9Q,G9Q);}Q9Q=Math.floor(i9Q)+0.5;if(D9Q.top<I9Q&&D9Q.bottom>r9Q){C9Q.moveTo(Q9Q,D9Q.top-Y9Q);C9Q.lineTo(Q9Q,D9Q.bottom+Y9Q);}if(D9Q.open>r9Q&&D9Q.open<I9Q){C9Q.moveTo(Q9Q,D9Q.open);W8k.N02(2);C9Q.lineTo(W8k.i02(p9Q,Q9Q),D9Q.open);}if(D9Q.close>r9Q&&D9Q.close<I9Q){C9Q.moveTo(Q9Q,D9Q.close);W8k.t02(0);C9Q.lineTo(W8k.i02(p9Q,Q9Q),D9Q.close);}C9Q.stroke();}C9Q.lineWidth=1;return u9Q;};f3.prototype.plotLineChart=function(K7Q,a7Q,m7Q,N7Q,r7Q){var o7Q,V7Q,l7Q,f7Q,z7Q,D7Q,S7Q,w7Q,s7Q,A7Q,v7Q,e7Q,J7Q,t7Q,y7Q,F7Q,T7Q,k7Q,b7Q,h7Q,G7Q,M7Q,j7Q,d7Q,U7Q,P7Q,C7Q,q7Q,Y78,B78,p78,j68,H7Q,g7Q,Q7Q;o7Q=![];V7Q=!"1";W8k.m3();l7Q=!{};f7Q=+"0";z7Q=[];if(N7Q){o7Q=N7Q.skipProjections;V7Q=N7Q.skipTransform;l7Q=N7Q.noSlopes;f7Q=N7Q.tension;}D7Q=K7Q.chart;S7Q=this.chart.context;w7Q=!![];s7Q=K7Q.yAxis;A7Q=s7Q.top;v7Q=s7Q.bottom;e7Q=D7Q.dataSet.length-D7Q.scroll;J7Q=null;t7Q={};W8k.t02(22);y7Q=[W8k.R02("0",0),0];F7Q=this.layout.candleWidth;W8k.N02(2);var l1T=W8k.i02(18,19);T7Q=K7Q.left-(N7Q.noSlopes?l1T:+"0.5")*F7Q+this.micropixels-+"1";this.startClip(K7Q.name);S7Q.beginPath();for(var n7Q=0;n7Q<=a7Q.length;n7Q++){W8k.t02(14);T7Q+=W8k.i02(F7Q,2);if(N7Q.noSlopes){W8k.t02(40);T7Q+=W8k.R02("2",F7Q);}F7Q=this.layout.candleWidth;if(!N7Q.noSlopes){W8k.N02(14);T7Q+=W8k.R02(F7Q,2);}k7Q=a7Q[n7Q];if(!k7Q)continue;if(o7Q&&k7Q.projection)break;if(k7Q.candleWidth){if(!N7Q.noSlopes){W8k.t02(6);var P1T=W8k.i02(2,15,15);T7Q+=(k7Q.candleWidth-F7Q)/P1T;}F7Q=k7Q.candleWidth;}if(!V7Q&&k7Q.transform){k7Q=k7Q.transform;}b7Q=T7Q;h7Q=k7Q.cache;W8k.N02(0);G7Q=W8k.i02(n7Q,e7Q);if(!k7Q[m7Q]&&k7Q[m7Q]!==0)continue;if(G7Q<K7Q.cacheLeft||G7Q>K7Q.cacheRight||!h7Q[m7Q]){h7Q[m7Q]=s7Q.semiLog?this.pixelFromPrice(k7Q[m7Q],K7Q):(s7Q.high-k7Q[m7Q])*s7Q.multiplier+s7Q.top;;}if(b7Q<=K7Q.right){J7Q=k7Q;}if(n7Q==a7Q.length-1){if(this.extendLastTick){W8k.N02(50);b7Q+=W8k.i02("2",F7Q,2068304640);}if(N7Q.lastTickOffset){b7Q+=N7Q.lastTickOffset;};}M7Q=h7Q[m7Q];j7Q=null;if(r7Q){d7Q=r7Q(this,k7Q);if(!d7Q)continue;if(typeof d7Q=="object"){j7Q=d7Q.pattern;d7Q=d7Q.color;}if(S7Q.strokeStyle!=d7Q){if(!w7Q){S7Q.stroke();S7Q.beginPath();S7Q.moveTo(y7Q[0],y7Q[1]);;}S7Q.strokeStyle=d7Q;t7Q[d7Q]=1;}}if(w7Q){w7Q=!{};if(l7Q||e7Q<=0){S7Q.moveTo(n7Q?b7Q:0,M7Q);if(f7Q){z7Q.push(b7Q,M7Q);}else{if(j7Q){S7Q.dashedLineTo(0,M7Q,b7Q,M7Q,j7Q);}else{S7Q.lineTo(b7Q,M7Q);}}}else if(e7Q>0){U7Q=D7Q.dataSet[e7Q];if(!V7Q&&U7Q.transform){U7Q=U7Q.transform;}P7Q=U7Q[m7Q];if(!P7Q||isNaN(P7Q)){S7Q.moveTo(n7Q?b7Q:0,M7Q);if(f7Q){z7Q.push(b7Q,M7Q);}}else{P7Q=s7Q.semiLog?this.pixelFromPrice(P7Q,K7Q):(s7Q.high-P7Q)*s7Q.multiplier+s7Q.top;W8k.t02(2);C7Q=W8k.R02(F7Q,b7Q);if(j7Q){S7Q.dashedLineTo(C7Q,P7Q,b7Q,M7Q,j7Q);}else{S7Q.moveTo(C7Q,P7Q);if(f7Q){z7Q.push(C7Q,P7Q,b7Q,M7Q);}else{S7Q.lineTo(b7Q,M7Q);}}}}}else{if(l7Q){W8k.N02(2);q7Q=a7Q[W8k.i02(1,n7Q)];if(!q7Q)continue;if(!V7Q&&q7Q.transform){q7Q=q7Q.transform;}if(n7Q){if(j7Q){S7Q.dashedLineTo(y7Q[0],y7Q[1],b7Q,y7Q["1"^0],j7Q);}else{S7Q.lineTo(b7Q,y7Q[1]);}S7Q.moveTo(b7Q,M7Q);;}if(n7Q==a7Q.length-1){if(j7Q){W8k.t02(0);S7Q.dashedLineTo(b7Q,M7Q,W8k.i02(F7Q,b7Q),M7Q,j7Q);}else{W8k.t02(0);S7Q.lineTo(W8k.i02(F7Q,b7Q),M7Q);}}}else{if(j7Q){S7Q.dashedLineTo(y7Q[0],y7Q[+"1"],b7Q,M7Q,j7Q);}else{if(f7Q){z7Q.push(b7Q,M7Q);}else{S7Q.lineTo(b7Q,M7Q);}}}}y7Q=[b7Q,M7Q];if(n7Q===a7Q.length-1&&f7Q){z7Q.push(b7Q,M7Q);e3(z7Q,f7Q,S7Q);}}S7Q.stroke();this.endClip();if(N7Q.label&&J7Q){Y78="#";Y78+="FFFFFF";B78="n";B78+="o";B78+="o";B78+="p";p78="p";p78+="l";p78+="ot";j68="n";j68+="o";j68+="o";j68+="p";if(s7Q.priceFormatter){H7Q=s7Q.priceFormatter(this,K7Q,J7Q[m7Q],N7Q.labelDecimalPlaces);}else{H7Q=this.formatYAxisPrice(J7Q[m7Q],K7Q,N7Q.labelDecimalPlaces);}g7Q=this.yaxisLabelStyle;if(K7Q.yAxis.yaxisLabelStyle){g7Q=K7Q.yAxis.yaxisLabelStyle;}Q7Q=g7Q==j68?S7Q.strokeStyle:null;this.yAxisLabels.push({src:p78,"args":[K7Q,H7Q,J7Q.cache[m7Q],g7Q==B78?Y78:S7Q.strokeStyle,Q7Q]});}return t7Q;};f3.prototype.plotMountainChart=function(L7Q,s8n,Y7Q,c8n){var m8n,F8n,k8n,R8n,x8n,N8n,I7Q,n8n,S8n,O8n,b8n,B7Q,Z8n,u7Q,i7Q,E7Q,K8n,j8n,p7Q,M8n,X8n;m8n=!{};F8n=![];k8n=!1;R8n=0;x8n=[];if(c8n){m8n=c8n.skipProjections;F8n=c8n.skipTransform;k8n=c8n.reverse;R8n=c8n.tension;}N8n=L7Q.chart;I7Q=this.chart.context;n8n=!!"1";S8n=L7Q.yAxis.top;O8n=L7Q.yAxis.bottom;this.startClip(L7Q.name);I7Q.beginPath();b8n=N8n.dataSet.length-N8n.scroll;B7Q=null;Z8n=null;u7Q=L7Q.yAxis;i7Q=0;for(var W7Q=+"0";W7Q<=s8n.length;W7Q++){E7Q=s8n[W7Q];if(!E7Q)continue;if(m8n&&E7Q.projection)break;if(!F8n&&E7Q.transform){E7Q=E7Q.transform;}K8n=E7Q.cache;W8k.N02(0);j8n=W8k.R02(W7Q,b8n);if(j8n<L7Q.cacheLeft||j8n>L7Q.cacheRight||!K8n[Y7Q]){if(!E7Q[Y7Q]&&E7Q[Y7Q]!==0)continue;K8n[Y7Q]=u7Q.semiLog?this.pixelFromPrice(E7Q[Y7Q],L7Q):(u7Q.high-E7Q[Y7Q])*u7Q.multiplier+u7Q.top;;}W8k.t02(2);var k1T=W8k.i02(11,12);i7Q=L7Q.left+(W7Q+0.5)*this.layout.candleWidth+this.micropixels-k1T;if(W7Q==s8n.length-+"1"){if(this.extendLastTick){i7Q+=this.layout.candleWidth/2;}if(c8n.lastTickOffset){i7Q+=c8n.lastTickOffset;};}if(B7Q===null){B7Q=b8n>=("0"&2147483647)?0:i7Q;}p7Q=K8n[Y7Q];if(Z8n===null){Z8n=p7Q;}if(n8n){n8n=!!0;if(b8n<=0){I7Q.moveTo(B7Q,p7Q);if(R8n){x8n.push(B7Q,p7Q);}}else{M8n=N8n.dataSet[b8n];if(M8n.transform){M8n=M8n.transform;}X8n=M8n[Y7Q];X8n=u7Q.semiLog?this.pixelFromPrice(X8n,L7Q):(u7Q.high-X8n)*u7Q.multiplier+u7Q.top;B7Q=i7Q-this.layout.candleWidth;I7Q.moveTo(B7Q,X8n);if(R8n){x8n.push(B7Q,X8n,i7Q,p7Q);}else{I7Q.lineTo(i7Q,p7Q);}}}else{if(R8n){x8n.push(i7Q,p7Q);}else{I7Q.lineTo(i7Q,p7Q);}}if(W7Q===s8n.length-1&&R8n){x8n.push(i7Q,p7Q);e3(x8n,R8n,I7Q);}}I7Q.lineTo(i7Q,k8n?S8n:O8n);I7Q.lineTo(B7Q,k8n?S8n:O8n);if(k8n){if(Z8n<S8n){Z8n=S8n;}}else{if(Z8n>O8n){Z8n=O8n;}}I7Q.lineTo(B7Q,Z8n);I7Q.fill();I7Q.closePath();this.endClip();};f3.prototype.drawLineChart=function(y8n,z8n,T8n){var f78,P8n,d8n,f8n,a8n;f78="C";f78+="l";f78+="os";f78+="e";P8n=this.chart.context;d8n=this.canvasStyle(z8n);if(d8n.width&&parseInt(d8n.width,10)<=25){P8n.lineWidth=Math.max(1,z3.stripPX(d8n.width));}else{P8n.lineWidth=1;}this.canvasColor(z8n);f8n={skipProjections:!![]};if(y8n.chart.tension){f8n.tension=y8n.chart.tension;}if(y8n.chart.lastTickOffset){f8n.lastTickOffset=y8n.chart.lastTickOffset;}a8n=this.plotLineChart(y8n,y8n.chart.dataSegment,f78,f8n,T8n);P8n.lineWidth=1;return a8n;};f3.prototype.drawMountainChart=function(e8n,H8n,o8n){var J8n,U8n,h8n,l8n,g8n,w8n,q8n,D8n,V8n,G8n,C8n,t78;J8n=this.chart.context;if(!H8n){H8n="stx_mountain_chart";}U8n=this.canvasStyle(H8n);if(U8n.width&&parseInt(U8n.width,10)<=25){J8n.lineWidth=Math.max(1,z3.stripPX(U8n.width));}else{J8n.lineWidth=+"1";}h8n=this.pixelFromPrice(e8n.chart.highValue,e8n);if(isNaN(h8n)){h8n=0;}l8n=U8n.backgroundColor;g8n=U8n.color;if(g8n&&!z3.isTransparent(g8n)){W8k.N02(22);w8n=J8n.createLinearGradient(W8k.i02("0",0),h8n,0,e8n.yAxis.bottom);w8n.addColorStop(0,l8n);w8n.addColorStop(1,g8n);J8n.fillStyle=w8n;}else{J8n.fillStyle=l8n;}q8n={skipProjections:!![]};if(e8n.chart.tension){q8n.tension=e8n.chart.tension;}if(e8n.chart.lastTickOffset){q8n.lastTickOffset=e8n.chart.lastTickOffset;}D8n=parseInt(U8n.padding,10);V8n=U8n.borderTopColor;G8n=null;if(V8n&&!z3.isTransparent(V8n)){if(D8n&&!z3.isIE8){if(!this.scratchContext){C8n=J8n.canvas.cloneNode(!!1);this.scratchContext=C8n.getContext("2d");this.scratchContext.canvas=C8n;}this.scratchContext.canvas.height=J8n.canvas.height;this.scratchContext.canvas.width=J8n.canvas.width;this.scratchContext.drawImage(J8n.canvas,0,0);J8n.clearRect(+"0",0,J8n.canvas.width,J8n.canvas.height);}}this.plotMountainChart(e8n,e8n.chart.dataSegment,"Close",q8n);if(V8n&&!z3.isTransparent(V8n)){if(D8n&&!z3.isIE8){t78="C";t78+="l";t78+="o";t78+="se";J8n.save();W8k.N02(1);J8n.lineWidth+=W8k.i02(2,D8n);J8n.globalCompositeOperation="destination-out";this.plotLineChart(e8n,e8n.chart.dataSegment,t78,q8n);J8n.globalCompositeOperation="destination-over";J8n.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio);J8n.drawImage(this.scratchContext.canvas,0,0);J8n.restore();}J8n.strokeStyle=V8n;G8n=this.plotLineChart(e8n,e8n.chart.dataSegment,"Close",q8n,o8n);}W8k.m3();W8k.N02(2);J8n.lineWidth=W8k.R02(0,"1");return G8n;};f3.prototype.drawWaveChart=function(Q8n){var r78,L8n,R1n,r8n,Z1n,B8n,A8n,I8n,c1n,i8n,v8n,t8n,Y8n,p8n,E8n,W8n;r78="stx_";r78+="li";r78+="ne";r78+="_chart";L8n=Q8n.chart;R1n=L8n.dataSegment;r8n=this.chart.context;this.startClip(Q8n.name);r8n.beginPath();Z1n=![];B8n=!!"";A8n=Q8n.yAxis.top;I8n=Q8n.yAxis.bottom;W8k.N02(51);var n1T=W8k.i02(2,1);c1n=Q8n.left+Math.floor(n1T*this.layout.candleWidth+this.micropixels);for(var u8n="0">>1031232704;u8n<=R1n.length;u8n++){c1n+=this.layout.candleWidth;i8n=R1n[u8n];if(!i8n)continue;if(i8n.projection)break;if(i8n.transform){i8n=i8n.transform;}v8n=c1n-+"3"*this.layout.candleWidth/8;t8n=this.pixelFromPrice(i8n.Open,Q8n);if(t8n<A8n){t8n=A8n;if(B8n){r8n.moveTo(v8n,t8n);continue;}B8n=!0;}else if(t8n>I8n){t8n=I8n;if(B8n){r8n.moveTo(v8n,t8n);continue;}B8n=!!{};}else{B8n=![];}if(!Z1n){Z1n=!"";Y8n=L8n.dataSet.length-L8n.scroll;if(Y8n<=0){r8n.moveTo(v8n,t8n);}else if(Y8n>("0"^0)){W8k.N02(2);p8n=L8n.dataSet[W8k.i02(1,Y8n)];if(p8n.transform){p8n=p8n.transform;}E8n=p8n.Close;E8n=Q8n.yAxis.semiLog?this.pixelFromPrice(E8n,Q8n):(Q8n.yAxis.high-E8n)*Q8n.yAxis.multiplier+A8n;E8n=Math.min(Math.max(E8n,A8n),I8n);r8n.moveTo(Q8n.left+(u8n-+"1")*this.layout.candleWidth+this.micropixels,E8n);r8n.lineTo(v8n,t8n);}r8n.moveTo(v8n,t8n);}else{r8n.lineTo(v8n,t8n);}v8n+=this.layout.candleWidth/4;if(i8n.Open<i8n.Close){t8n=this.pixelFromPrice(i8n.Low,Q8n);if(t8n<A8n){t8n=A8n;}if(t8n>I8n){t8n=I8n;}r8n.lineTo(v8n,t8n);v8n+=this.layout.candleWidth/+"4";t8n=this.pixelFromPrice(i8n.High,Q8n);if(t8n<A8n){t8n=A8n;}if(t8n>I8n){t8n=I8n;}r8n.lineTo(v8n,t8n);}else{t8n=this.pixelFromPrice(i8n.High,Q8n);if(t8n<A8n){t8n=A8n;}if(t8n>I8n){t8n=I8n;}r8n.lineTo(v8n,t8n);v8n+=this.layout.candleWidth/4;t8n=this.pixelFromPrice(i8n.Low,Q8n);if(t8n<A8n){t8n=A8n;}if(t8n>I8n){t8n=I8n;}r8n.lineTo(v8n,t8n);}v8n+=this.layout.candleWidth/4;t8n=this.pixelFromPrice(i8n.Close,Q8n);if(t8n<A8n){t8n=A8n;}if(t8n>I8n){t8n=I8n;}r8n.lineTo(v8n,t8n);}W8n=this.canvasStyle(r78);if(W8n.width&&parseInt(W8n.width,10)<=+"25"){r8n.lineWidth=Math.max(1,z3.stripPX(W8n.width));}else{r8n.lineWidth=+"1";}this.canvasColor("stx_line_chart");r8n.stroke();r8n.closePath();this.endClip();r8n.lineWidth=1;};f3.prototype.updateFloatHRLabel=function(x1n){var M1n,k1n,U78,N1n,X1n,O1n,b1n,K1n;M1n=x1n.yaxisLHS.concat(x1n.yaxisRHS);k1n=this.crossYActualPos?this.crossYActualPos:this.cy;W8k.m3();if(this.floatCanvas.isDirty){z3.clearCanvas(this.floatCanvas,this);}if(this.controls.crossX.style.display=="none"){return;}if(this.controls.crossY){U78="p";U78+="x";N1n=x1n.width;if(this.yaxisLabelStyle=="roundRectArrow"){N1n-=7;}this.controls.crossY.style.left=x1n.left+"px";W8k.t02(0);this.controls.crossY.style.width=W8k.i02(U78,N1n);}for(var S1n=0;S1n<M1n.length;S1n++){X1n=M1n[S1n];O1n=this.valueFromPixel(k1n,x1n,X1n);if(isNaN(O1n))continue;if((x1n.min||x1n.min===0)&&O1n<x1n.min)continue;if((x1n.max||x1n.max===0)&&O1n>x1n.max)continue;b1n=null;if(X1n!==x1n.chart.yAxis){b1n=+"0";if(X1n.shadow<1000){b1n=2;}if(X1n.shadow<5){b1n=4;}if(X1n.decimalPlaces||X1n.decimalPlaces===0){b1n=X1n.decimalPlaces;}}if(X1n.priceFormatter){O1n=X1n.priceFormatter(this,x1n,O1n,X1n);}else{O1n=this.formatYAxisPrice(O1n,x1n,b1n,X1n);}K1n=this.canvasStyle("stx-float-price");this.createYAxisLabel(x1n,O1n,k1n,K1n.backgroundColor,K1n.color,this.floatCanvas.context,X1n);this.floatCanvas.isDirty=!![];}};f3.prototype.headsUpHR=function(){var T78,z1n,F1n,T1n,s1n,f1n,j1n,m1n,y1n,P1n,Z78,w78,J1n,a1n,d1n,n1n,V48,D48,c48;T78="h";T78+="eadsUpHR";if(this.runPrepend("headsUpHR",arguments)){return;}z1n=this.currentPanel;if(!z1n){return;}F1n=z1n.chart;this.updateFloatHRLabel(z1n);if(this.controls.floatDate&&!f3.hideDates()){T1n=this.barFromPixel(this.cx);s1n=F1n.xaxis[T1n];if(s1n&&s1n.DT){if(F1n.xAxis.formatter){this.controls.floatDate.innerHTML=F1n.xAxis.formatter(s1n.DT);}else if(this.internationalizer){f1n=this.internationalizer.monthDay.format(s1n.DT);if(!f3.isDailyInterval(this.layout.interval)){W8k.N02(4);var t3T=W8k.i02(12,108368,1292080);W8k.N02(0);var U3T=W8k.R02(11,1396);f1n+=(299.76<=(1704,t3T)?(5987,U3T)===(924.64,2150)?+"598.15":+"3358"===414.43?87.97:" ":!![])+this.internationalizer.hourMinute.format(s1n.DT);}else{f1n=this.internationalizer.yearMonthDay.format(s1n.DT);}this.controls.floatDate.innerHTML=f1n;}else{j1n=s1n.DT.getMonth()+ +"1";if(j1n<10){W8k.N02(0);j1n=W8k.i02(j1n,(+"9370",917.64)!=("3400"<<1804939936,1800)?"0":(2069,4040)!=(8830,"6220"-0)?(+"3910",8030)!==88.86?("X",![]):"o":0x6e);}m1n=s1n.DT.getDate();if(m1n<10){W8k.N02(0);m1n=W8k.i02(m1n,525.71!=(228.91,221.18)?"0":(6540,6564)==916.01?(![],"M"):3910<=(396.55,564.64)?(+"5.99e+3",0xa52):("m",!0));}y1n=s1n.DT.getHours();if(y1n<10){W8k.t02(0);y1n=W8k.i02(y1n,547.45!==("3490">>347001824,"168.88"-0)?"0":(0x110e,0xa88));}P1n=s1n.DT.getMinutes();if(P1n<"10"-0){W8k.N02(0);P1n=W8k.R02(P1n,(7540,+"6535")>=906.89?"0":(3780,+"8970")<(1452,6.87)?(0x18a0,!!0):3.75e+3);}if(f3.isDailyInterval(this.layout.interval)){W8k.N02(9);var Z3T=W8k.R02(12,9988,4);W8k.t02(49);var E3T=W8k.i02(13,187525,906,16);W8k.N02(2);var D3T=W8k.i02(33733,38552);W8k.t02(12);var c3T=W8k.R02(401,13,20,7);W8k.N02(14);var z3T=W8k.R02(118544,16);this.controls.floatDate.innerHTML=j1n+"-"+m1n+((+"9277",Z3T)<(5138,815.79)?E3T<=1510?(D3T,"859.17"*c3T):(z3T,"b"):"-")+s1n.DT.getFullYear();}else{Z78="millisec";Z78+="ond";w78="se";w78+="cond";W8k.t02(52);this.controls.floatDate.innerHTML=W8k.R02((96.49,+"1252")==+"294.72"?("3509"&2147483647,6597)>=(7566,6644)?+"787.82":+"4.19e+3":" ",P1n,(7360,738)==7950?(0x1288,!![]):6366>=("1160">>1366665824,6060)?":":(+"793.75",6013)<(1441,+"3220")?(0x1f03,"f"):(0x485,"0x9b8">>2011583072),(313.36,1833)>=(620.82,5780)?(444.50,334.50):(9250,+"670.31")>(5010,457.62)?"-":369!=(799.08,"3780"^0)?328.86:(9.35e+3,"z"),j1n,m1n,y1n);J1n=F1n.xAxis.activeTimeUnit&&F1n.xAxis.activeTimeUnit<=z3.SECOND||this.layout.timeUnit==w78;a1n=F1n.xAxis.activeTimeUnit&&F1n.xAxis.activeTimeUnit<=z3.MILLISECOND||this.layout.timeUnit==Z78;if(J1n||a1n){d1n=s1n.DT.getSeconds();if(d1n<+"10"){W8k.N02(0);d1n=W8k.i02(d1n,"0");}W8k.N02(0);this.controls.floatDate.innerHTML+=W8k.i02(d1n,("6738"-0,2620)<418.87?(239,3630)<3550?811.46:(3780,9738)==47?!{}:(0x1d71,142.89):":");if(a1n){n1n=s1n.DT.getMilliseconds();if(n1n<10){W8k.N02(0);n1n=W8k.R02(n1n,(562.61,6710)<=("627"*1,45.43)?518:(112,3561)!=7761?"0":(!{},!1));}if(n1n<100){W8k.t02(0);n1n=W8k.R02(n1n,311.6<=6200?8890!==26.85?(797.58,8110)>8680?0x213c:"0":!!1:("C",!1));}W8k.t02(0);this.controls.floatDate.innerHTML+=W8k.R02(n1n,(31.07,"691.85"-0)<=+"6374"?":":"186.18"*1);}}}}}else if(s1n&&s1n.index){V48=1044932602;D48=1346932641;c48=2;for(var x48=1;W8k.l08(x48.toString(),x48.toString().length,93027)!==V48;x48++){this.controls.floatDate.innerHTML=s1n.index;c48+=2;}if(W8k.l08(c48.toString(),c48.toString().length,74184)!==D48){this.controls.floatDate.innerHTML=s1n.index;}this.controls.floatDate.innerHTML=s1n.index;}else{this.controls.floatDate.innerHTML="";;}}this.runAppend(T78,arguments);};f3.prototype.setCrosshairColors=function(){return;;};f3.prototype.magnetize=function(){var q1n,E78,U1n,V1n,h1n,l1n,C1n,D1n,w1n,H1n,G1n,e1n,o1n;W8k.j3();this.magnetizedPrice=null;if(this.runPrepend("magnetize",arguments)){return;}if((this.currentVectorParameters.vectorType=="annotation"||this.currentVectorParameters.vectorType=="callout")&&f3.drawingLine){return;}if(this.currentVectorParameters.vectorType=="projection"){return;}if(this.currentVectorParameters.vectorType=="freeform"){return;}q1n=this.currentPanel;if(q1n.name==q1n.chart.name){E78="#";E78+="00";E78+="00";E78+="00";U1n=q1n.chart;V1n=this.tickFromPixel(f3.crosshairX-this.left,U1n);if(V1n>U1n.dataSet.length){return;}h1n=U1n.dataSet[V1n];if(!h1n){return;}l1n=this.valueFromPixel(this.cy,q1n);this.magnetizedPrice=h1n.Close;if(this.layout.chartType=="bar"||this.layout.chartType=="candle"||this.layout.chartType=="colored_bar"||this.layout.chartType=="hollow_candle"||this.layout.chartType=="volume_candle"){C1n=["Open","High","Low","Close"];D1n=1000000000;for(var g1n=0;g1n<C1n.length;g1n++){w1n=h1n[C1n[g1n]];if(Math.abs(l1n-w1n)<D1n){W8k.t02(2);D1n=Math.abs(W8k.R02(w1n,l1n));this.magnetizedPrice=w1n;}}}H1n=this.pixelFromTick(V1n,U1n);G1n=this.pixelFromPrice(this.magnetizedPrice,this.currentPanel);e1n=this.chart.tempCanvas.context;e1n.beginPath();W8k.t02(13);e1n.lineWidth=W8k.i02(2147483647,"1");W8k.N02(53);var x3T=W8k.R02(18,5,15,34);W8k.t02(54);var G3T=W8k.R02(15,1,2,15,18,523,270);o1n=Math.max(this.layout.candleWidth,x3T)/G3T;e1n.arc(H1n,G1n,o1n,0,2*Math.PI,!{});e1n.fillStyle="#FFFFFF";e1n.strokeStyle=E78;e1n.fill();e1n.stroke();e1n.closePath();}this.runAppend("magnetize",arguments);};f3.prototype.positionCrosshairsAtPointer=function(){var t1n,r1n,Q1n;if(!this.currentPanel){return;}t1n=this.currentPanel.chart;r1n=this.container.getBoundingClientRect();this.top=r1n.top;this.left=r1n.left;this.right=this.left+this.width;this.bottom=this.top+this.height;Q1n=this.tickFromPixel(this.backOutX(f3.crosshairX),t1n);this.cy=this.crossYActualPos=this.backOutY(f3.crosshairY);this.cx=this.backOutX(f3.crosshairX);this.controls.crossX.style.left=this.pixelFromTick(Q1n,t1n)-0.5+"px";this.controls.crossY.style.top=this.backOutY(f3.crosshairY)+"px";this.updateChartAccessories();};f3.prototype.doDisplayCrosshairs=function(){var V78;W8k.m3();if(this.runPrepend("doDisplayCrosshairs",arguments)){return;}if(this.displayInitialized){if(!this.layout.crosshair&&(this.currentVectorParameters.vectorType===""||!this.currentVectorParameters.vectorType)){this.undisplayCrosshairs();}else if(z3.Drawing[this.currentVectorParameters.vectorType]&&new z3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.undisplayCrosshairs();}else{if(this.controls.crossX.style.display!==""){this.controls.crossX.style.display="";this.controls.crossY.style.display="";if(this.preferences.magnet&&this.currentVectorParameters.vectorType){V78="stx-cr";V78+="osshair-on";z3.unappendClassName(this.container,V78);;}else{z3.appendClassName(this.container,"stx-crosshair-on");;}}if(this.controls.floatDate&&!f3.hideDates()){this.controls.floatDate.style.display="block";}}}this.runAppend("doDisplayCrosshairs",arguments);};f3.prototype.undisplayCrosshairs=function(){var z78,D78,c78;z78="undisplayCros";z78+="shai";z78+="rs";if(this.runPrepend("undisplayCrosshairs",arguments)){return;}if(this.controls.crossX){D78="n";D78+="o";D78+="n";D78+="e";if(this.controls.crossX.style.display!=D78){this.controls.crossX.style.display="none";this.controls.crossY.style.display="none";}}if(this.displayInitialized&&this.controls.floatDate){c78="n";c78+="o";c78+="n";c78+="e";this.controls.floatDate.style.display=c78;}z3.unappendClassName(this.container,"stx-crosshair-on");if(this.floatCanvas&&this.floatCanvas.isDirty){z3.clearCanvas(this.floatCanvas,this);}this.runAppend(z78,arguments);};f3.prototype.modalBegin=function(){this.openDialog="modal";this.undisplayCrosshairs();};f3.prototype.modalEnd=function(){W8k.j3();this.cancelTouchSingleClick=!!{};this.openDialog="";this.doDisplayCrosshairs();};f3.prototype.updateChartAccessories=function(){var x78,A1n,v1n,i1n,E1n,B1n,I1n;x78="updateChart";x78+="Ac";x78+="cessories";if(this.runPrepend(x78,arguments)){return;}this.accessoryTimer=null;this.lastAccessoryUpdate=new Date().getTime();A1n=this.controls.floatDate;if(A1n){v1n=this.currentPanel;if(!v1n){v1n=this.chart.panel;}if(v1n){i1n=v1n.chart;E1n=this.tickFromPixel(this.backOutX(f3.crosshairX),i1n);B1n=this.xAxisAsFooter===!![]?0:this.chart.canvasHeight-v1n.chart.bottom;I1n=this.pixelFromTick(E1n,i1n)-A1n.offsetWidth/+"2"-0.5;if(I1n<0){I1n=+"0";}W8k.t02(0);A1n.style.left=W8k.i02("px",I1n);W8k.t02(0);A1n.style.bottom=W8k.R02("px",B1n);}}W8k.j3();this.headsUpHR();this.runAppend("updateChartAccessories",arguments);};f3.prototype.mousemove=function(u1n){var L1n;L1n=u1n?u1n:event;f3.crosshairX=L1n.clientX;W8k.j3();f3.crosshairY=L1n.clientY;if(this.runPrepend("mousemove",arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}this.mousemoveinner(L1n.clientX,L1n.clientY);this.runAppend("mousemove",arguments);};f3.prototype.setResizeTimer=function(p1n){this.resizeDetectMS=p1n;if(p1n){if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}this.resizeTimeout=window.setInterval(Y1n(this),p1n);}else{if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}this.resizeTimeout=null;}function Y1n(W1n){return function(){if(!W1n.chart.canvas){return;}if(!z3.isAndroid){if(W1n.chart.canvas.height!=Math.floor(W1n.devicePixelRatio*W1n.chart.container.clientHeight)||W1n.chart.canvas.width!=Math.floor(W1n.devicePixelRatio*W1n.chart.container.clientWidth)){W1n.resizeChart();return;}}};}};f3.prototype.whichYAxis=function(x2n,R2n){var X2n,Z2n;if(typeof R2n==="undefined"){R2n=this.cx;}if(x2n){X2n=x2n.yaxisLHS.concat(x2n.yaxisRHS);for(var c2n=0;c2n<X2n.length;c2n++){Z2n=X2n[c2n];if(Z2n.left<=R2n&&Z2n.left+Z2n.width>=R2n){return Z2n;}}}W8k.j3();return this.chart.panel.yAxis;};f3[l02][D02]=function(U2n,q2n){W8k.x1k=function(T4k){if(W8k)return W8k.C4k(T4k);};W8k.V4k=function(J4k){if(W8k)return W8k.W4k(J4k);};W8k.p4k=function(G4k){if(W8k)return W8k.C4k(G4k);};W8k.I4k=function(a4k){if(W8k&&a4k)return W8k.C4k(a4k);};W8k.D4k=function(s4k){if(W8k&&s4k)return W8k.C4k(s4k);};W8k.z4k=function(t4k){if(W8k)return W8k.W4k(t4k);};W8k.h4k=function(L4k){if(W8k)return W8k.W4k(L4k);};var S42=W8k.h4k("9c93")?1600736002:9490160704,f42=-(W8k.H4k("62b5")?8765169454:1974033449),r42=W8k.z4k("8564")?1284820858:3939665402,M42=-(W8k.D4k("5457")?938078792:629198396);if(W8k.T42(W8k.v4k("b77d")?2:0,W8k.k4k("f3b4")?808764:603897)===S42||W8k.T42(W8k.R4k("85b9")?0:3,994518)===f42||W8k.e42(W8k.I4k("7a88")?15:37,726416)===r42||W8k.T42(W8k.p4k("72bb")?0:2,390946)===M42){var I72=W8k.V4k("94e3")?"":"right";var h02=1368649858;var x72=W8k.E4k("a1cb")?"":"name";var X02=84003;var p62=W8k.c4k("a9b8")?"":"grabStartY";var S72=W8k.x1k("6d78")?"":"overYAxis";var M72="tempCanvas";var u9E=W8k.n1k("2c34")?"runAppend":"";var d72="valueFromPixelUntransform";var G02=W8k.u1k("f5e1")?1:2;var v62="toString";var h9E="accessoryTimer";var m02=237037842;var R9E="yTolerance";var c9E="m";var r72="cx";var N62="grabMode";var O62="oo";var T72="cancelLongHold";var O9E="measure";var f62="span";var o9E="findHighlights";var p9E="e";var g02="clientHeight";var p72="hasDragged";var C9E="repositioner";var L62="maxTicks";var E9E="style";var k9E="useAnimation";var B9E="px";var X72="adjustIfNecessary";var i62="grabOverrideClick";var x9E="context";var O72="preferences";var J9E="activeDrawing";var U9E="reposition";var x62="z";var z9E="magnetizedPrice";var o02="clientWidth";var h62="layout";var J72="tickFromPixel";var J62="l08";var M62="setCandleWidth";var W62="vectorType";var i9E="yToleranceBroken";var T62="scroll";var F02="chart";var x02=449;var u62="grabbingPanel";var z72="draw";var g62="2";var g72="";var m62="R02";var l72="panels";var Z9E="crossX";var T9E="v";var P02=2;var y02="isAndroid";var n72="whichPanel";var n62="zo";var q62="whitespace";var z02="height";var e9E="controls";var X9E=0.5;var Q62="grabStartScrollY";var A02="isIOS7or8";var J02=100;var I9E="i02";var A72="lastDraw";var E72="pixelFromPriceTransform";var k62="m-";var G72="backOutX";var l62=0.9;var F9E="lastAccessoryUpdate";var G62="indexOf";var L9E="setCrosshairColors";var l9E="updateChartAccessories";var O02=452;var f9E="mo";var g9E="resizePanels";var d02="canvas";var V72="repositioningBaseline";var P9E="initialWhitespace";var y72="now";var D9E="getTime";var e02=724;var V9E="touchDevice";var j02="runPrepend";var y62="round";var F62=1.1;var B72="insideChart";var c62="grabStartScrollX";var R72="crosshairY";var M02="container";var U02="floor";var P62="zoom";var q9E="drawTemporaryPanel";var e72="horizontalCrosshairField";var j62=null;var R62="abs";var Y72="magnet";var L72="yAxis";var N72="backOutY";var H72="crosshairValue";var v02=448;var B02=89399;var q72="overlays";var a9E="doDisplayCrosshairs";var S62="1";var I62="grabStartX";var j9E="ve";var Q72="crosshairX";var s9E="requestAnimationFrame";var s72="crosshairTick";var W72="left";var c72="bottom";var K62="candleWidth";var U72="anyHighlighted";var A9E="panelName";var M9E="move";var a72="undisplayCrosshairs";var n02=5;var H9E="pixelFromTick";var S9E="Drawing";var V62="0.1";var y9E="repositioningDrawing";var D62=0.1;var t62="allowZoom";var U62=0.499;var q02="width";var d62="ipad";var K02=1744169383;var Z02=28628;var r62="pan";var C72="clearCanvas";var K9E="drawingLine";var B62="t02";var j72="displaySticky";var Z72="length";var i72="cy";var u02="top";var w72="panel";var r9E="micropixels";var u72="currentVectorParameters";var Q9E="allowScroll";var o62="1168699640";var H62="zoo";var C02="devicePixelRatio";var X62="zoom-y";var n9E="dispatch";var Y9E="magnetize";var b62="grabStartCandleWidth";var H02=76542;var N9E="microscroll";var k02=14;var D72="baseline";var w02=10;var t72="crossYActualPos";var k72="dataSet";var t9E="P08";var s62="x";var b9E="dragToDraw";var v9E="render";var z62="ipadMaxTicks";var m9E="crossY";var K72="resizingPanel";var P72="currentPanel";var a62="minimumCandleWidth";var b72="grabbingScreen";var E62="45355";var C62="pinchingCenter";var Y02="getBoundingClientRect";var L02=333003916;var e62="m-x";var s02=25;var F72="userLevel";var S02=793490162;var a02=1219897896;var E02=39801;var r02=0;var f02="resizeChart";var G9E="shift";var Y62="whichYAxis";var v72="valueFromPixel";var f72="series";var w62="o";var o72="highlight";var b02=1140138720;var W9E="grabStartZoom";var A62="0.499";var V02=1983928841;var Z62="zoom-x";var h72="displayCrosshairs";var m72="overXAxis";var k2n,d2n,m2n,z2n,O2n,y2n,F2n,K2n,N2n,s2n,h78,G48,b48,h48,G78,b78,P2n,S2n,f2n,n2n,j2n,a2n,T2n,J2n,i48,X48,O48,M2n,u78,o18,C18,m18,e2n,x38,G38,b38,b2n,N78;if(!this[F02][d02]){return;}if(!z3[y02]&&!z3[A02]){if(this[F02][d02][z02]!=Math[U02](this[C02]*this[F02][M02][g02])||this[F02][d02][q02]!=Math[U02](this[C02]*this[F02][M02][o02])){this[f02]();return;}}if(this[j02](D02,arguments)){return;}d2n=this[M02][Y02]();this[u02]=d2n[u02];this[W72]=d2n[W72];this[I72]=this[W72]+this[q02];this[c72]=this[u02]+this[z02];this[T72]=!![];this[p72]=!!G02;f3[Q72]=U2n;f3[R72]=q2n;m2n=this[i72]=this[t72]=this[N72](f3[R72]);z2n=this[r72]=this[G72](f3[Q72]);this[P72]=this[n72](m2n);if(!this[P72]){this[P72]=this[F02][w72];}if(!this[P72]){return;}O2n=this[P72][F02];if(O2n[k72]){this[s72]=this[J72](z2n,O2n);k2n=this[v72](m2n,this[P72]);y2n=this[P72][x72]==F02?this[O72][e72]:this[P72][e72];if(y2n&&this[s72]<O2n[k72][Z72]&&this[s72]>-G02){k2n=O2n[k72][this[s72]][y2n];this[t72]=this[E72](k2n,this[P72]);}this[H72]=this[X72](this[P72],this[s72],k2n);}if(f3[Q72]>=this[W72]&&f3[Q72]<=this[I72]&&f3[R72]>=this[u02]&&f3[R72]<=this[c72]){f3[B72]=!!{};}else{f3[B72]=!{};}this[m72]=f3[R72]>=this[u02]+this[F02][w72][L72][c72]&&f3[R72]<=this[u02]+this[F02][w72][c72]&&f3[B72];this[S72]=(this[r72]>=this[P72][I72]||this[r72]<=this[P72][W72])&&f3[B72];if(this[m72]||this[S72]||!f3[B72]&&!this[b72]){this[a72]();if(!this[m72]&&!this[S72]){return;};}if(!this[h72]&&!f3[K72]){this[a72]();return;}if(this[V72]){b2n=this[l72][this[F02][w72][x72]];this[F02][D72][F72]=this[X72](b2n,this[s72],this[d72](this[N72](f3[R72]),b2n));if(Date[y72]()-this[V72][A72]>J02){this[z72]();this[V72][A72]=Date[y72]();}return;}if(this[b72]&&!f3[K72]){if(this[U72]){z3[C72](this[F02][M72],this);this[U72]=!!g72;for(F2n in this[q72]){this[q72][F2n][o72]=![];}for(F2n in O2n[f72]){O2n[f72][F2n][o72]=!!g72;}this[j72]();}if(this[O72][Y72]&&this[u72][W62]){z3[C72](this[F02][M72],this);}if(this[I62]==-G02){this[I62]=f3[Q72];this[c62]=O2n[T62];}if(this[p62]==-G02){this[p62]=f3[R72];this[Q62]=O2n[w72][L72][T62];}K2n=f3[Q72]-this[I62];N2n=f3[R72]-this[p62];if(K2n===r02&&N2n===r02){return;}if(Math[R62](K2n)+Math[R62](N2n)>n02){this[i62]=!g72;}if(this[t62]&&this[N62]!=r62&&(this[N62][G62](P62)===r02||this[m72]||this[S72])){if(this[N62]===g72){h78=n62;h78+=w62;h78+=k62;h78+=s62;G48=-K02;b48=m02;h48=P02;for(var N48=G02;W8k[J62](N48[v62](),N48[v62]()[Z72],X02)!==G48;N48++){G78=x62;G78+=O62;G78+=e62;if(this[m72]){this[N62]=Z62;}else if(this[S72]){this[N62]=G78;}h48+=P02;}if(W8k[J62](h48[v62](),h48[v62]()[Z72],E62^r02)!==b48){b78=H62;b78+=k62;b78+=s62;if(this[m72]){this[N62]=Z62;}else if(this[S72]){this[N62]=b78;}}if(this[m72]){this[N62]=h78;}else if(this[S72]){this[N62]=X62;}}if(this[N62]==Z62){N2n=r02;}else if(this[N62]==X62){K2n=r02;}W8k[B62](k02);s2n=W8k[m62](K2n,s02);P2n=!g72;if(O2n[T62]<=O2n[L62]){P2n=!S62;}S2n=this[b62]+s2n;if(S2n<this[a62]){S2n=this[a62];}f2n=(this[h62][K62]-S2n)/this[h62][K62];if(f2n>V62-r02){S2n=this[h62][K62]*l62;}else if(f2n<-D62){S2n=this[h62][K62]*F62;}if(z3[d62]){if(Math[y62](this[F02][q02]/this[h62][K62]-(A62-r02))-G02<f3[z62]&&Math[y62](this[F02][q02]/S2n-U62)-G02>f3[z62]){return;}}if(this[C62]){j2n=this[G72](this[C62]);a2n=this[J72](j2n,O2n);this[M62](S2n,O2n);T2n=this[J72](j2n,O2n);W8k[B62](P02);O2n[T62]+=Math[U02](W8k[m62](a2n,T2n));}else if(P2n){n2n=Math[y62](this[F02][q02]/S2n-U62);if(n2n!=O2n[L62]){this[M62](S2n,O2n);O2n[T62]+=Math[y62]((n2n-O2n[L62])/(g62<<b02));}}else{n2n=Math[y62](this[F02][q02]/S2n-U62);if(n2n!=Math[y62](this[F02][q02]/this[h62][K62]-U62)){this[M62](S2n,O2n);J2n=Math[y62](this[O72][q62]/this[h62][K62]);i48=+o62;X48=-S02;O48=+g62;for(var M48=+S62;W8k[J62](M48[v62](),M48[v62]()[Z72],B02)!==i48;M48++){O2n[T62]=O2n[L62]/J2n;O48+=P02;}if(W8k[J62](O48[v62](),O48[v62]()[Z72],Z02)!==X48){O2n[T62]=O2n[L62]-J2n;}}}this[h62][f62]=j62;M2n=this[Y62](this[u62],this[r72]);if(this[S72]){M2n[P62]=Math[y62](this[W9E]+N2n);if(this[W9E]<M2n[z02]){if(M2n[P62]>=M2n[z02]){M2n[P62]=M2n[z02]-+S62;}}else{if(M2n[P62]<=M2n[z02]){W8k[B62](P02);var b3T=W8k[I9E](v02,x02);M2n[P62]=M2n[z02]+b3T;}}}}else{u78=c9E;u78+=w62;u78+=T9E;u78+=p9E;if(this[Q9E]){if(Math[R62](N2n)<this[R9E]){if(!this[i9E]){N2n=r02;o18=-h02;C18=-L02;m18=P02;for(var L18=G02;W8k[t9E](L18[v62](),L18[v62]()[Z72],O02)!==o18;L18++){if(K2n==G02){return;}m18+=P02;}if(W8k[t9E](m18[v62](),m18[v62]()[Z72],H02)!==C18){if(K2n===r02){return;}}}}else{this[i9E]=!!{};}this[N62]=r62;s2n=Math[y62](K2n/this[h62][K62]);this[N9E]=s2n-K2n/this[h62][K62];this[r9E]=this[h62][K62]*this[N9E]*-+S62;if(this[G9E]){s2n*=n02;}O2n[T62]=this[c62]+s2n;if(O2n[T62]<G02){O2n[T62]=+S62;}if(O2n[T62]>=O2n[L62]){this[O72][q62]=this[P9E];}else{this[O72][q62]=(O2n[L62]-O2n[T62])*this[h62][K62];}if(this[P72][x72]==O2n[x72]){this[F02][w72][L72][T62]=this[Q62]+N2n;}}this[n9E](u78,{stx:this,panel:this[P72],x:this[r72],y:this[i72],grab:this[b72]});}e2n=function(V2n){var p42=432924233,Q42=-1619532328,I42=2091383030,t42=678189924;if(W8k.e42(0,750351)===p42||W8k.T42(0,651176)===Q42||W8k.T42(15,277799)===I42||W8k.T42(0,606075)===t42){var w9E="m3";W8k[w9E]();return function(){var l42=1131527222,G42=-1048454097,P42=885209156,w42=742644482;if(W8k.T42(0,275166)===l42||W8k.T42(0,818554)===G42||W8k.T42(15,832918)===P42||W8k.T42(0,523006)===w42){V2n[z72]();}};}};if(f3[k9E]){window[s9E](e2n(this));;}else{this[z72]();}if(this[J9E]){z3[C72](this[F02][M72],this);this[J9E][v9E](this[F02][M72][x9E]);this[J9E][O9E]();}this[a72]();return;}else{this[N62]=g72;}this[u62]=this[P72];if(this[m72]||this[S72]){return;}this[e9E][Z9E][E9E][W72]=this[H9E](this[s72],O2n)-X9E+B9E;this[e9E][m9E][E9E][u02]=this[t72]+B9E;this[L9E]();if(f3[B72]&&!f3[K72]){if(!z3[S9E][this[u72][W62]]||!new z3[S9E][this[u72][W62]]()[b9E]){this[a9E]();}x38=-a02;G38=-V02;b38=P02;for(var u38=G02;W8k[t9E](u38[v62](),u38[v62]()[Z72],E02)!==x38;u38++){if(this[h9E]===G02){clearTimeout(this[h9E]);}b38+=P02;}if(W8k[t9E](b38[v62](),b38[v62]()[Z72],e02)!==G38){if(this[h9E]!==j62){clearTimeout(this[h9E]);}}if(f3[K9E]||!z3[V9E]){this[l9E]();}else{if(new Date()[D9E]()-this[F9E]>J02){this[l9E]();}this[h9E]=setTimeout(function(h2n){var U42=-478822317,X42=4794203,F42=-1649228611,V42=-1240880143;if(!(W8k.e42(0,854740)!==U42&&W8k.e42(0,515838)!==X42&&W8k.T42(15,172226)!==F42&&W8k.T42(0,247165)!==V42)){var d9E="j3";W8k[d9E]();return function(){var s42=1886964096,C42=1105791629,o42=804265220,z42=-214461953;if(W8k.e42(0,672725)===s42||W8k.e42(0,748504)===C42||W8k.T42(15,496216)===o42||W8k.T42(0,380256)===z42){h2n[l9E]();}};}}(this),w02);}}else{this[a72]();}if(this[y9E]){b2n=this[l72][this[y9E][A9E]];k2n=this[X72](b2n,this[s72],this[d72](this[N72](f3[R72]),b2n));if(this[O72][Y72]&&this[z9E]&&b2n[x72]==b2n[F02][x72]){k2n=this[X72](b2n,this[s72],this[z9E]);}z3[C72](this[F02][M72],this);this[y9E][U9E](this[F02][M72][x9E],this[y9E][C9E],this[s72],k2n);if(this[y9E][O9E]){this[y9E][O9E]();}}else if(f3[K9E]){if(this[J9E]){b2n=this[l72][this[J9E][A9E]];k2n=this[X72](b2n,this[s72],this[d72](this[N72](f3[R72]),b2n));if(this[O72][Y72]&&this[z9E]&&b2n[x72]==b2n[F02][x72]){k2n=this[X72](b2n,this[s72],this[z9E]);}z3[C72](this[F02][M72],this);this[J9E][M9E](this[F02][M72][x9E],this[s72],k2n);if(this[J9E][O9E]){this[J9E][O9E]();}}}else if(f3[K72]){this[g9E]();this[q9E]();}else if(f3[B72]){this[o9E]();}if(f3[B72]){N78=f9E;N78+=j9E;this[n9E](N78,{stx:this,panel:this[P72],x:this[r72],y:this[i72],grab:this[b72]});this[o9E]();}if(this[O72][Y72]&&this[u72][W62]){if(!f3[K9E]&&!this[U72]){z3[C72](this[F02][M72]);}this[Y9E]();}this[u9E](D02,arguments);}};f3.prototype.findHighlights=function(S3n,X3n){var o2n,H2n,A2n,C2n,Q2n,r2n,L2n,O3n,G2n,p2n,Y2n,b3n,D2n,w2n,g2n,c3n,v2n,l2n,Z3n,R3n,t2n,I2n,W2n;o2n=10;if(S3n){o2n=+"30";}W8k.j3();H2n=this.cy;A2n=this.cx;if(!this.currentPanel){return;}if(this.activeDrawing){return;}C2n=this.currentPanel.chart;this.anyHighlighted=!!0;if(this.preferences.magnet&&!this.activeDrawing){z3.clearCanvas(this.chart.tempCanvas,this);}Q2n=!1;r2n=null;L2n=["","",!"",null,"drawing"];O3n={x0:this.tickFromPixel(A2n-o2n,C2n),x1:this.tickFromPixel(A2n+o2n,C2n),y0:this.valueFromPixelUntransform(H2n-o2n,this.currentPanel),y1:this.valueFromPixelUntransform(H2n+o2n,this.currentPanel)};for(var B2n=0;B2n<this.drawingObjects.length;B2n++){G2n=this.drawingObjects[B2n];if(G2n.permanent)continue;p2n=G2n.highlighted;Y2n=G2n.panelName==this.currentPanel.name;G2n.repositioner=G2n.intersected(this.crosshairTick,this.crosshairValue,O3n);Y2n=Y2n&&G2n.repositioner;if(!X3n&&Y2n){if(p2n){r2n=G2n;}else if(p2n!=G2n.highlight(!"")){if(!r2n){r2n=G2n;}Q2n=!!{};}this.anyHighlighted=!![];}else{if(p2n!=G2n.highlight(![])){Q2n=!!{};}}}b3n=![];for(D2n in this.overlays){w2n=this.overlays[D2n];w2n.prev=w2n.highlight;w2n.highlight=!!"";}for(D2n in C2n.seriesRenderers){c3n=C2n.seriesRenderers[D2n];for(var u2n=0;u2n<c3n.seriesParams.length;u2n++){g2n=c3n.seriesParams[u2n];g2n.prev=g2n.highlight;g2n.highlight=!{};}}if(!X3n){v2n=this.barFromPixel(A2n);if(v2n<C2n.dataSegment.length){for(D2n in this.overlays){w2n=this.overlays[D2n];if(w2n.panel!=this.currentPanel.name)continue;if(w2n.libraryEntry.isHighlighted&&w2n.libraryEntry.isHighlighted(this,A2n,H2n)){w2n.highlight=!0;this.anyHighlighted=!"";continue;}Z3n=C2n.dataSegment[v2n];if(!Z3n)continue;for(var x3n in this.overlays[D2n].outputMap){R3n=Z3n[x3n];l2n=0;if(this.currentPanel.name==C2n.name){l2n=this.pixelFromPriceTransform(R3n,this.currentPanel);}else{l2n=this.pixelFromPrice(R3n,this.currentPanel);}if(H2n-o2n<l2n&&H2n+o2n>l2n){w2n.highlight=!!1;this.anyHighlighted=!!{};break;}}if(w2n.highlight)break;;}for(D2n in C2n.seriesRenderers){t2n=C2n.seriesRenderers[D2n];if(!t2n.params.highlightable)continue;for(var i2n="0">>1190384544;i2n<t2n.seriesParams.length;i2n++){g2n=t2n.seriesParams[i2n];l2n=t2n.caches[g2n.field]&&t2n.caches[g2n.field][v2n];if(!l2n&&l2n!==0)continue;if(H2n-o2n<l2n&&H2n+o2n>l2n){g2n.highlight=!!"1";this.anyHighlighted=!![];}else if((t2n.params.subtype=="step"||g2n.type=="step")&&v2n>0){I2n=t2n.caches[g2n.field]&&t2n.caches[g2n.field][v2n-1];if((I2n||I2n===0)&&(H2n>l2n&&H2n<I2n)||H2n<l2n&&H2n>I2n){g2n.highlight=!0;this.anyHighlighted=!!1;}}}}}}for(D2n in this.overlays){w2n=this.overlays[D2n];if(w2n.highlight){this.anyHighlighted=!!1;L2n=[w2n.inputs.display?w2n.inputs.display:w2n.name,null,null,w2n.permanent,"study"];r2n=null;}if(w2n.prev!=w2n.highlight){Q2n=!!"1";}}for(D2n in C2n.seriesRenderers){W2n=C2n.seriesRenderers[D2n];if(!W2n.params.highlightable)continue;for(var E2n=0;E2n<W2n.seriesParams.length;E2n++){g2n=W2n.seriesParams[E2n];if(g2n.highlight){this.anyHighlighted=!!{};L2n=[g2n.display,g2n.color,!!0,g2n.permanent,"series"];r2n=null;}if(g2n.prev!=g2n.highlight){Q2n=!!{};}}}if(Q2n){this.draw();this.displaySticky.apply(this,L2n);this.clearMeasure();if(r2n){r2n.measure();}}if(!this.anyHighlighted){this.setMeasure();}};f3.prototype.positionSticky=function(M3n){var k3n,N3n;k3n=Math.max(this.cy-M3n.offsetHeight-60,0);N3n=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-M3n.offsetWidth);W8k.t02(0);M3n.style.top=W8k.R02("px",k3n);W8k.m3();W8k.t02(0);M3n.style.right=W8k.i02("px",N3n);};f3.prototype.displaySticky=function(m3n,y3n,P3n,f3n,d3n){var s3n,K3n,j3n,F3n,n3n,i78,X78,O78,R78,M78;s3n=this.controls.mSticky;if(!s3n){return;}K3n=a3("#mStickyInterior",s3n);if(!K3n){return;}j3n=a3("#overlayTrashCan",s3n);F3n=a3(".overlayEdit",s3n);n3n=a3("#mouseDeleteInstructions",s3n);W8k.m3();if(!P3n&&!m3n){i78="n";i78+="o";i78+="n";i78+="e";K3n.innerHTML="";s3n.style.display=i78;if(z3.touchDevice){X78="n";X78+="one";if(j3n){j3n.style.display="none";}if(F3n){F3n.style.display=X78;}}else if(!z3.touchDevice){if(n3n){n3n.style.display="none";}}}else{O78="i";O78+="nline-block";if(!m3n){m3n="";}if(P3n&&!m3n){K3n.style.backgroundColor="";K3n.style.color="";K3n.style.display="none";}else if(y3n){K3n.style.backgroundColor=y3n;K3n.style.color=z3.chooseForegroundColor(y3n);K3n.style.display="inline-block";}else{K3n.style.backgroundColor="";K3n.style.color="";K3n.style.display="inline-block";}K3n.innerHTML=m3n;if(d3n){W8k.t02(0);a3("#mStickyRightClick",s3n).className=W8k.i02(d3n,"rightclick_");}s3n.style.display=O78;this.positionSticky(s3n);if(f3n){R78="n";R78+="o";R78+="n";R78+="e";if(j3n){j3n.style.display=R78;}if(F3n){F3n.style.display="none";}if(n3n){n3n.style.display="none";}}else if(z3.touchDevice){M78="n";M78+="o";M78+="n";M78+="e";if(j3n){j3n.style.display="inline-block";}if(F3n){F3n.style.display="inline-block";}if(n3n){n3n.style.display=M78;}}else if(!z3.touchDevice){if(n3n){n3n.style.display="block";}}}};f3.prototype.setMeasure=function(J3n,q3n,w3n,g3n,h3n){var F78,H78,z3n,T3n,U3n,a3n,e3n,V3n,K78,s78;F78="set";F78+="Measure";H78="m";H78+="Measu";H78+="re";if(this.runPrepend("setMeasure",arguments)){return;}z3n=q3(H78);T3n="";if(!J3n){if(z3n&&z3n.className!="measureUnlit"){z3n.className="measureUnlit";}if(!this.anyHighlighted&&this.currentVectorParameters.vectorType===""){this.clearMeasure();}}else{U3n=Math.round(Math.abs(J3n-q3n)*this.chart.roundit)/this.chart.roundit;if(this.internationalizer){T3n+=this.internationalizer.numbers.format(U3n);}else{T3n+=U3n;}W8k.t02(20);a3n=W8k.i02(J3n,q3n,J3n);if(Math.abs(a3n)>0.1){W8k.t02(1);a3n=Math.round(W8k.R02(a3n,100));}else if(Math.abs(a3n)>0.01){a3n=Math.round(a3n*+"1000")/+"10";}else{W8k.t02(55);var h3T=W8k.R02(6,70034,10005,8);a3n=Math.round(a3n*h3T)/+"100";}if(this.internationalizer){W8k.t02(40);a3n=this.internationalizer.percent.format(W8k.R02("100",a3n));}else{W8k.N02(0);a3n=W8k.R02(7906>=(475,4279)?(998,133)===2187?3.16e+3:5320<(2297,4185)?(817.62,![]):"%":(!![],6.21e+3),a3n);}W8k.t02(25);T3n+=W8k.R02(a3n,("4930"&2147483647,+"6850")!=273.91?")":("c",1.21e+3)," (");W8k.N02(2);e3n=Math.abs(W8k.i02(w3n,g3n));W8k.t02(56);var u3T=W8k.i02(19,7,349,10,8);e3n=Math.round(e3n)+u3T;V3n=this.translateIf("Bars");W8k.t02(57);T3n+=W8k.i02(e3n,V3n,(7280,"4019"*1)<=4104?("9344"<<572179264,43.01)===(707.24,+"8136")?(0x1872,0x19ec):(7213,3900)>(+"573.34",301.28)?" ":(!1,"P"):(0x1bf,"h")," ");if(z3n){K78="m";K78+="e";K78+="asu";K78+="reLit";if(z3n.className!=K78){z3n.className="measureLit";}z3n.innerHTML=T3n;}}if(this.activeDrawing){return;}z3n=this.controls.mSticky;if(z3n){if(h3n){s78="i";s78+="nli";s78+="ne-bloc";s78+="k";z3n.style.display=s78;z3n.children[0].style.display="inline-block";if(J3n){z3n.children[+"0"].innerHTML=T3n;;}this.positionSticky(z3n);}else{z3n.style.display="none";z3n.children[0].innerHTML="";}}this.runAppend(F78,arguments);};f3.prototype.clearMeasure=function(){var D3n;D3n=q3("mMeasure");if(D3n){if(D3n.className!="measureUnlit"){D3n.className="measureUnlit";}D3n.innerHTML="";}};f3.prototype.drawTemporaryPanel=function(){var C3n,l3n;W8k.t02(2);var N3T=W8k.R02(15,18);C3n=Math.round(f3.resizingPanel.right-N3T)+0.5;z3.clearCanvas(this.chart.tempCanvas,this);l3n=f3.crosshairY-this.top;this.plotLine(f3.resizingPanel.left,C3n,l3n,l3n,this.canvasStyle("stx_panel_drag"),"segment",this.chart.tempCanvas.context,![],{});f3.resizingPanel.handle.style.top=l3n-f3.resizingPanel.handle.offsetHeight/2+"px";};f3.prototype.setTrashCan=function(){var H3n,m78,C78,o78,e78,A78;if(z3.touchDevice){H3n=this.controls.mSticky;if(H3n){m78="p";m78+="x";C78="p";C78+="x";o78="inli";o78+="ne-block";e78="n";e78+="one";A78="in";A78+="line-block";H3n.style.display=A78;H3n.children[0].style.display=e78;H3n.children[1].style.display=o78;if(H3n.children[2]){H3n.children[2].style.display="none";}W8k.N02(46);var X3T=W8k.R02(15,5,14,56);H3n.style.top=this.backOutY(f3.crosshairY)-X3T+C78;W8k.t02(9);var O3T=W8k.R02(455,500,5);H3n.style.right=this.chart.canvasWidth-(this.backOutX(f3.crosshairX)-O3T)+m78;}}};f3.prototype.pixelFromBar=function(o3n,t3n){var G3n;W8k.m3();if(!t3n){t3n=this.chart;}G3n=0;if(this.chart.dataSegment&&this.chart.dataSegment[o3n]&&this.chart.dataSegment[o3n].leftOffset){G3n=this.chart.dataSegment[o3n].leftOffset;}else{G3n=(o3n+0.5)*this.layout.candleWidth;}G3n=t3n.panel.left+Math.floor(G3n+this.micropixels)-1;return G3n;};f3.prototype.barFromPixel=function(i3n,A3n){var v3n,I3n,Q3n,E3n,B3n,L3n;W8k.j3();if(!A3n){A3n=this.chart;}if(this.layout.chartType=="volume_candle"&&this.chart.dataSegment){v3n=i3n-A3n.panel.left-this.micropixels;W8k.N02(2);I3n=W8k.i02(0,"2");Q3n=Math.round(this.chart.dataSegment.length/I3n);W8k.t02(58);var M3T=W8k.R02(4,17,16,20,17);W8k.N02(59);var H3T=W8k.R02(11,26,6,13,36);E3n=this.chart.dataSegment[this.chart.dataSegment.length-("1"-0)].leftOffset+this.chart.dataSegment[this.chart.dataSegment.length-M3T].candleWidth/H3T;if(v3n>E3n){return this.chart.dataSegment.length+Math.floor((i3n-E3n-A3n.panel.left-this.micropixels)/this.layout.candleWidth);}else{for(var r3n=1;r3n<this.chart.dataSegment.length;r3n++){I3n*=2;if(!this.chart.dataSegment[Q3n])break;W8k.N02(38);var K3T=W8k.R02(20,2,16);B3n=this.chart.dataSegment[Q3n].leftOffset-this.chart.dataSegment[Q3n].candleWidth/K3T;L3n=this.chart.dataSegment[Q3n].leftOffset+this.chart.dataSegment[Q3n].candleWidth/2;if(Q3n===0||v3n>=B3n&&v3n<L3n)break;else if(v3n<B3n){Q3n-=Math.max(1,Math.round(this.chart.dataSegment.length/I3n));}else{Q3n+=Math.max(1,Math.round(this.chart.dataSegment.length/I3n));}Q3n=Math.max(0,Math.min(this.chart.dataSegment.length-+"1",Q3n));}if(!this.chart.dataSegment[Q3n]){for(r3n=0;r3n<this.chart.dataSegment.length;r3n++){if(!this.chart.dataSegment[r3n])continue;if(v3n<this.chart.dataSegment[r3n].leftOffset-this.chart.dataSegment[r3n].candleWidth/2){W8k.N02(2);return Math.max(0,W8k.i02(1,r3n));}else if(v3n<this.chart.dataSegment[r3n].leftOffset+this.chart.dataSegment[r3n].candleWidth/2){return r3n;}else if(v3n>=this.chart.dataSegment[r3n].leftOffset+this.chart.dataSegment[r3n].candleWidth/("2"&2147483647)){W8k.N02(0);return W8k.R02(1,r3n);}}}}return Q3n;}else{return Math.floor((i3n-A3n.panel.left-this.micropixels)/this.layout.candleWidth);}};f3.prototype.tickFromPixel=function(Y3n,u3n){var p3n;W8k.m3();if(!u3n){u3n=this.chart;}W8k.t02(14);var F3T=W8k.i02(17,17);p3n=u3n.dataSet.length-u3n.scroll+F3T;if(this.layout.chartType=="volume_candle"){p3n+=this.barFromPixel(Y3n,u3n);}else{p3n+=Math.floor((Y3n-u3n.panel.left-this.micropixels)/this.layout.candleWidth);}return p3n;};f3.prototype.pixelFromTick=function(R4n,W3n){var Z4n,c4n,x4n;if(!W3n){W3n=this.chart;}W8k.N02(2);var A3T=W8k.i02(10,11);Z4n=R4n-W3n.dataSet.length+W3n.scroll-A3T;if(this.chart.dataSegment&&this.chart.dataSegment[Z4n]&&this.chart.dataSegment[Z4n].leftOffset){W8k.t02(14);var e3T=W8k.R02(19,19);return W3n.panel.left+Math.floor(this.chart.dataSegment[Z4n].leftOffset+this.micropixels)-e3T;}else{c4n=0;x4n=+"0";if(this.chart.dataSegment&&this.chart.dataSegment[this.chart.dataSegment.length-+"1"]&&this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset){if(this.chart.dataSegment.length<R4n-W3n.dataSet.length+W3n.scroll){W8k.N02(60);var o3T=W8k.R02(10,10);W8k.N02(2);var m3T=W8k.i02(10,12);c4n=this.chart.dataSegment[this.chart.dataSegment.length-o3T].leftOffset-this.chart.dataSegment[this.chart.dataSegment.length-1].candleWidth/m3T;x4n=this.chart.dataSegment.length;}}return c4n+W3n.panel.left+Math.floor((R4n-x4n-W3n.dataSet.length+W3n.scroll-0.5)*this.layout.candleWidth+this.micropixels)-1;}};f3.prototype.pixelFromDate=function(O4n,X4n){W8k.m3();return this.pixelFromTick(this.tickFromDate(O4n,X4n),X4n);};f3.prototype.priceFromPixel=function(S4n,M4n,N4n){var s4n,b4n,k4n,K4n;if(!M4n){M4n=this.chart.panel;}s4n=M4n.chart;b4n=N4n?N4n:M4n.yAxis;S4n=b4n.bottom-S4n;if(!b4n.multiplier){return null;}W8k.j3();k4n=b4n.low+S4n/b4n.multiplier;if(b4n.semiLog){K4n=b4n.logLow+S4n*b4n.logShadow/b4n.height;k4n=Math.pow(10,K4n);}return k4n;};f3.prototype.valueFromPixel=function(F4n,n4n,m4n){var j4n;if(!n4n){n4n=this.whichPanel(F4n);}W8k.j3();j4n=this.priceFromPixel(F4n,n4n,m4n);return j4n;};f3.prototype.valueFromPixelUntransform=function(d4n,y4n,f4n){var P4n;if(!y4n){y4n=this.whichPanel(d4n);}if(!y4n){if(d4n<=("0"|0)){y4n=this.panels[z3.first(this.panels)];}else{y4n=this.panels[z3.last(this.panels)];}}W8k.j3();P4n=this.priceFromPixel(d4n,y4n,f4n);if(y4n.chart.untransformFunc&&y4n.name==y4n.chart.name){P4n=y4n.chart.untransformFunc(this,y4n.chart,P4n);}return P4n;};f3.prototype.pixelFromPriceTransform=function(a4n,z4n,T4n){W8k.m3();if(z4n.chart.transformFunc){a4n=z4n.chart.transformFunc(this,z4n.chart,a4n,T4n);}return this.pixelFromPrice(a4n,z4n,T4n);};f3.prototype.pixelFromPrice=function(V4n,U4n,h4n){var J4n,e4n,g4n,w4n,q4n;W8k.m3();if(!U4n){U4n=this.chart.panel;}J4n=h4n?h4n:U4n.yAxis;e4n=(J4n.high-V4n)*J4n.multiplier;if(J4n.semiLog){W8k.t02(13);g4n=Math.max(V4n,W8k.R02(2147483647,"0"));w4n=Math.log(g4n)/Math.LN10;q4n=J4n.height;e4n=q4n-q4n*(w4n-J4n.logLow)/J4n.logShadow;}e4n+=J4n.top;return e4n;};f3.prototype.pixelFromValueAdjusted=function(D4n,o4n,C4n,H4n){var l4n,G4n;if(this.layout.adj||!this.charts[D4n.name]){return this.pixelFromPriceTransform(C4n,D4n,H4n);}W8k.m3();l4n=Math.round(o4n);if(l4n>0&&l4n<D4n.chart.dataSet.length&&(G4n=D4n.chart.dataSet[l4n].ratio)){W8k.N02(1);return this.pixelFromPriceTransform(W8k.i02(C4n,G4n),D4n,H4n);}return this.pixelFromPriceTransform(C4n,D4n,H4n);};f3.prototype.adjustIfNecessary=function(t4n,A4n,r4n){var Q4n,v4n,P18,k18,d18;if(this.layout.adj){return r4n;}if(!t4n||!this.charts[t4n.name]){return r4n;}Q4n=Math.round(A4n);if(Q4n>+"0"&&Q4n<t4n.chart.dataSet.length&&(v4n=t4n.chart.dataSet[Q4n].ratio)){P18=1899400489;k18=-649771268;d18=2;for(var j18=1;W8k.l08(j18.toString(),j18.toString().length,68772)!==P18;j18++){W8k.N02(2);return W8k.R02(v4n,r4n);}if(W8k.P08(d18.toString(),d18.toString().length,"10854"-0)!==k18){W8k.N02(2);return W8k.R02(v4n,r4n);}W8k.t02(14);return W8k.R02(r4n,v4n);}W8k.j3();return r4n;};f3.prototype.setTransform=function(I4n,i4n,E4n){I4n.transformFunc=i4n;W8k.m3();I4n.untransformFunc=E4n;};f3.prototype.unsetTransform=function(B4n){W8k.j3();delete B4n.transformFunc;delete B4n.untransformFunc;for(var L4n=0;L4n<B4n.dataSet.length;L4n++){B4n.dataSet[L4n].transform=null;}};f3.prototype.undo=function(){var L78,I78;L78="u";L78+="n";L78+="d";L78+="o";if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){I78="st";I78+="x_cross";I78+="hair";this.activeDrawing.abort();this.activeDrawing=null;z3.clearCanvas(this.chart.tempCanvas,this);this.draw();z3.swapClassName(this.controls.crossX,I78,"stx_crosshair_drawing");z3.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing");f3.drawingLine=!!"";}this.runAppend(L78,arguments);};f3.prototype.undoStamp=function(u4n,p4n){this.undoStamps.push(u4n);this.dispatch("undoStamp",{before:u4n,after:p4n});};f3.prototype.undoLast=function(){W8k.j3();if(this.activeDrawing){this.undo();}else{if(this.undoStamps.length){this.drawingObjects=this.undoStamps.pop();this.changeOccurred("vector");this.draw();}}};f3.prototype.addDrawing=function(W4n){var Y4n;Y4n=z3.shallowClone(this.drawingObjects);this.drawingObjects.push(W4n);this.undoStamp(Y4n,z3.shallowClone(this.drawingObjects));};f3.prototype.plotLine=function(X5n,n5n,x5n,c5n,O5n,d5n,Z5n,k5n,b5n){var W78,v78,a5n,J5n,P5n,y5n,s5n,e5n,R5n,h5n,g5n,j5n,m5n,f5n,z5n,M5n,F5n,K5n,U5n,V5n,q5n,T5n,S5n;W78="zig";W78+=" za";W78+="g";v78="un";v78+="defined";if(!b5n){b5n={};}if(b5n.pattern=="none"){return;}if(k5n===!![]){k5n=this.chart.panel;}if(Z5n===null||typeof Z5n==v78){Z5n=this.chart.context;}if(isNaN(X5n)||isNaN(n5n)||isNaN(x5n)||isNaN(c5n)){return;}a5n=0;J5n=this.chart.canvasHeight;P5n=0;y5n=this.right;if(k5n){J5n=k5n.yAxis.bottom;a5n=k5n.yAxis.top;P5n=k5n.left;y5n=k5n.right;}if(d5n=="ray"){s5n=10000000;if(n5n<X5n){s5n=-+"10000000";}R5n={"x0":X5n,"x1":n5n,"y0":x5n,"y1":c5n};e5n=z3.yIntersection(R5n,s5n);n5n=s5n;c5n=e5n;}if(d5n=="line"||d5n=="horizontal"||d5n=="vertical"){s5n=10000000;h5n=-+"10000000";R5n={"x0":X5n,"x1":n5n,"y0":x5n,"y1":c5n};e5n=z3.yIntersection(R5n,s5n);g5n=z3.yIntersection(R5n,h5n);X5n=h5n;n5n=s5n;x5n=g5n;c5n=e5n;}j5n=0.0;m5n=1.0;W8k.t02(2);f5n=W8k.i02(X5n,n5n);W8k.N02(2);z5n=W8k.i02(x5n,c5n);for(var N5n=0;N5n<4;N5n++){if(N5n===0){M5n=-f5n;W8k.N02(2);F5n=-W8k.i02(X5n,P5n);}if(N5n==1){M5n=f5n;W8k.t02(2);F5n=W8k.i02(X5n,y5n);}if(N5n==+"2"){M5n=-z5n;W8k.N02(2);F5n=-W8k.R02(x5n,a5n);}if(N5n==("3"&2147483647)){M5n=z5n;W8k.N02(2);F5n=W8k.i02(x5n,J5n);}W8k.t02(14);K5n=W8k.R02(F5n,M5n);if((c5n||c5n===0)&&M5n===("0"&2147483647)&&F5n<"0"-0){return![];;}if(M5n<+"0"){if(K5n>m5n){return!{};}else if(K5n>j5n){j5n=K5n;};}else if(M5n>0){if(K5n<j5n){return!{};}else if(K5n<m5n){m5n=K5n;};}}W8k.N02(24);U5n=W8k.R02(X5n,f5n,j5n);W8k.N02(24);V5n=W8k.R02(x5n,z5n,j5n);W8k.t02(24);q5n=W8k.R02(X5n,f5n,m5n);W8k.t02(24);T5n=W8k.R02(x5n,z5n,m5n);if(!c5n&&c5n!==0&&!x5n&&x5n!==0){V5n=a5n;T5n=J5n;U5n=R5n.x0;q5n=R5n.x0;if(R5n.x0>y5n){return!"1";}if(R5n.x0<P5n){return![];}}else if(!c5n&&c5n!==0){if(R5n.y0<R5n.y1){T5n=J5n;}else{T5n=a5n;}U5n=R5n.x0;q5n=R5n.x0;if(R5n.x0>y5n){return!{};}if(R5n.x0<P5n){return![];}}Z5n.lineWidth=1.1;if(typeof O5n=="object"){Z5n.strokeStyle=O5n.color;if(O5n.opacity){Z5n.globalAlpha=O5n.opacity;}else{W8k.t02(5);Z5n.globalAlpha=W8k.i02("1",0);}Z5n.lineWidth=parseInt(z3.stripPX(O5n.width));}else{if(!O5n||O5n=="auto"||z3.isTransparent(O5n)){Z5n.strokeStyle=this.defaultColor;}else{Z5n.strokeStyle=O5n;}}if(b5n.opacity){Z5n.globalAlpha=b5n.opacity;}if(b5n.lineWidth){Z5n.lineWidth=b5n.lineWidth;}if(d5n==W78){Z5n.lineWidth=5;}S5n=null;if(b5n.pattern){S5n=b5n.pattern;if(S5n=="solid"){S5n=null;}else if(S5n=="dotted"){S5n=[Z5n.lineWidth,Z5n.lineWidth];}else if(S5n=="dashed"){S5n=[Z5n.lineWidth*+"5",Z5n.lineWidth*5];}}W8k.m3();Z5n.stxLine(U5n,V5n,q5n,T5n,Z5n.strokeStyle,Z5n.globalAlpha,Z5n.lineWidth,S5n);Z5n.globalAlpha=+"1";Z5n.lineWidth=+"1";};f3.prototype.connectTheDots=function(I5n,C5n,b0n,w5n,L5n,l5n){var W5n,Z0n,O0n,X0n,R28,M28,H28,D5n,g78,t5n,G5n,R0n,u5n,v5n,A5n,E5n,B5n,H5n,i5n,Q5n,x0n,c0n,p5n,Y5n;if(!l5n){l5n={};}if(l5n.pattern=="none"){return;}if(L5n===!!{}){L5n=this.chart.panel;}if(w5n===null||typeof w5n=="undefined"){w5n=this.chart.context;}if(I5n.length<4){return;}W5n=0;Z0n=this.chart.canvasHeight;O0n=0;X0n=this.chart.width;if(L5n){Z0n=L5n.yAxis.bottom;W5n=L5n.yAxis.top;}w5n.lineWidth=1.1;if(typeof C5n=="object"){w5n.strokeStyle=C5n.color;R28=-1956381177;M28=-558278596;H28=2;for(var s28=1;W8k.l08(s28.toString(),s28.toString().length,+"47201")!==R28;s28++){if(C5n.opacity){w5n.globalAlpha=C5n.opacity;}else{w5n.globalAlpha=8;}W8k.t02(15);H28+=W8k.i02("2",1260818016);}if(W8k.l08(H28.toString(),H28.toString().length,66837)!==M28){if(C5n.opacity){w5n.globalAlpha=C5n.opacity;}else{w5n.globalAlpha=1;}}w5n.lineWidth=parseInt(z3.stripPX(C5n.width));}else{if(!C5n||C5n=="auto"||z3.isTransparent(C5n)){w5n.strokeStyle=this.defaultColor;}else{w5n.strokeStyle=C5n;}}if(l5n.opacity){w5n.globalAlpha=l5n.opacity;}if(l5n.lineWidth){w5n.lineWidth=l5n.lineWidth;}D5n=null;if(l5n.pattern){g78="s";g78+="o";g78+="lid";D5n=l5n.pattern;if(D5n==g78){D5n=null;}else if(D5n=="dotted"){D5n=[w5n.lineWidth,w5n.lineWidth];}else if(D5n=="dashed"){W8k.t02(61);var v3T=W8k.i02(20,11,44);D5n=[w5n.lineWidth*+"5",w5n.lineWidth*v3T];}}w5n.beginPath();for(var o5n="0"<<1821891744;o5n<I5n.length-2;o5n+=2){t5n=I5n[o5n];W8k.t02(62);G5n=I5n[W8k.i02(o5n,467824096,"1")];W8k.t02(0);R0n=I5n[W8k.i02(2,o5n)];W8k.N02(0);u5n=I5n[W8k.i02(3,o5n)];if(isNaN(t5n)||isNaN(R0n)||isNaN(G5n)||isNaN(u5n)){return;}W8k.N02(2);v5n=W8k.R02(0,"0.0");A5n=+"1.0";W8k.t02(2);E5n=W8k.i02(t5n,R0n);W8k.N02(2);B5n=W8k.i02(G5n,u5n);for(var r5n=0;r5n<4;r5n++){if(r5n===0){H5n=-E5n;W8k.N02(2);i5n=-W8k.R02(t5n,O0n);}if(r5n==+"1"){H5n=E5n;W8k.t02(2);i5n=W8k.R02(t5n,X0n);}if(r5n=="2"-0){H5n=-B5n;W8k.N02(2);i5n=-W8k.R02(G5n,W5n);}if(r5n==+"3"){H5n=B5n;W8k.t02(2);i5n=W8k.i02(G5n,Z0n);}W8k.N02(14);Q5n=W8k.i02(i5n,H5n);if((u5n||u5n===0)&&H5n===("0"&2147483647)&&i5n<0){return!"1";;}if(H5n<+"0"){if(Q5n>A5n){return![];}else if(Q5n>v5n){v5n=Q5n;};}else if(H5n>0){if(Q5n<v5n){return!1;}else if(Q5n<A5n){A5n=Q5n;};}}W8k.N02(24);x0n=W8k.i02(t5n,E5n,v5n);W8k.N02(24);c0n=W8k.i02(G5n,B5n,v5n);W8k.t02(24);p5n=W8k.i02(t5n,E5n,A5n);W8k.t02(24);Y5n=W8k.i02(G5n,B5n,A5n);try{if(D5n){w5n.dashedLineTo(x0n,c0n,p5n,Y5n,D5n);}else{w5n.moveTo(x0n,c0n);w5n.lineTo(p5n,Y5n);}}catch(S0n){;}}W8k.m3();w5n.stroke();w5n.closePath();w5n.globalAlpha=1;w5n.lineWidth=1;};f3.prototype.plotSpline=function(n0n,F0n,N0n,j0n,M0n,s0n,K0n){var S78,y78,k0n,J78;S78="un";S78+="d";S78+="efined";y78="no";y78+="n";y78+="e";if(!K0n){K0n={};}if(K0n.pattern==y78){return;}if(s0n===!0){s0n=this.chart.panel;}if(M0n===null||typeof M0n==S78){M0n=this.chart.context;}M0n.save();M0n.lineWidth=1.1;if(typeof N0n=="object"){M0n.strokeStyle=N0n.color;if(N0n.opacity){M0n.globalAlpha=N0n.opacity;}else{M0n.globalAlpha=1;}M0n.lineWidth=parseInt(z3.stripPX(N0n.width));}else{if(!N0n||N0n=="auto"||z3.isTransparent(N0n)){M0n.strokeStyle=this.defaultColor;}else{M0n.strokeStyle=N0n;}}if(K0n.opacity){M0n.globalAlpha=K0n.opacity;}if(K0n.lineWidth){M0n.lineWidth=K0n.lineWidth;}k0n=null;if(K0n.pattern){J78="das";J78+="h";J78+="e";J78+="d";k0n=K0n.pattern;if(k0n=="solid"){k0n=null;}else if(k0n=="dotted"){k0n=[M0n.lineWidth,M0n.lineWidth];}else if(k0n==J78){W8k.N02(63);var W3T=W8k.i02(12,8,93,1);W8k.t02(2);var g3T=W8k.R02(15,20);k0n=[M0n.lineWidth*W3T,M0n.lineWidth*g3T];}}if(k0n&&M0n.setLineDash){M0n.setLineDash(k0n);M0n.lineDashOffset=0;;}h3(n0n,F0n,M0n);M0n.restore();};f3.prototype.drawingClick=function(y0n,z0n,a0n){var m0n,a28,Q28,l28,P0n,d0n,f0n,Q78,a78,q78;if(!this.activeDrawing){if(!y0n){return;}m0n=f3.drawingTools[this.currentVectorParameters.vectorType];if(!m0n){if(z3.Drawing[this.currentVectorParameters.vectorType]){W8k.t02(33);a28=-W8k.R02(1422624640,"1383866380");Q28=-432753001;l28=2;for(var k28=1;W8k.P08(k28.toString(),k28.toString().length,44049)!==a28;k28++){m0n=z3.Drawing[this.currentVectorParameters.vectorType];f3.registerDrawingTool(this.currentVectorParameters.vectorType,m0n);l28+=2;}if(W8k.l08(l28.toString(),l28.toString().length,77930)!==Q28){m0n=z3.Drawing[this.currentVectorParameters.vectorType];f3.registerDrawingTool(this.currentVectorParameters.vectorType,m0n);}}}if(m0n){this.activeDrawing=new m0n();this.activeDrawing.construct(this,y0n);if(!this.charts[y0n.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;return;}}}}if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw){if(!f3.drawingLine){this.activeDrawing=null;}return;}P0n=this.tickFromPixel(z0n,y0n.chart);d0n=this.panels[this.activeDrawing.panelName];f0n=this.adjustIfNecessary(d0n,P0n,this.valueFromPixelUntransform(a0n,d0n));if(this.preferences.magnet&&this.magnetizedPrice){f0n=this.adjustIfNecessary(d0n,P0n,this.magnetizedPrice);}if(this.activeDrawing.click(this.chart.tempCanvas.context,P0n,f0n)){if(this.activeDrawing){Q78="stx_cro";Q78+="sshair";Q78+="_drawing";a78="stx";a78+="_crosshair";q78="v";q78+="e";q78+="cto";q78+="r";f3.drawingLine=![];z3.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);this.activeDrawing=null;this.adjustDrawings();this.draw();this.changeOccurred(q78);z3.swapClassName(this.controls.crossX,a78,Q78);z3.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing");}}else{this.changeOccurred("drawing");f3.drawingLine=!!{};z3.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair");z3.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair");}return!![];}return![];};f3.prototype.whichPanel=function(J0n){var T0n;W8k.m3();for(var e0n in this.panels){T0n=this.panels[e0n];if(T0n.hidden)continue;if(J0n>T0n.top&&J0n<T0n.bottom){return T0n;}}return null;};f3.prototype.mouseup=function(U0n){var k78,l78,h0n,P78,f58,t58,r58,q0n,V0n;k78="mous";k78+="e";k78+="up";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!!{};this.cancelLongHold=!![];W8k.m3();if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>"250"-0){l78="v";l78+="ecto";l78+="r";this.changeOccurred(l78);z3.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.adjustDrawings();this.draw();return;}else{this.repositioningDrawing=!!0;}}if(this.repositioningBaseline){this.repositioningBaseline=null;W8k.N02(4);var y3T=W8k.R02(14,4,54);this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/y3T;this.draw();return;}h0n=this.userPointerDown;this.userPointerDown=!1;if(!this.displayInitialized){return;}this.grabbingScreen=!{};if(this.openDialog!==""){if(f3.insideChart){z3.unappendClassName(this.container,"stx-drag-chart");}return;}if(this.grabOverrideClick){P78="s";P78+="t";P78+="x-drag-";P78+="chart";this.swipeRelease();z3.unappendClassName(this.container,P78);f58=1301798414;t58=-324126805;r58=2;for(var w58=1;W8k.P08(w58.toString(),w58.toString().length,28421)!==f58;w58++){this.grabOverrideClick=!!{};r58+=2;}if(W8k.P08(r58.toString(),r58.toString().length,47748)!==t58){this.grabOverrideClick=!1;}return;}if(f3.insideChart){z3.unappendClassName(this.container,"stx-drag-chart");}if(f3.resizingPanel){this.releaseHandle({});return;}if(!U0n){U0n=event;}if(U0n.which&&U0n.which>=+"2"||U0n.button&&U0n.button>=2||U0n.ctrlKey){if(this.anyHighlighted&&!this.bypassRightClick){this.rightClickHighlighted();if(U0n.preventDefault&&this.captureTouchEvents){U0n.preventDefault();}U0n.stopPropagation();return!!0;}else{this.dispatch("rightClick",{stx:this,panel:this.currentPanel,x:V0n,y:q0n});return!![];}}if(U0n.clientX<this.left||U0n.clientX>this.right){return;}if(U0n.clientY<this.top||U0n.clientY>this.bottom){return;}q0n=this.backOutY(U0n.clientY);V0n=this.backOutX(U0n.clientX);if(h0n&&(!this.longHoldTookEffect||this.activeDrawing)){this.drawingClick(this.currentPanel,V0n,q0n);}if(!this.activeDrawing&&!this.longHoldTookEffect){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:V0n,y:q0n});}this.runAppend(k78,arguments);};f3.prototype.grabbingHand=function(){if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(z3.touchDevice){return;}z3.appendClassName(this.container,"stx-drag-chart");};f3.prototype.mousedown=function(g0n){var w0n,d78,D0n,H0n,l0n,G0n,o0n,t0n;if(this.runPrepend("mousedown",arguments)){return;}this.grabOverrideClick=!{};if(this.openDialog!==""){return;}if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(!f3.insideChart){return;}if(this.manageTouchAndMouse&&g0n&&g0n.preventDefault&&this.captureTouchEvents){g0n.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!1;this.hasDragged=!!"";this.userPointerDown=!![];if(!g0n){g0n=event;}if(g0n.which&&g0n.which>=2||g0n.button&&g0n.button>=2){return;}w0n=this.currentPanel.chart;if(g0n.clientX>=this.left&&g0n.clientX<this.right&&g0n.clientY>=this.top&&g0n.clientY<=this.bottom){d78="base";d78+="line_delta";if(this.repositioningDrawing){return;}for(var C0n="0"*1;C0n<this.drawingObjects.length;C0n++){D0n=this.drawingObjects[C0n];if(D0n.highlighted){if(this.cloneDrawing){H0n=f3.drawingTools[D0n.name];l0n=new H0n();l0n.reconstruct(this,D0n.serialize());this.drawingObjects.push(l0n);this.repositioningDrawing=l0n;l0n.repositioner=D0n.repositioner;return;}this.repositioningDrawing=D0n;return;}}if((this.layout.chartType==d78||this.layout.chartType=="baseline_delta_mountain")&&w0n.baseline.userLevel!==!"1"){G0n=this.valueFromPixelUntransform(this.cy-5,this.currentPanel);o0n=this.valueFromPixelUntransform(this.cy+5,this.currentPanel);t0n=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,+"10");if(w0n.baseline.actualLevel<G0n&&w0n.baseline.actualLevel>o0n&&this.cx>t0n){this.repositioningBaseline={lastDraw:Date.now()};return;}}this.drawingClick(this.currentPanel,this.cx,this.cy);if(this.activeDrawing&&this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!"";this.yToleranceBroken=!!0;if(!g0n){g0n=event;}this.grabStartX=g0n.clientX;this.grabStartY=g0n.clientY;this.grabStartScrollX=w0n.scroll;this.grabStartScrollY=w0n.panel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;setTimeout(function(r0n){return function(){W8k.m3();r0n.grabbingHand();};}(this),100);this.swipeStart(w0n);if(this.longHoldTime){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};f3.prototype.startLongHoldTimer=function(){var Q0n;Q0n=this;this.cancelLongHold=!!0;if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}this.longHoldTimeout=setTimeout(function(){var t28,r28,U28;if(Q0n.cancelLongHold){return;}Q0n.dispatch("longhold",{stx:Q0n,panel:Q0n.currentPanel,x:Q0n.cx,y:Q0n.cy});t28=-1996892048;r28=179765826;U28=2;for(var Z28=1;W8k.P08(Z28.toString(),Z28.toString().length,+"31281")!==t28;Z28++){W8k.j3();Q0n.longHoldTookEffect=![];U28+=2;}if(W8k.P08(U28.toString(),U28.toString().length,55041)!==r28){W8k.j3();Q0n.longHoldTookEffect=!!{};}W8k.j3();Q0n.longHoldTookEffect=!!{};},this.longHoldTime);};f3.prototype.changeVectorType=function(v0n){this.currentVectorParameters.vectorType=v0n;if(f3.drawingLine){this.undo();}W8k.m3();this.setCrosshairColors();if(f3.insideChart){this.doDisplayCrosshairs();}};f3.prototype.rightClickOverlay=function(I0n,i0n){var n78,A0n;n78="r";n78+="i";n78+="ghtCli";n78+="ckOverlay";if(this.runPrepend("rightClickOverlay",arguments)){return;}A0n=this.overlays[I0n];if(A0n.editFunction){A0n.editFunction(i0n);}else{this.removeOverlay(I0n);}this.runAppend(n78,arguments);};f3.prototype.removeOverlay=function(B0n){var p88,j78,L0n,E0n,p0n;p88="removeOver";p88+="l";p88+="ay";j78="removeOve";j78+="rl";j78+="ay";if(this.runPrepend(j78,arguments)){return;}for(var u0n in this.overlays){E0n=this.overlays[u0n];if(E0n.inputs.Field&&E0n.inputs.Field.indexOf(B0n)!=-1){this.removeOverlay(E0n.name);}else if(E0n.name==B0n){L0n=E0n;}}p0n=this.layout.studies[B0n];W8k.j3();z3.deleteRHS(z3.Studies.studyPanelMap,p0n);if(L0n){this.cleanupRemovedStudy(L0n);}delete this.overlays[B0n];this.displaySticky();this.createDataSet();this.changeOccurred("layout");this.runAppend(p88,arguments);};f3.prototype.addSeries=function(Z6n,Y0n,x6n){var W0n,X6n,c6n,b6n,S6n,R6n;function M6n(y6n,m6n){var j6n,f88,Y88;if(m6n.parameters.color){j6n=y6n.getSeriesRenderer("_generic_series");if(!j6n){f88="_gene";f88+="ric_series";Y88="l";Y88+="e";Y88+="gacy";j6n=y6n.setSeriesRenderer(new z3.Renderer.Lines({params:{panel:m6n.parameters.panel,type:Y88,name:f88,overChart:!!"1"}}));}j6n.attachSeries(Z6n,m6n.parameters).ready();}}if(this.runPrepend("addSeries",arguments)){return;}function O6n(n6n){var F6n,s6n,s58,F58,A58,N6n,K6n,B88;F6n=0;s6n=0;W8k.N02(2);s58=-W8k.i02(0,"2051368585");F58=-501348412;A58=2;for(var o58=1;W8k.P08(o58.toString(),o58.toString().length,25186)!==s58;o58++){A58+=2;}if(W8k.l08(A58.toString(),A58.toString().length,40455)!==F58){}while(Y0n.data&&F6n<n6n.masterData.length&&s6n<Y0n.data.length){B88="unde";B88+="fin";B88+="e";B88+="d";N6n=Y0n.data[s6n];K6n=n6n.masterData[F6n];if(!N6n.DT||typeof N6n.DT==B88){N6n.DT=z3.strToDateTime(N6n.Date);}if(N6n.DT.getTime()==K6n.DT.getTime()){if(typeof N6n.Value!="undefined"){K6n[Z6n]=N6n.Value;}else if(n6n.layout.adj&&typeof N6n.Adj_Close!="undefined"){K6n[Z6n]=N6n.Adj_Close;}else{K6n[Z6n]=N6n.Close;}s6n++;F6n++;continue;}if(N6n.DT<K6n.DT){if(Y0n.forceData){n6n.masterData.splice(F6n,0,{DT:N6n.DT});continue;}s6n++;}else{F6n++;}}if(Y0n.forceData&&F6n>=n6n.masterData.length){while(Y0n.data&&s6n<Y0n.data.length){N6n=Y0n.data[s6n];if(!N6n.DT||typeof N6n.DT=="undefined"){N6n.DT=z3.strToDateTime(N6n.Date);}K6n={DT:N6n.DT};if(typeof N6n.Value!="undefined"){K6n[Z6n]=N6n.Value;}else if(n6n.layout.adj&&typeof N6n.Adj_Close!="undefined"){K6n[Z6n]=N6n.Adj_Close;}else{K6n[Z6n]=N6n.Close;}n6n.masterData.push(K6n);s6n++;}}}if(!Y0n){Y0n={};}if(!Y0n.chartName){Y0n.chartName=this.chart.name;}if(!Y0n.symbolObject){Y0n.symbolObject={symbol:Z6n};}W0n={parameters:z3.clone(Y0n),yValueCache:[],display:Z6n};if("display"in W0n.parameters){W0n.display=W0n.parameters.display;}if(W0n.parameters.isComparison){W0n.parameters.shareYAxis=!!"1";}if(!W0n.parameters.chartType&&W0n.parameters.color){W0n.parameters.chartType="line";}if(W0n.parameters.chartType&&W0n.parameters.chartType!="mountain"){W0n.parameters.chartType="line";}if(!W0n.parameters.panel){W0n.parameters.panel=this.chart.panel.name;}X6n=this.charts[Y0n.chartName];c6n=this;if(X6n){X6n.series[Z6n]=W0n;}if(Y0n.isComparison){c6n.setComparison(!![],X6n);}b6n=!"1";if(Y0n.data&&!Y0n.data.useDefaultQuoteFeed){if(this.masterData){O6n(this);;}}else{if(this.quoteDriver){S6n=this.quoteDriver;R6n=S6n.makeParams(Z6n,Y0n.symbolObject,this.chart);R6n.startDate=this.chart.masterData[0].DT;R6n.endDate=this.chart.masterData[this.chart.masterData.length-1].DT;function k6n(P6n){if(!P6n.error&&P6n.error!==0){Y0n.data=P6n.quotes;O6n(c6n);M6n(c6n,W0n);}if(!c6n.currentlyImporting){c6n.dispatch("symbolChange",{stx:c6n,symbol:R6n.symbol,symbolObject:R6n.symbolObject});}if(x6n){x6n(P6n.error,W0n);}c6n.runAppend("addSeries",arguments);}if(Y0n.symbolObject){R6n.symbolObject=Y0n.symbolObject;}b6n=!!1;if(R6n.stx.isEquationChart(R6n.symbol)){z3.fetchEquationChart(R6n,k6n);}else{S6n.quoteFeed.fetch(R6n,k6n);}}else{W0n.addSeriesData=O6n;}}if(!b6n){M6n(c6n,W0n);if(x6n){x6n(null,W0n);}this.runAppend("addSeries",arguments);}return W0n;};f3.prototype.isEquationChart=function(d6n){if(!this.allowEquations||!z3.computeEquationChart){return![];}W8k.j3();if(d6n&&d6n[0]==((4920,2850)!=404.42?8.04!=2154?"=":0x23a7:(612.18,"r"))){return!"";}return!{};};f3.prototype.deleteSeries=function(z6n,f6n){var r88,t88;r88="delete";r88+="Se";r88+="ries";t88="del";t88+="ete";t88+="Series";if(this.runPrepend(t88,arguments)){return;}W8k.m3();if(!f6n){f6n=this.chart;}delete f6n.series[z6n];if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend(r88,arguments);};f3.prototype.removeSeries=function(T6n,a6n){var V6n,J6n,U6n,q6n;if(this.runPrepend("removeSeries",arguments)){return;}if(!a6n){a6n=this.chart;}for(var h6n in a6n.seriesRenderers){J6n=a6n.seriesRenderers[h6n];for(var e6n=J6n.seriesParams.length-1;e6n>=0;e6n--){U6n=J6n.seriesParams[e6n];if(!U6n.permanent&&U6n.field===T6n){V6n=U6n.symbolObject;J6n.removeSeries(T6n);}}}this.deleteSeries(T6n,a6n);q6n=![];for(var g6n in a6n.series){if(a6n.series[g6n].parameters.isComparison){q6n=!![];}}if(!q6n){this.setComparison(!{},a6n);}this.createDataSet();this.draw();this.dispatch("symbolChange",{stx:this,symbol:T6n,symbolObject:V6n,action:"remove-series"});this.runAppend("removeSeries",arguments);};f3.prototype.rendererAction=function(D6n,l6n){var Z88,U88,w88,w6n;Z88="rendererActi";Z88+="on";U88="rend";U88+="ere";U88+="rA";U88+="ction";if(this.runPrepend(U88,arguments)){return;}W8k.m3();for(var C6n in D6n.seriesRenderers){w88="calc";w88+="ulate";w6n=D6n.seriesRenderers[C6n];if(w6n.params.overChart&&l6n=="underlay")continue;if(!w6n.params.overChart&&l6n=="overlay")continue;if(!this.panels[w6n.params.panel])continue;if(this.panels[w6n.params.panel].chart!==D6n)continue;if(l6n==w88){w6n.performCalculations();}else{w6n.draw();if(w6n.cb){w6n.cb(w6n.colors);}}}this.runAppend(Z88,arguments);};f3.prototype.drawSeries=function(L6n,z9n,y9n){var c9n,e9n,J18,q18,a18,E6n,O88,E88,T88,H6n,I6n,u6n,F9n,U9n,P9n,O9n,Q6n,q9n,s9n,K9n,T9n,S9n,R9n,k9n,G6n,o6n,j9n,V9n,A6n,m9n,B6n,X9n,Z9n,x9n,M9n,t6n,r6n,J9n,f9n,Y6n,a9n,p6n,D88,V88,D9n,w9n,g9n,h9n,n9n,i6n,c88,z88,x88,G88,b88,h88,u88,X88,N88,i88,R88,d9n;if(this.runPrepend("drawSeries",arguments)){return;}c9n=L6n.dataSegment;e9n={};J18=+"2016588422";q18=-1417176765;a18=+"2";for(var l18=+"1";W8k.l08(l18.toString(),l18.toString().length,14511)!==J18;l18++){E6n=null;a18+=2;}if(W8k.l08(a18.toString(),a18.toString().length,43821)!==q18){E6n=+"1";}if(!z9n){z9n=L6n.series;}for(var W6n in z9n){O88="l";O88+="i";O88+="n";O88+="e";E88="g";E88+="ap";T88="s";T88+="tro";T88+="ke";E6n=z9n[W6n];H6n=E6n.parameters;if(!H6n.chartType)continue;I6n=L6n.panel;if(H6n.panel){I6n=this.panels[H6n.panel];}if(!I6n)continue;u6n=y9n?y9n:I6n.yAxis;F9n=[H6n.minimum,H6n.maximum];if(!H6n.minimum&&H6n.minimum!==0||!H6n.maximum&&H6n.maximum!==+"0"){U9n=z3.minMax(c9n,W6n);if(!H6n.minimum&&H6n.minimum!==0){F9n[0]=U9n[0];}if(!H6n.maximum&&H6n.maximum!==0){F9n[1]=U9n[1];}}P9n=F9n[0];O9n=u6n.top;Q6n=u6n.bottom;W8k.t02(2);q9n=W8k.i02(O9n,Q6n);s9n=H6n.marginTop;K9n=H6n.marginBottom;if(s9n){O9n=s9n>1?O9n+s9n:O9n+q9n*s9n;}if(K9n){Q6n=K9n>+"1"?Q6n-K9n:Q6n-q9n*K9n;}W8k.t02(9);var S3T=W8k.R02(18,14,5);T9n=(Q6n-O9n)/(F9n[S3T]-P9n);S9n=![];R9n=null;k9n=null;G6n=null;o6n=null;j9n=null;V9n=null;A6n=this.layout.candleWidth;m9n=this.chart.context;B6n=H6n.type=="step"||H6n.subtype=="step";X9n=H6n.color;if(!X9n){X9n=this.defaultColor;}Z9n=H6n.width;if(!Z9n||isNaN(Z9n)||Z9n<1){Z9n=1;}if(E6n.highlight||E6n.parameters.highlight){Z9n*=2;}this.startClip(I6n.name);seriesPlotter=new z3.Plotter();seriesPlotter.newSeries("line",T88,X9n,1,Z9n);if(H6n.gaps&&H6n.gaps.color){seriesPlotter.newSeries(E88,"stroke",H6n.gaps.color,"1"-0,Z9n);}else{seriesPlotter.newSeries("gap","stroke",X9n,1,Z9n);}E6n.yValueCache=new Array(c9n.length);x9n=E6n.yValueCache;M9n=null;t6n=null;r6n=[];J9n=E6n.parameters.shareYAxis&&!y9n;f9n=E6n.parameters.shareYAxis||y9n;W8k.t02(64);var J3T=W8k.R02(16,484,20,9,16);Y6n=I6n.left-(B6n?J3T:0.5)*A6n+this.micropixels-("1"&2147483647);a9n=Y6n;for(var v6n=0;v6n<c9n.length;v6n++){W8k.t02(14);Y6n+=W8k.i02(A6n,2);if(B6n){W8k.N02(14);Y6n+=W8k.R02(A6n,2);}A6n=this.layout.candleWidth;if(!B6n){W8k.t02(14);Y6n+=W8k.R02(A6n,2);}if(G6n!==null&&o6n!==null){if(!t6n||H6n.gaps){r6n.push([G6n,o6n]);}}p6n=c9n[v6n];if(!p6n)continue;if(p6n.candleWidth){if(!B6n){W8k.N02(4);var q3T=W8k.R02(12,2,22);Y6n+=(p6n.candleWidth-A6n)/q3T;}A6n=p6n.candleWidth;}if(p6n.transform&&J9n){p6n=p6n.transform;}k9n=p6n[W6n];if(!k9n&&k9n!==0){if(B6n||H6n.gaps){x9n[v6n]=o6n;;}if(t6n===![]){if(B6n){G6n+=A6n;seriesPlotter.lineTo("line",G6n,o6n);}seriesPlotter.moveTo("gap",G6n,o6n);}t6n=!![];if(G6n&&!H6n.gaps){r6n.push([G6n,Q6n]);}continue;}if(!B6n&&R9n&&R9n!=v6n-1){j9n=G6n;V9n=o6n;}else{j9n=null;}G6n=Y6n;if(G6n<=I6n.right){M9n=p6n;}if(this.extendLastTick&&v6n==c9n.length-1){W8k.N02(14);G6n+=W8k.R02(A6n,2);}if(B6n&&S9n){if(t6n&&H6n.gaps&&H6n.gaps.pattern){seriesPlotter.dashedLineTo("gap",G6n,o6n,H6n.gaps.pattern);}else if(t6n&&!H6n.gaps){r6n.push([G6n,Q6n]);seriesPlotter.moveTo("gap",G6n,o6n);}else if(!t6n&&H6n.pattern){seriesPlotter.dashedLineTo("line",G6n,o6n,H6n.pattern);}else{D88="lin";D88+="e";V88="g";V88+="ap";seriesPlotter.lineTo(t6n?V88:D88,G6n,o6n);}r6n.push([G6n,o6n]);}if(f9n){o6n=this.pixelFromPrice(k9n,I6n,u6n);}else{W8k.N02(65);o6n=W8k.R02(k9n,Q6n,P9n,T9n);}if(j9n!==null){D9n={x0:j9n,x1:G6n,y0:V9n,y1:o6n};for(;R9n!=v6n;R9n++){w9n=I6n.left+Math.floor(Y6n+(R9n-v6n+0.5)*A6n)+this.micropixels-1;g9n=z3.yIntersection(D9n,w9n);x9n[R9n]=g9n;}}x9n[v6n]=o6n;if(v6n&&r6n.length&&S9n&&!x9n[v6n-1]&&x9n[v6n-1]!==0){for(var N9n=v6n-1;N9n>=0;N9n--){if(x9n[N9n])break;W8k.N02(66);var Q3T=W8k.i02(21,2,18);x9n[N9n]=r6n[r6n.length-Q3T][1];}}if(!S9n){S9n=!!{};h9n=L6n.dataSet.length-L6n.scroll;if(h9n<=0){seriesPlotter.moveTo(t6n?"gap":"line",G6n,o6n);}else{n9n=L6n.dataSet[h9n];if(n9n.transform&&J9n){n9n=n9n.transform;}i6n=n9n[W6n];if(f9n){i6n=this.pixelFromPrice(i6n,I6n,u6n);}else{W8k.N02(65);i6n=W8k.R02(i6n,Q6n,P9n,T9n);}i6n=Math.min(Math.max(i6n,O9n),Q6n);if(isNaN(i6n)){c88="g";c88+="a";c88+="p";seriesPlotter.moveTo(t6n?c88:"line",G6n,o6n);}else{z88="li";z88+="ne";seriesPlotter.moveTo(t6n?"gap":z88,a9n,i6n);if(B6n){if(t6n){x88="ga";x88+="p";if(H6n.gaps){seriesPlotter.lineTo(x88,G6n,i6n);}else{seriesPlotter.moveTo("gap",G6n,i6n);}}else{seriesPlotter.lineTo("line",G6n,i6n);}}if(!t6n||H6n.gaps){if(B6n){r6n.unshift([G6n,i6n]);}r6n.unshift([a9n,i6n]);}if(t6n&&H6n.gaps&&H6n.gaps.pattern){seriesPlotter.dashedLineTo("gap",G6n,o6n,H6n.gaps.pattern);}else if(t6n&&!H6n.gaps){r6n.unshift([G6n,Q6n]);r6n.unshift([a9n,Q6n]);seriesPlotter.moveTo("gap",G6n,o6n);}else if(!t6n&&H6n.pattern){G88="l";G88+="in";G88+="e";seriesPlotter.dashedLineTo(G88,G6n,o6n,H6n.pattern);}else{b88="l";b88+="i";b88+="n";b88+="e";seriesPlotter.lineTo(t6n?"gap":b88,G6n,o6n);}}}}else{if(t6n&&H6n.gaps&&H6n.gaps.pattern){seriesPlotter.dashedLineTo("gap",G6n,o6n,H6n.gaps.pattern);}else if(t6n&&!H6n.gaps){h88="g";h88+="ap";r6n.push([G6n,Q6n]);seriesPlotter.moveTo(h88,G6n,o6n);}else if(!t6n&&H6n.pattern){seriesPlotter.dashedLineTo("line",G6n,o6n,H6n.pattern);if(B6n&&v6n==c9n.length-1){W8k.t02(0);seriesPlotter.dashedLineTo("line",W8k.i02(A6n,G6n),o6n,H6n.pattern);}}else{u88="li";u88+="n";u88+="e";seriesPlotter.lineTo(t6n?"gap":u88,G6n,o6n);if(B6n&&v6n==c9n.length-1&&!t6n){W8k.t02(0);seriesPlotter.lineTo("line",W8k.i02(A6n,G6n),o6n);}}}R9n=v6n;if(t6n){seriesPlotter.moveTo("line",G6n,o6n);}t6n=!!0;}if(t6n){G6n=I6n.left+Math.floor(Y6n+A6n+this.micropixels)-1;if(this.extendLastTick){W8k.N02(14);G6n+=W8k.i02(A6n,2);}if(H6n.gaps&&H6n.gaps.pattern){if(S9n){seriesPlotter.dashedLineTo("gap",G6n,o6n,H6n.gaps.pattern);}}else if(H6n.gaps){seriesPlotter.lineTo("gap",G6n,o6n);}}if(E6n.parameters.chartType=="mountain"&&r6n.length){X88="m";X88+="oun";X88+="ta";X88+="in";N88="mountai";N88+="n";r6n.push([G6n,t6n&&!H6n.gaps?Q6n:o6n]);if(!H6n.fillStyle){H6n.fillStyle=X9n;if(!H6n.fillOpacity){H6n.fillOpacity=0.3;}}seriesPlotter.newSeries(N88,"fill",H6n.fillStyle,H6n.fillOpacity);for(var b9n=+"0";b9n<r6n.length;b9n++){i88="move";i88+="To";seriesPlotter[b9n?"lineTo":i88]("mountain",r6n[b9n]["0">>1454486592],Math.min(Q6n,r6n[b9n]["1"^0]));}seriesPlotter.lineTo("mountain",G6n,Q6n);seriesPlotter.lineTo(X88,r6n[0][0],Q6n);seriesPlotter.draw(m9n,"mountain");}seriesPlotter.draw(m9n,"gap");seriesPlotter.draw(m9n,O88);this.endClip();if(f9n&&M9n){R88="seri";R88+="e";R88+="s";if(u6n.priceFormatter){txt=u6n.priceFormatter(this,I6n,M9n[W6n],u6n);}else{txt=this.formatYAxisPrice(M9n[W6n],I6n,null,u6n);}this.yAxisLabels.push({src:R88,"args":[I6n,txt,this.pixelFromPrice(M9n[W6n],I6n,u6n),X9n,null,null,u6n]});}d9n=E6n.parameters.display;if(!d9n){d9n=E6n.display;}e9n[W6n]={color:X9n,display:d9n};;}W8k.m3();if(L6n.legend&&E6n&&E6n.useChartLegend){if(L6n.legendRenderer){L6n.legendRenderer(this,{"chart":L6n,"legendColorMap":e9n,"coordinates":{x:L6n.legend.x,y:L6n.legend.y+L6n.panel.yAxis.top}});}}this.runAppend("drawSeries",arguments);};f3.prototype.isDailyInterval=function(l9n){var H88,M88;H88="mo";H88+="n";H88+="th";M88="d";M88+="ay";if(l9n==M88){return!!{};}if(l9n=="week"){return!![];}if(l9n==H88){return!![];}W8k.j3();return!!"";};f3.prototype.setPeriodicityV2=function(Q9n,r9n,H9n,o9n){var K88,W9n,u9n,B9n,v9n,i9n,C9n,L9n,t9n,A9n,E9n,p9n,Y9n;K88="l";K88+="ayo";K88+="u";K88+="t";if(this.runPrepend("setPeriodicityV2",arguments)){return;}if(typeof H9n==="function"){o9n=H9n;H9n=null;}W9n=![];if(!r9n){return;}if(!Q9n){return;}delete this.layout.setSpan;if(r9n=="year"){r9n="month";if(!Q9n){Q9n=1;}W8k.t02(1);Q9n=W8k.i02(Q9n,12);}u9n=this.isDailyInterval(r9n);B9n=this.isDailyInterval(this.layout.interval);if(u9n){H9n=null;}else if(r9n=="tick"){H9n=null;}else if(!H9n){H9n="minute";}v9n=![];if(this.chart.symbol){if(this.dontRoll||!B9n){if(this.layout.interval!=r9n){v9n=!!{};}}else{if(u9n!=B9n){v9n=!!{};}}if(H9n!=this.layout.timeUnit){v9n=!![];};}this.layout.periodicity=Q9n;this.layout.interval=r9n;this.layout.timeUnit=H9n;if(v9n){this.changeOccurred("layout");if(this.quoteDriver){for(var G9n in this.charts){if(this.charts[G9n].symbol){if(this.displayInitialized){this.quoteDriver.newChart({symbol:this.charts[G9n].symbol,symbolObject:this.charts[G9n].symbolObject,chart:this.charts[G9n]},o9n);}else{this.newChart(this.charts[G9n].symbol,null,this.charts[G9n],o9n);}}}return;}else if(this.dataCallback){this.dataCallback();if(o9n){o9n(null);}return;}else{console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");return;}}for(i9n in this.charts){C9n=this.charts[i9n];t9n=Math.round(C9n.maxTicks/+"2");this.setCandleWidth(this.layout.candleWidth,C9n);A9n=!"";E9n=![];if(C9n.scroll<=C9n.maxTicks){A9n=![];}else if(C9n.dataSegment&&!C9n.dataSegment[t9n]){A9n=!1;E9n=C9n.scroll-C9n.dataSet.length;;}if(A9n&&C9n.dataSegment&&C9n.dataSegment.length>0){if(C9n.maxTicks<(Math.round(this.chart.width/this.layout.candleWidth-0.499)-1)/2){W8k.t02(6);var P3T=W8k.i02(9,18,162);t9n=C9n.dataSegment.length-P3T;}if(t9n>=C9n.dataSegment.length){L9n=C9n.dataSegment[C9n.dataSegment.length-1].DT;W8k.N02(67);var k3T=W8k.R02(17,12,11,6,15);t9n=C9n.dataSegment.length-k3T;}else{L9n=C9n.dataSegment[t9n].DT;}}this.createDataSet();if(A9n){if(C9n.dataSegment&&C9n.dataSegment.length>+"0"){for(var I9n=C9n.dataSet.length-1;I9n>=0;I9n--){p9n=C9n.dataSet[I9n].DT;if(p9n.getTime()<L9n.getTime()){C9n.scroll=C9n.dataSet.length-I9n+t9n;break;}}}}else if(!E9n){Y9n=Math.round(this.preferences.whitespace/this.layout.candleWidth);C9n.scroll=C9n.maxTicks-Y9n;;}else{C9n.scroll=C9n.dataSet.length+E9n;;}}if(this.displayInitialized){this.draw();}this.changeOccurred(K88);W8k.j3();if(this.quoteDriver){for(i9n in this.charts){C9n=this.charts[i9n];if(C9n.symbol&&C9n.moreAvailable){this.quoteDriver.checkLoadMore(C9n);}}}if(o9n){o9n(null);}this.runAppend("setPeriodicityV2",arguments);};f3.prototype.drawVectors=function(){var c7n,R7n,Z7n,x7n,X7n;W8k.m3();if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!0;if(!this.chart.hideDrawings){c7n={};for(Z7n=0;Z7n<this.drawingObjects.length;Z7n++){x7n=this.drawingObjects[Z7n];R7n=x7n.panelName;if(!this.panels[x7n.panelName])continue;if(!c7n[R7n]){c7n[R7n]=[];}c7n[R7n].push(x7n);}for(R7n in c7n){this.startClip(R7n);X7n=c7n[R7n];for(Z7n=0;Z7n<X7n.length;Z7n++){X7n[Z7n].render(this.chart.context);}this.endClip();}}this.runAppend("drawVectors",arguments);};f3.prototype.consolidatedQuote=function(O7n,k7n,N7n,K7n,d7n,s7n,m7n){var o88,F7n,M7n,b7n,S7n,j7n;o88="w";o88+="e";function y7n(U7n,q7n){var A88,J7n,e7n;A88="w";A88+="eek";J7n=O7n[U7n-1].DT;W8k.m3();e7n=O7n[U7n].DT;if(q7n==A88){if(e7n.getDay()<J7n.getDay()){return!!{};}}else if(q7n=="month"){if(e7n.getMonth()!=J7n.getMonth()){return!0;}}else{if(e7n.getDay()!=J7n.getDay()){return!![];}}return!{};}o88+="e";o88+="k";if(k7n<0){return null;}F7n=[O7n,k7n,N7n,K7n,s7n,m7n];if(this.runPrepend("consolidatedQuote",F7n)){return null;}if(!s7n&&this.dontRoll){s7n=!!1;}function n7n(T7n,f7n){var F88,s88,z7n;F88="L";F88+="ow";s88="H";s88+="i";s88+="gh";z7n=1;if(T7n.layout.adj&&O7n[f7n].Adj_Close){z7n=O7n[f7n].Adj_Close/O7n[f7n].Close;}if(s88 in O7n[f7n])if(O7n[f7n].High*z7n>M7n.High){M7n.High=O7n[f7n].High*z7n;}if(F88 in O7n[f7n])if(O7n[f7n].Low*z7n<M7n.Low){M7n.Low=O7n[f7n].Low*z7n;}M7n.Volume+=O7n[f7n].Volume;if("Close"in O7n[f7n]&&O7n[f7n].Close!==null){M7n.Close=O7n[f7n].Close*z7n;}M7n.ratio=z7n;for(var a7n in O7n[f7n]){if(!M7n[a7n]){M7n[a7n]=O7n[f7n][a7n];}}}M7n=O7n[k7n];b7n=k7n;function P7n(w7n,l7n,C7n,H7n,D7n){var e88,h7n,V7n,g7n;e88="se";e88+="cond";W8k.N02(1);h7n=W8k.i02(H7n,C7n);V7n=new Date(O7n[w7n].DT);if(D7n==="millisecond"){V7n.setMilliseconds(V7n.getMilliseconds()+h7n);}else if(D7n===e88){V7n.setSeconds(V7n.getSeconds()+h7n);}else{V7n.setMinutes(V7n.getMinutes()+h7n);}W8k.j3();g7n=O7n[l7n].DT;if(m7n){if(O7n[w7n].DT.getMinutes()%h7n){if(g7n.getMinutes()%h7n===0){return!!1;}}}if(g7n.getTime()>=V7n.getTime()){return!![];}return![];}if((K7n==o88||K7n=="month")&&!s7n){for(S7n=1;S7n<=N7n;S7n++){while(b7n+1<O7n.length&&!y7n(b7n+("1"&2147483647),K7n)){b7n++;n7n(this,b7n);}if(S7n!=N7n){b7n++;if(b7n<O7n.length){n7n(this,b7n);}}}}else if(!this.isDailyInterval(K7n)&&K7n!="tick"&&N7n>1){for(S7n=1;S7n<N7n;S7n++){W8k.N02(0);b7n=W8k.R02(S7n,k7n);if(b7n<O7n.length&&P7n(k7n,b7n,N7n,K7n,d7n)){b7n--;break;}if(b7n>=0&&b7n<O7n.length){n7n(this,b7n);}}}else{for(S7n=1;S7n<N7n;S7n++){W8k.N02(0);b7n=W8k.R02(S7n,k7n);if(b7n>=+"0"&&b7n<O7n.length){n7n(this,b7n);}}}for(S7n in this.plugins){j7n=this.plugins[S7n];if(j7n.consolidate){j7n.consolidate(O7n,k7n,b7n,M7n);}}this.runAppend("consolidatedQuote",F7n);return{"quote":M7n,"position":b7n+1};};f3.NONE=+"0";f3.CLOSEUP=1;f3.CLOSEDOWN=2;f3.CLOSEEVEN=4;f3.CANDLEUP=8;f3.CANDLEDOWN=16;f3.CANDLEEVEN=32;f3.prototype.displayChart=function(t7n){var d88,Q88,q88,y88,W88,L88,C88,c8q,Q7n,r7n,G7n,m88,I88,v88,Y7n,W7n,L7n,u7n,g88,S88,k8q,J88,a88,Z8q,R8q,X8q,S8q,b8q,O8q,k88,P88,l88,E7n,i7n,n88,o7n,B98,p98,A7n,j88,I7n,B7n,x8q,Y98,F28,A28,e28,w98,U98,r98,f98,t98;d88="bas";d88+="elin";d88+="e_delta";Q88="ca";Q88+="nd";Q88+="l";Q88+="e";q88="h";q88+="ollow_candle";y88="c";y88+="olored_line";W88="b";W88+="a";W88+="r";L88="m";L88+="oun";L88+="tain";C88="n";C88+="o";C88+="n";C88+="e";c8q=this.layout.candleWidth-t7n.tmpWidth<2&&t7n.tmpWidth<=3;if(this.runPrepend("displayChart",arguments)){return;}this.chart.baseLegendColors=[];Q7n=this.layout.chartType;r7n=null;W8k.m3();if(t7n.customChart){if(t7n.customChart.chartType){Q7n=t7n.customChart.chartType;}if(t7n.customChart.colorFunction){r7n=t7n.customChart.colorFunction;}}this.controls.baselineHandle.style.display=C88;G7n=t7n.panel;if(this.layout.aggregationType=="kagi"){this.drawKagiSquareWave(G7n,"stx_kagi_up","stx_kagi_down");this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_up"));this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_down"));}else if(this.layout.aggregationType=="pandf"){m88="stx_";m88+="pand";m88+="f";m88+="_up";this.drawPointFigureChart(G7n,m88,+"4390"===5559?+"1.73e+3":"X");this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_up"));this.drawPointFigureChart(G7n,"stx_pandf_down","O");this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_down"));}else if(Q7n=="line"){I88="stx_";I88+="line_chart";this.drawLineChart(G7n,I88);}else if(Q7n==L88){this.startClip(G7n.name);this.chart.baseLegendColors=null;this.drawMountainChart(G7n);this.endClip();}else if(Q7n=="colored_mountain"){v88="stx_li";v88+="ne";v88+="_char";v88+="t";this.startClip(G7n.name);Y7n=this.getCanvasColor("stx_line_up");W7n=this.getCanvasColor("stx_line_down");L7n=this.getCanvasColor(v88);if(!r7n){r7n=function(K8q,N8q,s8q){if(N8q.Close>N8q.iqPrevClose){return Y7n;}else if(N8q.Close<N8q.iqPrevClose){return W7n;}else{return L7n;}return null;};}u7n=this.drawMountainChart(G7n,"stx_colored_mountain_chart",r7n);for(var p7n in u7n){this.chart.baseLegendColors.push(p7n);}this.endClip();}else if(Q7n=="wave"){this.drawWaveChart(G7n);}else if(Q7n==W88){g88="stx_bar_cha";g88+="rt";this.startClip(G7n.name);this.drawBarChartHighPerformance(G7n,g88);this.endClip();}else if(Q7n==y88){S88="s";S88+="tx_line";S88+="_up";this.startClip(G7n.name);Y7n=this.getCanvasColor(S88);W7n=this.getCanvasColor("stx_line_down");L7n=this.getCanvasColor("stx_line_chart");if(!r7n){r7n=function(F8q,n8q,j8q){if(n8q.Close>n8q.iqPrevClose){return Y7n;}else if(n8q.Close<n8q.iqPrevClose){return W7n;}else{return L7n;}return null;};}u7n=this.drawLineChart(G7n,"stx_line_chart",r7n);for(var p7n in u7n){this.chart.baseLegendColors.push(p7n);}this.endClip();}else if(Q7n=="colored_bar"){this.startClip(G7n.name);if(r7n){k8q=this.drawBarChart(G7n,"stx_bar_chart",r7n);for(var M8q in k8q){this.chart.baseLegendColors.push(M8q);}}else{J88="stx_bar_d";J88+="own";this.drawBarChartHighPerformance(G7n,"stx_bar_up",f3.CLOSEUP);this.drawBarChartHighPerformance(G7n,"stx_bar_down",f3.CLOSEDOWN);this.drawBarChartHighPerformance(G7n,"stx_bar_even",f3.CLOSEEVEN);this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_up"));this.chart.baseLegendColors.push(this.getCanvasColor(J88));}this.endClip();}else if(Q7n==q88||Q7n=="volume_candle"){this.startClip(G7n.name);if(r7n){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(G7n,r7n);}this.drawCandles(G7n,r7n,!1);this.drawCandles(G7n,r7n,!"");;}else{a88="t";a88+="ranspa";a88+="rent";if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadowsHighPerformance(G7n,"stx_hollow_candle_up",f3.CLOSEUP);this.drawShadowsHighPerformance(G7n,"stx_hollow_candle_down",f3.CLOSEDOWN);this.drawShadowsHighPerformance(G7n,"stx_hollow_candle_even",f3.CLOSEEVEN);}Z8q=this.getCanvasColor("stx_hollow_candle_up");R8q=this.getCanvasColor("stx_hollow_candle_down");X8q=this.getCanvasColor("stx_hollow_candle_even");this.drawCandlesHighPerformance(G7n,Z8q,"transparent",f3.CLOSEUP|f3.CANDLEDOWN);this.drawCandlesHighPerformance(G7n,R8q,a88,f3.CLOSEDOWN|f3.CANDLEDOWN);this.drawCandlesHighPerformance(G7n,X8q,"transparent",f3.CLOSEEVEN|f3.CANDLEDOWN);this.drawCandlesHighPerformance(G7n,this.containerColor,Z8q,f3.CLOSEUP|f3.CANDLEUP);this.drawCandlesHighPerformance(G7n,this.containerColor,R8q,f3.CLOSEDOWN|f3.CANDLEUP);this.drawCandlesHighPerformance(G7n,this.containerColor,X8q,f3.CLOSEEVEN|f3.CANDLEUP);this.chart.baseLegendColors.push(Z8q);this.chart.baseLegendColors.push(R8q);}this.endClip();}else if(Q7n==Q88){this.startClip(G7n.name);S8q=this.getCanvasColor("stx_candle_shadow_up");b8q=this.getCanvasColor("stx_candle_shadow_down");W8k.N02(68);O8q=W8k.i02(S8q,b8q);if(r7n){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(G7n,r7n);}this.drawCandles(G7n,r7n,![]);if(!c8q){this.drawCandles(G7n,r7n,!0);};}else{k88="st";k88+="x_candl";k88+="e_";k88+="down";P88="bor";P88+="d";P88+="er-left-color";l88="stx_ca";l88+="n";l88+="dle_up";if(!this.noWicksOnCandles[this.layout.aggregationType]){if(O8q){this.drawShadowsHighPerformance(G7n,"stx_candle_shadow_up",f3.CANDLEUP);this.drawShadowsHighPerformance(G7n,"stx_candle_shadow_down",f3.CANDLEDOWN);this.drawShadowsHighPerformance(G7n,"stx_candle_shadow",f3.CANDLEEVEN);}else{this.drawShadowsHighPerformance(G7n,"stx_candle_shadow");}}E7n=this.canvasStyle(l88);i7n=E7n["border-left-color"];if(!i7n){i7n=E7n.borderLeftColor;}if(c8q){i7n=null;}this.drawCandlesHighPerformance(G7n,this.getCanvasColor("stx_candle_up"),i7n,f3.CANDLEUP);this.chart.baseLegendColors.push(E7n.color);E7n=this.canvasStyle("stx_candle_down");i7n=E7n[P88];if(!i7n){i7n=E7n.borderLeftColor;}if(c8q){i7n=null;}this.drawCandlesHighPerformance(G7n,this.getCanvasColor(k88),i7n,f3.CANDLEDOWN);this.chart.baseLegendColors.push(E7n.color);}this.endClip();}else if(Q7n==d88){n88="stx_baseline_";n88+="t";n88+="ra";n88+="ce";this.startClip(G7n.name);this.setStyle(n88,"opacity",0);this.drawLineChart(G7n,"stx_baseline_trace");o7n=t7n.baseline.actualLevel;if(o7n!==null){B98="l";B98+="i";B98+="n";B98+="e";p98="1";p98+=".1";o7n=this.pixelFromPriceTransform(o7n,t7n.panel);A7n={"over":"stx_baseline_up","under":"stx_baseline_down"};for(var v7n in A7n){j88="o";j88+="ver";I7n={panelName:"chart",band:"Close",threshold:t7n.baseline.actualLevel,color:this.getCanvasColor(A7n[v7n]),direction:v7n==j88?1:-("1"&2147483647),edgeHighlight:this.getCanvasColor(A7n[v7n]),edgeParameters:{pattern:"solid",lineWidth:parseInt(this.canvasStyle(A7n[v7n]).width,10)+0.1,opacity:"1"&2147483647}};B7n=I7n.color;if(B7n&&B7n!="transparent"){x8q=t7n.context.createLinearGradient(+"0",v7n=="over"?0:2*o7n,0,o7n);x8q.addColorStop(0,z3.hexToRgba(B7n,60));x8q.addColorStop(1,z3.hexToRgba(B7n,10));I7n.color=x8q;I7n.opacity=1;}z3.Studies.preparePeakValleyFill(this,t7n.dataSegment,I7n);this.chart.baseLegendColors.push(B7n);}W8k.t02(33);this.plotLine(0,W8k.i02(1839445248,"1"),o7n,o7n,this.containerColor,"line",t7n.context,!!{},{pattern:"solid",lineWidth:p98,opacity:1});this.plotLine(0,1,o7n,o7n,this.getCanvasColor("stx_baseline"),B98,t7n.context,!!"1",{pattern:"dotted",lineWidth:"2.1",opacity:0.5});if(this.chart.baseline.userLevel!==!{}){Y98="bl";Y98+="oc";Y98+="k";W8k.N02(6);var d3T=W8k.i02(2,11,11);this.controls.baselineHandle.style.top=o7n-parseInt(getComputedStyle(this.controls.baselineHandle).height,+"10")/d3T+"px";W8k.N02(2);var n3T=W8k.i02(6,16);this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,n3T)+"px";this.controls.baselineHandle.style.display=Y98;}}this.endClip();}else if(Q7n=="baseline_delta_mountain"){F28=1372101430;W8k.t02(13);A28=W8k.R02(2147483647,"1405955995");e28=2;for(var C28=1;W8k.l08(C28.toString(),C28.toString().length,39393)!==F28;C28++){o7n=t7n.baseline.actualLevel;e28+=2;}if(W8k.P08(e28.toString(),e28.toString().length,74776)!==A28){o7n=t7n.baseline.actualLevel;}if(o7n!==null){w98="2";w98+=".";w98+="1";U98="lin";U98+="e";r98="s";r98+="ol";r98+="id";f98="stx_baseline_delta_mountai";f98+="n";this.startClip(G7n.name);this.drawMountainChart(G7n,f98);this.endClip();this.startClip(G7n.name);this.setStyle("stx_baseline_trace","opacity",0);this.drawLineChart(G7n,"stx_baseline_trace");o7n=this.pixelFromPriceTransform(o7n,t7n.panel);A7n={"over":"stx_baseline_up","under":"stx_baseline_down"};for(var v7n in A7n){t98="sol";t98+="i";t98+="d";I7n={panelName:"chart",band:"Close",threshold:t7n.baseline.actualLevel,color:this.getCanvasColor(A7n[v7n]),direction:v7n=="over"?+"1":-1,edgeHighlight:this.getCanvasColor(A7n[v7n]),edgeParameters:{pattern:t98,lineWidth:parseInt(this.canvasStyle(A7n[v7n]).width,10)+0.1,opacity:1}};this.chart.baseLegendColors.push(I7n.color);I7n.color="transparent";z3.Studies.preparePeakValleyFill(this,t7n.dataSegment,I7n);}this.plotLine(0,1,o7n,o7n,this.containerColor,"line",t7n.context,!!1,{pattern:r98,lineWidth:"1.1",opacity:1});this.plotLine(0,1,o7n,o7n,this.getCanvasColor("stx_baseline"),U98,t7n.context,!0,{pattern:"dotted",lineWidth:w98,opacity:0.5});if(this.chart.baseline.userLevel!==!!0){this.controls.baselineHandle.style.top=o7n-parseInt(getComputedStyle(this.controls.baselineHandle).height,10)/2+"px";W8k.t02(2);var p5T=W8k.R02(20,30);this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,p5T)+"px";this.controls.baselineHandle.style.display="block";}this.endClip();}}else if(Q7n=="scatterplot"){this.startClip(G7n.name);this.scatter(G7n);this.endClip();}else if(Q7n){W8k.N02(25);console.log(W8k.i02(Q7n,'". Defaulting to Line Chart.','Invalid chart layout.chartType: "'));this.layout.chartType="line";this.drawLineChart(G7n,"stx_line_chart");}else{this.chart.baseLegendColors=null;}this.runAppend("displayChart",arguments);};f3.prototype.calculateATR=function(d8q,P8q){var f8q,y8q,z8q,a8q;if(!P8q){P8q=+"20";}W8k.m3();f8q=0;for(var m8q=1;m8q<d8q.dataSet.length;m8q++){y8q=d8q.dataSet[m8q];z8q=d8q.dataSet[m8q-1].Close;a8q=Math.max(y8q.High-y8q.Low,Math.abs(y8q.High-z8q),Math.abs(y8q.Low-z8q));f8q+=a8q;if(m8q>P8q){f8q-=d8q.dataSet[m8q-P8q].trueRange;}y8q.trueRange=a8q;W8k.t02(14);y8q.atr=W8k.i02(f8q,P8q);}};f3.prototype.calculateMedianPrice=function(e8q){var T8q;W8k.j3();for(var J8q=0;J8q<e8q.dataSet.length;++J8q){T8q=e8q.dataSet[J8q];T8q["hl/2"]=(T8q.High+T8q.Low)/("2"*1);}};f3.prototype.calculateTypicalPrice=function(V8q){var U8q,Z98;W8k.j3();for(var q8q="0">>1438916224;q8q<V8q.dataSet.length;++q8q){Z98="hlc";Z98+="/3";U8q=V8q.dataSet[q8q];W8k.N02(69);var Y5T=W8k.R02(2,17,21,12);U8q[Z98]=(U8q.High+U8q.Low+U8q.Close)/Y5T;}};f3.prototype.calculateWeightedClose=function(w8q){var h8q;W8k.j3();for(var g8q=+"0";g8q<w8q.dataSet.length;++g8q){h8q=w8q.dataSet[g8q];W8k.t02(9);var t5T=W8k.R02(19,10,13);h8q["hlcc/4"]=(h8q.High+h8q.Low+2*h8q.Close)/t5T;}};f3.prototype.calculateOHLC4=function(C8q){var D8q;W8k.m3();for(var l8q=0;l8q<C8q.dataSet.length;++l8q){D8q=C8q.dataSet[l8q];W8k.N02(46);var r5T=W8k.i02(32,4,20,12);D8q["ohlc/4"]=(D8q.Open+D8q.High+D8q.Low+D8q.Close)/r5T;}};f3.prototype.currentQuote=function(){var G8q;G8q=null;if(!this.chart.dataSet){return null;}for(var H8q=this.chart.dataSet.length-1;H8q>=+"0";H8q--)if(this.chart.dataSet[H8q]){return this.chart.dataSet[H8q];}return null;};f3.prototype.correctIfOffEdge=function(v8q){var o8q,t8q,r8q;if(this.runPrepend("correctIfOffEdge",arguments)){return;}for(var Q8q in this.charts){o8q=this.charts[Q8q];t8q=this.minimumLeftBars+1;if(o8q.allowScrollPast){r8q=o8q.maxTicks-t8q;if(o8q.maxTicks-r8q>o8q.dataSet.length){r8q=o8q.maxTicks-o8q.dataSet.length;}if(o8q.scroll-r8q>o8q.dataSet.length){o8q.scroll=o8q.dataSet.length+r8q;}if(o8q.scroll<=t8q){o8q.scroll=t8q;this.micropixels=+"0";}}else{if(o8q.scroll<t8q){o8q.scroll=t8q;}if(o8q.scroll>o8q.dataSet.length){o8q.scroll=o8q.dataSet.length;}};}W8k.j3();this.runAppend("correctIfOffEdge",arguments);};f3.prototype.createDataSegment=function(Y8q){var T98,E98,A8q,i8q,u8q,B8q,p8q;T98="createDataSeg";T98+="ment";if(this.runPrepend(T98,arguments)){return;}W8k.j3();for(var W8q in this.charts){E98="volume_";E98+="ca";E98+="ndle";A8q=this.charts[W8q];if(Y8q){A8q=Y8q;}A8q.baseline.actualLevel=A8q.baseline.userLevel?A8q.baseline.userLevel:A8q.baseline.defaultLevel;A8q.dataSegment=[];W8k.N02(9);var w5T=W8k.i02(14,10,5);i8q=A8q.dataSet.length-A8q.scroll-w5T;for(var E8q=-1;E8q<A8q.scroll&&E8q<A8q.maxTicks;E8q++){i8q++;if(E8q==-1&&!A8q.baseline.includeInDataSegment)continue;if(i8q<A8q.dataSet.length&&i8q>=0){if(A8q.dataSet[i8q].candleWidth){A8q.dataSet[i8q].candleWidth=null;A8q.dataSet[i8q].leftOffset=null;}A8q.dataSegment.push(A8q.dataSet[i8q]);if(A8q.baseline.actualLevel===null&&E8q>=0){A8q.baseline.actualLevel=A8q.dataSet[i8q].iqPrevClose;}}else if(i8q<+"0"){A8q.dataSegment.push(null);}}if(this.layout.chartType==E98){u8q=+"0";for(var L8q=0;L8q<A8q.dataSegment.length;L8q++){if(A8q.dataSegment[L8q]){u8q+=A8q.dataSegment[L8q].Volume;}}B8q=0;for(var I8q=0;I8q<A8q.dataSegment.length;I8q++){if(A8q.dataSegment[I8q]){if(A8q.dataSegment[I8q].Volume){p8q=A8q.width;if(A8q.scroll<A8q.maxTicks){p8q-=this.preferences.whitespace;}A8q.dataSegment[I8q].candleWidth=p8q*A8q.dataSegment[I8q].Volume/u8q;W8k.N02(16);var Z5T=W8k.i02(5,29,20,12);A8q.dataSegment[I8q].leftOffset=B8q+A8q.dataSegment[I8q].candleWidth/Z5T;B8q+=A8q.dataSegment[I8q].candleWidth;}else{A8q.dataSegment[I8q].candleWidth=this.layout.candleWidth;W8k.N02(70);var T5T=W8k.R02(4,5,20,11);A8q.dataSegment[I8q].leftOffset=B8q+this.layout.candleWidth/T5T;B8q+=this.layout.candleWidth;}}else{B8q+=this.layout.candleWidth;}}}if(Y8q)break;}this.runAppend("createDataSegment",arguments);};f3.prototype.leftTick=function(){W8k.m3();return this.chart.dataSet.length-this.chart.scroll;};f3.prototype.getStartDateOffset=function(){for(var Z1q=+"0";Z1q<this.chart.dataSegment.length;Z1q++){if(this.chart.dataSegment[Z1q]){return Z1q;}}return+"0";};f3.prototype.setStartDate=function(x1q){var c1q;for(var R1q=0;R1q<this.chart.dataSet.length;R1q++){c1q=this.chart.dataSet[R1q];if(c1q.DT.getTime()==x1q.getTime()){this.chart.scroll=this.chart.dataSet.length-R1q;this.draw();return;}}};f3.prototype.updateListeners=function(b1q){var X1q;W8k.m3();for(var O1q in this.plugins){X1q=this.plugins[O1q];if(X1q.display&&X1q.listener){X1q.listener(this,b1q);}}};f3.prototype.clearPixelCache=function(){var S1q,j48,p28,B28,M1q;for(var N1q in this.panels){S1q=this.panels[N1q];S1q.cacheHigh=null;S1q.cacheLow=null;S1q.cacheLeft=1000000;S1q.cacheRight=-1;}j48=1212864166;p28=1971883812;B28=2;for(var f28=1;W8k.l08(f28.toString(),f28.toString().length,53538)!==j48;f28++){W8k.m3();B28+=2;}if(W8k.P08(B28.toString(),B28.toString().length,"73020"|65852)!==p28){W8k.m3();}for(var K1q in this.charts){M1q=this.charts[K1q];if(!M1q.dataSet)continue;for(var k1q=0;k1q<M1q.dataSet.length;k1q++){M1q.dataSet[k1q].cache={};}}};f3.prototype.createYAxisLabel=function(a1q,h1q,m1q,d1q,V1q,q1q,U1q){var h98,x98,z98,D98,V98,s1q,n1q,j1q,F1q,f1q,e1q,P1q,y1q,J1q,T1q,g1q,c98,z1q,b98,G98;h98="l";h98+="e";h98+="f";h98+="t";x98="mid";x98+="d";x98+="le";z98="und";z98+="efined";D98="l";D98+="eft";V98="stx_ya";V98+="xis";if(a1q.yAxis.drawPriceLabels===!"1"){return;}s1q=U1q?U1q:a1q.yAxis;n1q=q1q?q1q:this.chart.context;j1q=+"3";W8k.N02(2);var E5T=W8k.i02(14,16);F1q=this.getCanvasFontSize(V98)+j1q*E5T;this.canvasFont("stx_yaxis",n1q);f1q=s1q.displayBorder;if(this.axisBorders===!"1"){f1q=!!0;}if(this.axisBorders===!![]){f1q=!!{};}e1q=f1q?"3"|3:0;try{W8k.N02(38);var V5T=W8k.i02(17,14,1);P1q=n1q.measureText(h1q).width+e1q+j1q*V5T;}catch(w1q){P1q=s1q.width;}W8k.N02(9);var D5T=W8k.R02(12,14,1);y1q=s1q.left-j1q+D5T;W8k.N02(25);J1q=W8k.i02(j1q,e1q,y1q);T1q=3;g1q=s1q.position===null?a1q.chart.yAxis.position:s1q.position;if(g1q===D98){c98="r";c98+="i";c98+="gh";c98+="t";y1q=s1q.left+s1q.width+j1q-3;W8k.t02(71);P1q=W8k.i02(1,P1q);J1q=y1q;T1q=-+"3";n1q.textAlign=c98;}if(m1q+F1q/2>s1q.bottom){W8k.N02(14);var z5T=W8k.R02(26,13);m1q=s1q.bottom-F1q/z5T;}if(m1q-F1q/2<s1q.top){m1q=s1q.top+F1q/+"2";}n1q.fillStyle=d1q;if(typeof z3[this.yaxisLabelStyle]==z98){this.yaxisLabelStyle="roundRectArrow";;}z1q=this.yaxisLabelStyle;if(s1q.yaxisLabelStyle){z1q=s1q.yaxisLabelStyle;}W8k.t02(72);z3[z1q](n1q,y1q,W8k.i02(m1q,F1q,2),P1q,F1q,T1q,!!1,!"1");n1q.textBaseline=x98;n1q.fillStyle=V1q?V1q:z3.chooseForegroundColor(d1q);if(n1q.fillStyle==d1q){b98="#";b98+="F";b98+="FFFFF";G98="#";G98+="0000";G98+="00";if(d1q.toUpperCase()=="#FFFFFF"){n1q.fillStyle=G98;}else{n1q.fillStyle=b98;}}W8k.j3();W8k.N02(0);n1q.fillText(h1q,J1q,W8k.i02(1,m1q));n1q.textAlign=h98;};f3.prototype.createXAxisLabel=function(H1q,i1q,l1q,r1q,I1q,A1q){var D1q,o1q,v1q,t1q,C1q,G1q,Q1q,N98,u98;D1q=this.chart.context;o1q=2;v1q="stx-float-date";t1q=this.getCanvasFontSize(v1q)+o1q*+"2";this.canvasFont(v1q,D1q);try{C1q=D1q.measureText(i1q).width+o1q*2;}catch(E1q){C1q=+"0";}W8k.m3();G1q=H1q.top+H1q.height-t1q;if(l1q+C1q/2<H1q.left||l1q-C1q/+"2">H1q.right){return;}if(!A1q){if(l1q+C1q/2>H1q.right){W8k.N02(73);var G5T=W8k.R02(15,13,13,30);l1q=H1q.right-C1q/G5T;}if(l1q-C1q/2<H1q.left){l1q=H1q.left+C1q/2;}}D1q.fillStyle=r1q;W8k.t02(72);z3.roundRect(D1q,W8k.R02(l1q,C1q,2),G1q,C1q,t1q,W8k.R02(2147483647,"3",W8k.N02(13)),!!1,![]);if(A1q){Q1q=H1q.bottom-H1q.yAxis.bottom-t1q;D1q.beginPath();W8k.N02(2);D1q.moveTo(W8k.R02(Q1q,l1q),G1q);W8k.t02(2);D1q.lineTo(l1q,W8k.i02(Q1q,G1q));W8k.N02(0);D1q.lineTo(W8k.i02(Q1q,l1q),G1q);D1q.closePath();D1q.fill();}D1q.textBaseline="top";D1q.fillStyle=I1q?I1q:z3.chooseForegroundColor(r1q);if(D1q.fillStyle==r1q){N98="#";N98+="FFFFFF";u98="#0";u98+="00";u98+="000";if(r1q.toUpperCase()=="#FFFFFF"){D1q.fillStyle=u98;}else{D1q.fillStyle=N98;}}W8k.N02(35);D1q.fillText(i1q,W8k.R02(l1q,C1q,2,o1q),W8k.R02(o1q,G1q,W8k.N02(0)));};f3.prototype.drawCurrentHR=function(){var i98,c2q,O2q,O98,X98,u1q,B1q,p1q,Y1q,W1q,L1q,x2q,S2q,M2q,R98,X2q,Z2q,R2q,H98,M98,Q38,l38,P38;i98="d";i98+="rawC";i98+="urrentHR";if(this.runPrepend(i98,arguments)){return;}W8k.j3();for(var b2q in this.charts){O98="d";O98+="at";O98+="aS";O98+="et";X98="no";X98+="ne";u1q=this.charts[b2q];B1q=u1q.panel;p1q=B1q.yAxis;if(p1q.drawCurrentPriceLabel===!!0)continue;if(u1q.customChart&&u1q.customChart.chartType==X98)continue;Y1q=p1q.whichSet;if(!Y1q){Y1q=O98;}W1q=u1q[Y1q].length;if(Y1q=="dataSegment"){while(W1q>(u1q.width-this.micropixels+this.layout.candleWidth/2+1)/this.layout.candleWidth){W1q--;}}if(W1q){W8k.N02(2);L1q=u1q[Y1q][W8k.i02(1,W1q)];x2q=L1q.Close;S2q=L1q.Close;if(u1q[Y1q].length>=2){W8k.N02(2);M2q=u1q[Y1q][W8k.i02(2,W1q)];x2q=M2q.Close;}if(S2q<x2q){c2q=this.canvasStyle("stx_current_hr_down").backgroundColor;O2q=this.canvasStyle("stx_current_hr_down").color;}else{R98="stx_c";R98+="u";R98+="rrent_";R98+="hr_up";c2q=this.canvasStyle(R98).backgroundColor;O2q=this.canvasStyle("stx_current_hr_up").color;}if(L1q.transform){L1q=L1q.transform;}Z2q=Math.max(B1q.yAxis.printDecimalPlaces,B1q.chart.decimalPlaces);if(p1q.maxDecimalPlaces||p1q.maxDecimalPlaces===0){Z2q=Math.min(Z2q,p1q.maxDecimalPlaces);}if(p1q.priceFormatter){X2q=p1q.priceFormatter(this,B1q,L1q.Close,Z2q);}else{X2q=this.formatYAxisPrice(L1q.Close,B1q,Z2q);}R2q=this.pixelFromPrice(L1q.Close,B1q);this.createYAxisLabel(B1q,X2q,R2q,c2q,O2q);if(this.preferences.currentPriceLine===!![]&&this.isHome()){H98="li";H98+="n";H98+="e";M98="de";M98+="st";M98+="inatio";M98+="n-over";B1q.chart.context.globalCompositeOperation=M98;this.plotLine(B1q.left,B1q.right,R2q,R2q,c2q,H98,B1q.chart.context,B1q,{pattern:"dashed",lineWidth:1,opacity:0.8});B1q.chart.context.globalCompositeOperation="source-over";}}}Q38=-495309457;l38=-952121981;P38=2;for(var d38=+"1";W8k.P08(d38.toString(),d38.toString().length,35098)!==Q38;d38++){this.runAppend("drawCurrentHR",arguments);P38+=2;}if(W8k.l08(P38.toString(),P38.toString().length,"1694"<<505127296)!==l38){this.runAppend("",arguments);}};f3.prototype.getDefaultColor=function(){var K98,k2q,N2q,s98,K2q,F98,s2q,n2q;K98="#00";K98+="0";K98+="000";W8k.m3();this.defaultColor=K98;k2q=null;N2q=this.chart.container;while(!k2q||z3.isTransparent(k2q)){s98="tra";s98+="nsparen";s98+="t";K2q=getComputedStyle(N2q);if(!K2q){return;}k2q=K2q.backgroundColor;if(z3.isTransparent(k2q)){k2q=s98;}N2q=N2q.parentNode;if(!N2q||!N2q.tagName)break;}if(k2q){F98="#FFF";F98+="F";F98+="F";F98+="F";if(k2q=="transparent"){k2q=F98;}this.containerColor=k2q;if(!z3.isTransparent(k2q)){s2q=z3.hsv(k2q);n2q=s2q[2];if(n2q>"0.65"-0){this.defaultColor="#000000";}else{this.defaultColor="#FFFFFF";}}else{this.defaultColor="#000000";}}else{this.containerColor="#FFFFFF";}};f3.prototype.startAsyncAction=function(){W8k.m3();if(!this.pendingAsyncs){this.pendingAsyncs=[];}this.pendingAsyncs.push(!![]);};f3.prototype.registerChartDrawnCallback=function(F2q){if(!this.asyncCallbacks){this.asyncCallbacks=[];}W8k.j3();this.asyncCallbacks.push(F2q);return{fc:F2q};};f3.prototype.unregisterChartDrawnCallback=function(m2q){for(var j2q=0;j2q<this.asyncCallbacks.length;j2q++){if(this.asyncCallbacks[j2q]==m2q.fc){this.asyncCallbacks.splice(j2q,1);return;}}};f3.prototype.makeAsyncCallbacks=function(){W8k.m3();if(!this.asyncCallbacks){return;}if(!this.pendingAsyncs||!this.pendingAsyncs.length){for(var y2q=0;y2q<this.asyncCallbacks.length;y2q++){this.asyncCallbacks[y2q]();}}};f3.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop();W8k.j3();this.makeAsyncCallbacks();};f3.prototype.draw=function(){var z2q,P2q,f2q,d2q,J2q,N38,i38,X38;this.debug();if(!this.chart.canvas){return;}if(!this.chart.dataSet){return;}if(!this.chart.canvasHeight){return;}W8k.N02(74);var h5T=W8k.i02(7,17,100,17);this.offset=this.layout.candleWidth*this.candleWidthPercent/h5T;z3.clearCanvas(this.chart.canvas,this);if(this.runPrepend("draw",arguments)){return;}if(!this.xaxisHeight){this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+ +"4";if(this.chart.xAxis.displayBorder||this.axisBorders){this.xaxisHeight+=3;}}this.getDefaultColor();this.vectorsShowing=![];this.drawPanels();this.yAxisLabels=[];for(f2q in this.charts){P2q=this.charts[f2q];this.correctIfOffEdge();this.createDataSegment();J2q=this.createXAxis(P2q);this.initializeDisplay(P2q);this.rendererAction(P2q,"calculate");this.renderYAxis(P2q);this.drawXAxis(P2q,J2q);P2q.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent);if(P2q.tmpWidth%2===0){P2q.tmpWidth+=1;if(P2q.tmpWidth>this.layout.candleWidth){P2q.tmpWidth-=+"2";}}if(P2q.tmpWidth<0.5){W8k.N02(1);P2q.tmpWidth=W8k.i02("0.5",1);}for(z2q in this.plugins){d2q=this.plugins[z2q];if(d2q.display){if(d2q.drawUnder){d2q.drawUnder(this,P2q);}}}this.rendererAction(P2q,"underlay");z3.Studies.displayStudies(this,P2q,!![]);this.displayChart(P2q);z3.Studies.displayStudies(this,P2q,![]);this.rendererAction(P2q,"overlay");}for(f2q in this.charts){P2q=this.charts[f2q];for(z2q in this.plugins){d2q=this.plugins[z2q];if(d2q.display){if(d2q.drawOver){d2q.drawOver(this,P2q);}}}}for(var T2q in this.panels){if(!this.panels[T2q].hidden){this.plotYAxisText(this.panels[T2q]);}}for(var a2q=0;a2q<this.yAxisLabels.length;a2q++){this.createYAxisLabel.apply(this,this.yAxisLabels[a2q].args);}this.createCrosshairs();this.drawVectors();this.drawCurrentHR();this.displayInitialized=!0;if(this.controls.home){N38=1367171937;i38=1698271106;X38=2;for(var R38=1;W8k.l08(R38.toString(),R38.toString().length,559)!==N38;R38++){this.controls.home.style.display=this.isHome()?"none":"block";X38+=2;}if(W8k.l08(X38.toString(),X38.toString().length,58523)!==i38){this.controls.home.style.display=this.isHome()?"none":"none";}}this.positionMarkers();for(f2q in this.charts){P2q=this.charts[f2q];if(this.quoteDriver){this.quoteDriver.checkLoadMore(P2q);}}this.runAppend("draw",arguments);this.makeAsyncCallbacks();};f3.prototype.adjustBackingStore=function(e2q,U2q){var S48,J48,q48,g2q,q2q,A98,V2q,h2q;this.devicePixelRatio=window.devicePixelRatio||1;S48=-1108505926;J48=-616305107;q48=2;for(var Q48=1;W8k.l08(Q48.toString(),Q48.toString().length,67754)!==S48;Q48++){if(this.devicePixelRatio<=630){this.devicePixelRatio=+"859";}q48+=2;}if(W8k.l08(q48.toString(),q48.toString().length,13664)!==J48){if(this.devicePixelRatio>76){this.devicePixelRatio=492;}}if(this.devicePixelRatio<1.0){this.devicePixelRatio=1.0;}g2q=U2q.webkitBackingStorePixelRatio||U2q.mozBackingStorePixelRatio||U2q.msBackingStorePixelRatio||U2q.oBackingStorePixelRatio||U2q.backingStorePixelRatio||"1"&2147483647;q2q=this.devicePixelRatio/g2q;if(!z3.isAndroid||z3.is_chrome){A98="p";A98+="x";V2q=e2q.width;h2q=e2q.height;W8k.t02(1);e2q.width=W8k.i02(V2q,q2q);W8k.N02(1);e2q.height=W8k.i02(h2q,q2q);W8k.t02(0);e2q.style.width=W8k.i02('px',V2q);W8k.t02(0);e2q.style.height=W8k.i02(A98,h2q);U2q.scale(q2q,q2q);this.adjustedDisplayPixelRatio=q2q;}};f3.prototype.resizeCanvas=function(){var l2q,H2q,G2q,D2q,w2q,r2q,C2q,o2q;if(!this.chart.panel){this.chart.panel=this.panels.chart;}l2q=this.chart.canvas;H2q=this.chart.context;if(l2q&&H2q){this.chart.tempCanvas.height=l2q.height=this.chart.container.clientHeight;this.chart.tempCanvas.width=l2q.width=this.chart.container.clientWidth;this.adjustBackingStore(l2q,H2q);this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context);this.floatCanvas.height=this.chart.container.clientHeight;this.floatCanvas.width=this.chart.container.clientWidth;this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context);}G2q=this.container.getBoundingClientRect();this.top=G2q.top;this.left=G2q.left;this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth;this.right=this.left+this.canvasWidth;this.height=this.chart.container.clientHeight;this.width=this.right-this.left;if(this.width===0&&!this.container.dimensionlessCanvas){console.log("warning: zero width chart. Check CSS for chart container.");}this.bottom=this.top+this.height;this.calculateYAxisPositions();this.chart.canvasRight=this.right;W8k.j3();this.chart.canvasHeight=this.height;D2q=this.layout.candleWidth;if(typeof D2q=="undefined"){D2q=8;}for(var t2q in this.charts){w2q=this.charts[t2q];if(this.layout.span){this.setCandleWidth(this.getSpanCandleWidth(this.layout.span),w2q);}else{this.setCandleWidth(D2q,w2q);if(w2q.scroll<w2q.width/D2q){w2q.scroll=Math.floor(w2q.width/D2q);r2q=Math.round(this.preferences.whitespace/this.layout.candleWidth);w2q.scroll-=r2q;}}C2q=10;try{W8k.t02(16);var u5T=W8k.i02(8,19,11,14);o2q=H2q.measureText("10:00").width*u5T;}catch(Q2q){o2q=100;}while(C2q>1){if(this.chart.width/o2q>C2q)break;W8k.t02(1);C2q/=W8k.R02("1.5",1);}w2q.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/C2q);if(w2q.xAxis.autoComputedTickSizePixels<"1"*1){W8k.N02(1);w2q.xAxis.autoComputedTickSizePixels=W8k.R02("1",1);}}};f3.prototype.setCandleWidth=function(v2q,A2q){if(!A2q){A2q=this.chart;}if(v2q<this.minimumCandleWidth){v2q=this.minimumCandleWidth;}this.layout.candleWidth=v2q;W8k.t02(75);var N5T=W8k.i02(11,11,5,127);A2q.maxTicks=Math.round(this.chart.width/v2q)+N5T;};f3.prototype.resizeChart=function(I2q){var i2q;if(this.runPrepend("resizeChart",arguments)){return;}if(I2q!==!1){I2q=!![];}if(I2q){this.preAdjustScroll();}i2q=this.chart.canvasHeight;this.resizeCanvas();if(I2q){this.postAdjustScroll();}if(this.displayInitialized){this.adjustPanelPositions();this.draw();;}else if(this.chart.canvasHeight!==0&&i2q===0){this.adjustPanelPositions();this.draw();}this.positionCrosshairsAtPointer();this.doDisplayCrosshairs();this.runAppend("resizeChart",arguments);};f3.prototype.newChart=function(p2q,W2q,E2q,Y2q,B2q){var e98,x3q,R3q,O3q,c58,z58,x58,c3q,L2q,Z3q,u2q,X3q;e98="o";e98+="bje";e98+="ct";if(!E2q){E2q=this.chart;}if(!B2q){B2q={};}if(B2q.periodicity){if(B2q.periodicity.interval){this.layout.interval=B2q.periodicity.interval;}if(B2q.periodicity.period){this.layout.periodicity=B2q.periodicity.period;}if(B2q.periodicity.periodicity){this.layout.periodicity=B2q.periodicity.periodicity;}this.layout.timeUnit=B2q.periodicity.timeUnit;}x3q=E2q.symbol;W8k.m3();R3q=z3.clone(E2q.symbolObject);O3q=E2q.market;if(!p2q){E2q.symbol=null;E2q.symbolObject={symbol:null};}else if(typeof p2q==e98){c58=-1221672659;z58=-903196814;x58=+"2";for(var b58=1;W8k.l08(b58.toString(),b58.toString().length,10136)!==c58;b58++){E2q.symbol=p2q.symbol;E2q.symbolObject=p2q;x58+=2;}if(W8k.l08(x58.toString(),x58.toString().length,84753)!==z58){E2q.symbol=p2q.symbol;E2q.symbolObject=p2q;}}else{E2q.symbol=p2q;E2q.symbolObject.symbol=p2q;}if(this.marketFactory){c3q=this.marketFactory(E2q.symbolObject);this.setMarket(c3q,E2q);}L2q=this;if(!W2q&&this.quoteDriver){Z3q=function(b3q){var o98,u28,N28,i28;o98="orphan";o98+="e";o98+="d";if(b3q&&b3q!=o98){E2q.symbol=x3q;E2q.symbolObject=R3q;E2q.market=O3q;}u28=2059712863;N28=-126763452;i28=2;for(var O28=1;W8k.l08(O28.toString(),O28.toString().length,42977)!==u28;O28++){if(~L2q.currentlyImporting){L2q.dispatch("",{stx:L2q,symbol:L2q.chart.symbol,symbolObject:L2q.chart.symbolObject});}if(Y2q){Y2q(b3q);}i28+=2;}if(W8k.P08(i28.toString(),i28.toString().length,69255)!==N28){if(!L2q.currentlyImporting){L2q.dispatch("symbolChange",{stx:L2q,symbol:L2q.chart.symbol,symbolObject:L2q.chart.symbolObject});}if(Y2q){Y2q(b3q);}}};u2q=B2q.span;if(!u2q&&this.layout){u2q=this.layout.setSpan;}if(u2q&&u2q.base){X3q=u2q.multiplier||1;this.chart.masterData=null;this.displayInitialized=!{};this.setSpan({maintainPeriodicity:B2q.periodicity?!!1:!{},multiplier:X3q,base:u2q.base,symbol:E2q.symbol},Z3q);}else{this.quoteDriver.newChart({symbol:E2q.symbol,symbolObject:E2q.symbolObject,chart:E2q,initializeChart:!0},function(S3q){if(!S3q){L2q.adjustPanelPositions();L2q.quoteDriver.updateSubscriptions();if(B2q.stretchToFillScreen){L2q.fillScreen();}}Z3q.apply(L2q,arguments);});}}else{if(!W2q){console.log("Warning: No masterData specified and no QuoteFeed configured");}if(!E2q.symbol){E2q.symbol="";}this.setMasterData(W2q,E2q);this.createDataSet();this.initializeChart();if(B2q.span&&B2q.span.multiplier&&B2q.span.base){this.setSpan({maintainPeriodicity:!"",multiplier:B2q.span.multiplier,base:B2q.span.base});}else if(B2q.stretchToFillScreen){this.fillScreen();}else{this.draw();}this.adjustPanelPositions();if(Y2q){Y2q();}}};f3.prototype.fillScreen=function(){var N3q,M3q,k3q,K3q;W8k.j3();N3q=this.layout.candleWidth;M3q=this.chart.width-this.preferences.whitespace;k3q=this.chart.dataSet.length;if(k3q*N3q>=M3q){this.draw();return;}W8k.t02(14);K3q=W8k.R02(M3q,k3q);this.setCandleWidth(K3q,this.chart);this.home({maintainWhitespace:!![]});};f3.prototype.setMasterData=function(j3q,n3q){var C98,P3q,F3q,m98,s3q,d28,n28,j28,m3q,y3q;C98="ch";C98+="a";C98+="rt";if(!n3q){n3q=this.chart;}if(this.marketFactory){P3q=this.marketFactory(n3q.symbolObject);this.setMarket(P3q,n3q);}n3q.masterData=j3q;if(n3q.name==C98){this.masterData=j3q;}for(F3q=0;j3q&&F3q<j3q.length;F3q++){m98="num";m98+="b";m98+="er";if(this.transformMasterDataQuote){j3q[F3q]=this.transformMasterDataQuote(j3q[F3q]);}s3q=j3q[F3q];if(s3q.DT){s3q.DT=new Date(s3q.DT);s3q.Date=z3.yyyymmddhhmmssmmm(s3q.DT);}else if(s3q.Date){s3q.DT=z3.strToDateTime(s3q.Date);}else{console.log('setMasterData : Missing DT and Date on masterData object');}if(s3q.Volume&&typeof s3q.Volume!=="number"){s3q.Volume=parseInt(s3q.Volume,10);}if(typeof s3q.Close==m98){;}else{console.log('setMasterData : Close is missing or not a number. Use parseFloat() if your data server provides strings. MasterData Index= '+F3q+' Value = '+s3q.Close);}if(s3q.High===null){delete s3q.High;}if(s3q.Low===null){delete s3q.Low;}if(s3q.Open===null){delete s3q.Open;}}n3q.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:n3q,symbol:n3q.symbolObject.symbol,symbolObject:n3q.symbolObject});W8k.m3();W8k.N02(2);d28=-W8k.i02(0,"301821909");n28=104335986;j28=2;for(var B18=1;W8k.l08(B18.toString(),B18.toString().length,50422)!==d28;B18++){if(+f3.isDailyInterval(this.layout.interval)){this.setDisplayDates(j3q);}j28+=2;}if(W8k.l08(j28.toString(),j28.toString().length,"90412"&2147483647)!==n28){if(!f3.isDailyInterval(this.layout.interval)){this.setDisplayDates(j3q);}}this.chart.roundit=Math.pow(10,n3q.decimalPlaces);for(F3q in this.plugins){m3q=this.plugins[F3q];if(m3q.display){if(m3q.setMasterData){m3q.setMasterData(this,n3q);}}}for(var d3q in this.chart.series){y3q=this.chart.series[d3q];if(y3q.addSeriesData){y3q.addSeriesData(this);}}};f3.prototype.getSymbols=function(){var f3q,a3q,J3q,T3q,g3q,U3q;f3q=[];for(var w3q in this.charts){J3q=this.charts[w3q];f3q.push({symbol:J3q.symbol,symbolObject:J3q.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan});for(var e3q in J3q.series){T3q=J3q.series[e3q];if(!T3q.parameters.data||!T3q.parameters.data.useDefaultQuoteFeed)continue;a3q={symbol:e3q,symbolObject:T3q.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};if(arguments[0]==="include-parameters"){a3q.parameters=T3q.parameters;}if(!a3q.symbolObject){a3q.symbolObject=T3q.parameters.symbolObject||{symbol:e3q};}f3q.push(a3q);}}for(var h3q in this.panels){if(this.panels[h3q].studyQuotes){for(var V3q in this.panels[h3q].studyQuotes){a3q={symbol:V3q,symbolObject:{symbol:V3q},periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};f3q.push(a3q);}}}for(var z3q=f3q.length-1;z3q>="0"-0;z3q--){g3q=f3q[z3q].symbol;if(this.isEquationChart(g3q)){U3q=z3.formatEquation(g3q);if(U3q){for(var q3q=0;q3q<U3q.symbols.length;q3q++){a3q={symbol:U3q.symbols[q3q],symbolObject:f3q[z3q].symbolObject,periodicity:f3q[z3q].periodicity,interval:f3q[z3q].interval,timeUnit:f3q[z3q].timeUnit,setSpan:f3q[z3q].setSpan};f3q.push(a3q);}f3q.splice(z3q,1);}}}return f3q;};f3.prototype.setDisplayDate=function(H3q){var D3q,C3q,l3q;D3q=H3q.DT;C3q=D3q.getSeconds()*("1000"<<1533271456)+D3q.getMilliseconds();if(this.dataZone){l3q=new T3.Date(D3q.getFullYear(),D3q.getMonth(),D3q.getDate(),D3q.getHours(),D3q.getMinutes(),this.dataZone);D3q=new Date(l3q.getTime()+C3q);}if(this.displayZone){l3q=new T3.Date(D3q.getTime(),this.displayZone);D3q=new Date(l3q.getFullYear(),l3q.getMonth(),l3q.getDate(),l3q.getHours(),l3q.getMinutes());D3q=new Date(D3q.getTime()+C3q);}H3q.displayDate=D3q;};f3.prototype.setDisplayDates=function(o3q){var t3q;if(!o3q){return;}W8k.m3();for(var G3q=0;G3q<o3q.length;G3q++){t3q=o3q[G3q];if(t3q.DT){this.setDisplayDate(t3q);}}};f3.prototype.streamTrade=function(Y3q,v3q,u3q,I3q){var L3q,Q3q,B3q,i3q,E3q,I98,L98,p3q,r3q,c4q,X4q,R4q,A3q,O4q,W3q,b4q,x4q,S4q,Z4q;L3q=this.chart;if(!I3q){I3q={};}if(I3q.chart){L3q=I3q.chart;}Q3q=null;B3q=null;i3q=null;E3q=0;if(typeof Y3q=="object"){I98="undef";I98+="ined";Q3q=Y3q.last;B3q=Y3q.bid;i3q=Y3q.ask;E3q=Y3q.volume;if(typeof v3q!=I98){v3q=new Date(v3q);}}else{L98="un";L98+="def";L98+="ined";Q3q=arguments[0];E3q=arguments[1];if(typeof v3q!=L98){v3q=new Date(arguments[+"2"]);}u3q=arguments[3];}W8k.j3();p3q=L3q.masterData;if(!v3q||v3q=='Invalid Date'){v3q=this.convertToDataZone(new Date());}if(!p3q||!p3q.length||this.layout.interval=="tick"){r3q={Date:z3.yyyymmddhhmmssmmm(v3q),DT:v3q,Open:Q3q,Close:Q3q,High:Q3q,Low:Q3q,Volume:E3q,Bid:B3q,Ask:i3q};this.appendMasterData([r3q],L3q,I3q);}else{r3q=z3.clone(p3q[p3q.length-1]);c4q=new z3.Market({});X4q={'begin':r3q.DT,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};R4q=c4q.newIterator(X4q);A3q=R4q.next();if(v3q<A3q){if(u3q){if(Q3q||Q3q===0){r3q[u3q]=Q3q;;}}else{if(Q3q||Q3q===0){r3q.Close=Q3q;if(Q3q>r3q.High||r3q.High===null){r3q.High=Q3q;}if(Q3q<r3q.Low||r3q.Low===null){r3q.Low=Q3q;}if(r3q.Open===null){r3q.Open=Q3q;};}if(E3q){r3q.Volume+=E3q;}if(B3q||B3q===0){r3q.Bid=B3q;}if(i3q||i3q===("0"^0)){r3q.Ask=i3q;}}O4q=z3.clone(I3q);if(typeof r3q.Adj_Close!="undefined"){r3q.Adj_Close=r3q.Close;}this.appendMasterData([r3q],L3q,O4q);}else{W3q=[];b4q={'begin':v3q,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};x4q=c4q.newIterator(b4q);x4q.next();v3q=x4q.previous();while(A3q<v3q&&this.streamParameters.fillGaps){S4q={Date:z3.yyyymmddhhmmssmmm(A3q),DT:A3q,Close:r3q.Close,Open:r3q.Close,High:r3q.Close,Low:r3q.Close,Volume:0,Bid:r3q.Bid,Ask:r3q.Ask};W3q.push(S4q);A3q=R4q.next();}if(u3q){Z4q=this.currentQuote();r3q={Date:z3.yyyymmddhhmmssmmm(A3q),DT:A3q,Close:Z4q.Close,Volume:"0"|0,Bid:Z4q.Bid,Ask:Z4q.Ask};r3q[u3q]=Q3q;}else{r3q={Date:z3.yyyymmddhhmmssmmm(A3q),DT:A3q,Open:Q3q,Close:Q3q,High:Q3q,Low:Q3q,Volume:E3q,Bid:B3q,Ask:i3q};}W3q.push(r3q);this.appendMasterData(W3q,L3q,I3q);}}};f3.prototype.appendMasterData=function(K4q,m4q,F4q){var d4q,k4q,M4q,v98,y4q,s4q,W98,g98,a4q,n4q,j4q;if(!F4q){F4q={};}if(!m4q){m4q=this.chart;}if(K4q.constructor==Object){K4q=[K4q];}if(this.runPrepend("appendMasterData",[K4q,m4q,F4q])){return;}if(!K4q||!K4q.length){return;}d4q=K4q[0].DT;if(!d4q){d4q=z3.strToDateTime(K4q[0].Date);}k4q=m4q.masterData;if(!k4q||!k4q.length){k4q=m4q.masterData=z3.clone(K4q);for(M4q=0;M4q<k4q.length;M4q++){v98="n";v98+="u";v98+="mbe";v98+="r";if(k4q[M4q].DT){k4q[M4q].Date=z3.yyyymmddhhmmssmmm(k4q[M4q].DT);}else{k4q[M4q].DT=z3.strToDateTime(k4q[M4q].Date);}if(k4q[M4q].Volume&&typeof k4q[M4q].Volume!==v98){k4q[M4q].Volume=parseInt(k4q[M4q].Volume,10);}if(!f3.isDailyInterval(this.layout.interval)){this.setDisplayDate(k4q[M4q]);}}}else{M4q=k4q.length-1;while(M4q>=0){y4q=k4q[M4q].DT;if(!y4q){y4q=z3.strToDateTime(k4q[M4q].Date);}if(y4q.getTime()<=d4q.getTime()){s4q=0;if(y4q.getTime()<d4q.getTime()){s4q=1;}for(var N4q=0;N4q<K4q.length;N4q++){if(!s4q){W98="un";W98+="defin";W98+="ed";if(typeof k4q[M4q+N4q]!=W98){if(!K4q[N4q].Volume&&k4q[M4q+N4q].Volume){K4q[N4q].Volume=k4q[M4q+N4q].Volume;}if(!F4q.allowReplaceOHL){if(k4q[M4q+N4q].Open){K4q[N4q].Open=k4q[M4q+N4q].Open;}if(k4q[M4q+N4q].High>K4q[N4q].High){K4q[N4q].High=k4q[M4q+N4q].High;}if(k4q[M4q+N4q].Low&&k4q[M4q+N4q].Low<K4q[N4q].Low){K4q[N4q].Low=k4q[M4q+N4q].Low;}};}for(var f4q in this.chart.series){g98="un";g98+="define";g98+="d";if(typeof K4q[N4q][f4q]=="undefined"&&typeof k4q[M4q+N4q]!=g98){W8k.t02(0);K4q[N4q][f4q]=k4q[W8k.i02(N4q,M4q)][f4q];}}for(var z4q in this.panels){if(this.panels[z4q].studyQuotes){for(var P4q in this.panels[z4q].studyQuotes){if(!this.panels[z4q].studyQuotes[P4q])continue;if(typeof K4q[N4q][P4q]=="undefined"&&typeof k4q[M4q+N4q]!="undefined"){W8k.t02(0);K4q[N4q][P4q]=k4q[W8k.i02(N4q,M4q)][P4q];}}}}}W8k.t02(25);k4q[W8k.R02(N4q,s4q,M4q)]=K4q[N4q];if(k4q[M4q+N4q+s4q].DT){k4q[M4q+N4q+s4q].Date=z3.yyyymmddhhmmssmmm(k4q[M4q+N4q+s4q].DT);}else{k4q[M4q+N4q+s4q].DT=z3.strToDateTime(k4q[M4q+N4q+s4q].Date);}if(k4q[M4q+N4q+s4q].Volume&&typeof k4q[M4q+N4q+s4q].Volume!=="number"){k4q[M4q+N4q+s4q].Volume=parseInt(k4q[M4q+N4q+s4q].Volume,10);}if(!f3.isDailyInterval(this.layout.interval)){this.setDisplayDate(this.masterData[M4q+N4q+s4q]);};}break;}M4q--;}for(M4q in this.plugins){a4q=this.plugins[M4q];if(a4q.display){if(a4q.appendMasterData){a4q.appendMasterData(this,K4q,m4q);}}}}if(!this.masterData||!this.masterData.length){this.masterData=k4q;}if(!F4q.noCreateDataSet){n4q=this.streamParameters;if(++n4q.count>n4q.maxTicks||F4q.bypassGovernor){clearTimeout(n4q.timeout);this.createDataSet();this.draw();this.updateChartAccessories();W8k.t02(5);n4q.count=W8k.i02("0",0);n4q.timeout=-1;;}else{j4q=this;if(n4q.timeout==-1){n4q.timeout=setTimeout(function(){j4q.createDataSet();j4q.draw();j4q.updateChartAccessories();W8k.j3();j4q.streamParameters.count=0;j4q.streamParameters.timeout=-1;},n4q.maxWait);}}}W8k.j3();this.runAppend("appendMasterData",arguments);};f3.prototype.displayAll=function(T4q,V4q){var y98,J4q,e4q,S98;y98="mo";function U4q(){var h4q;W8k.j3();if(!J4q.masterData.length){return;}h4q=z3.clone(T4q);h4q.dtLeft=J4q.masterData[0].DT;h4q.dtRight=J4q.masterData[J4q.masterData.length-1].DT;if(T4q.maintainPeriodicity){h4q.periodicity={};h4q.periodicity.interval=e4q.layout.interval;h4q.periodicity.period=e4q.layout.periodicity;}e4q.setRange(h4q,function(g4q){if(!T4q.maintainPeriodicity){e4q.layout.setSpan={base:T4q.base,multiplier:T4q.multiplier};e4q.changeOccurred("layout");}if(V4q){V4q(g4q);}});}y98+="n";y98+="t";y98+="h";function q4q(){W8k.m3();e4q.quoteDriver.loadAll(J4q,U4q);}J4q=this.chart;if(T4q&&T4q.chart){J4q=T4q.chart;}e4q=this;if(!this.quoteDriver){U4q();return;}if(this.dontRoll&&this.layout.interval!=y98){S98="mo";S98+="n";S98+="t";S98+="h";this.setPeriodicityV2(1,S98,q4q);}else if(!f3.isDailyInterval(this.layout.interval)){this.setPeriodicityV2(1,"day",q4q);}else{if(J4q.moreAvailable){q4q();}else{U4q();}}};f3.prototype.setRange=function(w4q,o4q){var J98,c5q,D4q,G4q,t4q,X5q,C4q,W4q,l4q,H4q,r4q,v18,W18,g18,R5q,L4q,A4q,Y4q,l98,Q98,E4q,Z5q,Q4q,S5q,x5q,O5q,b5q,i4q,P98,I4q;J98="und";J98+="ef";function M5q(P5q,d5q,m5q,y5q,f5q){var F5q,j5q,U48,w48,Z48;F5q=0;W8k.t02(2);j5q=W8k.i02(d5q,P5q);W8k.m3();if(f3.isDailyInterval(m5q)){if(m5q=="month"){F5q=j5q/z3.MONTH/y5q;}else if(m5q=="week"){F5q=j5q/z3.WEEK/y5q;}else{U48=755377015;w48=-1711302471;Z48=2;for(var E48="1"*1;W8k.P08(E48.toString(),E48.toString().length,47046)!==U48;E48++){F5q=j5q+z3.DAY+y5q;Z48+=2;}if(W8k.P08(Z48.toString(),Z48.toString().length,21475)!==w48){F5q=j5q/z3.DAY/y5q;}}}else{if(!isNaN(m5q)){F5q=j5q/(z3.MINUTE*m5q)/y5q;}else{if(m5q=="millisecond"){W8k.N02(14);F5q=W8k.i02(j5q,y5q);}else if(m5q=="second"){F5q=j5q/z3.SECOND/y5q;}else if(m5q=="hour"){F5q=j5q/z3.HOUR/y5q;}else{F5q=j5q/z3.MINUTE/y5q;}}}return Math.round(F5q);;}J98+="i";J98+="ned";if(z3.isEmpty(w4q)){w4q={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3],goIntoFuture:!{}};o4q=arguments[4];}if(!w4q.chart){w4q.chart=this.chart;}if(typeof w4q.padding==J98){w4q.padding=this.preferences.whitespace;}c5q=![];function p4q(){var q98,k5q,N5q,K5q;q98="lay";q98+="o";q98+="u";q98+="t";if(!D4q.dataSet||D4q.dataSet.length===0){if(o4q){o4q();}return;}k5q=0;N5q=0;if(G4q.getTime()>=D4q.dataSet[0].DT.getTime()||w4q.goIntoPast){k5q=C4q.tickFromDate(G4q,D4q,null,!"");}else{W8k.t02(13);k5q=W8k.R02(2147483647,"0");}if(t4q.getTime()<=D4q.dataSet[D4q.dataSet.length-1].DT.getTime()||w4q.goIntoFuture){N5q=C4q.tickFromDate(t4q,D4q);}else{N5q=D4q.dataSet.length-("1"&2147483647);}W8k.N02(9);K5q=W8k.i02(k5q,N5q,1);if(K5q<1){if(o4q){o4q();}return;}C4q.setCandleWidth((C4q.chart.width-w4q.padding)/K5q,D4q);W8k.t02(76);var O5T=W8k.R02(11,1,15,17,10,3);D4q.scroll=D4q.dataSet.length-k5q+O5T;C4q.micropixels=0;C4q.draw();C4q.changeOccurred(q98);if(o4q){o4q();}}D4q=w4q.chart;W8k.j3();G4q=w4q.dtLeft;t4q=this.convertToDataZone(new Date());if(w4q.dtRight){t4q=w4q.dtRight;}function u4q(s5q){var a98;if(s5q){C4q.chart.scroll=O5q;C4q.layout.candleWidth=b5q;if(o4q){o4q(s5q);}return;}W8k.j3();W4q++;if(W4q>10){a98="STXChart.se";a98+="tRange(): Too many loads (10) fr";a98+="om server. Stopping. Check periodicity logic.";console.log(a98);p4q();return;}if(D4q.moreAvailable&&D4q.masterData[0].DT>G4q){C4q.quoteDriver.checkLoadMore(D4q,!0,!!"",function(n5q){W8k.m3();if(!n5q){u4q();}});}else{p4q();}}if(!G4q){X5q=this.standardMarketIterator(t4q,null,D4q);G4q=X5q.previous(D4q.maxTicks);if(!w4q.periodicity){c5q=!!{};}}C4q=this;W4q=0;if(this.quoteDriver){if(c5q){l4q=this.layout.interval;r4q=this.layout.timeUnit;H4q=this.layout.period;}else if(w4q.periodicity){l4q=w4q.periodicity.interval;v18=+"1072944515";W18=223070897;g18=2;for(var S18=1;W8k.P08(S18.toString(),S18.toString().length,44960)!==v18;S18++){r4q=w4q.periodicity.timeUnit;g18+=2;}if(W8k.l08(g18.toString(),g18.toString().length,"73999"^0)!==W18){r4q=w4q.periodicity.timeUnit;}H4q=w4q.periodicity.period;}else{R5q=t4q.getTime()-G4q.getTime();if(w4q.rangePeriodicityMap){L4q=w4q.rangePeriodicityMap;A4q=null;for(var B4q=0;B4q<L4q.length;B4q++){Y4q=L4q[B4q];if(R5q<=Y4q.range){A4q=Y4q;break;}}l4q=A4q.interval;H4q=A4q.periodicity;r4q=A4q.timeUnit;;}else{l98="baseline_del";l98+="ta_mount";l98+="ai";l98+="n";Q98="c";Q98+="olored_mountai";Q98+="n";E4q=2;switch(this.layout.chartType){case"line":case"colored_line":case"mountain":case Q98:case"baseline_delta":case l98:case"wave":E4q=+"2";break;case"candle":case"bar":case"colored_bar":case"hollow_candle":case"volume_candle":case"scatterplot":E4q=+"5";break;}if(w4q.pixelsPerBar){E4q=w4q.pixelsPerBar;}Z5q=D4q.width/E4q;Q4q=[{interval:1,ms:z3.MINUTE},{interval:5,ms:z3.MINUTE*5},{interval:+"30",ms:z3.MINUTE*30},{interval:"day",ms:z3.DAY},{interval:"month",ms:z3.MONTH},{interval:"year",ms:Number.MAX_VALUE}];l4q=Q4q[0].interval;H4q=+"1";for(var v4q=0;v4q<Q4q.length;v4q++){x5q=R5q/Q4q[v4q].ms;if(x5q<Z5q){if(Q4q[v4q-1]){l4q=Q4q[v4q-+"1"].interval;W8k.N02(14);H4q=Math.ceil(W8k.R02(S5q,Z5q));}else{l4q=Q4q[v4q].interval;H4q=1;}break;}S5q=x5q;}}}O5q=this.chart.scroll;b5q=this.layout.candleWidth;this.chart.scroll=this.chart.maxTicks=M5q(t4q.getTime(),G4q.getTime(),l4q,H4q,this.dontRoll);this.layout.candleWidth=this.chart.width/this.chart.maxTicks;i4q=this.layout.timeUnit!=r4q&&(r4q=="seconds"||r4q=="milliseconds");if(!i4q&&f3.isDailyInterval(this.layout.interval)!==f3.isDailyInterval(l4q)){i4q=!!"1";}else if(!f3.isDailyInterval(this.layout.interval)&&this.layout.interval!=l4q){i4q=!!"1";}if(!this.chart.masterData||i4q){this.layout.interval=l4q;this.layout.periodicity=H4q;this.layout.timeUnit=r4q;if(!this.layout.timeUnit){P98="m";P98+="i";P98+="nute";if(f3.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval=="second"){this.layout.timeUnit="second";}else if(this.layout.interval!="tick"){this.layout.timeUnit=P98;}}I4q={symbol:D4q.symbol,symbolObject:D4q.symbolObject,chart:D4q,nodraw:!0};if(this.layout.interval=="tick"){I4q.startDate=G4q;I4q.endDate=t4q;}if(!this.displayInitialized){I4q.initializeChart=!![];}this.quoteDriver.newChart(I4q,u4q);}else{if(this.layout.interval!=l4q||this.layout.periodicity!=H4q){this.layout.interval=l4q;this.layout.periodicity=H4q;this.createDataSet();}u4q();}}else{p4q();}};f3.prototype.setSpan=function(a5q,h5q){var n98,d98,q5q,J5q,l5q,e5q,V5q,C5q,k98,T5q,Q5q,U5q,z5q,t5q,H5q,G5q,o5q,w5q,r5q,D5q;n98="t";n98+="od";n98+="a";n98+="y";d98="we";d98+="ek";q5q=arguments[0];J5q=arguments[1];l5q=arguments[2];e5q=arguments[3];if(typeof a5q=="object"){q5q=a5q.period?a5q.period:a5q.multiplier?a5q.multiplier:1;J5q=a5q.interval?a5q.interval:a5q.base?a5q.base:a5q.span?a5q.span:a5q.period;l5q=a5q.padding;e5q=a5q.chart;}else{a5q={period:q5q,interval:J5q,padding:l5q,chart:e5q};h5q=arguments[5];}if(!a5q.padding){W8k.N02(22);a5q.padding=W8k.R02("0",0);}W8k.m3();if(!e5q){e5q=this.chart;}J5q=J5q.toLowerCase();function g5q(v5q){v5q.setHours(0);v5q.setMinutes(0);v5q.setSeconds(0);W8k.j3();v5q.setMilliseconds(0);return v5q;}if(J5q=="all"){this.displayAll(a5q,h5q);return;}V5q=J5q;C5q=1;if(J5q=="today"){k98="d";k98+="a";k98+="y";V5q=k98;}else if(J5q=="year"){V5q="month";C5q=12;}T5q=z3.shallowClone(a5q);T5q.goIntoFuture=!{};Q5q={'begin':new Date(),'interval':V5q,'period':C5q,'outZone':this.dataZone};U5q=e5q.market.newIterator(Q5q);z5q=this.convertToDataZone(new Date());if(J5q==='ytd'){z5q=g5q(z5q);z5q.setMonth(0);z5q.setDate(1);}else if(J5q==="today"){U5q.next();z5q=U5q.previous();}else if(J5q==="month"){z5q=g5q(new Date());z5q.setMonth(z5q.getMonth()-q5q);}else if(J5q==="year"){z5q=g5q(new Date());z5q.setFullYear(z5q.getFullYear()-q5q);}else if(J5q===d98){z5q=g5q(new Date());z5q.setDate(z5q.getDate()-q5q*7);}else if(J5q==="day"&&q5q==1){t5q=z5q.getHours();H5q=z5q.getMinutes();G5q=z5q.getSeconds();o5q=z5q.getMilliseconds();z5q=U5q.previous();z5q.setHours(t5q);z5q.setMinutes(H5q);z5q.setSeconds(G5q);z5q.setMilliseconds(o5q);}else{W8k.N02(2);z5q=U5q.previous(W8k.i02(1,q5q));}T5q.dtLeft=z5q;if(J5q===n98){T5q.goIntoFuture=!![];T5q.dtRight=new Date(z5q);w5q=U5q.market.zclose_hour;r5q=U5q.market.zclose_minute;T5q.dtRight.setHours(w5q?w5q:23);T5q.dtRight.setMinutes(w5q?r5q:"59"|49);T5q.dtRight.setSeconds(0);T5q.dtRight=e5q.market._convertFromMarketTZ(T5q.dtRight,this.dataZone);T5q.dtLeft.setHours(U5q.market.zopen_hour);T5q.dtLeft.setMinutes(U5q.market.zopen_minute);T5q.dtLeft.setSeconds(0);T5q.dtLeft=e5q.market._convertFromMarketTZ(T5q.dtLeft,this.dataZone);}if(T5q.maintainPeriodicity){T5q.periodicity={};T5q.periodicity.interval=this.layout.interval;T5q.periodicity.period=this.layout.periodicity;}e5q.spanLock=!{};D5q=this;this.setRange(T5q,function(A5q){var j98;j98="t";j98+="oda";j98+="y";if(!a5q.maintainPeriodicity){D5q.layout.setSpan={base:a5q.base,multiplier:a5q.multiplier};D5q.changeOccurred("layout");}if(J5q==="ytd"||J5q==j98){e5q.spanLock=!![];;}W8k.m3();if(h5q){h5q(A5q);}});};f3.prototype.getSpanCandleWidth=function(p5q){var i5q,E5q,L5q,I5q,B5q,u5q;i5q=p5q.split(220.58<=(925,780.04)?",":(!{},!!1));if(i5q.length<2){return;}E5q=parseFloat(i5q[0]);L5q=new Date();I5q=new Date();if(i5q[1]=="year"){I5q.setFullYear(I5q.getFullYear()-E5q);}else if(i5q[1]=="month"){I5q.setMonth(I5q.getMonth()-E5q);}else if(i5q[1]=="day"){I5q.setDate(I5q.getDate()-E5q);}else if(i5q[+"1"]=="week"){I5q.setDate(I5q.getDate()-("7"<<1012778240)*E5q);}W8k.t02(77);var M5T=W8k.i02(974,79,11,15);W8k.t02(0);var H5T=W8k.i02(5,19);B5q=(L5q.getTime()-I5q.getTime())/1000/M5T/+"60"/H5T;W8k.N02(6);B5q=W8k.R02(5,B5q,7);u5q=this.chart.width/B5q;W8k.m3();return u5q;};f3.prototype.setMaxTicks=function(Y5q,W5q){var Z0q;if(!W5q){W5q={};}Y5q=Math.round(Y5q);if(Y5q<2){Y5q=2;}Z0q=W5q.padding;if(!Z0q){Z0q=0;}this.layout.candleWidth=(this.chart.width-Z0q)/Y5q;if(!this.layout.candleWidth){this.layout.candleWidth=8;}this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-0.499);if(W5q.padding||W5q.padding===+"0"){W8k.N02(78);this.chart.scroll=W8k.i02(1,Y5q,"1");}};f3.prototype.construct=function(){var p0T;p0T="cha";p0T+="rt";this.stackPanel(p0T,"chart",+"1");this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.cx=0;this.cy=0;this.micropixels=0;this.chart.panel.subholder.appendChild(this.controls.home);this.callbackListeners={};this.longHoldTime=1000;};f3.prototype.addEventListener=function(R0q,x0q){var c0q;if(!R0q){R0q="*";}c0q=this.callbackListeners[R0q];if(!c0q){this.callbackListeners[R0q]=c0q=[];}c0q.push(x0q);return{type:R0q,cb:x0q};};f3.prototype.removeEventListener=function(X0q,S0q){var O0q;if(typeof X0q!="object"){X0q={type:X0q,cb:S0q};}W8k.j3();if(!X0q.type){X0q.type="*";}O0q=this.callbackListeners[X0q.type];if(!O0q){return;}for(var b0q=0;b0q<O0q.length;b0q++){if(O0q[b0q]===X0q.cb){O0q.splice(b0q);if(!O0q.length){X0q[X0q.type]=null;}return;}}};f3.prototype.dispatch=function(K0q,s0q){var M0q,I38,L38,v38;if(this.callbacks[K0q]){this.callbacks[K0q].call(this,s0q);}M0q=this.callbackListeners[K0q];if(M0q){for(var k0q=0;k0q<M0q.length;k0q++){M0q[k0q].call(this,s0q);}}M0q=this.callbackListeners["*"];if(M0q){I38=741639228;L38=1727247844;W8k.t02(13);v38=W8k.R02(2147483647,"2");for(var g38=1;W8k.l08(g38.toString(),g38.toString().length,"37253"&2147483647)!==I38;g38++){for(var N0q=0;N0q<M0q.length;N0q++){M0q[N0q].call(this,s0q);}v38+=2;}if(W8k.l08(v38.toString(),v38.toString().length,75667)!==L38){for(var N0q="9"&2147483647;N0q>M0q.length;N0q--){M0q[N0q].call(this,s0q);}}}};f3.prototype.deleteYAxisIfUnused=function(F0q,j0q){var m0q,n0q;if(!j0q){return;}if(j0q===F0q.yAxis){return;}for(var y0q in this.chart.seriesRenderers){m0q=this.chart.seriesRenderers[y0q];if(m0q.params.yAxis===j0q){if(m0q.seriesParams.length!==+"0"){return;}}}for(n0q=0;n0q<F0q.yaxisLHS.length;n0q++){if(F0q.yaxisLHS[n0q]===j0q){F0q.yaxisLHS.splice(n0q,+"1");}}for(n0q=1;n0q<F0q.yaxisRHS.length;n0q++){if(F0q.yaxisRHS[n0q]===j0q){F0q.yaxisRHS.splice(n0q,+"1");}}this.resizeCanvas();this.adjustPanelPositions();};f3.prototype.addYAxis=function(P0q,d0q){var z0q;if(!d0q){return;}if(!P0q.yaxisLHS){P0q.yaxisLHS=[];P0q.yaxisRHS=[];if(P0q.yAxis.position=="right"){P0q.yaxisRHS.push(P0q.yAxis);}else{P0q.yaxisLHS.push(P0q.yAxis);}}z0q=P0q.yaxisLHS.concat(P0q.yaxisRHS);for(var f0q=+"0";f0q<z0q.length;f0q++){if(z0q[f0q]===d0q){return;}}if(d0q.position==="left"){P0q.yaxisLHS.unshift(d0q);}else{d0q.position="right";P0q.yaxisRHS.push(d0q);}this.preAdjustScroll();W8k.m3();this.resizeCanvas();this.adjustPanelPositions();this.postAdjustScroll();};f3.prototype.calculateYAxisPositions=function(){var U0q,V0q,Y0T,B0T,a0q,h0q,g0q,T0q,J0q,e0q;U0q=[];for(var D0q in this.charts){U0q.push(D0q);}for(var w0q in this.panels){V0q=this.panels[w0q];if(V0q.name===V0q.chart.name)continue;U0q.push(w0q);}for(var q0q=0;q0q<U0q.length;q0q++){Y0T="p";Y0T+="x";B0T="u";B0T+="ndef";B0T+="in";B0T+="ed";a0q=this.panels[U0q[q0q]];if(!a0q)continue;h0q=a0q.name===a0q.chart.name;if(!a0q.yaxisLHS){a0q.yaxisLHS=[];a0q.yaxisRHS=[];if(a0q.name===a0q.chart.name||a0q.yAxis.position){if(a0q.yAxis.position=="left"){a0q.yaxisLHS.push(a0q.yAxis);}else{a0q.yaxisRHS.push(a0q.yAxis);};}else{g0q=a0q.chart.panel.yAxis.position;if(!g0q||g0q=="right"){a0q.yaxisRHS.push(a0q.yAxis);}else{a0q.yaxisLHS.push(a0q.yAxis);}}}if(!a0q.yAxis.width){a0q.yAxis.width=this.yaxisWidth;}a0q.yaxisTotalWidthRight=0;a0q.yaxisTotalWidthLeft=0;for(T0q=0;T0q<a0q.yaxisLHS.length;T0q++){J0q=a0q.yaxisLHS[T0q];a0q.yaxisTotalWidthLeft+=J0q.width;J0q.justifyRight=J0q.justifyRight===null?a0q.chart.yAxis.justifyRight:J0q.justifyRight;if(J0q.justifyRight===null){J0q.justifyRight=!!{};}}for(T0q=0;T0q<a0q.yaxisRHS.length;T0q++){J0q=a0q.yaxisRHS[T0q];a0q.yaxisTotalWidthRight+=J0q.width;}e0q=0;for(T0q=0;T0q<a0q.yaxisLHS.length;T0q++){J0q=a0q.yaxisLHS[T0q];J0q.left=e0q;e0q+=J0q.width;}e0q=this.width-a0q.yaxisTotalWidthRight;for(T0q=0;T0q<a0q.yaxisRHS.length;T0q++){J0q=a0q.yaxisRHS[T0q];J0q.left=e0q;e0q+=J0q.width;}if(typeof this.yaxisLeft!=B0T){a0q.chart.yaxisPaddingRight=this.yaxisLeft;}a0q.yaxisCalculatedPaddingRight=a0q.yaxisTotalWidthRight;if(a0q.chart.yaxisPaddingRight||a0q.chart.yaxisPaddingRight===0){a0q.yaxisCalculatedPaddingRight=a0q.chart.yaxisPaddingRight;}a0q.yaxisCalculatedPaddingLeft=a0q.yaxisTotalWidthLeft;if(a0q.chart.yaxisPaddingLeft||a0q.chart.yaxisPaddingLeft===0){a0q.yaxisCalculatedPaddingLeft=a0q.chart.yaxisPaddingLeft;}if(h0q){a0q.left=a0q.yaxisCalculatedPaddingLeft;a0q.right=this.width-a0q.yaxisCalculatedPaddingRight;}else{a0q.left=a0q.chart.panel.left;a0q.right=a0q.chart.panel.right;}a0q.width=a0q.right-a0q.left;a0q.handle.style.left=a0q.left+"px";a0q.handle.style.width=a0q.width+Y0T;if(h0q){a0q.chart.left=a0q.left;a0q.chart.right=a0q.right;a0q.chart.width=a0q.right-a0q.left;}}};f3.prototype.initializeChart=function(I0q){var D0T,T0T,U0T,t0T,f0T,r38,U38,w38,n38,j38,p58,r0T,Z0T,w0T,Q0q,o0q,l0q,t0q,C0q,H0q,r0q,V0T,E0T,G0q;D0T="initiali";D0T+="zeChart";T0T="abs";T0T+="olu";T0T+="te";U0T="abs";U0T+="olu";U0T+="t";U0T+="e";t0T="canv";t0T+="as";f0T="initializeCh";f0T+="a";f0T+="rt";if(this.runPrepend(f0T,arguments)){return;}if(!this.chart.symbolObject.symbol){this.chart.symbolObject.symbol=this.chart.symbol;}if(this.locale){this.setLocale(this.locale);}if(!this.displayZone&&f3.defaultDisplayTimeZone){W8k.N02(22);r38=-W8k.i02("1828289172",1626435588);U38=-1597829913;W8k.N02(33);w38=W8k.R02(1438094272,"2");for(var T38=1;W8k.l08(T38.toString(),T38.toString().length,82666)!==r38;T38++){this.setTimeZone(1,f3.defaultDisplayTimeZone);w38+=+"2";}if(W8k.P08(w38.toString(),w38.toString().length,76275)!==U38){this.setTimeZone(1,f3.defaultDisplayTimeZone);}this.setTimeZone(null,f3.defaultDisplayTimeZone);}this.calculateYAxisPositions();this.micropixels=0;if(I0q){this.chart.container=I0q;}this.chart.container.stx=this;if(!this.chart.container.STXRegistered){n38=-1340957256;j38=2000429892;p58=+"2";for(var Y58=1;W8k.P08(Y58.toString(),Y58.toString().length,22)!==n38;Y58++){this.chart.container.STXRegistered=!!0;f3.registeredContainers.push(this.chart.container);p58+=2;}if(W8k.l08(p58.toString(),p58.toString().length,19080)!==j38){this.chart.container.STXRegistered=!0;f3.registeredContainers.push(this.chart.container);}this.chart.container.STXRegistered=!!{};f3.registeredContainers.push(this.chart.container);}if(z3.isSurface){if(!this.gesture){this.gesture=new MSGesture();if(this.manageTouchAndMouse){this.gesture.target=this.chart.container;}else{this.gesture.target=document.body;}this.gesturePointerId=null;}}this.registerHTMLElements();if(this.chart.canvas&&document.createElement("canvas").getContext){if(!this.chart.canvas.id){this.chart.container.removeChild(this.chart.canvas);this.chart.canvas=null;}if(this.chart.tempCanvas&&!this.chart.tempCanvas.id){this.chart.container.removeChild(this.chart.tempCanvas);this.chart.tempCanvas=null;}if(this.floatCanvas&&!this.floatCanvas.id){this.chart.container.removeChild(this.floatCanvas);this.floatCanvas=null;}}else{if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}if(this.layout.candleWidth>+"200"){this.layout.candleWidth=+"8";}}if(!this.chart.canvas){this.chart.canvas=document.createElement(t0T);}if(!this.chart.canvas.getContext){r0T="#";r0T+="ie8ca";r0T+="nva";r0T+="s";this.chart.canvas=this.chart.container.querySelectorAll(r0T)[0];if(!this.chart.canvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.canvas);}}this.chart.canvas.style.display="block";}else{this.chart.container.appendChild(this.chart.canvas);}this.chart.canvas.style.position="absolute";this.chart.canvas.style.left="0px";this.chart.context=this.chart.canvas.getContext("2d");this.chart.canvas.context=this.chart.context;W8k.t02(22);this.chart.context.lineWidth=W8k.i02("1",0);if(!this.chart.tempCanvas){this.chart.tempCanvas=document.createElement("canvas");}if(!this.chart.tempCanvas.getContext){this.chart.tempCanvas=this.chart.container.querySelectorAll("#ie8canvasTemp")[0];if(!this.chart.tempCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.chart.tempCanvas.style.display="block";}else{this.chart.container.appendChild(this.chart.tempCanvas);}this.chart.tempCanvas.style.position=U0T;this.chart.tempCanvas.style.left="0px";this.chart.tempCanvas.context=this.chart.tempCanvas.getContext("2d");this.chart.tempCanvas.context.lineWidth=1;if(!this.floatCanvas){this.floatCanvas=document.createElement("canvas");}if(!this.floatCanvas.getContext){Z0T="b";Z0T+="lock";w0T="#ie8canv";w0T+="asFloat";this.floatCanvas=this.chart.container.querySelectorAll(w0T)[+"0"];if(!this.floatCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.floatCanvas.style.display=Z0T;}else{this.chart.container.appendChild(this.floatCanvas);}this.floatCanvas.style.position=T0T;this.floatCanvas.style.left="0px";this.floatCanvas.context=this.floatCanvas.getContext("2d");W8k.N02(1);this.floatCanvas.context.lineWidth=W8k.i02("1",1);this.resizeCanvas();if(z3.isAndroid){this.chart.tempCanvas.ontouchstart=function(i0q){if(i0q.preventDefault){i0q.preventDefault();}};this.floatCanvas.ontouchstart=function(E0q){W8k.m3();if(E0q.preventDefault){E0q.preventDefault();}};}this.panels.chart.display=this.chart.symbol;if(this.chart.symbolDisplay){this.panels.chart.display=this.chart.symbolDisplay;}this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.calculateYAxisMargins(this.chart.panel.yAxis);this.initialWhitespace=this.preferences.whitespace;if(this.chart.dataSet&&this.chart.dataSet.length>0){this.chart.scroll=Math.floor(this.chart.width/this.layout.candleWidth);Q0q=Math.round(this.preferences.whitespace/this.layout.candleWidth);this.chart.scroll-=Q0q;}W8k.m3();if(z3.touchDevice){o0q=a3(".overlayEdit",this.chart.container);l0q=a3("#overlayTrashCan",this.chart.container);t0q=a3("#vectorTrashCan",this.chart.container);if(o0q){z3.safeClickTouch(o0q,function(B0q){W8k.m3();return function(L0q){B0q.deleteHighlighted(!![],!![]);};}(this));if(l0q){z3.safeClickTouch(l0q,function(u0q){var T28,E28,V28;T28=-+"1668453077";E28=1701924611;V28=2;for(var c28="1">>1015804288;W8k.l08(c28.toString(),c28.toString().length,50284)!==T28;c28++){W8k.m3();V28+=2;}if(W8k.P08(V28.toString(),V28.toString().length,"39584"-0)!==E28){W8k.m3();}return function(p0q){W8k.j3();u0q.deleteHighlighted(!{});};}(this));}}else if(l0q){z3.safeClickTouch(l0q,function(Y0q){W8k.m3();return function(W0q){Y0q.deleteHighlighted(!"");};}(this));}if(t0q){z3.safeClickTouch(t0q,function(Z6q){return function(R6q){W8k.m3();Z6q.deleteHighlighted(!0);};}(this));}}if(this.manageTouchAndMouse){this.registerTouchAndMouseEvents();}this.chart.container.onmouseout=function(c6q){return function(x6q){W8k.j3();c6q.handleMouseOut(x6q);};}(this);if(this.controls.chartControls){this.controls.chartControls.style.display="block";}this.abortDrawings();this.undoStamps=[];for(var A0q in this.panels){C0q=this.panels[A0q];if(C0q.markerHolder){this.chart.container.removeChild(C0q.markerHolder);C0q.markerHolder=null;}}for(var v0q in this.plugins){H0q=this.plugins[v0q];if(H0q.display){if(H0q.initializeChart){H0q.initializeChart(this);}}}if(!this.resizeListenerInitialized){this.resizeListenerInitialized=!![];r0q=function(X6q){return function(O6q){X6q.resizeChart();};};if(window.attachEvent){window.attachEvent("onresize",r0q(this));}else{V0T="res";V0T+="i";V0T+="z";V0T+="e";E0T="r";E0T+="e";E0T+="si";E0T+="ze";G0q=r0q(this);window.addEventListener(E0T,G0q,!!"1");this.eventListeners.push({"element":window,"event":V0T,"function":G0q});}}if(this.chart.baseline.userLevel){this.chart.baseline.userLevel=null;}this.setResizeTimer(this.resizeDetectMS);this.runAppend(D0T,arguments);};f3.prototype.destroy=function(){var S6q;this.setResizeTimer(0);if(this.quoteDriver){this.quoteDriver.die();}this.styles={};for(var b6q=0;b6q<this.eventListeners.length;b6q++){S6q=this.eventListeners[b6q];S6q.element.removeEventListener(S6q.event,S6q["function"]);}};f3.prototype.handleMouseOut=function(M6q){var c0T,k6q,N6q;M6q=M6q||window.event;if(!z3.withinElement(this.chart.container,M6q.pageX,M6q.pageY)){c0T="h";c0T+="andleMouseO";c0T+="ut";if(this.runPrepend(c0T,arguments)){return;}this.undisplayCrosshairs();this.grabbingScreen=!!0;this.touches=[];this.touching=!!"";if(this.activeDrawing&&this.userPointerDown){this.userPointerDown=![];this.drawingLine=!{};k6q=this.backOutY(M6q.pageY);N6q=this.backOutX(M6q.pageX);this.drawingClick(this.currentPanel,N6q,k6q);}f3.insideChart=!1;this.displaySticky();this.runAppend("handleMouseOut",arguments);}};f3.prototype.registerTouchAndMouseEvents=function(){var F0T,s0T,K0T,H0T,x0T,z0T,K6q,j6q,s6q,n6q,h0T,b0T,G0T,u0T,N0T,i0T,R0T,O0T,X0T,M0T,F6q;F0T="DO";F0T+="MMou";F0T+="seS";F0T+="croll";s0T="m";s0T+="o";s0T+="usew";s0T+="heel";K0T="w";K0T+="heel";H0T="di";H0T+="v";x0T="#";x0T+="zoo";x0T+="mIn";z0T="#ho";z0T+="m";z0T+="e";if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!"1";K6q=this.chart.container;j6q=a3(z0T,this.controls.chartControls);W8k.m3();s6q=a3(x0T,this.controls.chartControls);n6q=a3("#zoomOut",this.controls.chartControls);if(!z3.touchDevice){h0T="mo";h0T+="us";h0T+="eup";b0T="mouse";b0T+="d";b0T+="o";b0T+="wn";G0T="mou";G0T+="sem";G0T+="ov";G0T+="e";K6q.addEventListener(G0T,function(m6q){W8k.j3();return function(y6q){W8k.m3();m6q.mousemove(y6q);};}(this),!1);K6q.addEventListener(b0T,function(P6q){return function(d6q){W8k.j3();P6q.mousedown(d6q);};}(this),!{});K6q.addEventListener(h0T,function(f6q){W8k.m3();return function(z6q){f6q.mouseup(z6q);};}(this),!"1");}else{if(z3.isSurface){u0T="mou";u0T+="sem";u0T+="ove";K6q.addEventListener(u0T,function(a6q){W8k.m3();return function(T6q){a6q.msMouseMoveProxy(T6q);};}(this),![]);K6q.addEventListener("mousedown",function(J6q){W8k.m3();return function(e6q){J6q.msMouseDownProxy(e6q);};}(this),!{});K6q.addEventListener("mouseup",function(U6q){return function(q6q){W8k.j3();U6q.msMouseUpProxy(q6q);};}(this),!!"");if(window.navigator.msPointerEnabled){N0T="MSP";N0T+="oi";N0T+="nterDown";K6q.addEventListener(N0T,function(V6q){return function(h6q){return V6q.startProxy(h6q);};}(this),!!"");K6q.addEventListener("MSGestureStart",function(g6q){return function(w6q){W8k.j3();g6q.gestureInEffect=!!1;};}(this),![]);K6q.addEventListener("MSGestureChange",function(D6q){W8k.j3();return function(l6q){W8k.m3();return D6q.touchmove(l6q);};}(this),![]);K6q.addEventListener("MSGestureEnd",function(C6q){return function(H6q){C6q.gestureInEffect=!!0;return C6q.touchend(H6q);};}(this),!"1");K6q.addEventListener("MSPointerMove",function(G6q){return function(o6q){G6q.moveProxy(o6q);};}(this),!{});K6q.addEventListener("MSPointerUp",function(t6q){W8k.m3();return function(r6q){return t6q.endProxy(r6q);};}(this),![]);}else{i0T="p";i0T+="o";i0T+="intermo";i0T+="ve";K6q.addEventListener("pointerdown",function(Q6q){return function(v6q){W8k.j3();return Q6q.startProxy(v6q);};}(this),!{});K6q.addEventListener("MSGestureStart",function(A6q){return function(I6q){var e48,o48,C48;e48=-766566731;o48=+"498614530";C48=+"2";for(var I48=1;W8k.P08(I48.toString(),I48.toString().length,+"19136")!==e48;I48++){W8k.j3();C48+=2;}if(W8k.l08(C48.toString(),C48.toString().length,69949)!==o48){W8k.j3();}W8k.j3();A6q.gestureInEffect=!![];};}(this),![]);K6q.addEventListener("MSGestureChange",function(i6q){W8k.m3();return function(E6q){W8k.j3();return i6q.touchmove(E6q);};}(this),!!0);K6q.addEventListener("MSGestureEnd",function(B6q){W8k.j3();return function(L6q){W8k.j3();B6q.gestureInEffect=!1;return B6q.touchend(L6q);};}(this),!"1");K6q.addEventListener(i0T,function(u6q){W8k.j3();return function(p6q){u6q.moveProxy(p6q);};}(this),!!"");K6q.addEventListener("pointerup",function(Y6q){W8k.j3();return function(W6q){return Y6q.endProxy(W6q);};}(this),![]);}}else{R0T="touc";R0T+="h";R0T+="end";O0T="touchs";O0T+="ta";O0T+="rt";if(!z3.isAndroid&&!z3.ipad&&!z3.iphone){X0T="m";X0T+="ou";X0T+="s";X0T+="emove";K6q.addEventListener(X0T,function(Z9q){W8k.m3();return function(R9q){W8k.j3();Z9q.iosMouseMoveProxy(R9q);};}(this),![]);K6q.addEventListener("mousedown",function(c9q){W8k.j3();return function(x9q){W8k.m3();c9q.iosMouseDownProxy(x9q);};}(this),!{});K6q.addEventListener("mouseup",function(X9q){W8k.m3();return function(O9q){X9q.iosMouseUpProxy(O9q);};}(this),!{});}K6q.addEventListener(O0T,function(b9q){W8k.j3();return function(S9q){b9q.touchstart(S9q);};}(this),![]);K6q.addEventListener("touchmove",function(M9q){return function(k9q){M9q.touchmove(k9q);};}(this),!{});K6q.addEventListener(R0T,function(N9q){return function(K9q){W8k.m3();N9q.touchend(K9q);};}(this),!{});if(s6q){M0T="onMou";M0T+="se";M0T+="Out";s6q.removeAttribute("onMouseOver");s6q.removeAttribute(M0T);}if(n6q){n6q.removeAttribute("onMouseOver");n6q.removeAttribute("onMouseOut");}}}F6q="wheel"in document.createElement(H0T)||"onwheel"in document?K0T:document.onmousewheel!==undefined?s0T:F0T;K6q.addEventListener(F6q,function(s9q,n9q){W8k.m3();return function(F9q){s9q.mouseWheel(F9q,n9q);};}(this,F6q),!"1");};f3.prototype.rightClickHighlighted=function(){if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!"");this.runAppend("rightClickHighlighted",arguments);};f3.prototype.deleteHighlighted=function(h9q,V9q){var o0T,A0T,y9q,J9q,U9q,a9q,j9q,d9q,z9q,T9q,e0T;o0T="del";o0T+="eteHighl";o0T+="ighted";A0T="del";A0T+="eteHig";A0T+="hlighted";if(this.runPrepend(A0T,arguments)){return;}this.cancelTouchSingleClick=!!1;z3.clearCanvas(this.chart.tempCanvas,this);for(var m9q=this.drawingObjects.length-1;m9q>=0;m9q--){y9q=this.drawingObjects[m9q];if(y9q.highlighted&&!y9q.permanent){J9q=y9q.abort();if(!J9q){U9q=z3.shallowClone(this.drawingObjects);this.drawingObjects.splice(m9q,1);this.undoStamp(U9q,z3.shallowClone(this.drawingObjects));}this.changeOccurred("vector");}}for(var P9q in this.overlays){a9q=this.overlays[P9q];if(a9q.highlight&&!a9q.permanent){if(h9q||V9q){this.rightClickOverlay(P9q,V9q);}else{this.removeOverlay(P9q);}}}j9q=this.currentPanel.chart;for(var e9q in j9q.seriesRenderers){d9q=j9q.seriesRenderers[e9q];for(var f9q=d9q.seriesParams.length-1;f9q>=0;f9q--){z9q=d9q.seriesParams[f9q];if(z9q.highlight&&!z9q.permanent){d9q.removeSeries(z9q.field);}}}T9q=!!"";for(var q9q in j9q.series){if(j9q.series[q9q].parameters.isComparison){T9q=!![];}}if(!T9q){this.setComparison(![],j9q);}this.draw();if(this.controls.mSticky){e0T="n";e0T+="o";e0T+="ne";this.controls.mSticky.style.display=e0T;this.controls.mSticky.children[0].innerHTML="";}this.runAppend(o0T,arguments);};f3.prototype.panelExists=function(D9q){var w9q;for(var g9q in this.panels){w9q=this.panels[g9q];if(w9q.name==D9q){return!0;}}W8k.m3();return!"1";};f3.prototype.hideCrosshairs=function(){this.displayCrosshairs=!{};};f3.prototype.showCrosshairs=function(){W8k.m3();this.displayCrosshairs=!"";};f3.prototype.grabHandle=function(l9q){W8k.m3();if(this.runPrepend("grabHandle",arguments)){return;}if(!l9q){return;}f3.crosshairY=l9q.top+this.top;f3.resizingPanel=l9q;this.drawTemporaryPanel();z3.appendClassName(l9q.handle,"stx-grab");this.runAppend("grabHandle",arguments);};f3.prototype.releaseHandle=function(){var B48,Y48,f48,C0T;if(this.runPrepend("releaseHandle",arguments)){return;}z3.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(f3.resizingPanel){z3.unappendClassName(f3.resizingPanel.handle,"stx-grab");}W8k.j3();f3.resizingPanel=null;B48=-715071617;Y48=201205735;f48=+"2";for(var r48="1"<<1308630816;W8k.P08(r48.toString(),r48.toString().length,64495)!==B48;r48++){C0T="r";C0T+="eleaseH";C0T+="andle";this.runAppend(C0T,arguments);f48+=2;}if(W8k.l08(f48.toString(),f48.toString().length,7552)!==Y48){this.runAppend("",arguments);}};f3.prototype.storePanels=function(){var H9q,C9q;if(!this.layout){this.layout={};}H9q=this.layout;W8k.m3();H9q.panels={};for(var G9q in this.panels){C9q=this.panels[G9q];H9q.panels[C9q.name]={"percent":C9q.percent,"display":C9q.display};}};f3.prototype.savePanels=function(o9q){W8k.j3();this.storePanels();if(o9q!==!"1"){this.changeOccurred("layout");}};f3.prototype.resolveY=function(t9q){return this.top+t9q;};f3.prototype.resolveX=function(r9q){W8k.j3();return this.left+r9q;};f3.prototype.backOutY=function(Q9q){W8k.j3();return Q9q-this.top;};f3.prototype.backOutX=function(v9q){W8k.j3();return v9q-this.left;};f3.prototype.cleanupRemovedStudy=function(A9q){var L48,v48,W48;if(A9q.libraryEntry){L48=-704777982;v48=-1607933687;W48=2;for(var y48=1;W8k.l08(y48.toString(),y48.toString().length,80159)!==L48;y48++){if(A9q.libraryEntry.removeFN){A9q.libraryEntry.removeFN(this,A9q);}W48+=2;}if(W8k.P08(W48.toString(),W48.toString().length,42443)!==v48){if(A9q.libraryEntry.removeFN){A9q.libraryEntry.removeFN(this,A9q);}}if(A9q.libraryEntry.removeFN){A9q.libraryEntry.removeFN(this,A9q);}if(A9q.libraryEntry.feed&&A9q.libraryEntry.quoteFeed){this.detachTagAlongQuoteFeed(A9q.libraryEntry.feed);}}for(var I9q in this.plugins){if(I9q.indexOf("{"+A9q.id+(511==2500?+"7.07e+2":"}"))>-1){delete this.plugins[I9q];}}if(this.layout.studies){delete this.layout.studies[A9q.name];}};f3.prototype.privateDeletePanel=function(i9q){var L9q,p9q;if(this.layout.studies){L9q=this.layout.studies[i9q.name];if(L9q){this.cleanupRemovedStudy(L9q);}}delete this.panels[i9q.name];for(var u9q in z3.Studies.studyPanelMap){if(z3.Studies.studyPanelMap[u9q].panel==i9q.name){delete z3.Studies.studyPanelMap[u9q];}}for(var E9q in this.overlays){if(this.overlays[E9q].panel==i9q.name){delete this.layout.studies[E9q];delete this.overlays[E9q];;}}if(i9q.holder){this.chart.container.removeChild(i9q.holder);p9q=this.getMarkerArray("panelName",i9q.name);for(var B9q=0;B9q<p9q.length;B9q++){this.removeFromHolder(p9q[B9q]);}}i9q.handle.parentNode.removeChild(i9q.handle);;};f3.prototype.panelClose=function(Y9q){var m0T,W9q;m0T="panelClo";m0T+="s";m0T+="e";W8k.m3();if(!Y9q){return;}if(this.runPrepend("panelClose",arguments)){return;}this.cancelTouchSingleClick=!!1;f3.drawingLine=!{};if(Y9q.soloing){this.panelSolo(Y9q);}if(this.charts[Y9q.name]){for(var Z7q in this.panels){W9q=this.panels[Z7q];if(W9q.chart.name==Y9q.name){this.privateDeletePanel(W9q);}}delete this.charts[Y9q.name];}else{this.privateDeletePanel(Y9q);}this.showCrosshairs();this.createDataSet();this.adjustPanelPositions();this.draw();this.savePanels();this.runAppend(m0T,arguments);};f3.prototype.deleteAllPanels=function(){var c7q;for(var R7q in this.panels){c7q=this.panels[R7q];this.privateDeletePanel(c7q);}this.layout.panels={};this.panels={};};f3.prototype.panelUp=function(X7q){var O7q,b7q,x7q,S7q;this.cancelTouchSingleClick=!0;W8k.j3();f3.drawingLine=!{};this.showCrosshairs();O7q={};b7q=+"0";for(x7q in this.panels){if(x7q==X7q.name)break;b7q++;}if(!b7q){return;}S7q=+"0";for(x7q in this.panels){if(S7q==b7q-1){O7q[X7q.name]=X7q;}if(x7q==X7q.name)continue;O7q[x7q]=this.panels[x7q];S7q++;}this.panels=O7q;this.adjustPanelPositions();this.draw();this.savePanels();};f3.prototype.panelDown=function(k7q){var N7q,K7q,M7q,n7q,s7q;this.cancelTouchSingleClick=!!"1";f3.drawingLine=!{};this.showCrosshairs();N7q={};K7q=0;for(M7q in this.panels){if(M7q==k7q.name)break;K7q++;}n7q=+"0";for(M7q in this.panels){n7q++;}W8k.j3();if(K7q==n7q-1){return;}s7q=0;for(M7q in this.panels){if(M7q==k7q.name){s7q++;continue;}N7q[M7q]=this.panels[M7q];if(s7q==K7q+1){N7q[k7q.name]=k7q;}s7q++;}this.panels=N7q;this.adjustPanelPositions();this.draw();this.savePanels();};f3.prototype.panelSolo=function(F7q){var j7q;this.cancelTouchSingleClick=!!{};f3.drawingLine=!!0;this.showCrosshairs();j7q=!![];if(F7q.soloing){j7q=![];F7q.soloing=!{};z3.unappendClassName(F7q.solo,"stx_solo_lit");F7q.percent=F7q.oldPercent;this.panels.chart.percent=this.panels.chart.oldPercent;}else{F7q.soloing=!![];z3.appendClassName(F7q.solo,"stx_solo_lit");if(F7q.name=="chart"){F7q.oldPercent=F7q.percent;}else{F7q.oldPercent=F7q.percent;this.panels.chart.oldPercent=this.panels.chart.percent;F7q.percent=1-this.panels.chart.percent;}}for(var m7q in this.panels){this.panels[m7q].hidden=j7q;}this.panels.chart.hidden=!{};F7q.hidden=!{};this.adjustPanelPositions();this.draw();this.savePanels();};f3.prototype.calculatePanelPercent=function(y7q){var P7q;W8k.m3();P7q=y7q.bottom-y7q.top;y7q.percent=P7q/this.chart.canvasHeight;};f3.prototype.resizePanels=function(){var a7q,z7q,d7q,f7q;if(!f3.resizingPanel){return;}a7q=!!"1";if(f3.crosshairY>this.resolveY(f3.resizingPanel.top)){a7q=!{};}if(a7q){f7q=null;for(z7q in this.panels){if(this.panels[z7q]==f3.resizingPanel)break;if(this.panels[z7q].hidden)continue;f7q=this.panels[z7q];}d7q=this.backOutY(f3.crosshairY);if(d7q<f7q.top+30){W8k.N02(79);var K5T=W8k.R02(300,17,17,8,2489);d7q=f7q.top+K5T;f3.crosshairY=this.resolveY(d7q);}f7q.bottom=d7q;f3.resizingPanel.top=d7q;this.calculatePanelPercent(f7q);this.calculatePanelPercent(f3.resizingPanel);}else{f7q=null;for(z7q in this.panels){if(this.panels[z7q]==f3.resizingPanel)break;if(this.panels[z7q].hidden)continue;f7q=this.panels[z7q];}d7q=this.backOutY(f3.crosshairY);if(d7q>f3.resizingPanel.bottom-30){d7q=f3.resizingPanel.bottom-30;f3.crosshairY=this.resolveY(d7q);}f7q.bottom=d7q;f3.resizingPanel.top=d7q;this.calculatePanelPercent(f7q);this.calculatePanelPercent(f3.resizingPanel);}this.adjustPanelPositions();this.draw();this.savePanels();};f3.prototype.adjustPanelPositions=function(){var Q0T,a0T,q0T,I0T,w7q,D7q,l7q,h7q,g7q,e7q,q7q,U7q,T7q,V7q,L0T,J7q,J0T,S0T,y0T,g0T,W0T,v0T;Q0T="adjustPane";Q0T+="lPo";Q0T+="si";Q0T+="tions";a0T="p";a0T+="x";q0T="n";q0T+="on";q0T+="e";I0T="ad";I0T+="justPanelPositions";if(!this.chart.symbol){return;}if(this.runPrepend(I0T,arguments)){return;}w7q=0;D7q=this.chart.canvasHeight;W8k.t02(5);l7q=W8k.i02("0",0);h7q=!!"";g7q=0;e7q=0;q7q=!"1";for(U7q in this.panels){T7q=this.panels[U7q];if(isNaN(T7q.percent)||T7q.percent<=+"0"){T7q.percent=0.05;}if(T7q.hidden)continue;g7q+=T7q.percent;e7q++;if(T7q.soloing){q7q=!![];}}for(U7q in this.panels){V7q=0;T7q=this.panels[U7q];if(T7q.hidden){if(T7q.markerHolder){T7q.markerHolder.style.display="none";}continue;}if(!h7q){L0T="n";L0T+="one";h7q=!![];T7q.up.style.display=L0T;}else{if(this.displayIconsUpDown){T7q.up.style.display="";}}if(q7q){if(T7q.soloing){if(this.displayIconsSolo){T7q.solo.style.display="";}}else{T7q.solo.style.display="none";}}else if(e7q==1||e7q==2){T7q.solo.style.display="none";}else{if(this.displayIconsSolo){T7q.solo.style.display="";}}if(e7q==1){T7q.down.style.display="none";}else{if(this.displayIconsUpDown){T7q.down.style.display="";}}if(T7q.editFunction){T7q.edit.style.display="";}else{T7q.edit.style.display="none";}T7q.percent=T7q.percent/g7q;T7q.top=w7q;T7q.bottom=T7q.top+D7q*T7q.percent;T7q.height=T7q.bottom-T7q.top;if(T7q.chart.name==T7q.name){T7q.chart.top=T7q.top;T7q.chart.bottom=T7q.bottom;T7q.chart.height=T7q.height;}J7q=T7q.yAxis;if(J7q.zoom&&J7q.height>0){V7q=J7q.zoom/J7q.height;}this.adjustYAxisHeightOffset(T7q,J7q);J7q.top=T7q.top+J7q.topOffset;J7q.bottom=T7q.bottom-J7q.bottomOffset;J7q.height=J7q.bottom-J7q.top;if(V7q){J7q.zoom=V7q*J7q.height;if(J7q.zoom>J7q.height){J7q.zoom=0;};}w7q=T7q.bottom;if(!J7q.high&&J7q.high!==0){J7q.high=100;J7q.low=0;J7q.shadow=+"100";}J7q.multiplier=J7q.height/J7q.shadow;if(T7q.holder){J0T="p";J0T+="x";S0T="0";S0T+="p";S0T+="x";y0T="p";y0T+="x";g0T="p";g0T+="x";W0T="0";W0T+="p";W0T+="x";v0T="0";v0T+="px";T7q.holder.style.right=v0T;T7q.holder.style.top=T7q.top+"px";T7q.holder.style.left=W0T;T7q.holder.style.height=T7q.height+g0T;T7q.subholder.style.left=T7q.left+"px";T7q.subholder.style.width=T7q.width+y0T;T7q.subholder.style.top=S0T;if(J7q.height>=0){T7q.subholder.style.height=J7q.height+J0T;}}}if(U7q){this.panels[U7q].down.style.display=q0T;}if(e7q==2&&!q7q){this.panels.chart.solo.style.display="";}if(this.controls.chartControls&&this.panels.chart){W8k.N02(2);var F5T=W8k.i02(330,352);this.controls.chartControls.style.bottom=this.chart.canvasHeight-this.panels.chart.bottom+F5T+a0T;}W8k.j3();this.clearPixelCache();this.adjustDrawings();this.runAppend(Q0T,arguments);};f3.prototype.makeMarkerHelper=function(){this.markerHelper={chartMap:{},classMap:{}};};f3.prototype.addToHolder=function(C7q){var G7q,o7q,H7q;G7q=this.panels[C7q.params.panelName];if(!G7q){return;}if(z3.derivedFrom(C7q.params.node,z3.Marker.NodeCreator)){C7q.stxNodeCreator=C7q.params.node;C7q.node=C7q.stxNodeCreator.node;}else{C7q.node=C7q.params.node;}if(!this.markerHelper){this.makeMarkerHelper();}if(C7q.params.chartContainer){this.container.appendChild(C7q.node);}else if(C7q.params.includeAxis){G7q.holder.appendChild(C7q.node);}else{G7q.subholder.appendChild(C7q.node);}o7q=C7q.params.label;if(!this.markers[o7q]){this.markers[o7q]=[];}this.markers[o7q].push(C7q);C7q.chart=G7q.chart;if(!this.markerHelper.chartMap[C7q.chart.name]){this.markerHelper.chartMap[C7q.chart.name]={dataSetLength:"0">>1426442592,markers:[]};}this.markerHelper.chartMap[C7q.chart.name].markers.push(C7q);if(!C7q.className){console.log("Marker objects must have a member className");}H7q=this.markerHelper.classMap[C7q.className];if(!H7q){H7q=this.markerHelper.classMap[C7q.className]={};}if(!H7q[C7q.params.panelName]){H7q[C7q.params.panelName]=[];}H7q[C7q.params.panelName].push(C7q);this.setMarkerTick(C7q);};f3.prototype.getMarkerArray=function(A7q,I7q){var H48,K48,s48,t7q,P0T,l0T,r7q;H48=-731104808;K48=-1021222688;s48=+"2";for(var A48=+"1";W8k.P08(A48.toString(),A48.toString().length,4765)!==H48;A48++){W8k.j3();t7q=[];s48+=2;}if(W8k.P08(s48.toString(),s48.toString().length,"7306"-0)!==K48){W8k.j3();t7q=[];}for(var Q7q in this.markers){for(var v7q=+"0";v7q<this.markers[Q7q].length;v7q++){P0T="a";P0T+="l";P0T+="l";l0T="la";l0T+="bel";r7q=this.markers[Q7q][v7q];if(A7q=="panelName"){if(r7q.params.panelName==I7q){t7q.push(r7q);}}else if(A7q==l0T){if(Q7q==I7q){t7q.push(r7q);}}else if(A7q==P0T){t7q.push(r7q);}}}return t7q;};f3.prototype.removeFromHolder=function(E7q){var B7q,L7q,i7q,u7q,Y7q,p7q;B7q=this.panels[E7q.params.panelName];if(B7q){if(E7q.node.parentNode==B7q.holder){B7q.holder.removeChild(E7q.node);}else if(E7q.node.parentNode==B7q.subholder){B7q.subholder.removeChild(E7q.node);}else if(E7q.node.parentNode==this.container){this.container.removeChild(E7q.node);}}W8k.m3();L7q=this.markers[E7q.params.label];if(!L7q){return;}for(i7q=0;i7q<L7q.length;i7q++){if(L7q[i7q]===E7q){L7q.splice(i7q,+"1");break;}}u7q=this.markerHelper.chartMap[E7q.chart.name];if(u7q){for(i7q=0;i7q<u7q.markers.length;i7q++){if(u7q.markers[i7q]===E7q){u7q.markers.splice(i7q,1);break;}}}Y7q=this.markerHelper.classMap[E7q.className];if(Y7q){p7q=Y7q[E7q.params.panelName];if(p7q){for(i7q=0;i7q<p7q.length;i7q++){if(p7q[i7q]===E7q){p7q.splice(i7q,1);break;}}}}};f3.prototype.establishMarkerTicks=function(){var R8S,W7q;if(!this.markerHelper){this.makeMarkerHelper();}W8k.m3();R8S=this.markerHelper.chartMap;for(var c8S in R8S){W7q=R8S[c8S];if(W7q.dataSetLength==this.charts[c8S].dataSet.length)continue;for(var Z8S=0;Z8S<W7q.markers.length;Z8S++){this.setMarkerTick(W7q.markers[Z8S]);}}};f3.prototype.futureTickIfDisplayed=function(O8S){var x8S,S8S,N8S,K8S,n8S,k8S,b8S,s8S,M8S;x8S=O8S.chart;if(x8S.dataSet.length<1){return;}S8S=x8S.xaxis[x8S.xaxis.length-+"1"].DT;S8S=new Date(S8S.getTime()-this.timeZoneOffset*60000);if(O8S.params.x>S8S){return;}N8S=x8S.maxTicks-x8S.dataSegment.length;K8S=x8S.dataSet.length+N8S;W8k.j3();b8S=new Date(x8S.dataSet[x8S.dataSet.length-1].DT);s8S=this.standardMarketIterator(b8S,null,x8S);M8S=O8S.params.x.getTime();for(var X8S=x8S.dataSet.length;X8S<K8S;X8S++){n8S=b8S.getTime();b8S=s8S.next();k8S=b8S.getTime();if(k8S==M8S){O8S.tick=X8S;return;}else if(k8S>M8S&&n8S<M8S){W8k.t02(80);O8S.tick=Math.max(W8k.R02("1",X8S),0);return;}}};f3.prototype.setMarkerTick=function(F8S){var k0T,m8S,d8S,P8S,y8S,f8S,z8S;k0T="d";k0T+="a";k0T+="t";k0T+="e";W8k.m3();m8S=F8S.chart;if(F8S.params.xPositioner=="master"&&F8S.params.x){F8S.tick=Math.floor(F8S.params.x/this.layout.periodicity);return;}else if(F8S.params.xPositioner==k0T&&F8S.params.x){y8S=F8S.params.x.getTime();for(var j8S=0;j8S<m8S.dataSet.length;j8S++){f8S=m8S.dataSet[j8S];P8S=f8S.DT.getTime();d8S=P8S;if(j8S>0){d8S=m8S.dataSet[j8S-1].DT.getTime();}if(P8S==y8S){F8S.tick=j8S;return;}else if(P8S>y8S&&d8S<y8S){W8k.t02(26);F8S.tick=Math.max(W8k.i02("1",j8S,1),0);return;}else if(y8S<P8S){F8S.tick=null;return;}}if(m8S.dataSet.length<1){return;}z8S=new Date(m8S.dataSet[j8S-1].DT);if(z8S.getTime()<y8S){F8S.params.future=!![];}F8S.tick=null;;}};f3.prototype.positionMarkers=function(){var a8S;function T8S(){var d0T,U8S,e8S,J8S,h8S;d0T="position";d0T+="Markers";W8k.j3();if(a8S.runPrepend(d0T,arguments)){return;}a8S.markerTimeout=null;for(var q8S in a8S.markerHelper.classMap){for(var V8S in a8S.markerHelper.classMap[q8S]){U8S=a8S.markerHelper.classMap[q8S][V8S];e8S=a8S.panels[V8S];if(U8S.length){J8S={stx:a8S,arr:U8S,panel:e8S};J8S.firstTick=e8S.chart.dataSet.length-e8S.chart.scroll;J8S.lastTick=J8S.firstTick+e8S.chart.dataSegment.length;h8S=U8S[0].constructor.placementFunction;if(h8S){h8S(J8S);}else{a8S.defaultMarkerPlacement(J8S);}}}}a8S.runAppend("positionMarkers",arguments);}a8S=this;if(!a8S.markerHelper){return;}W8k.j3();if(this.markerDelay||this.markerDelay===0){if(!this.markerTimeout){this.markerTimeout=setTimeout(T8S,this.markerDelay);}}else{T8S();}};f3.prototype.addChart=function(g8S,w8S){W8k.j3();w8S.name=g8S;this.charts[g8S]=w8S;};f3.prototype.createPanel=function(r8S,Q8S,D8S,l8S){var C8S,H8S,G8S,t8S;if(this.runPrepend("createPanel",arguments)){return;}if(!l8S){l8S="chart";}W8k.j3();C8S=this.chart.canvasHeight;if(!D8S){W8k.N02(1);D8S=W8k.i02(C8S,0.20);}W8k.N02(14);H8S=W8k.i02(D8S,C8S);W8k.t02(2);G8S=W8k.i02(H8S,1);for(var o8S in this.panels){t8S=this.panels[o8S];t8S.percent*=G8S;}this.stackPanel(r8S,Q8S,H8S,l8S);this.adjustPanelPositions();this.savePanels(!!"");this.runAppend("createPanel",arguments);};f3.prototype.configurePanelControls=function(v8S){var p4T,j0T,n0T,A8S,B4T;p4T="n";p4T+="on";p4T+="e";j0T=".";j0T+="stx-ico-focus";n0T="s";n0T+="tx-s";n0T+="h";n0T+="ow";A8S=v8S.name==v8S.chart.name;v8S.icons=a3(".stx-panel-control",v8S.holder);v8S.close=v8S.icons.children[4];v8S.close=a3(".stx-ico-close",v8S.icons).parentNode;z3.appendClassName(v8S.icons,n0T);v8S.title=a3(".stx-panel-title",v8S.icons);v8S.up=a3(".stx-ico-up",v8S.icons).parentNode;v8S.solo=a3(j0T,v8S.icons).parentNode;v8S.down=a3(".stx-ico-down",v8S.icons).parentNode;v8S.edit=a3(".stx-ico-edit",v8S.icons).parentNode;if(!this.displayIconsUpDown){v8S.up.style.display="none";}if(!this.displayIconsUpDown){v8S.down.style.display="none";}if(!this.displayIconsSolo){v8S.solo.style.display=p4T;}if(!this.displayIconsClose){B4T="no";B4T+="ne";v8S.close.style.display=B4T;}if(!this.displayPanelResize){v8S.handle.style.display="none";}v8S.title.innerHTML="";v8S.title.appendChild(document.createTextNode(v8S.display));if(A8S){z3.appendClassName(v8S.title,"chart-title");z3.appendClassName(v8S.icons,"stx-chart-panel");}if(!z3.touchDevice||z3.isSurface){v8S.icons.onmouseover=function(I8S){W8k.j3();return function(i8S){W8k.m3();I8S.hideCrosshairs();};}(this);}if(!z3.touchDevice||z3.isSurface){v8S.icons.onmouseout=function(E8S){return function(B8S){E8S.showCrosshairs();};}(this);}if(!z3.touchDevice||z3.isSurface){v8S.handle.onmouseover=function(L8S){return function(){L8S.hideCrosshairs();};}(this);}if(!z3.touchDevice||z3.isSurface){v8S.handle.onmouseout=function(u8S){W8k.j3();return function(){W8k.j3();u8S.showCrosshairs();};}(this);}if(z3.touchDevice){v8S.handle.ontouchstart=function(p8S,Y8S){W8k.m3();return function(W8S){W8k.j3();if(p8S.resizingPanel){return;}W8S.preventDefault();p8S.grabHandle(Y8S);};}(this,v8S);v8S.handle.ontouchend=function(Z1S){return function(R1S){R1S.preventDefault();Z1S.releaseHandle();};}(this);}v8S.handle.onmousedown=function(c1S,x1S){W8k.j3();return function(X1S){if(!X1S){X1S=event;}c1S.grabHandle(x1S);};}(this,v8S);v8S.handle.onmouseup=function(O1S){W8k.j3();return function(b1S){W8k.j3();if(!b1S){b1S=event;}O1S.releaseHandle();};}(this);z3.safeClickTouch(v8S.close,function(S1S,M1S){W8k.j3();return function(){W8k.j3();S1S.panelClose(M1S);};}(this,v8S));z3.safeClickTouch(v8S.up,function(k1S,N1S){W8k.j3();return function(){k1S.panelUp(N1S);};}(this,v8S));z3.safeClickTouch(v8S.down,function(K1S,s1S){W8k.j3();return function(){K1S.panelDown(s1S);};}(this,v8S));z3.safeClickTouch(v8S.solo,function(n1S,F1S){W8k.j3();return function(){W8k.m3();n1S.panelSolo(F1S);};}(this,v8S));if(v8S.name=="chart"){v8S.close.style.display="none";};};f3.prototype.stackPanel=function(f1S,y1S,T1S,P1S){var r4T,t4T,f4T,Y4T,m1S,d1S,z1S,j1S,k08,d08,n08,a1S;r4T="stx-";r4T+="pan";r4T+="el-chart";t4T="c";t4T+="q-p";t4T+="anel-";t4T+="name";f4T="stx-sub";f4T+="ho";f4T+="l";f4T+="der";Y4T="st";Y4T+="x-";Y4T+="h";Y4T+="older";if(this.runPrepend("stackPanel",arguments)){return;}if(!P1S){P1S="chart";}m1S=this.charts[P1S];W8k.N02(81);d1S=W8k.i02(y1S,P1S);z1S=null;if(d1S){f1S=m1S.symbol;if(m1S.symbolDisplay){f1S=m1S.symbolDisplay;}z1S=m1S.yAxis;}j1S=this.panels[y1S]=new f3.Panel(y1S,z1S);if(!d1S&&m1S.yAxis){k08=685977138;W8k.N02(33);d08=-W8k.R02(1656523392,"680686047");n08=2;for(var p48=1;W8k.l08(p48.toString(),p48.toString().length,93863)!==k08;p48++){j1S.yAxis.width=m1S.yAxis.width;n08+=2;}if(W8k.P08(n08.toString(),n08.toString().length,84786)!==d08){j1S.yAxis.width=m1S.yAxis.width;}j1S.yAxis.width=m1S.yAxis.width;;}j1S.percent=T1S;j1S.chart=m1S;j1S.display=f1S;j1S.holder=z3.newChild(this.container,"div",Y4T);j1S.subholder=z3.newChild(j1S.holder,"div",f4T);j1S.subholder.style.zIndex=1;j1S.holder.setAttribute("cq-panel-name",y1S);j1S.subholder.setAttribute(t4T,y1S);a1S=d1S?r4T:"stx-panel-study";z3.appendClassName(j1S.holder,a1S);j1S.subholder.appendChild(this.controls.iconsTemplate.cloneNode(!!1));j1S.handle=this.controls.handleTemplate.cloneNode(!!{});this.container.appendChild(j1S.handle);j1S.handle.id=null;j1S.handle.panel=j1S;this.configurePanelControls(j1S);this.resizeCanvas();this.runAppend("stackPanel",arguments);};f3.prototype.setPanelEdit=function(J1S,e1S){J1S.editFunction=e1S;W8k.m3();z3.safeClickTouch(J1S.edit,e1S);this.adjustPanelPositions();};f3.prototype.drawPanels=function(){var c4T,V1S,V4T,U4T,U1S,w4T,E4T,T4T,Z4T,q1S,D4T;c4T="dr";c4T+="aw";c4T+="Panel";c4T+="s";W8k.m3();if(this.runPrepend("drawPanels",arguments)){return;}V1S=!1;for(var h1S in this.panels){V4T="stx_pa";V4T+="nel_bo";V4T+="rde";V4T+="r";U4T="s";U4T+="tx-";U4T+="sho";U4T+="w";U1S=this.panels[h1S];U1S.axisDrawn=!{};if(U1S.title.innerHTML!=U1S.display){U1S.title.innerHTML="";U1S.title.appendChild(document.createTextNode(U1S.display));}z3.appendClassName(U1S.icons,U4T);if(U1S.hidden){w4T="n";w4T+="o";w4T+="n";w4T+="e";z3.unappendClassName(U1S.icons,"stx-show");U1S.handle.style.display="none";U1S.holder.style.display=w4T;continue;}else{E4T="bloc";E4T+="k";T4T="no";T4T+="n";T4T+="e";Z4T="n";Z4T+="o";Z4T+="ne";if(!this.displayIconsUpDown){U1S.up.style.display="none";}if(!this.displayIconsUpDown){U1S.down.style.display=Z4T;}if(!this.displayIconsSolo){U1S.solo.style.display=T4T;}U1S.holder.style.display=E4T;}if(!V1S){U1S.handle.style.display="none";V1S=!![];continue;}q1S=U1S.top;q1S=Math.round(q1S)+0.5;this.plotLine(U1S.left,U1S.right,q1S,q1S,this.canvasStyle(V4T),"segment",this.chart.context,!{},{});if(!this.displayPanelResize){D4T="n";D4T+="on";D4T+="e";U1S.handle.style.display=D4T;}else{U1S.handle.style.display="";}U1S.handle.style.top=q1S-U1S.handle.offsetHeight/2+"px";;}this.runAppend(c4T,arguments);};f3.prototype.touchSingleClick=function(C1S,w1S,D1S){var l1S,g1S;l1S=this;g1S=arguments;return function(){(function(){var z4T,H1S,G1S,o1S;z4T="tou";z4T+="chSingleClick";if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",g1S)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(w1S<this.left||w1S>this.right||D1S<this.top||D1S>this.bottom){return;}H1S=this.backOutY(f3.crosshairY);G1S=this.backOutX(f3.crosshairX);this.currentPanel=this.whichPanel(H1S);if(!this.currentVectorParameters.vectorType||!z3.Drawing[this.currentVectorParameters.vectorType]||!new z3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(!this.drawingClick(this.currentPanel,G1S,H1S)){if(!this.layout.crosshair){W8k.N02(33);f3.crosshairY=W8k.R02(433683648,"0");f3.crosshairX=+"0";this.cx=this.backOutX(f3.crosshairX);this.cy=this.backOutY(f3.crosshairY);this.findHighlights();f3.crosshairY=D1S;f3.crosshairX=w1S;o1S=this.container.getBoundingClientRect();this.top=o1S.top;this.left=o1S.left;this.right=this.left+this.width;this.bottom=this.top+this.height;this.cx=this.backOutX(f3.crosshairX);this.cy=this.backOutY(f3.crosshairY);if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));}this.headsUpHR();this.findHighlights(!!"1");}}if(!this.currentVectorParameters.vectorType){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:G1S,y:H1S});}}}l1S.cancelTouchSingleClick=!!"";this.runAppend(z4T,g1S);}.apply(l1S,g1S));};};f3.prototype.touchDoubleClick=function(v1S,r1S,Q1S){var t1S;if(r1S<this.left||r1S>this.right||Q1S<this.panels.chart.top||Q1S>this.panels.chart.bottom){return;}if(this.editingAnnotation){return;}if(this.runPrepend("touchDoubleClick",arguments)){return;}if(f3.drawingLine){this.undo();}else{if(this.anyHighlighted){this.deleteHighlighted();}else{t1S=this.currentPanel.yAxis;if(t1S.scroll==(t1S.initialMarginTop-t1S.initialMarginBottom)/2&&t1S.zoom==t1S.initialMarginTop+t1S.initialMarginBottom){this.home();}else{this.calculateYAxisMargins(this.currentPanel.yAxis);;}this.draw();}}this.clicks={s1MS:-1,e1MS:-+"1",s2MS:-+"1",e2MS:-1};this.runAppend("touchDoubleClick",arguments);};f3.prototype.touchmove=function(A1S){var G4T,x4T,I1S,S2S,s2S,F2S,P2S,Z58,T58,E58,M38,H38,K38,x2S,X2S,Z2S,W1S,b2S,B1S,M2S,O2S,y2S,L1S,u1S,k2S,p1S,Y1S,T2S,N2S,K2S,R2S,n2S,e2S,c2S,d2S,f2S,z2S,a2S,j2S,m2S,E1S,U2S,J2S;G4T="touc";G4T+="hmov";G4T+="e";x4T="freef";x4T+="orm";if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(f3.ignoreTouch===!![]){return;}I1S=[];if(A1S&&A1S.touches&&A1S.touches.length==1){if(Math.pow(this.clicks.x-A1S.touches[+"0"].clientX,2)+Math.pow(this.clicks.y-A1S.touches[0].clientY,2)<=16){return;}}if(!this.overYAxis||this.controls&&this.controls.crossX&&this.controls.crossX.style.display!="none"){if(A1S&&A1S.preventDefault&&this.captureTouchEvents){A1S.preventDefault();}if(A1S){A1S.stopPropagation();}}S2S=new Date().getTime();if(this.clicks.s2MS==-1){this.clicks.e1MS=S2S;if(this.clicks.e1MS-this.clicks.s1MS<"25">>2033586400){return;}}else{this.clicks.e2MS=S2S;if(this.clicks.e2MS-this.clicks.s2MS<25){return;}}if(z3.isSurface){if(this.mouseMode){return;}if(!A1S.pointerId){A1S.pointerId=this.gesturePointerId;}if((!this.grabbingScreen||f3.resizingPanel)&&!this.overrideGesture){if(A1S.detail==A1S.MSGESTURE_FLAG_INERTIA){this.gesture.stop();return;;}}for(var i1S=+"0";i1S<this.touches.length;i1S++){if(this.touches[i1S].pointerId==A1S.pointerId){s2S=Math.abs(this.touches[i1S].pageX-A1S.clientX);F2S=Math.abs(this.touches[i1S].pageY-A1S.clientY);W8k.t02(82);P2S=Math.sqrt(W8k.R02(F2S,F2S,s2S,s2S));if(!P2S){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS-this.clicks.s1MS<50){return;}if(this.touches[i1S].pageX==A1S.clientX&&this.touches[i1S].pageY==A1S.clientY){return;}this.touches[i1S].pageX=A1S.clientX;this.touches[i1S].pageY=A1S.clientY;break;}}if(i1S===0){this.movedPrimary=!!"1";}else{Z58=721003558;T58=+"324761677";E58=+"2";for(var D58=1;W8k.P08(D58.toString(),D58.toString().length,"63027"-0)!==Z58;D58++){this.movedSecondary=!1;E58+=2;}if(W8k.P08(E58.toString(),E58.toString().length,38357)!==T58){this.movedSecondary=!!0;}this.movedSecondary=!!{};}if(!this.gestureInEffect&&i1S==this.touches.length){return;}this.changedTouches=[{pointerId:A1S.pointerId,pageX:A1S.clientX,pageY:A1S.clientY}];I1S=this.touches;if(this.gestureInEffect&&!I1S.length){M38=502635830;H38=-+"1941493984";K38=2;for(var F38=1;W8k.P08(F38.toString(),F38.toString().length,1006)!==M38;F38++){I1S=this.changedTouches;K38+=2;}if(W8k.l08(K38.toString(),K38.toString().length,79423)!==H38){I1S=this.changedTouches;}}}else{I1S=A1S.touches;this.changedTouches=A1S.changedTouches;}x2S=this.crosshairXOffset;X2S=this.crosshairYOffset;if(this.activeDrawing&&this.activeDrawing.name==x4T){x2S=0;X2S=0;}if(this.runPrepend(G4T,arguments)){return;}if(f3.resizingPanel){b2S=I1S[+"0"];Z2S=b2S.pageX;W1S=b2S.pageY;W8k.t02(0);this.mousemoveinner(W8k.i02(x2S,Z2S),W8k.i02(X2S,W1S));return;}if(this.moveB!=-1){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=I1S[+"0"].pageX;if(I1S.length==1){M2S=I1S[0];Z2S=M2S.pageX;W1S=M2S.pageY;this.pinchingScreen=0;W8k.t02(0);this.mousemoveinner(W8k.i02(x2S,Z2S),W8k.R02(X2S,W1S));O2S=this.whichPanel(W1S);this.overXAxis=W1S>=this.top+this.chart.panel.yAxis.bottom&&W1S<=this.top+this.chart.panel.bottom&&f3.insideChart;if(!O2S){this.overYAxis=!!0;}else{this.overYAxis=(Z2S>=O2S.right||Z2S<=O2S.left)&&f3.insideChart;}}else if(I1S.length==2&&this.allowZoom){if(!this.displayCrosshairs){return;}y2S=I1S[0];L1S=y2S.pageX;u1S=y2S.pageY;k2S=I1S[1];p1S=k2S.pageX;Y1S=k2S.pageY;W8k.t02(83);B1S=Math.sqrt(W8k.R02(Y1S,L1S,p1S,u1S,Y1S,u1S,L1S,p1S));W8k.t02(6);var o5T=W8k.i02(2,19,19);this.pinchingCenter=Math.min(L1S,p1S)+(Math.max(L1S,p1S)-Math.min(L1S,p1S))/o5T;T2S=Math.round(this.gestureStartDistance-B1S);N2S=!this.layout.crosshair&&!this.currentVectorParameters.vectorType;if(N2S){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen<2){if(z3.isSurface&&(!this.movedPrimary||!this.movedSecondary)){return;}if(L1S<this.pt.x1&&p1S<this.pt.x2||L1S>this.pt.x1&&p1S>this.pt.x2||u1S<this.pt.y1&&Y1S<this.pt.y2||u1S>this.pt.y1&&Y1S>this.pt.y2){this.pinchingScreen=0;}else{this.pinchingScreen++;if(this.pinchingScreen<2){return;}}}this.pt={x1:L1S,x2:p1S,y1:u1S,y2:Y1S};if(this.pinchingScreen===0){W8k.N02(0);this.mousemoveinner(W8k.i02(x2S,L1S),W8k.i02(X2S,u1S));this.gestureStartDistance=B1S;}else{K2S=Math.asin((Math.max(Y1S,u1S)-Math.min(Y1S,u1S))/B1S);if(Math.abs(T2S)<12&&!N2S){this.moveCount++;if(this.moveCount==4){this.pinchingScreen=+"0";this.moveCount=0;return;}}else{this.moveCount=0;}if(K2S<1||!this.goneVertical&&K2S<1.37){if(!this.currentPanel){return;}R2S=this.currentPanel.chart;this.goneVertical=![];B1S=this.pt.x2-this.pt.x1;n2S=this.grabStartValues.t2-this.grabStartValues.t1;W8k.N02(84);var C5T=W8k.R02(9,20,1,18,17,298);e2S=this.grabStartValues.t1+n2S/C5T;W8k.t02(14);c2S=W8k.i02(B1S,n2S);if(c2S<this.minimumCandleWidth){c2S=this.minimumCandleWidth;}d2S=this.layout.candleWidth;this.setCandleWidth(c2S,R2S);if(R2S.maxTicks<this.minimumZoomTicks){this.setCandleWidth(d2S,R2S);return;}this.micropixels=0;f2S=this.pixelFromTick(Math.round(e2S),R2S);z2S=this.pt.x1-this.left+Math.round(B1S/("2"-0));W8k.t02(2);a2S=W8k.R02(z2S,f2S);W8k.N02(14);j2S=W8k.i02(a2S,c2S);m2S=Math.round(j2S);R2S.scroll-=m2S;W8k.t02(2);this.microscroll=W8k.R02(j2S,m2S);this.micropixels=c2S*this.microscroll;this.draw();}else{E1S=this.currentPanel.chart.panel.yAxis;this.goneVertical=!![];E1S.zoom=this.grabStartZoom+(this.gestureStartDistance-B1S);if(this.grabStartZoom<E1S.height){if(E1S.zoom>=E1S.height){E1S.zoom=E1S.height-1;}}else{if(E1S.zoom<=E1S.height){W8k.t02(59);var I5T=W8k.R02(16,10,8,18,21);E1S.zoom=E1S.height+I5T;}}this.draw();;}}}else if(I1S.length==3&&f3.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}U2S=I1S[0];J2S=U2S.pageX;B1S=this.grabStartX-J2S;this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(B1S/+"10");if(this.grabEndPeriodicity<1){this.grabEndPeriodicity=1;}if(typeof headsUp!="undefined"){headsUp.period.innerHTML=this.grabEndPeriodicity+" "+this.layout.interval;if(this.grabEndPeriodicity>1){headsUp.period.innerHTML+="s";}}}this.runAppend("touchmove",arguments);};f3.prototype.touchstart=function(w2S){var p38,B38,Y38,Q2S,v2S,l2S,h2S,V2S,q2S,C2S,D2S,t2S,L2S,g2S,u2S,p2S,I2S,i2S,E2S,r2S,H2S,o2S,A2S,Y2S,B2S;if(f3.ignoreTouch){return;}if(z3.isSurface){this.movedPrimary=!!"";this.movedSecondary=!1;}else{p38=1049570323;B38=+"1499799687";Y38=2;for(var t38=1;W8k.P08(t38.toString(),t38.toString().length,15321)!==p38;t38++){if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!!{};Y38+=2;}if(W8k.P08(Y38.toString(),Y38.toString().length,+"30333")!==B38){if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!{};}this.touches=w2S.touches;this.changedTouches=w2S.changedTouches;}if(f3.resizingPanel){return;}Q2S=this.crosshairXOffset;v2S=this.crosshairYOffset;if(this.runPrepend("touchstart",arguments)){return;}if(this.manageTouchAndMouse&&w2S&&w2S.preventDefault&&this.captureTouchEvents){w2S.preventDefault();}this.hasDragged=!!0;this.doubleFingerMoves=0;this.moveCount=0;this.twoFingerStart=!{};if(this.touches.length==1||this.touches.length==2){if(this.changedTouches.length==1){C2S=Date.now();this.clicks.x=this.changedTouches[0].pageX;this.clicks.y=this.changedTouches[0].pageY;if(C2S-this.clicks.e1MS<250){this.cancelTouchSingleClick=!"";this.clicks.s2MS=C2S;}else{this.cancelTouchSingleClick=!!"";this.clicks.s1MS=C2S;this.clicks.e1MS=-1;W8k.t02(15);this.clicks.s2MS=-W8k.i02("1",1869222784);W8k.N02(22);this.clicks.e2MS=-W8k.i02("1",0);}}this.touchMoveTime=Date.now();this.moveA=this.touches[0].pageX;this.moveB=-1;D2S=this.touches[0];V2S=D2S.pageX;q2S=D2S.pageY;t2S=this.container.getBoundingClientRect();this.top=t2S.top;this.left=t2S.left;this.right=this.left+this.width;this.bottom=this.top+this.height;if(this.touches.length==1){L2S=this.cy=this.backOutY(q2S);this.currentPanel=this.whichPanel(L2S);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}if(V2S>=this.left&&V2S<=this.right&&q2S>=this.top&&q2S<=this.bottom){f3.insideChart=!!{};this.overXAxis=q2S>=this.top+this.chart.panel.yAxis.bottom&&q2S<=this.top+this.chart.panel.bottom;this.overYAxis=V2S>=this.currentPanel.right||V2S<=this.currentPanel.left;for(var G2S=+"0";G2S<this.drawingObjects.length;G2S++){g2S=this.drawingObjects[G2S];if(g2S.highlighted){u2S=g2S.highlighted;this.cy=this.backOutY(q2S);this.cx=this.backOutX(V2S);this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));this.findHighlights(!!"1");if(g2S.highlighted){this.repositioningDrawing=g2S;return;}else{this.anyHighlighted=!![];g2S.highlighted=u2S;;}}}w2S.stopPropagation();}else{f3.insideChart=!!0;}p2S=this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType!=="";if(!this.layout.crosshair&&!p2S&&f3.insideChart&&!this.touchNoPan){if((this.layout.chartType=="baseline_delta"||this.layout.chartType=="baseline_delta_mountain")&&this.chart.baseline.userLevel!==!{}){I2S=this.valueFromPixelUntransform(this.cy-("5"^0),this.currentPanel);i2S=this.valueFromPixelUntransform(this.cy+5,this.currentPanel);E2S=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,"10"&2147483647);if(this.chart.baseline.actualLevel<I2S&&this.chart.baseline.actualLevel>i2S&&this.backOutX(D2S.pageX)>E2S){this.repositioningBaseline={lastDraw:Date.now()};return;}}for(l2S in this.panels){h2S=this.panels[l2S];if(h2S.highlighted){this.grabHandle(h2S);return;}}this.grabbingScreen=!0;this.yToleranceBroken=!"1";W8k.t02(0);this.grabStartX=W8k.i02(Q2S,V2S);W8k.t02(0);this.grabStartY=W8k.i02(v2S,q2S);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.swipeStart(this.currentPanel.chart);setTimeout(function(W2S){W8k.m3();return function(){W2S.grabbingHand();};}(this),"100">>122343936);}else{this.grabbingScreen=!1;if(f3.insideChart){if(z3.Drawing[this.currentVectorParameters.vectorType]&&new z3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.userPointerDown=!![];f3.crosshairX=V2S;f3.crosshairY=q2S;if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(f3.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.backOutY(f3.crosshairY),this.currentPanel));}this.drawingClick(this.currentPanel,this.backOutX(V2S),this.backOutY(q2S));this.headsUpHR();return;}}}}if(this.touches.length=="2">>49355840){this.cancelLongHold=!!1;this.swipe.end=!![];if(!this.displayCrosshairs&&!this.touchNoPan||!f3.insideChart){return;}r2S=this.touches[1];H2S=r2S.pageX;o2S=r2S.pageY;for(l2S in this.panels){h2S=this.panels[l2S];if(h2S.highlighted){this.grabHandle(h2S);return;}}A2S=this.currentPanel.chart;W8k.N02(83);this.gestureStartDistance=Math.sqrt(W8k.i02(o2S,V2S,H2S,q2S,o2S,q2S,V2S,H2S));this.pt={x1:V2S,x2:H2S,y1:q2S,y2:o2S};this.grabbingScreen=!!{};W8k.N02(0);this.grabStartX=W8k.R02(Q2S,V2S);W8k.t02(0);this.grabStartY=W8k.R02(v2S,q2S);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,this.currentPanel),y2:this.valueFromPixel(this.pt.y2-this.top,this.currentPanel),t1:this.tickFromPixel(this.pt.x1-this.left,A2S),t2:this.tickFromPixel(this.pt.x2-this.left,A2S)};this.twoFingerStart=!0;setTimeout(function(Z3S){return function(){W8k.j3();Z3S.grabbingHand();};}(this),100);}else if(this.touches.length==3){if(!this.displayCrosshairs){return;}Y2S=this.touches[0];B2S=Y2S.pageX;this.grabStartX=B2S;this.grabStartPeriodicity=this.layout.periodicity;}W8k.m3();if(this.touches.length==1){this.mouseTimer=Date.now();this.longHoldTookEffect=!!0;if(this.longHoldTime){this.startLongHoldTimer();}}this.runAppend("touchstart",arguments);};f3.prototype.swipeStart=function(c3S){var R3S;if(this.swipe&&this.swipe.interval){clearInterval(this.swipe.interval);}this.swipe.velocity=0;this.swipe.amplitude=0;this.swipe.frame=c3S.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=this.currentPanel.chart;this.swipe.end=![];this.swipe.timeConstant=325;this.swipe.cb=null;R3S=this;requestAnimationFrame(function(){R3S.swipeSample();});};f3.prototype.swipeSample=function(){var x3S,X3S,O3S,b3S,S3S,k3S,N3S,K3S,M3S;W8k.j3();x3S=this.swipe;if(x3S.end){return;}X3S=this;N3S=20;O3S=Date.now();b3S=O3S-x3S.timestamp;if(b3S<N3S){requestAnimationFrame(function(){W8k.j3();X3S.swipeSample();});return;}K3S=z3.touchDevice?0.4:0.8;x3S.timestamp=O3S;S3S=(x3S.chart.scroll-x3S.frame)*this.layout.candleWidth+this.micropixels-x3S.micropixels;x3S.frame=x3S.chart.scroll;x3S.micropixels=this.micropixels;W8k.N02(85);k3S=W8k.R02(1,S3S,b3S,1000);M3S=K3S*k3S+0.2*this.swipe.velocity;if(Math.abs(M3S)>Math.abs(x3S.velocity)){x3S.velocity=M3S;}if(Math.abs(S3S)<+"6"){x3S.velocity=0;;}requestAnimationFrame(function(){W8k.m3();X3S.swipeSample();});};f3.prototype.swipeRelease=function(){var s3S,n3S;s3S=this.swipe;if(s3S.velocity>+"3000"){s3S.velocity=3000;}if(s3S.velocity<-3000){s3S.velocity=-+"3000";}if(s3S.velocity>10||s3S.velocity<-10){s3S.amplitude=0.8*s3S.velocity;s3S.scroll=s3S.chart.scroll;s3S.target=s3S.amplitude;s3S.timestamp=Date.now();n3S=this;requestAnimationFrame(function(){n3S.autoscroll();});}};f3.prototype.scrollTo=function(j3S,y3S,P3S){var F3S,m3S;F3S=this.swipe;F3S.end=!"";F3S.amplitude=F3S.target=(y3S-j3S.scroll)*this.layout.candleWidth;F3S.timeConstant=100;F3S.timestamp=Date.now();F3S.scroll=j3S.scroll;F3S.chart=j3S;F3S.cb=P3S;m3S=this;requestAnimationFrame(function(){W8k.m3();m3S.autoscroll();});};f3.prototype.autoscroll=function(){var z3S,d3S,T3S,f3S,a3S;z3S=this;d3S=this.swipe;if(d3S.amplitude){d3S.elapsed=Date.now()-d3S.timestamp;f3S=-d3S.amplitude*Math.exp(-d3S.elapsed/d3S.timeConstant);if(f3S>0.5||f3S<-0.5){a3S=(d3S.target+f3S)/this.layout.candleWidth;d3S.chart.scroll=d3S.scroll+Math.round(a3S);this.draw();requestAnimationFrame(function(){W8k.m3();z3S.autoscroll();});}else{if(d3S.cb){d3S.cb();}}}};f3.prototype.touchend=function(U3S){var e3S,J3S,q3S,V3S;if(f3.ignoreTouch){return;}this.swipe.end=!!{};if(z3.isSurface){}else{this.touches=U3S.touches;this.changedTouches=U3S.changedTouches;}W8k.m3();if(this.runPrepend("touchend",arguments)){return;}this.cancelLongHold=!!"1";if(this.touches.length<=1){if(this.layout.crosshair||this.currentVectorParameters.vectorType){if(!this.touches.length||!this.twoFingerStart){this.grabbingScreen=!{};}}}if(this.touches.length){this.grabStartX=-1;this.grabStartY=-1;}if(!this.touches.length){this.touchingEvent=setTimeout(function(h3S){W8k.m3();return function(){h3S.touching=!{};};}(this),500);if(f3.resizingPanel){this.releaseHandle();return;}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!{};this.grabbingScreen=![];}else{if(f3.resizingPanel){return;}}if(this.changedTouches.length==1){if(this.repositioningDrawing){this.changeOccurred("vector");z3.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.draw();if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType){this.findHighlights(![],!!{});}return;}if(this.repositioningBaseline){this.repositioningBaseline=null;this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2;this.draw();return;}e3S=Date.now();W8k.t02(6);var v5T=W8k.R02(3,13,39);J3S=this.touches.length+v5T;if(this.clicks.s2MS==-1){this.clicks.e1MS=e3S;if(!this.currentVectorParameters.vectorType||!z3.Drawing[this.currentVectorParameters.vectorType]||!new z3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&!this.hasDragged){setTimeout(this.touchSingleClick(J3S,this.clicks.x,this.clicks.y),200);;}else{this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};}}this.userPointerDown=!{};if(this.activeDrawing&&this.activeDrawing.dragToDraw){q3S=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset;V3S=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset;this.drawingClick(this.currentPanel,V3S,q3S);return;}}else{this.clicks.e2MS=e3S;if(this.clicks.e2MS-this.clicks.s2MS<250){this.touchDoubleClick(J3S,this.clicks.x,this.clicks.y);}else{this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};}}if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&J3S==1||this.twoFingerStart&&!this.touches.length){this.swipeRelease();}}else{if(this.grabEndPeriodicity!=-1&&!isNaN(this.grabEndPeriodicity)){if(this.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute){this.setPeriodicityV2(this.grabEndPeriodicity);}this.grabEndPeriodicity=-1;}}if(!this.touches.length){this.twoFingerStart=!"1";}this.runAppend("touchend",arguments);};f3.prototype.startProxy=function(g3S){if(g3S.pointerType==4||g3S.pointerType=="mouse"){this.mouseMode=!![];}else{this.mouseMode=!1;}if(this.mouseMode){return;}W8k.j3();this.touches[this.touches.length]={pointerId:g3S.pointerId,pageX:g3S.clientX,pageY:g3S.clientY};this.changedTouches=[{pointerId:g3S.pointerId,pageX:g3S.clientX,pageY:g3S.clientY}];if(!this.gestureInEffect&&this.touches.length==+"1"){this.gesturePointerId=g3S.pointerId;this.overrideGesture=!{};if(!this.gesture){return;}this.gesture.addPointer(g3S.pointerId);this.touchstart(g3S);}else{this.gesture.stop();this.touchstart(g3S);}};f3.prototype.moveProxy=function(w3S){if(w3S.pointerType=="4"<<2094777280||w3S.pointerType=="mouse"){this.mouseMode=!![];}else{this.mouseMode=![];}if(this.mouseMode){return;}if(!this.gestureInEffect){this.touchmove(w3S);}};f3.prototype.endProxy=function(l3S){var C3S;if(this.mouseMode){return;}C3S=this.touches.length;for(var D3S="0"|0;D3S<this.touches.length;D3S++){if(this.touches[D3S].pointerId==l3S.pointerId){this.touches.splice(D3S,1);break;}}if(D3S==C3S){this.touches=[];this.grabbingScreen=!!"";this.touching=!1;return;}this.changedTouches=[{pointerId:l3S.pointerId,pageX:l3S.clientX,pageY:l3S.clientY}];if(!this.gestureInEffect){this.touchend(l3S);}};f3.prototype.msMouseMoveProxy=function(H3S){if(this.touches.length||!this.mouseMode){return;}W8k.j3();this.mousemove(H3S);};f3.prototype.msMouseDownProxy=function(G3S){if(!this.mouseMode){return;}W8k.m3();this.mousedown(G3S);};f3.prototype.msMouseUpProxy=function(o3S){if(!this.mouseMode){return;}this.mouseup(o3S);};f3.prototype.iosMouseMoveProxy=function(t3S){W8k.m3();if(this.touching){return;}this.mousemove(t3S);};f3.prototype.iosMouseDownProxy=function(r3S){W8k.j3();if(this.touching){this.mouseMode=!"1";return;}this.mouseMode=!![];this.mousedown(r3S);};f3.prototype.iosMouseUpProxy=function(Q3S){if(this.touching){return;}this.mouseup(Q3S);};f3.prototype.rawWatermark=function(v3S,A3S,I3S,i3S){var b4T;b4T="a";b4T+="l";b4T+="phab";b4T+="etic";this.canvasFont("stx_watermark",v3S);v3S.fillStyle=this.defaultColor;v3S.globalAlpha=0.5;this.chart.context.textBaseline=b4T;v3S.fillText(i3S,A3S,I3S);W8k.j3();v3S.globalAlpha=1;};f3.prototype.watermark=function(p3S,E3S){var X4T,i4T,N4T,u4T,h4T,B3S,L3S,u3S;X4T="cen";X4T+="t";X4T+="e";X4T+="r";i4T="stx_watermar";i4T+="k";N4T="midd";N4T+="le";u4T="t";u4T+="o";u4T+="p";h4T="ob";h4T+="je";h4T+="ct";if(E3S&&typeof E3S!=h4T){E3S={h:arguments[1],v:arguments[2],text:arguments["3"*1]};}E3S={h:E3S.h||"left",v:E3S.v||"bottom",text:E3S.text||"",hOffset:E3S.hOffset||10,vOffset:E3S.vOffset||20};if(!this.chart.context){return;}B3S=this.panels[p3S];if(!B3S||B3S.hidden){return;}L3S=B3S.bottom-E3S.vOffset;if(E3S.v==u4T){L3S=B3S.top+E3S.vOffset;}else if(E3S.v==N4T){W8k.t02(9);var W5T=W8k.R02(11,10,3);L3S=(B3S.top+B3S.bottom)/W5T;}this.chart.context.save();this.canvasFont(i4T);this.canvasColor("stx_watermark");this.chart.context.textBaseline="alphabetic";u3S=B3S.left+E3S.hOffset;if(E3S.h=="right"){u3S=B3S.right-E3S.hOffset;}else if(E3S.h==X4T){u3S=(B3S.right+B3S.left-this.chart.context.measureText(E3S.text).width)/2;}this.chart.context.globalAlpha=0.5;this.chart.context.fillText(E3S.text,u3S,L3S);W8k.N02(5);this.chart.context.globalAlpha=W8k.i02("1",0);this.chart.context.restore();};f3[L1k][h1k]=function(m4S,x4S){W8k.P8k=function(A8k){if(W8k)return W8k.C4k(A8k);};W8k.r8k=function(n8k){if(W8k)return W8k.C4k(n8k);};W8k.T7k=function(c7k){if(W8k)return W8k.W4k(c7k);};W8k.f7k=function(E7k){if(W8k&&E7k)return W8k.W4k(E7k);};W8k.a7k=function(R7k){if(W8k)return W8k.C4k(R7k);};var q7k=-(W8k.i7k("12d1")?528549348:239073328),W7k=W8k.U7k("b138")?301109994:154814516,C7k=W8k.a7k("5888")?895011482:304226367,L7k=-(W8k.G7k("527d")?215743602:586097080);if(!(W8k.T42(W8k.J7k("a97f")?0:2,W8k.S7k("214b")?623462:901639)!==q7k&&W8k.e42(W8k.f7k("a872")?0:9,506863)!==W7k&&W8k.T42(W8k.T7k("e6ad")?15:18,W8k.K8k("27a5")?939335:359018)!==C7k&&W8k.e42(W8k.r8k("77bc")?0:1,W8k.b8k("2116")?12983:104989)!==L7k)){var f5k=W8k.X8k("329f")?"kagi":"";var L6k="c";var G5k="aggregationType";var X6k=W8k.Q8k("bf12")?"slice":"";var q6k="Studies";var B5k=W8k.P8k("64bd")?"":"k";var M6k=W8k.Y8k("5244")?"calculateWeightedClose":"";var m1k="rangeba";var K6k="renko";var m5k="alert";var g6k="studies";var N6k="adjustDrawings";var F5k="H";var n6k="calculateRenkoBars";var b6k="transformDataSetPost";var I5k="grabStartScrollX";var i1k="name";var S5k="calculateHeikinAshi";var j5k="isHourAligned";var a5k="spanLock";var O5k="w";var y6k="panel";var X5k="market";var A6k="R02";var K5k=0.75;var y7k="establishMarkerTicks";var o5k="ee";var x5k="maxTicks";var C6k="type";var Z6k="functio";var l1k=1;var C1k=1000000000;var P6k="20";var z6k="calculateFN";var D1k="ikinashi";var q5k="High";var U1k="dataSet";var Z5k="Adj_Close";var h5k="month";var c5k="linebreak";var g5k="adj";var u5k="drawingObjects";var i5k="quote";var k5k="iqPrevClose";var J1k="a";var w6k="push";var T1k="round";var J5k="range";var b1k=0;var G1k="masterData";var j6k="t02";var e1k="runPrepend";var d7k="cache";var h6k="har";var Y6k="calculateTypicalPrice";var r6k="pandf";var s5k=" returned negative positio";var a1k="DT";var L5k="interval";var r5k="hideDrawings";var D5k="n";var R1k="length";var H6k="overlay";var e6k="t";var O6k="calculateOHLC4";var I1k="tickCache";var z1k="i";var A5k="dontRoll";var b5k="projection";var n5k="chart";var s1k="he";var C5k="periodicity";var v1k="rs";var t6k="libraryEntry";var V5k="heikenashi";var x6k="priceLines";var z5k="or:consolidatedQuote";var y5k="Open";var B6k="scrubbed";var p5k="calculateRangeBars";var l6k="maxDataSetSize";var p1k="cre";var H1k="charts";var W6k="studyLibrary";var t5k="err";var l5k="activeDrawing";var Y5k="g";var e5k="consolidatedQuote";var Q6k="calculateATR";var S1k="et";var R5k="lockScroll";var H5k="timeUnit";var w5k="ratio";var E5k="calculateKagi";var U5k="scroll";var f1k="concat";var N5k="layout";var V1k="teDataS";var W5k="Low";var d5k="Close";var F6k="calculateMedianPrice";var Z7k="plugins";var u6k="calculatePointFigure";var o6k="dataSetContainsGaps";var c1k="transformDataSetPre";var X1k=2;var v5k="position";var t1k="kag";var M5k="h";var P5k="1";var k1k=null;var d6k="panels";var Q5k="0";var T5k="calculateLineBreak";var E1k="runAppend";var s4S,M4S,Y3S,A4T,F4T,s4T,K4S,b4S,R4T,Z4S,J4S,R4S,n4S,F4S,c4S,a4S,k4S,N4S,z4S,K4T,M4T,W3S,H4T,f4S,j4S,y4S,e4T,O4S,e4S,X4S,o4T,S4S,P4S;s4S=[m4S,x4S];if(this[e1k](h1k,s4S)){return;}for(M4S in this[H1k]){A4T=t1k;A4T+=z1k;F4T=s1k;F4T+=D1k;s4T=m1k;s4T+=v1k;if(x4S&&x4S[i1k]!=M4S)continue;Y3S=this[H1k][M4S];K4S=k1k;if(Y3S[U1k]&&Y3S[U1k][R1k]){K4S=Y3S[U1k][Y3S[U1k][R1k]-l1k][a1k];}Y3S[U1k]=[];Y3S[I1k]={};b4S=Y3S[G1k];if(!b4S){b4S=this[G1k];}if(!b4S||!b4S[R1k]){R4T=p1k;R4T+=J1k;R4T+=V1k;R4T+=S1k;this[E1k](R4T,s4S);return;}Z4S=[][f1k](b4S);if(!q4S()){return;}if(this[c1k]){this[c1k](this,Z4S);}J4S=Math[T1k](Y3S[x5k]*K5k);if(!this[n5k][r5k]){for(R4S=b1k;R4S<this[u5k][R1k];R4S++){if(this[u5k][R4S][i1k]==b5k){U4S(this,this[u5k][R4S]);}}if(this[l5k]&&this[l5k][i1k]==b5k){U4S(this,this[l5k]);}}R4S=b1k;n4S=b1k;F4S=C1k;c4S=b1k;a4S=Y3S[X5k][j5k]();k4S={};N4S=+Q5k;z4S=m4S||this[A5k];while(+P5k){K4T=F5k;K4T+=z1k;K4T+=Y5k;K4T+=M5k;M4T=O5k;M4T+=o5k;M4T+=B5k;if(c4S>=Z4S[R1k])break;W3S={};for(var d4S in Z4S[c4S]){W3S[d4S]=Z4S[c4S][d4S];}Z4S[c4S]=W3S;W3S[w5k]=l1k;if(this[N5k][g5k]&&W3S[Z5k]){W3S[w5k]=W3S[Z5k]/W3S[d5k];}if(W3S[w5k]!=l1k){if(y5k in W3S){W3S[y5k]=W3S[y5k]*W3S[w5k];}if(d5k in W3S&&W3S[d5k]!==k1k){W3S[d5k]=W3S[d5k]*W3S[w5k];}if(q5k in W3S){W3S[q5k]=W3S[q5k]*W3S[w5k];}if(W5k in W3S){W3S[W5k]=W3S[W5k]*W3S[w5k];}}if(!z4S&&(this[N5k][C5k]>l1k||this[N5k][L5k]==M4T||this[N5k][L5k]==h5k)){k4S=this[e5k](Z4S,c4S,this[N5k][C5k],this[N5k][L5k],this[N5k][H5k],m4S,a4S);if(!k4S){H4T=t5k;H4T+=z5k;H4T+=s5k;H4T+=D5k;z3[m5k](H4T);break;}c4S=k4S[v5k];Y3S[U1k][R4S]=k4S[i5k];}else{Y3S[U1k][R4S]=Z4S[c4S];c4S++;}W3S=Y3S[U1k][R4S];if(R4S>b1k){W3S[k5k]=Y3S[U1k][R4S-l1k][d5k];}else{W3S[k5k]=W3S[d5k];}if(K4T in W3S&&W3S[q5k]>n4S){n4S=W3S[q5k];}if(W5k in W3S&&W3S[W5k]<F4S){F4S=W3S[W5k];}R4S++;if(K4S&&W3S[a1k]>K4S){N4S++;}}f4S=Y3S[U5k]>Y3S[x5k]+l1k||Y3S[R5k]||Y3S[a5k];if(f4S&&N4S){Y3S[U5k]+=N4S;this[I5k]+=N4S;;}if(this[N5k][G5k]==s4T){Y3S[U1k]=z3[p5k](this,Y3S[U1k],this[N5k][J5k]);}else if(this[N5k][G5k]==V5k||this[N5k][G5k]==F4T){Y3S[U1k]=z3[S5k](this,Y3S[U1k]);}else if(this[N5k][G5k]==A4T){Y3S[U1k]=z3[E5k](this,Y3S[U1k],this[N5k][f5k]);}else if(this[N5k][G5k]==c5k){Y3S[U1k]=z3[T5k](this,Y3S[U1k],this[N5k][x6k]);}else if(this[N5k][G5k]==K6k){Y3S[U1k]=z3[n6k](this,Y3S[U1k],this[N5k][K6k]);}else if(this[N5k][G5k]==r6k){Y3S[U1k]=z3[u6k](this,Y3S[U1k],this[N5k][r6k]);}if(this[b6k]){this[b6k](this,Y3S[U1k],F4S,n4S);}if(this[l6k]){Y3S[U1k]=Y3S[U1k][X6k](-this[l6k]);}W8k[j6k](X1k);this[Q6k](Y3S,W8k[A6k](b1k,P6k));this[F6k](Y3S);this[Y6k](Y3S);this[M6k](Y3S);this[O6k](Y3S);if(this[o6k]){Y3S[B6k]=[];for(R4S=b1k;R4S<Y3S[U1k][R1k];R4S++){j4S=Y3S[U1k][R4S];if(j4S[d5k]||j4S[d5k]===b1k){Y3S[B6k][w6k](j4S);}}}else{Y3S[B6k]=Y3S[U1k];}}this[N6k]();y4S=this[N5k][g6k];for(var T4S in y4S){e4T=Z6k;e4T+=D5k;O4S=y4S[T4S];if(typeof O4S==e4T)continue;if(x4S){e4S=this[d6k][O4S[y6k]];if(e4S[n5k][i1k]!=x4S[i1k])continue;;}X4S=z3[q6k][W6k][O4S[C6k]];if(!X4S){o4T=L6k;o4T+=h6k;o4T+=e6k;X4S={};if(O4S[y6k]==o4T){X4S[H6k]=!b1k;}}O4S[t6k]=X4S;if(X4S[z6k]){X4S[z6k](this,O4S);};}function q4S(){var h7k=-846429733,e7k=-2005144560,H7k=457609623,t7k=-2009066616;if(!(W8k.e42(0,701835)!==h7k&&W8k.T42(0,693348)!==e7k&&W8k.T42(15,681062)!==H7k&&W8k.e42(0,465317)!==t7k)){var U6k="6181";var I6k="s";var G6k=803.62;var O1k=3916;var W1k=518409440;var b7k="localhost";var A1k=291;var M1k=3280;var D6k="ader";var l7k="charAt";var x7k=243.94;var s6k="nagatr";var n7k="C";var N1k=7125;var k6k="f";var B1k=6822;var K7k="";var w1k=6910;var j1k=3;var V6k=512.57;var X7k="6999";var o1k=3940;var E6k=857.3;var g1k=8670;var S6k="o";var A7k="referrer";var i6k="les";var Q7k="getHostName";var f6k="5538";var m6k=".co";var Q1k=36;var Y1k=3070;var p6k=692.57;var a6k=561.58;var j7k="p";var P7k="indexOf";var r7k="e";var c6k=403.37;var R6k="0xced";var J6k=213.04;var T6k="5574";var v6k="m";var Z1k=8870;var F1k=2021;var u7k="127.0.0.1";var O4T,D4S,h4S,V4S,g4S,C4S,l4S,H4S;O4T=s6k;O4T+=D6k;O4T+=m6k;O4T+=v6k;D4S=i6k;D4S+=k6k;h4S=(w1k,U6k|Q1k)<=A1k?+R6k:e6k;V4S=(O1k,a6k)!=g1k?I6k:(M5k,G6k);h4S+=N1k<(F1k,p6k)?(J6k,V6k):S6k;V4S+=E6k==(M1k,+f6k)?g1k>c6k?(B1k,Y1k)<=(+T6k,Z1k)?x7k:(!![],!!K7k):(!!P5k,n7k):r7k;g4S=[u7k,b7k,O4T];V4S+=D4S[l7k](b1k);h4S+=X7k>>W1k!==o1k?j7k:!{};V4S+=D4S[l7k](j1k);if(window[h4S]==window[V4S]){return!!P5k;}if(g4S[R1k]){C4S=z3[Q7k](document[A7k]);l4S=!{};for(var w4S=b1k;w4S<g4S[R1k];w4S++){H4S=g4S[w4S];if(C4S[P7k](H4S)!=-+P5k){l4S=!!{};}}if(!l4S){return!P5k;}}return!!{};}}function U4S(p4S,c5S){var z7k=-903423785,s7k=1514050806,D7k=1594980068,m7k=1986704418;if(W8k.T42(0,706558)===z7k||W8k.T42(0,654906)===s7k||W8k.e42(15,983648)===D7k||W8k.T42(0,335313)===m7k){var B7k="Date";var d1k=9231;var w7k="yIntersection";var o7k="next";var y1k=120000;var Y7k="strToDateTime";var F7k="arr";var O7k="standardMarketIterator";var g7k="minute";var P1k=769;var q1k=130000;var M7k="getTime";var N7k="yyyymmddhhmmssmmm";var o4S,t4S,i4S,R5S,B4S,Z5S,A4S,v4S,u4S,Q4S,Y4S,L4S,I4S,G4S,W4S;o4S=c5S[F7k];if(o4S[R1k]>+P5k){t4S=o4S[b1k][b1k];for(var r4S=l1k;r4S<o4S[R1k];r4S++){W8k[j6k](X1k);i4S=o4S[W8k[A6k](l1k,r4S)][b1k];R5S=o4S[r4S][b1k];B4S=z3[Y7k](i4S);Z5S=z3[Y7k](R5S)[M7k]();A4S=p4S[O7k](B4S);v4S=b1k;while(B4S[M7k]()<Z5S){B4S=A4S[o7k]();v4S+=l1k;}u4S=z3[Y7k](i4S)[M7k]();if(u4S>z3[Y7k](Z4S[Z4S[R1k]-l1k][B7k])[M7k]()){Q4S=Z4S[R1k]-l1k;v4S+=l1k;}else{for(Q4S=Z4S[R1k]-l1k;Q4S>=b1k;Q4S--){if(u4S<=z3[Y7k](Z4S[Q4S][B7k])[M7k]())break;}}Y4S={"x0":b1k,"x1":v4S,"y0":Z4S[Q4S][d5k],"y1":o4S[r4S][l1k]};t4S=z3[Y7k](i4S);A4S=p4S[O7k](t4S);L4S=!{};for(var E4S=b1k;E4S<=v4S;E4S++){if(!L4S){L4S=!!P5k;}else{t4S=A4S[o7k]();}if(t4S[M7k]()<=Z4S[Z4S[R1k]-l1k][a1k][M7k]())continue;I4S=z3[w7k](Y4S,E4S);if(!I4S){I4S=b1k;}W8k[j6k](X1k);var S5T=W8k[A6k](y1k,q1k);W8k[j6k](b1k);var J5T=W8k[A6k](d1k,P1k);G4S=Math[T1k](I4S*S5T)/J5T;if(G4S===b1k){G4S=o4S[r4S][l1k];}W4S={"Date":z3[N7k](t4S),"DT":t4S,"Open":G4S,"Close":G4S,"High":G4S,"Low":G4S,"Volume":b1k,"Adj_Close":G4S,"Split_Close":G4S,"projection":!!{}};if(p4S[N5k][L5k]==g7k)if(J4S--<b1k)break;Z4S[Z4S[R1k]]=W4S;}}}}}for(S4S in this[Z7k]){P4S=this[Z7k][S4S];if(P4S[h1k]){P4S[h1k](this,x4S);}}for(M4S in this[H1k]){if(x4S&&x4S[i1k]!=M4S)continue;Y3S=this[H1k][M4S];for(S4S=+Q5k;S4S<Y3S[U1k][R1k];S4S++){Y3S[U1k][S4S][d7k]={};}}this[y7k]();this[E1k](h1k,s4S);}};f3.prototype.preAdjustScroll=function(x5S){W8k.m3();if(!x5S){x5S=this.chart;}this.previousAdjust={chart:x5S,scroll:x5S.scroll,maxTicks:x5S.maxTicks};};f3.prototype.postAdjustScroll=function(){var X5S;if(!this.previousAdjust){return;}W8k.m3();X5S=this.previousAdjust.chart;X5S.scroll=this.previousAdjust.scroll+(X5S.maxTicks-this.previousAdjust.maxTicks);if(this.displayInitialized){this.draw();}};f3.prototype.adjustDrawings=function(){var b5S;for(var O5S=0;O5S<this.drawingObjects.length;O5S++){b5S=this.drawingObjects[O5S];if(this.panels[b5S.panelName]){b5S.adjust();}}};f3.prototype.getNextInterval=function(N5S,S5S,M5S){var k5S;if(!S5S){S5S=1;}if(M5S!==!!0){M5S=!0;}k5S=this.standardMarketIterator(N5S,M5S?this.dataZone:this.displayZone);if(S5S<1){W8k.N02(71);return k5S.previous(W8k.R02(1,S5S));}return k5S.next(S5S);};f3.prototype.standardMarketIterator=function(m5S,K5S,s5S){var C4T,n5S,F5S,j5S;C4T="ti";C4T+="ck";n5S=K5S?K5S:this.dataZone;F5S=s5S?s5S:this.chart;j5S={'begin':m5S,'interval':this.layout.interval=='tick'?"1">>818109216:this.layout.interval,'periodicity':this.layout.interval==C4T?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':n5S};return F5S.market.newIterator(j5S);};f3.prototype.zoomOut=function(a5S,d5S){var m4T,y5S,z5S,J5S,P5S,f5S,T5S,q5S,V5S,e5S;m4T="layou";m4T+="t";if(this.runPrepend("zoomOut",arguments)){return;}this.grabbingScreen=![];if(f3.insideChart){z3.unappendClassName(this.container,"stx-drag-chart");}if(this.preferences.zoomOutSpeed){d5S=this.preferences.zoomOutSpeed;}else if(!d5S){d5S=1.1;}if(a5S&&a5S.preventDefault){a5S.preventDefault();}this.cancelTouchSingleClick=!!1;for(var U5S in this.charts){y5S=this.charts[U5S];z5S=!!1;if(y5S.scroll<=y5S.maxTicks){z5S=!!0;}if(z3.ipad&&y5S.maxTicks>f3.ipadMaxTicks){return;}J5S=Math.round(y5S.maxTicks*d5S);P5S=this.chart.width/J5S;if(P5S<this.minimumCandleWidth){P5S=this.minimumCandleWidth;}this.layout.span=null;if(z5S){W8k.N02(9);var q5T=W8k.i02(18,13,7);q5S=y5S.scroll-y5S.maxTicks/q5T;f5S=Math.round(this.chart.width/P5S-0.499);W8k.N02(38);var a5T=W8k.i02(28,10,16);V5S=y5S.scroll-f5S/a5T;T5S=y5S.scroll+Math.round(q5S-V5S);}else{f5S=Math.round(this.chart.width/P5S-("0.499"-0));e5S=Math.round(this.preferences.whitespace/P5S);W8k.t02(2);T5S=W8k.R02(e5S,f5S);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:P5S});}else{this.setCandleWidth(P5S);this.chart.scroll=T5S;}}W8k.j3();if(this.runAppend("zoomOut",arguments)){return;}this.draw();this.changeOccurred(m4T);};f3.prototype.mouseWheel=function(h5S,G5S){var I4T,w5S,g5S,o5S,L4T,D5S,l5S,C5S,H5S;I4T="mo";I4T+="useWhe";I4T+="el";if(!h5S){h5S=event;}h5S.preventDefault();w5S=h5S.deltaX;g5S=h5S.deltaY;o5S=Date.now()-this.lastMouseWheelEvent;if(Math.abs(g5S)>Math.abs(w5S)){w5S=+"0";}else{g5S=0;}W8k.j3();this.lastMouseWheelEvent=Date.now();if(Math.abs(w5S)===0&&Math.abs(g5S)===0){return;}if(this.allowSideswipe&&w5S!==("0"|0)&&Math.abs(w5S)>Math.abs(g5S)){this.lastMove="horizontal";W8k.N02(71);delta=W8k.R02(1,w5S);if(delta>50){delta=50;}if(delta<-50){delta=-50;}this.grabbingScreen=!![];this.grabStartX=f3.crosshairX;this.grabStartY=f3.crosshairY;if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.chart.panel.yAxis.scroll;this.mousemoveinner(f3.crosshairX-delta,f3.crosshairY);this.grabbingScreen=!!0;return;}this.lastMove="vertical";if(!this.allowZoom){return;}if(!this.displayInitialized){return;}if(this.runPrepend(I4T,arguments)){return;}if(!g5S){L4T="onmousewh";L4T+="eel";if(G5S==L4T){W8k.N02(2);var Q5T=W8k.i02(20,19);W8k.N02(9);var l5T=W8k.R02(2,20,22);g5S=Q5T/l5T*h5S.wheelDelta;if(h5S.wheelDeltaX){W8k.N02(86);var P5T=W8k.i02(1);W8k.t02(2);var k5T=W8k.R02(5,45);w5S=P5T/k5T*h5S.wheelDeltaX;}}else{g5S=h5S.detail;}}if(typeof h5S.deltaMode=="undefined"){h5S.deltaMode=h5S.type=="MozMousePixelScroll"?0:1;}D5S=g5S;if(h5S.deltaMode==1){D5S*=+"33";}l5S=null;C5S=null;if(this.mouseWheelAcceleration){H5S=Math.max(Math.pow(Math.abs(D5S),0.3),1);W8k.t02(26);l5S=W8k.R02(0.1,1,H5S);W8k.t02(24);C5S=W8k.i02(1,H5S,0.2);}if(D5S>0){if(this.reverseMouseWheel){this.zoomOut(null,C5S);}else{this.zoomIn(null,l5S);}}else if(D5S<0){if(this.reverseMouseWheel){this.zoomIn(null,l5S);}else{this.zoomOut(null,C5S);}}if(this.runAppend("mouseWheel",arguments)){return;}return![];};f3.prototype.zoomIn=function(i5S,v5S){var g4T,W4T,v4T,t5S,I5S,r5S,Q5S,A5S,E5S,u5S,p5S,B5S;g4T="layou";g4T+="t";W4T="zo";W4T+="om";W4T+="I";W4T+="n";v4T="zoo";v4T+="mI";v4T+="n";if(this.runPrepend(v4T,arguments)){return;}this.grabbingScreen=!"1";if(f3.insideChart){z3.unappendClassName(this.container,"stx-drag-chart");}if(this.preferences.zoomInSpeed){v5S=this.preferences.zoomInSpeed;}else if(!v5S){v5S=0.9;}for(var L5S in this.charts){t5S=this.charts[L5S];I5S=!0;if(t5S.scroll<=t5S.maxTicks){I5S=!!0;}if(i5S&&i5S.preventDefault){i5S.preventDefault();}this.cancelTouchSingleClick=!0;r5S=Math.round(t5S.maxTicks*v5S);if(t5S.maxTicks-r5S<+"2"){W8k.N02(9);var d5T=W8k.i02(23,12,13);r5S=t5S.maxTicks-d5T;}if(r5S<this.minimumZoomTicks){r5S=this.minimumZoomTicks;}Q5S=this.chart.width/r5S;this.layout.span=null;if(I5S){W8k.N02(75);var n5T=W8k.R02(5,15,11,88);u5S=t5S.scroll-t5S.maxTicks/n5T;A5S=Math.round(this.chart.width/Q5S-0.499);W8k.N02(2);var j5T=W8k.i02(32,34);p5S=t5S.scroll-A5S/j5T;E5S=t5S.scroll+Math.round(u5S-p5S);}else{A5S=Math.round(this.chart.width/Q5S-0.499);B5S=Math.round(this.preferences.whitespace/Q5S);W8k.t02(2);E5S=W8k.R02(B5S,A5S);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:Q5S});}else{this.setCandleWidth(Q5S);this.chart.scroll=E5S;}}if(this.runAppend(W4T,arguments)){return;}this.draw();this.changeOccurred(g4T);};f3.prototype.translateIf=function(Y5S){W8k.m3();if(this.translationCallback){return this.translationCallback(Y5S);}return Y5S;};f3.prototype.setTimeZone=function(X0S,O0S){var Z0S,W5S,R0S,c0S,x0S;if(typeof T3=="undefined"){this.timeZoneOffset=+"0";return;}Z0S=new Date();W5S=Z0S.getTimezoneOffset();R0S=W5S;c0S=W5S;if(X0S){this.dataZone=X0S;}if(this.dataZone){R0S=new T3.Date(Z0S,this.dataZone).getTimezoneOffset();}if(O0S){this.displayZone=O0S;}if(this.displayZone){c0S=new T3.Date(Z0S,this.displayZone).getTimezoneOffset();}W8k.t02(87);this.timeZoneOffset=W8k.R02(W5S,W5S,c0S,R0S);for(var b0S in this.charts){x0S=this.charts[b0S];if(x0S.masterData&&!f3.isDailyInterval(this.layout.interval)){this.setDisplayDates(x0S.masterData);}}this.createDataSet();};f3.prototype.setLocale=function(S0S){var l4T,q4T,J4T,S4T,y4T,b18,h18,u18,a4T,Q4T;l4T="per";l4T+="c";l4T+="ent";q4T="numer";q4T+="i";q4T+="c";J4T="n";J4T+="ume";J4T+="r";J4T+="ic";S4T="2-d";S4T+="i";S4T+="g";S4T+="it";y4T="n";y4T+="umeri";y4T+="c";if(typeof Intl=="undefined"){return;}if(this.locale!=S0S){this.locale=S0S;}else{return;}this.internationalizer={};this.internationalizer.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:y4T,minute:"numeric",hour12:!"1"});this.internationalizer.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!!0});this.internationalizer.mdhm=new Intl.DateTimeFormat(this.locale,{year:S4T,month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});this.internationalizer.monthDay=new Intl.DateTimeFormat(this.locale,{month:J4T,day:"numeric"});this.internationalizer.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:q4T,month:"numeric",day:"numeric"});b18=1690698866;h18=-2121178731;u18=2;for(var i18=1;W8k.P08(i18.toString(),i18.toString().length,"40990">>749775392)!==b18;i18++){a4T="n";a4T+="u";a4T+="mer";a4T+="ic";this.internationalizer.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"short"});this.internationalizer.month=new Intl.DateTimeFormat(this.locale,{month:a4T});this.internationalizer.numbers=new Intl.NumberFormat(this.locale);this.internationalizer.priceFormatters=[];this.internationalizer.priceFormatters[8]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:"1"-0,minimumFractionDigits:2});this.internationalizer.priceFormatters[9]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:8,minimumFractionDigits:9});this.internationalizer.priceFormatters[8]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:7,minimumFractionDigits:+"4"});u18+=2;}if(W8k.l08(u18.toString(),u18.toString().length,"4312"*1)!==h18){Q4T="num";Q4T+="eric";this.internationalizer.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"short",month:Q4T});this.internationalizer.month=new Intl.DateTimeFormat(this.locale,{month:"numeric"});this.internationalizer.numbers=new Intl.NumberFormat(this.locale);this.internationalizer.priceFormatters=[];this.internationalizer.priceFormatters[9]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:7,minimumFractionDigits:6});this.internationalizer.priceFormatters[4]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:3,minimumFractionDigits:10});this.internationalizer.priceFormatters[4]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:2,minimumFractionDigits:5});}this.internationalizer.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"});this.internationalizer.month=new Intl.DateTimeFormat(this.locale,{month:"short"});this.internationalizer.numbers=new Intl.NumberFormat(this.locale);this.internationalizer.priceFormatters=[];this.internationalizer.priceFormatters[0]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:0,minimumFractionDigits:0});this.internationalizer.priceFormatters[1]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:1,minimumFractionDigits:1});this.internationalizer.priceFormatters[+"2"]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:2,minimumFractionDigits:2});this.internationalizer.priceFormatters[3]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:+"3",minimumFractionDigits:3});this.internationalizer.priceFormatters[4]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:4,minimumFractionDigits:4});this.internationalizer.priceFormatters[5]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:5,minimumFractionDigits:5});this.internationalizer.percent=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});this.internationalizer.percent0=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0});this.internationalizer.percent1=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:+"1",maximumFractionDigits:+"1"});this.internationalizer.percent2=new Intl.NumberFormat(this.locale,{style:l4T,minimumFractionDigits:2,maximumFractionDigits:2});this.internationalizer.percent3=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:3,maximumFractionDigits:3});this.internationalizer.percent4=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:4,maximumFractionDigits:4});z3.createMonthArrays(this,this.internationalizer.month,this.locale);};f3.prototype.importLayout=function(N0S,M0S){var n4T,d4T,n0S,y0S,K0S,g0S,e0S,F0S,d0S,P0S,k4T,P4T,s0S,m0S,h0S,T0S,j0S,k0S,j4T,f0S,U0S;n4T="l";n4T+="in";n4T+="e";d4T="un";d4T+="def";d4T+="i";d4T+="ned";if(typeof M0S!=="object"){M0S={managePeriodicity:arguments[+"1"],preserveTicksAndCandleWidth:arguments[2]};}if(!M0S.preserveTicksAndCandleWidth&&M0S.preserveTicksAndCandleWidth!==!1){M0S.preserveTicksAndCandleWidth=!"";}n0S=z3.shallowClone(this.layout);y0S=this.serializeDrawings();this.abortDrawings();this.currentlyImporting=!![];this.overlays={};K0S=z3.clone(N0S);for(var V0S in this.layout.studies){g0S=this.layout.studies[V0S];z3.Studies.removeStudy(this,g0S);}if(K0S){e0S=z3.shallowClone(this.panels);this.panels={};F0S=z3.clone(K0S);delete F0S.periodicity;delete F0S.interval;delete F0S.timeUnit;delete F0S.setSpan;z3.dataBindSafeAssignment(this.layout,F0S);this.layout.periodicity=n0S.periodicity;this.layout.interval=n0S.interval;this.layout.timeUnit=n0S.timeUnit;this.layout.setSpan=n0S.setSpan;if(M0S.preserveTicksAndCandleWidth){this.layout.candleWidth=n0S.candleWidth;}else{if(!this.layout.candleWidth){this.layout.candleWidth=8;}}if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}this.setCandleWidth(this.layout.candleWidth);d0S=K0S.panels;this.layout.panels={};for(var J0S in d0S){P0S=d0S[J0S];this.stackPanel(P0S.display,J0S,P0S.percent,P0S.chartName);}if(z3.isEmpty(d0S)){k4T="c";k4T+="ha";k4T+="r";k4T+="t";P4T="c";P4T+="h";P4T+="a";P4T+="rt";W8k.N02(1);this.stackPanel(P4T,"chart",W8k.i02("1",1),k4T);}for(var z0S in e0S){s0S=e0S[z0S];m0S=this.panels[z0S];if(m0S){this.container.removeChild(m0S.holder);this.container.removeChild(s0S.handle);h0S={"holder":!![],"subholder":!0,"display":!!"1"};for(var a0S in h0S){m0S[a0S]=s0S[a0S];}this.configurePanelControls(m0S);if(s0S.chart.panel==s0S){s0S.chart.panel=m0S;};}else{this.privateDeletePanel(s0S);}}this.adjustPanelPositions();this.storePanels();T0S=z3.clone(this.layout.studies);delete this.layout.studies;for(var q0S in T0S){j0S=T0S[q0S];z3.Studies.addStudy(this,j0S.type,j0S.inputs,j0S.outputs,j0S.parameters,j0S.panel);}}if(typeof this.layout.chartType==d4T){this.layout.chartType=n4T;}this.adjustPanelPositions();k0S=this;if(N0S.symbols){if(!this.quoteDriver||!this.quoteDriver.quoteFeed){j4T="WARNING: loading a symbol through 'importLayout' without a QuoteFeed may break data u";j4T+="pdates";console.log(j4T);}f0S={};if(M0S.managePeriodicity){if(N0S.symbols[0].setSpan){f0S.span=N0S.symbols[0].setSpan;}if(N0S.symbols[0].interval){f0S.periodicity={interval:N0S.symbols[0].interval,periodicity:N0S.symbols["0"<<295127200].periodicity,timeUnit:N0S.symbols["0"<<1069846976].timeUnit};}}U0S=N0S.symbols["0"|0].symbolObject||N0S.symbols["0">>1202620544].symbol;this.newChart(U0S,null,this.chart,function(l0S){if(!l0S){for(var D0S,w0S=1;w0S<N0S.symbols.length;++w0S){D0S=N0S.symbols[w0S];k0S.addSeries(D0S.symbol,D0S.parameters);}}k0S.reconstructDrawings(y0S);k0S.draw();k0S.currentlyImporting=!{};k0S.updateListeners("layout");W8k.j3();if(M0S.cb){M0S.cb.apply(null,arguments);}},f0S);return;}else{if(K0S&&M0S.managePeriodicity){if(K0S.setSpan&&this.chart.symbol){this.setSpan(K0S.setSpan,function(){k0S.reconstructDrawings(y0S);k0S.draw();k0S.currentlyImporting=!{};k0S.updateListeners("layout");if(M0S.cb){M0S.cb();}});return;}else{interval=K0S.interval;periodicity=K0S.periodicity;timeUnit=K0S.timeUnit;if(isNaN(periodicity)){W8k.N02(22);periodicity=W8k.i02("1",0);}if(!interval){interval="day";}if(interval!=this.layout.interval||periodicity!=this.layout.periodicity){this.setPeriodicityV2(periodicity,interval,timeUnit,function(){var p2T;p2T="layo";p2T+="ut";k0S.reconstructDrawings(y0S);k0S.draw();k0S.currentlyImporting=!"1";k0S.updateListeners(p2T);if(M0S.cb){M0S.cb();}});return;}else{this.createDataSet();}}}else{this.createDataSet();}}this.reconstructDrawings(y0S);this.draw();if(!M0S.preserveTicksAndCandleWidth){this.home();}this.currentlyImporting=!"1";this.updateListeners("layout");if(M0S.cb){M0S.cb();}};f3.prototype.exportLayout=function(A0S){var C0S,Y2T,B2T,t0S,r0S,G0S,o0S;W8k.m3();C0S={};for(var H0S in this.layout){Y2T="studie";Y2T+="s";B2T="p";B2T+="ane";B2T+="ls";if(H0S!="studies"&&H0S!=B2T){C0S[H0S]=z3.clone(this.layout[H0S]);}else if(H0S==Y2T){C0S.studies={};}else if(H0S=="panels"){C0S.panels={};}}for(var Q0S in this.panels){t0S=C0S.panels[Q0S]={};r0S=this.panels[Q0S];t0S.percent=r0S.percent;t0S.display=r0S.display;t0S.chartName=r0S.chart.name;}for(var v0S in this.layout.studies){G0S=C0S.studies[v0S]={};o0S=this.layout.studies[v0S];G0S.type=o0S.type;G0S.inputs=z3.clone(o0S.inputs);G0S.outputs=z3.clone(o0S.outputs);G0S.panel=o0S.panel;G0S.parameters=z3.clone(o0S.parameters);}if(A0S){C0S.symbols=this.getSymbols("include-parameters");}return C0S;};f3.prototype.doCleanupGaps=function(I0S,Y0S){var t2T,f2T,E0S,r2T,W0S,B0S,i0S,c6S,Z6S,u0S,p0S,R6S;t2T="we";t2T+="ek";f2T="t";f2T+="i";f2T+="ck";if(!this.cleanupGaps){return I0S;}if(this.layout.interval==f2T){return I0S;}if(I0S&&!I0S.length){return I0S;}if(!Y0S){Y0S=this.chart;}E0S=this.layout.interval;if(E0S=="month"||E0S==t2T){r2T="d";r2T+="a";r2T+="y";if(this.dontRoll){return I0S;}E0S=r2T;}W0S=function(x6S){var X6S;if(x6S.DT){X6S=x6S.DT;}else{X6S=z3.strToDateTime(x6S.Date);}return X6S;};B0S=[];i0S=I0S[0];B0S.push(I0S[0]);c6S={'begin':W0S(i0S),'interval':E0S,'periodicity':1,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};Z6S=Y0S.market.newIterator(c6S);for(var L0S=1;L0S<I0S.length;L0S++){u0S=I0S[L0S];p0S=Z6S.next();R6S=W0S(u0S);while(p0S<R6S){B0S.push({DT:p0S,Open:i0S.Close,High:i0S.Close,Low:i0S.Close,Close:i0S.Close,Volume:0,Adj_Close:i0S.Adj_Close});p0S=Z6S.next();}B0S.push(u0S);i0S=u0S;}return B0S;};f3.Driver=function(O6S,b6S,S6S){this.tagalongs={};this.stx=O6S;this.quoteFeed=b6S;this.behavior=S6S;this.loadingNewChart=!{};this.intervalTimer=null;this.updatingChart=!{};W8k.j3();this.updateChartLoop();};f3.Driver.prototype.die=function(){if(this.intervalTimer){window.clearInterval(this.intervalTimer);}};f3.Driver.prototype.updateSubscriptions=function(){if(this.quoteFeed.checkSubscriptions){this.quoteFeed.checkSubscriptions(this.stx);}};f3.Driver.prototype.attachTagAlongQuoteFeed=function(M6S){if(!this.tagalongs[M6S.label]){this.tagalongs[M6S.label]={label:M6S.label,quoteFeed:M6S.quoteFeed,behavior:M6S.behavior?M6S.behavior:{},count:"0"^0};}this.tagalongs[M6S.label].count++;};f3.Driver.prototype.detachTagAlongQuoteFeed=function(N6S){var k6S;k6S=this.tagalongs[N6S.label];k6S.count--;W8k.m3();if(!k6S.count){this.tagalongs[N6S.label]=null;}};f3.Driver.prototype.loadDependents=function(m6S){var n6S,j6S,K6S,F6S,y6S,s6S;j6S={};K6S=m6S.stx;F6S=K6S.chart.series;for(n6S in F6S){if(!F6S[n6S].parameters.data||!F6S[n6S].parameters.data.useDefaultQuoteFeed)continue;j6S[n6S]=!!{};}for(var P6S in K6S.panels){if(K6S.panels[P6S].studyQuotes){for(var d6S in K6S.panels[P6S].studyQuotes){j6S[d6S]=!![];}}}y6S=[];for(n6S in j6S){s6S=z3.shallowClone(m6S.originalState);s6S.symbol=n6S;if(F6S[n6S]&&F6S[n6S].parameters.symbolObject){s6S.symbolObject=F6S[n6S].parameters.symbolObject;}if(s6S.update){s6S.startDate=f6S(n6S);}else{if(!s6S.startDate&&K6S.masterData[0]){s6S.startDate=K6S.masterData[0].DT;}if(!s6S.endDate&&K6S.masterData[K6S.masterData.length-1]){s6S.endDate=K6S.masterData[K6S.masterData.length-1].DT;}}y6S.push(s6S);}if(!y6S.length){K6S.createDataSet();if(!m6S.nodraw){K6S.draw();}return;}function f6S(a6S){for(var z6S=K6S.masterData.length-1;z6S>=0;z6S--){if(K6S.masterData[z6S]&&typeof K6S.masterData[z6S][a6S]!="undefined"){return z3.strToDateTime(K6S.masterData[z6S].Date);}}return m6S.startDate;}this.quoteFeed.multiFetch(y6S,function(U6S){var T6S,e6S;for(var J6S="0"&2147483647;J6S<U6S.length;J6S++){T6S=U6S[J6S];if(!T6S.dataCallback.error&&T6S.dataCallback.error!==0){e6S=null;if(K6S.chart.series[T6S.params.symbol]){e6S=K6S.chart.series[T6S.params.symbol].parameters.field;}z3.addMemberToMasterdata(K6S,T6S.params.symbol,T6S.dataCallback.quotes,null,null,e6S);}}K6S.createDataSet();K6S.draw();});};f3.Driver.prototype.executeTagAlongs=function(D6S){var g6S,h6S,q6S,V6S;function l6S(H6S,G6S,C6S){W8k.j3();return function(t6S){var o6S;C6S.count--;if(!t6S.error&&t6S.error!==0){o6S=H6S.fields;if(!o6S){o6S=null;}z3.addMemberToMasterdata(h6S.stx,G6S.label,t6S.quotes,o6S);}if(C6S.count==-1){h6S.render();}};}g6S={count:z3.objLength(this.taglongs)};h6S=this;for(var w6S in this.tagalongs){q6S=this.tagalongs[w6S];V6S=z3.shallowClone(q6S.behavior);z3.extend(V6S,D6S,!!"1");q6S.quoteFeed.fetch(V6S,l6S(V6S,q6S,g6S));}};f3.Driver.prototype.render=function(){this.stx.createDataSet();this.stx.draw();};f3.Driver.prototype.updateChart=function(){var I6S,v6S,i6S,E6S,r6S,Q6S,A6S;function L6S(p6S,u6S,Y6S){if(p6S.behavior.prefetchAction){p6S.behavior.prefetchAction("updateChart");}return function(W6S){var R9S,Z9S;v6S++;if(Y6S==u6S.chart.symbol&&i6S==p6S.stx.layout.interval&&E6S==p6S.stx.layout.timeUnit){if(!W6S.error&&W6S.error!==0){R9S=!"1";if(!u6S.missingBarsCreated){if(u6S.chart.masterData&&u6S.chart.masterData.length&&W6S.quotes&&W6S.quotes.length>0){W8k.N02(88);var p6T=W8k.R02(3,336,15,19,5);Z9S=u6S.chart.masterData[u6S.chart.masterData.length-p6T];if(W6S.quotes["0"-0].DT&&Z9S.DT<W6S.quotes[+"0"].DT||W6S.quotes[0].Date&&Z9S.Date<W6S.quotes[0].Date){W6S.quotes.unshift(Z9S);R9S=!!"1";;}}W6S.quotes=p6S.stx.doCleanupGaps(W6S.quotes,u6S.chart);if(R9S){W6S.quotes.shift();}}p6S.stx.appendMasterData(W6S.quotes,u6S.chart,{noCreateDataSet:!!{}});u6S.chart.attribution=W6S.attribution;}else{p6S.quoteFeed.announceError(u6S.originalState,W6S);}}else{return;}if(v6S==I6S){p6S.updatingChart=![];}p6S.executeTagAlongs(u6S);W8k.m3();if(p6S.behavior.callback){p6S.behavior.callback(u6S);}p6S.loadDependents(u6S);;};}if(this.updatingChart){return;}if(this.loadingNewChart){return;}I6S=z3.objLength(this.stx.charts);W8k.N02(15);v6S=W8k.i02("0",1116783968);i6S=this.stx.layout.interval;E6S=this.stx.layout.timeUnit;for(var B6S in this.stx.charts){r6S=this.stx.charts[B6S];if(!r6S.symbol)continue;Q6S=this.makeParams(r6S.symbol,r6S.symbolObject,r6S);if(r6S.masterData&&r6S.masterData.length){Q6S.startDate=r6S.masterData[r6S.masterData.length-1].DT;}Q6S.update=!0;Q6S.originalState=z3.shallowClone(Q6S);this.updatingChart=!0;A6S=L6S(this,Q6S,r6S.symbol);if(this.stx.isEquationChart(Q6S.symbol)){z3.fetchEquationChart(Q6S,A6S);}else{this.quoteFeed.fetch(Q6S,A6S);}}};f3.Driver.prototype.updateChartLoop=function(){function c9S(x9S){W8k.m3();return function(){if(x9S.behavior.noUpdate){return;}x9S.updateChart();};}if(this.behavior.noUpdate){return;}if(this.behavior.refreshInterval){this.intervalTimer=window.setInterval(c9S(this),this.behavior.refreshInterval*1000);}};f3.Driver.prototype.resetRefreshInterval=function(X9S){if(this.intervalTimer){window.clearInterval(this.intervalTimer);}this.behavior.refreshInterval=X9S;this.updateChartLoop();;};f3.Driver.prototype.loadAll=function(O9S,b9S){var S9S,M9S;S9S=this;M9S=+"0";this.checkLoadMore(O9S,!!1,!!1,k9S());function k9S(){W8k.j3();return function(N9S){W8k.m3();if(N9S){b9S(N9S);}else if(!O9S.moreAvailable){b9S(null);}else if(M9S++>("20"&2147483647)){b9S("error, moreAvailable not implemented correctly in QuoteFeed");}else{S9S.checkLoadMore(O9S,!!{},!![],k9S());}};}};f3.Driver.prototype.checkLoadMore=function(K9S,z9S,y9S,n9S,m9S){var d9S,P9S,j9S,s9S,F9S;W8k.m3();if(!K9S.moreAvailable){if(n9S){n9S();}return;}d9S=this.stx.layout.interval;function f9S(T9S,a9S){if(T9S.behavior.prefetchAction){T9S.behavior.prefetchAction("checkLoadMore");}return function(J9S){var e9S,w18,Z18,T18;W8k.j3();if(a9S.symbol==a9S.chart.symbol&&d9S==T9S.stx.layout.interval&&P9S==T9S.stx.layout.timeUnit){if(!a9S.loadMore){a9S.chart.loadingMore=!1;}if(!J9S.error&&J9S.error!==0){if(!a9S.missingBarsCreated){J9S.quotes.push(a9S.chart.masterData[0]);J9S.quotes=T9S.stx.doCleanupGaps(J9S.quotes,a9S.chart);J9S.quotes.pop();;}a9S.chart.moreAvailable=J9S.moreAvailable;e9S=a9S.loadMoreReplace?J9S.quotes:J9S.quotes.concat(a9S.chart.masterData);T9S.stx.setMasterData(e9S,a9S.chart);T9S.stx.createDataSet();if(!m9S){T9S.stx.draw();}a9S.startDate=a9S.chart.masterData[0].DT;T9S.executeTagAlongs(a9S);if(T9S.behavior.callback){T9S.behavior.callback(a9S);}W8k.t02(33);w18=W8k.R02(1623146624,"1126703352");Z18=-1107242751;T18=2;for(var V18=1;W8k.P08(V18.toString(),V18.toString().length,41267)!==w18;V18++){T9S.loadDependents(a9S);T18+=2;}if(W8k.l08(T18.toString(),T18.toString().length,"36816"^0)!==Z18){T9S.loadDependents(a9S);}T9S.loadDependents(a9S);}else{T9S.quoteFeed.announceError(a9S.originalState,J9S);}a9S.chart.loadingMore=!{};if(n9S){n9S(null);}}else{return;}};}P9S=this.stx.layout.timeUnit;j9S=K9S.loadingMore;if(!this.behavior.noLoadMore){if(!this.stx.maxDataSetSize||K9S.dataSet.length<this.stx.maxDataSetSize){if(K9S.dataSet.length>0&&K9S.scroll>=K9S.dataSet.length||z9S){if(!K9S.loadingMore){K9S.initialScroll=K9S.scroll;K9S.loadingMore=!![];s9S=this.makeParams(K9S.symbol,K9S.symbolObject,K9S);s9S.endDate=K9S.masterData[+"0"].DT;s9S.originalState=z3.shallowClone(s9S);s9S.nodraw=m9S;if(this.stx.fetchMaximumBars[this.stx.layout.aggregationType]){y9S=!!1;}if(y9S){s9S.fetchMaximumBars=!!"1";s9S.ticks=Math.max(20000,s9S.ticks);}F9S=f9S(this,s9S);if(this.stx.isEquationChart(s9S.symbol)){z3.fetchEquationChart(s9S,F9S);}else{this.quoteFeed.fetch(s9S,F9S);}j9S=!!"1";}}}}if(K9S.loadingMore){K9S.initialScroll=K9S.scroll;}if(!j9S&&n9S){n9S(null);}};f3.Driver.prototype.barsToFetch=function(U9S){var q9S,V9S,h9S;if(U9S.isSeries){return U9S.stx.masterData.length;}q9S=this.stx.layout.interval;V9S=U9S.stx.layout.periodicity;if((q9S=="month"||q9S=="week")&&!this.stx.dontRoll){V9S*=q9S=="week"?7:"30"^0;}W8k.j3();h9S=U9S.stx.chart.maxTicks*V9S;return h9S;};f3.Driver.prototype.makeParams=function(D9S,C9S,H9S){var w9S,l9S,g9S;w9S=this.stx.layout.interval;l9S=this.barsToFetch({stx:this.stx});if((w9S=="month"||w9S=="week")&&!this.stx.dontRoll){w9S="day";}g9S=z3.shallowClone(this.behavior);z3.extend(g9S,{stx:this.stx,symbol:D9S,symbolObject:C9S,chart:H9S,interval:w9S,extended:this.stx.layout.extended,period:"1"&2147483647,feed:"delayed",ticks:l9S},!0);if(!g9S.symbolObject){g9S.symbolObject={symbol:D9S};}if(!isNaN(g9S.interval)){g9S.period=g9S.interval;g9S.interval=this.stx.layout.timeUnit;if(!g9S.interval){g9S.interval="minute";}}if(g9S.pts){g9S.ticks=Math.max(g9S.ticks,1000);}return g9S;};f3.Driver.prototype.newChart=function(t9S,r9S){var G9S,A9S,I9S,i9S,Q9S,o9S,v9S;G9S=this.stx;A9S=t9S.symbol;I9S=G9S.layout.interval;i9S=G9S.layout.timeUnit;Q9S=t9S.chart;W8k.j3();Q9S.moreAvailable=!!0;Q9S.attribution=null;o9S=this.makeParams(A9S,t9S.symbolObject,Q9S);z3.extend(o9S,t9S,!!{});function E9S(L9S,B9S){if(L9S.behavior.prefetchAction){L9S.behavior.prefetchAction("newChart");}return function(u9S){var O58,R58,M58;if(A9S==B9S.chart.symbol&&I9S==G9S.layout.interval&&i9S==G9S.layout.timeUnit){if(!u9S.error&&u9S.error!==("0"^0)){if(!B9S.missingBarsCreated){u9S.quotes=G9S.doCleanupGaps(u9S.quotes,t9S.chart);}G9S.setMasterData(u9S.quotes,B9S.chart);B9S.chart.moreAvailable=u9S.moreAvailable;B9S.chart.attribution=u9S.attribution;G9S.createDataSet();if(t9S.initializeChart){G9S.initializeChart();}if(!B9S.nodraw){G9S.home();};}else{L9S.quoteFeed.announceError(B9S.originalState,u9S);}}else{if(r9S){r9S("orphaned");}return;}L9S.loadingNewChart=!{};if(r9S){r9S(u9S.error);}O58=841005217;W8k.N02(15);R58=-W8k.i02("413633351",927122176);M58=2;for(var K58="1"&2147483647;W8k.P08(K58.toString(),K58.toString().length,51288)!==O58;K58++){if(B9S.chart.masterData||B9S.chart.masterData.length){B9S.startDate=B9S.chart.masterData[6].DT;}L9S.executeTagAlongs(B9S);M58+=2;}if(W8k.P08(M58.toString(),M58.toString().length,69062)!==R58){if(B9S.chart.masterData&&B9S.chart.masterData.length){B9S.startDate=B9S.chart.masterData[0].DT;}L9S.executeTagAlongs(B9S);}if(L9S.behavior.callback){L9S.behavior.callback(B9S);}W8k.j3();L9S.loadDependents(B9S);L9S.resetRefreshInterval(L9S.behavior.refreshInterval);};}if(G9S.fetchMaximumBars[G9S.layout.aggregationType]){W8k.N02(33);o9S.ticks=Math.max(W8k.R02(604001984,"20000"),o9S.ticks);o9S.fetchMaximumBars=!!{};}this.loadingNewChart=!"";this.updatingChart=!!0;o9S.originalState=z3.shallowClone(o9S);v9S=E9S(this,o9S);if(this.stx.isEquationChart(o9S.symbol)){z3.fetchEquationChart(o9S,v9S);}else{this.quoteFeed.fetch(o9S,v9S);}};f3.prototype.attachQuoteFeed=function(Y9S,p9S){if(!p9S){p9S={};}if(this.quoteDriver){this.quoteDriver.die();}this.quoteDriver=new f3.Driver(this,Y9S,p9S);};f3.prototype.attachTagAlongQuoteFeed=function(W9S){var U2T;if(!W9S.label){U2T="Attempt to attachTa";U2T+="gAlongQuoteFeed without assigning a ";U2T+="label";console.log(U2T);return;}W8k.m3();this.quoteDriver.attachTagAlongQuoteFeed(W9S);};f3.prototype.detachTagAlongQuoteFeed=function(Z7S){this.quoteDriver.detachTagAlongQuoteFeed(Z7S);};z3.Comparison=function(){};z3.Comparison.mouseHasMoved=!{};z3.Comparison.priceToPercent=function(c7S,x7S,R7S){W8k.t02(2);var B6T=W8k.R02(1900,2000);W8k.t02(25);var Y6T=W8k.R02(9405,7,588);W8k.t02(2);var f6T=W8k.i02(110000,120000);return Math.round((R7S-z3.Comparison.baseline)/z3.Comparison.baseline*B6T*Y6T)/f6T;};z3.Comparison.percentToPrice=function(O7S,b7S,X7S){W8k.N02(4);var t6T=W8k.R02(95,7,565);return z3.Comparison.baseline*(+"1"+X7S/t6T);};z3.Comparison.stopSort=function(S7S,M7S){W8k.m3();W8k.N02(2);return W8k.i02(M7S,S7S);};z3.Comparison.createComparisonSegmentInner=function(F7S,j7S){var Z2T,w2T,d7S,N7S,q7S,m7S,a7S,w7S,J7S,P7S,n7S,z7S,e7S,T2T,k7S,s7S,T7S,K7S,V7S,h7S,U7S,y7S,f7S;Z2T="i";Z2T+="q";Z2T+="Prev";Z2T+="Close";w2T="O";w2T+="p";w2T+="en";d7S=[];for(N7S in j7S.series){if(j7S.series[N7S].parameters.isComparison){d7S.push(N7S);}}q7S=["Close",w2T,"High","Low",Z2T];j7S.dataSegment=[];m7S=null;a7S=j7S.dataSet.length-j7S.scroll;w7S=a7S+j7S.maxTicks;J7S=0;P7S=[];for(n7S=0;n7S<F7S.drawingObjects.length;n7S++){z7S=F7S.drawingObjects[n7S];if(z7S.name=="comparison_stop")if(z7S.tick>a7S&&z7S.tick<=w7S){P7S.push(z7S.tick);}}P7S.sort(z3.Comparison.stopSort);W8k.t02(4);var r6T=W8k.R02(18,36,645);e7S=j7S.maxTicks+r6T;for(n7S=0;n7S<=e7S;n7S++){if(n7S==e7S){n7S=-1;}W8k.N02(0);position=W8k.R02(n7S,a7S);if(position<j7S.dataSet.length&&position>=0){T2T="comparison_s";T2T+="top";k7S=j7S.dataSet[position];if(!m7S){m7S=z3.clone(k7S);}if(!k7S.transform){k7S.transform={"cache":{},"DT":k7S.DT,"Date":k7S.Date};}z3.Comparison.baseline=m7S.Close;for(s7S=+"0";s7S<q7S.length;s7S++){N7S=q7S[s7S];if(k7S[N7S]||k7S[N7S]===0){W8k.N02(0);var U6T=W8k.R02(10,90);W8k.N02(16);var w6T=W8k.R02(8778,1250,12,16);W8k.N02(6);var Z6T=W8k.R02(10000,10003,10003);k7S.transform[N7S]=Math.round((k7S[N7S]-z3.Comparison.baseline)/z3.Comparison.baseline*U6T*w6T)/Z6T;};}T7S=F7S.layout.studies;if(T7S){for(var g7S in T7S){K7S=T7S[g7S];if(!F7S.panels[K7S.panel]||F7S.panels[K7S.panel].name!=K7S.chart.name)continue;for(N7S in K7S.outputMap){if(k7S[N7S]||k7S[N7S]===0){W8k.N02(0);var E6T=W8k.R02(9167,833);k7S.transform[N7S]=Math.round((k7S[N7S]-z3.Comparison.baseline)/z3.Comparison.baseline*100*E6T)/("10000"^0);};}if(K7S.referenceOutput&&(k7S[K7S.referenceOutput+" "+K7S.name]||k7S[K7S.referenceOutput+((715,35.51)!==8770?+"2375"<=(1350,3771)?" ":!![]:(9.38e+3,!0))+K7S.name]===0)){W8k.N02(89);var D6T=W8k.i02(15,630,179550,11969);W8k.t02(90);var c6T=W8k.i02(16,1020758,2,10,6420);W8k.N02(0);var z6T=W8k.i02(5059,298);W8k.t02(66);var x6T=W8k.R02(3770,15,5);W8k.N02(6);var G6T=W8k.i02(129744,10,170);W8k.N02(2);var b6T=W8k.i02(13,113);W8k.N02(46);var u6T=W8k.R02(33,8,165362671,10);k7S.transform[K7S.referenceOutput+" "+K7S.name]=Math.round((k7S[K7S.referenceOutput+(4220>=D6T?(510.79,c6T)!==z6T?(x6T,"3560"^0)<+"779"?523.61:("d","e"):(443.78,G6T):" ")+K7S.name]-z3.Comparison.baseline)/z3.Comparison.baseline*b6T*10000)/("10000">>u6T);};}}for(s7S in F7S.plugins){V7S=F7S.plugins[s7S];if(!V7S.transformOutputs)continue;for(N7S in V7S.transformOutputs){if(k7S[N7S]||k7S[N7S]===0){W8k.N02(1);var i6T=W8k.R02(2,5000);W8k.N02(0);var X6T=W8k.i02(2,9998);k7S.transform[N7S]=Math.round((k7S[N7S]-z3.Comparison.baseline)/z3.Comparison.baseline*100*i6T)/X6T;};}}h7S=!"1";if(P7S&&J7S<P7S.length){if(position===P7S[J7S]){h7S=!![];J7S++;}}U7S=null;if(F7S.activeDrawing&&F7S.activeDrawing.name==T2T){U7S=F7S.activeDrawing.tick;}if(h7S||position==U7S){for(s7S=0;s7S<d7S.length;s7S++){N7S=d7S[s7S];y7S=k7S[N7S];W8k.t02(77);var O6T=W8k.R02(1209,105,11,14);m7S[N7S]=y7S/(("1"^0)+k7S.transform.Close/O6T);}}for(s7S=0;s7S<d7S.length;s7S++){N7S=d7S[s7S];y7S=k7S[N7S];if(y7S||y7S===0){f7S=m7S[N7S];if(!f7S&&f7S!==0){W8k.t02(91);var R6T=W8k.i02(21,13,27,18,17);W8k.N02(92);var M6T=W8k.R02(7,16,12);m7S[N7S]=f7S=y7S/(R6T+k7S.transform.Close/M6T);}W8k.N02(25);var K6T=W8k.i02(16,3,9981);k7S.transform[N7S]=Math.round((y7S-f7S)/f7S*100*K6T)/10000;}}j7S.dataSegment.push(k7S);}else if(position<0){j7S.dataSegment.push(null);}if(n7S<0)break;;}F7S.clearPixelCache();return!!{};};z3.Comparison.createComparisonSegment=function(){var D7S;for(var l7S in this.charts){D7S=this.charts[l7S];if(D7S.isComparison){z3.Comparison.createComparisonSegmentInner(this,D7S);}}};z3.Comparison.priceFormat=function(G7S,o7S,C7S){var H7S,y38,S38,J38;if(C7S===null||typeof C7S=="undefined"){return"";}H7S=o7S.yAxis.priceTick;if(G7S.internationalizer){y38=-1499548183;S38=-+"1259421933";J38=+"2";for(var a38="1"^0;W8k.P08(a38.toString(),a38.toString().length,48964)!==y38;a38++){if(H7S>7){W8k.N02(2);C7S=G7S.internationalizer.percent0.format(W8k.i02(707,C7S));}else if(H7S<716){W8k.N02(93);C7S=G7S.internationalizer.percent1.format(W8k.R02("742",C7S,2147483647));}else if(H7S>7313){W8k.N02(2);C7S=G7S.internationalizer.percent2.format(W8k.i02(719,C7S));}else if(H7S>81483){W8k.t02(2);C7S=G7S.internationalizer.percent3.format(W8k.R02(438,C7S));}else{C7S=G7S.internationalizer.percent4.format(C7S);}J38+=2;}if(W8k.P08(J38.toString(),J38.toString().length,"83394"|258)!==S38){if(H7S>=+"1"){W8k.N02(14);C7S=G7S.internationalizer.percent0.format(W8k.R02(C7S,100));}else if(H7S>=0.1){W8k.t02(14);C7S=G7S.internationalizer.percent1.format(W8k.i02(C7S,100));}else if(H7S>=0.01){W8k.N02(14);C7S=G7S.internationalizer.percent2.format(W8k.R02(C7S,100));}else if(H7S>=0.001){W8k.N02(14);C7S=G7S.internationalizer.percent3.format(W8k.i02(C7S,100));}else{C7S=G7S.internationalizer.percent4.format(C7S);}}}else{if(H7S>=1){C7S=C7S.toFixed(0)+"%";}else if(H7S>=0.1){W8k.t02(14);var F6T=W8k.i02(17,17);W8k.N02(0);var A6T=W8k.R02(17,5111);W8k.N02(2);var e6T=W8k.i02(38841,42372);W8k.N02(0);var o6T=W8k.R02(9365,585);W8k.N02(94);var C6T=W8k.i02(41060,6,10,5,197092);C7S=C7S.toFixed(F6T)+((A6T,e6T)<(o6T,898.86)?C6T:"%");}else if(H7S>=0.01){W8k.t02(9);var L6T=W8k.i02(23,8935,18);W8k.N02(2);var v6T=W8k.i02(5,607696293);C7S=C7S.toFixed(2)+(+"9559"!==+"5440"?"%":(101,L6T)<"1513"-0?"0xe29">>v6T:"z");}else if(H7S>="0.001"-0){W8k.N02(0);var W6T=W8k.R02(3,1714022845);W8k.t02(92);var y6T=W8k.i02(2,461,26);W8k.t02(14);var J6T=W8k.i02(13,13);W8k.N02(9);var q6T=W8k.R02(20,1072,38);W8k.N02(90);var a6T=W8k.i02(17,1548465,2,18,5077);W8k.N02(9);var l6T=W8k.i02(13,1034,9);C7S=C7S.toFixed("3">>W6T)+((+"998.95",7989)>("5697"|y6T)?(2350,"325.11"*J6T)!==q6T?"%":(a6T,"k"):(0x269c,"3.11e+3"|l6T));}else{W8k.t02(2);var P6T=W8k.i02(20,24);C7S=C7S.toFixed(P6T)+"%";}}if(parseFloat(C7S)===0&&C7S.charAt(0)=="-"){C7S=C7S.substring(1);}return C7S;};z3.Comparison.correlate=function(t7S,A7S){var V2T,E2T,Q7S,r7S,I7S,v7S,u7S,p7S;V2T="Re";V2T+="su";V2T+="l";V2T+="t ";E2T="C";E2T+="o";E2T+="mpare ";E2T+="To";if(!z3.Comparison.requestCorrelation||Q7S<=0){return;}Q7S=parseInt(a3(".stxCorrelate .stx-input-field").value,10);W8k.t02(9);var k6T=W8k.R02(17,634,15);W8k.t02(9);var d6T=W8k.i02(11,322,2589);r7S=t7S.panels[z3.Comparison.correlationPanel+" ("+Q7S+(k6T>=d6T?("v","s"):")")];I7S={"id":z3.Comparison.correlationPanel+" ("+Q7S+((905.29,13)>=(+"934",101.03)?(8570,7150)=="869"*1?("386.50"-0,!1):(2.63e+3,!!""):")"),"Period":Q7S,"Compare To":[]};v7S={};u7S=null;if(r7S){for(var B7S=+"0";B7S<t7S.layout.studies[r7S.name].inputs["Compare To"].length;B7S++){I7S["Compare To"].push(t7S.layout.studies[r7S.name].inputs["Compare To"][B7S]);}for(var L7S in t7S.layout.studies[r7S.name].outputs){v7S[L7S]=t7S.layout.studies[r7S.name].outputs[L7S];}u7S=r7S.name;}I7S[E2T].push(A7S);W8k.N02(0);v7S[W8k.i02(A7S,V2T)]=z3.Comparison.colorSelection;z3.Studies.addStudy(t7S,"correl",I7S,v7S,null,u7S);for(var E7S in t7S.panels){if(t7S.panels[E7S].name.indexOf(z3.Comparison.correlationPanel)===0){p7S=t7S.layout.studies[t7S.panels[E7S].name].inputs["Compare To"];for(var i7S=0;i7S<p7S.length;i7S++){if(p7S[i7S]==A7S){W8k.N02(0);t7S.layout.studies[t7S.panels[E7S].name].outputs[W8k.i02(A7S,"Result ")]=z3.Comparison.colorSelection;}}}}};z3.Comparison.toggleCorrelate=function(W7S){var Y7S;z3.Comparison.requestCorrelation=!z3.Comparison.requestCorrelation;Y7S=a3(".stxCorrelate .stx-checkbox");if(Y7S){z3.unappendClassName(Y7S,(!z3.Comparison.requestCorrelation).toString());z3.appendClassName(Y7S,z3.Comparison.requestCorrelation.toString());}};f3.prototype.setComparison=function(R8E,Z8E){var D2T,Y18,f18,t18;if(!Z8E){Z8E=this.chart;}if(typeof Z8E=="string"){Z8E=this.charts[Z8E];}if(!Z8E.isComparison&&R8E){this.setTransform(Z8E,z3.Comparison.priceToPercent,z3.Comparison.percentToPrice);Z8E.panel.yAxis.priceFormatter=z3.Comparison.priceFormat;Z8E.panel.yAxis.whichSet="dataSegment";}else if(Z8E.isComparison&&!R8E){D2T="dat";D2T+="a";D2T+="Set";this.unsetTransform(Z8E);Z8E.panel.yAxis.priceFormatter=null;Z8E.panel.yAxis.whichSet=D2T;}Y18=-+"1821809526";f18=12669900;t18=2;for(var U18=1;W8k.l08(U18.toString(),U18.toString().length,58169)!==Y18;U18++){Z8E.isComparison=R8E;t18+=2;}if(W8k.l08(t18.toString(),t18.toString().length,+"97035")!==f18){Z8E.isComparison=R8E;}};z3.Comparison.startPlugin=function(){var c2T;c2T="c";c2T+="reateD";c2T+="ataSe";c2T+="gment";f3.prototype.prepend(c2T,z3.Comparison.createComparisonSegment);};z3.Comparison.removeSeries=function(c8E,x8E){};z3.SearchableWordList=function(n8E,s8E,F8E){var X8E,O8E,k8E,b8E,S8E,M8E;if(!n8E){return;}if(!s8E){s8E=50;}if(!F8E){F8E=!{};}X8E={"records":[],"words":[]};W8k.j3();for(var N8E=0;N8E<n8E.length;N8E++){O8E=n8E[N8E];if(!O8E.name){O8E.name=O8E.id;}W8k.N02(95);var n6T=W8k.i02(14,16,3,10,2);O8E.index=X8E.records.push(O8E)-n6T;k8E=O8E.name.split((7440,3909)!=(+"236.21",361.19)?+"8820">(862.42,283.19)?" ":(885.76,9550)!=366.59?(2.63e+3,238.95):(0x229e,3.54e+3):8.25e+3);if(O8E.keywords){k8E=k8E.concat(O8E.keywords.split((5100,456)!=(823.25,3160)?" ":(6.30e+3,"8.30e+3">>416815456)));}for(var K8E=0;K8E<k8E.length;K8E++){b8E=k8E[K8E].toUpperCase();S8E="_";M8E=(339.13,+"9203")!==(4701,5355)?"_":(598.52,0x543);if(b8E.charCodeAt(0)>=33&&b8E.charCodeAt("0"-0)<=126){S8E=b8E.charAt(0);}if(!X8E.words[S8E]){X8E.words[S8E]=[];}if(b8E.length>1){if(b8E.charCodeAt(1)>=("33"^0)&&b8E.charCodeAt(1)<=126){M8E=b8E.charAt(1);}}else{M8E=196!=346.62?745.9>=9597?+"1.54e+3":" ":19.40;}if(!X8E.words[S8E][M8E]){X8E.words[S8E][M8E]=[];}X8E.words[S8E][M8E].push({index:O8E.index,word:b8E});}}this.lookup=function(t8E,g8E,Q8E){var m8E,e8E,q8E,z8E,d8E,j8E,D8E,G8E,o8E,U8E,a8E,T8E,P8E,y8E,V8E,H8E;function l8E(R1E){var c1E,x1E;c1E=[];x1E="";for(var Z1E=0;Z1E<R1E.length;Z1E++){if(x1E==R1E[Z1E].id)continue;c1E.push(R1E[Z1E]);x1E=R1E[Z1E].id;}return c1E;}function C8E(A8E,I8E){if(A8E.id>I8E.id){return 1;}else if(A8E.id<I8E.id){W8k.N02(33);return-W8k.i02(400369568,"1");}W8k.m3();return A8E.weight>I8E.weight?"1"&2147483647:-1;}function r8E(i8E,E8E){if(i8E.weight>E8E.weight){return 1;}else if(i8E.weight<E8E.weight){W8k.N02(5);return-W8k.R02("1",0);}return i8E.name>E8E.name?1:-("1"|0);}m8E=[];if(t8E&&X8E){e8E=[];q8E=t8E.toUpperCase();z8E=[];for(d8E=0;d8E<X8E.records.length;d8E++){j8E=X8E.records[d8E];if(e8E[j8E.index])continue;if(g8E&&j8E.category!=g8E)continue;D8E=j8E.name.toUpperCase();if(q8E==((942.78,"527.99"*1)<975.89?(493.21,286)!=6360?"*":715.32<=+"8061"?!"":(![],5.61e+3):2.84e+3)){z8E.push(z3.extend(X8E.records[j8E.index],{weight:0}));e8E[j8E.index]=!!{};}else{G8E=D8E.indexOf(q8E);if(G8E>-1){o8E=D8E.length-q8E.length;if(!F8E&&G8E>"0"<<106054816)continue;(o8E?m8E:z8E).push(z3.extend(X8E.records[j8E.index],{weight:o8E}));e8E[j8E.index]=!![];}}}U8E=q8E.split(+"480.3">9717?!!{}:" ");a8E=(2606,+"7287")<=(8320,4893)?"Z":(7361,2142)!=(173.53,1660)?"_":(!![],"L");T8E=(+"1522",9314)>=394.57?"_":("N",0xbe8);P8E=U8E["0"<<1587942880].toUpperCase();y8E=[];if(P8E.charCodeAt(0)>=+"33"&&P8E.charCodeAt(0)<=126){a8E=P8E.charAt(0);}if(P8E.length>1){if(P8E.charCodeAt(1)>=33&&P8E.charCodeAt(1)<=126){T8E=P8E.charAt(1);}}else{T8E=+"846">537?" ":(8900,5684)==(+"4924",+"9239")?"K":4140!==(5320,2266)?"K":(6.22e+3,+"436.26");}if(X8E.words[a8E]){for(var J8E in X8E.words[a8E]){if(J8E.length>1)continue;if(T8E!=(5740<(7192,1154)?(0x8b3,0xe39):(3270,"6340"*1)===(3950,6970)?1540<=(543.09,+"4750")?"a":("t","D"):" ")){J8E=T8E;}for(d8E=0;X8E.words[a8E][J8E]&&d8E<X8E.words[a8E][J8E].length;d8E++){j8E=X8E.words[a8E][J8E][d8E];if(j8E.word.toUpperCase().indexOf(P8E)!==0)continue;if(e8E[j8E.index])continue;if(g8E&&X8E.records[j8E.index].category!=g8E)continue;y8E.push(z3.clone(X8E.records[j8E.index]));e8E[j8E.index]=!!"1";}if(T8E!=" ")break;}}for(var h8E=1;h8E<U8E.length;h8E++){P8E=U8E[h8E].toUpperCase();for(var f8E=y8E.length-1;f8E>=0;f8E--){V8E=y8E[f8E].name.split(9005<(9630,1183)?(0x7e1,!{}):" ");if(y8E[f8E].keywords){V8E=V8E.concat(y8E[f8E].keywords.split(1310>1871?(2.19e+3,555.03):(6320,9543)==="711.18"*1?("s",0x14c4):" "));}H8E=!!"";for(var w8E=0;w8E<V8E.length;w8E++){if(V8E[w8E].toUpperCase().indexOf(P8E)===0){H8E=!!{};break;}}if(!H8E){y8E.splice(f8E,1);}}}z8E.sort(C8E);z8E=l8E(z8E);m8E.sort(C8E);m8E=l8E(m8E);m8E.length=Math.min(m8E.length,s8E);y8E.sort(C8E);y8E=l8E(y8E);m8E=z8E.sort(r8E).concat(m8E.sort(r8E),y8E.sort(v8E));m8E.length=Math.min(m8E.length,s8E);}if(Q8E){Q8E(m8E);}else{return m8E;}function v8E(B8E,L8E){var p8E,Y8E,W8E;W8k.m3();B8E.weight=0;L8E.weight=+"0";for(var u8E=0;u8E<U8E.length;u8E++){p8E=U8E[u8E].toUpperCase();Y8E=B8E.name.toUpperCase().indexOf(p8E);W8E=L8E.name.toUpperCase().indexOf(p8E);if(Y8E==-1){return 1;}else if(W8E==-1){return-1;}B8E.weight+=Y8E;L8E.weight+=W8E;}if(B8E.weight>L8E.weight){W8k.t02(5);return W8k.R02("1",0);}else if(B8E.weight<L8E.weight){return-1;}return B8E.name>L8E.name?1:-("1"*1);}};};return J3;}}());