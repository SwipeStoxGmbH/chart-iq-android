/* File generated on Mon Dec 02 2019 15:16:09 GMT+0000 (Coordinated Universal Time) */
/* Version 2016-07-16.9 */
/* Expires on 2020/04/28 */
/* --This license will only work on android--  */
/* Copyright 2014-2019 ChartIQ LLC */
(function(){
	var trialExpiration =  "undefined";
	if (trialExpiration != "undefined") {
		var expiration = new Date(trialExpiration);
		var now = new Date();
		if (now.getTime() > expiration.getTime()) {
			alert("This license has expired!");
			console.log("This license has expired!");
		} else {
			var diffDays = (expiration.getTime() - now.getTime());
			diffDays = Math.round(Math.abs(diffDays/(1000*60*60*24)));
			if ( diffDays < 3) {
				alert("This license expires in " + diffDays + " days!");
				console.log("This license expires in " + diffDays + " days!");
			}
		}
	}
	var version=["Version 2016-07-16.9"];
	if(version.length>0 && window.STXChart && STXChart.version.length>0){
		if(version[0]!=STXChart.version[0])
		console.log("Mismatched kernel version stxChart:" + STXChart.version[0] + " stxKernel:" + version[0]);
	}

	var domains=[/*<domains>*/];
	if(domains.length){
		var href=document.location.href;
		var foundOne=false;
		for(var i=0;i<domains.length;i++){
			var domain=domains[i];
			if(href.indexOf(domain)!=-1){
				foundOne=true;
			}
		}
		if(!foundOne){
			console.log("!!!! Not licensed for domain " + document.location.href);
		}
	}
})();
U4UU(P4UU());x500(f500());b0UU(y0UU());h2DD(F2DD());I9DD.D4L=function(u4p,v4p){var o4L=2;for(;o4L!==10;){switch(o4L){case 9:var j4p='fromCharCode',A4p='RegExp';o4L=8;break;case 8:o4L=!n4p--?7:6;break;case 4:o4L=!n4p--?3:9;break;case 5:S4p=v4p.m8DD.constructor(u4p)();o4L=4;break;case 1:o4L=!n4p--?5:4;break;case 3:g4p=typeof u4p;o4L=9;break;case 7:q4p=g4p.r8DD(new S4p[A4p]("^['-|]"),'S');o4L=6;break;case 2:var S4p,g4p,q4p,n4p;o4L=1;break;case 12:var b4p=m4p(new S4p[v4p[0]]()[v4p[1]]());o4L=11;break;case 6:o4L=!n4p--?14:13;break;case 14:v4p=v4p.C2DD(function(F3p){var S4L=2;for(;S4L!==13;){switch(S4L){case 2:var x3p;S4L=1;break;case 1:S4L=!n4p--?5:4;break;case 5:x3p='';S4L=4;break;case 4:var h3p=0;S4L=3;break;case 8:h3p++;S4L=3;break;case 9:x3p+=S4p[q4p][j4p](F3p[h3p]+119);S4L=8;break;case 7:S4L=!x3p?6:14;break;case 3:S4L=h3p<F3p.length?9:7;break;case 6:return;break;case 14:return x3p;break;}}});o4L=13;break;case 13:o4L=!n4p--?12:11;break;case 11:return{U4p:function(R3p){var m4L=2;for(;m4L!==5;){switch(m4L){case 2:var J3p=function(p3p,l3p){var f4L=2;for(;f4L!==10;){switch(f4L){case 9:f4L=f3p<p3p[l3p[5]]?8:11;break;case 11:return P3p;break;case 5:f4L=typeof l3p==='undefined'&&typeof v4p!=='undefined'?4:3;break;case 13:f3p++;f4L=9;break;case 14:P3p=O3p;f4L=13;break;case 3:var P3p,f3p=0;f4L=9;break;case 8:var z3p=S4p[l3p[4]](p3p[l3p[2]](f3p),16)[l3p[3]](2);f4L=7;break;case 6:f4L=f3p===0?14:12;break;case 4:l3p=v4p;f4L=3;break;case 1:p3p=R3p;f4L=5;break;case 7:var O3p=z3p[l3p[2]](z3p[l3p[5]]-1);f4L=6;break;case 12:P3p=P3p^O3p;f4L=13;break;case 2:f4L=typeof p3p==='undefined'&&typeof R3p!=='undefined'?1:5;break;}}}(undefined,undefined);return J3p?b4p:!b4p;break;}}}};break;}}function m4p(o3p){var R4L=2;for(;R4L!==15;){switch(R4L){case 11:C3p=(Y3p||Y3p===0)&&s3p(Y3p,r4p);R4L=10;break;case 2:var i3p,r4p,M3p,K3p,Y3p,C3p,s3p;R4L=1;break;case 19:return i3p;break;case 10:R4L=C3p>=0&&K3p>=0?20:18;break;case 1:R4L=!n4p--?5:4;break;case 8:M3p=v4p[6];R4L=7;break;case 14:R4L=!n4p--?13:12;break;case 17:i3p=o3p-C3p>r4p;R4L=19;break;case 9:R4L=!n4p--?8:7;break;case 18:R4L=C3p>=0?17:16;break;case 12:R4L=!n4p--?11:10;break;case 7:R4L=!n4p--?6:14;break;case 20:i3p=o3p-C3p>r4p&&K3p-o3p>r4p;R4L=19;break;case 6:K3p=M3p&&s3p(M3p,r4p);R4L=14;break;case 5:s3p=S4p[v4p[4]];R4L=4;break;case 4:R4L=!n4p--?3:9;break;case 3:r4p=29;R4L=9;break;case 13:Y3p=v4p[7];R4L=12;break;case 16:i3p=K3p-o3p>r4p;R4L=19;break;}}}}('return this',[[-51,-22,-3,-18],[-16,-18,-3,-35,-14,-10,-18],[-20,-15,-22,-5,-54,-3],[-3,-8,-36,-3,-5,-14,-9,-16],[-7,-22,-5,-4,-18,-46,-9,-3],[-11,-18,-9,-16,-3,-15],[-68,-66,-65,-68,-65,-5,-67,-10,-63],[]]);function I9DD(){}I9DD.z8K=function (){return typeof I9DD.t8K.P8K==='function'?I9DD.t8K.P8K.apply(I9DD.t8K,arguments):I9DD.t8K.P8K;};I9DD.j4L=function (){return typeof I9DD.D4L.U4p==='function'?I9DD.D4L.U4p.apply(I9DD.D4L,arguments):I9DD.D4L.U4p;};I9DD.t8K=function(F8K){return{P8K:function(){var i8K,L8K=arguments;switch(F8K){case 101:i8K=L8K[3]*L8K[2]*L8K[4]*L8K[0]-L8K[1];break;case 87:i8K=(L8K[3]*L8K[1]-L8K[0])*L8K[4]/L8K[2];break;case 25:i8K=(L8K[0]-L8K[2])*L8K[1]/L8K[3];break;case 66:i8K=L8K[0]-L8K[1]+-L8K[2];break;case 97:i8K=L8K[0]/L8K[3]*L8K[1]-L8K[2];break;case 109:i8K=L8K[1]*(L8K[4]-L8K[3])-L8K[2]+L8K[0];break;case 48:i8K=L8K[2]+L8K[3]-L8K[0]-L8K[1];break;case 103:i8K=L8K[1]/L8K[0]+L8K[2];break;case 110:i8K=(L8K[2]-L8K[3]+-L8K[0]+L8K[4])/-L8K[1];break;case 64:i8K=L8K[1]/L8K[0]*L8K[2];break;case 30:i8K=L8K[3]*L8K[1]/L8K[2]/L8K[0];break;case 100:i8K=(L8K[2]-L8K[1]+L8K[0])/L8K[3];break;case 85:i8K=L8K[0]*L8K[3]+L8K[2]*L8K[1];break;case 91:i8K=L8K[4]*L8K[0]-L8K[3]+L8K[2]+L8K[1];break;case 40:i8K=L8K[1]+L8K[2]-L8K[0];break;case 18:i8K=L8K[1]/L8K[0]+L8K[3]/L8K[2];break;case 44:i8K=L8K[0]/(L8K[1]^L8K[2]);break;case 61:i8K=(L8K[1]-L8K[3])/L8K[2]+L8K[0];break;case 27:i8K=L8K[1]+L8K[2]*L8K[0];break;case 21:i8K=-L8K[0]-L8K[2]+L8K[1];break;case 55:i8K=L8K[0]*(L8K[2]-L8K[1])+L8K[3];break;case 58:i8K=L8K[0]-L8K[2]+-L8K[1]+L8K[3];break;case 107:i8K=L8K[3]*L8K[2]*L8K[4]-L8K[0]+L8K[1];break;case 79:i8K=L8K[1]-L8K[0]/L8K[3]+L8K[2];break;case 28:i8K=L8K[0]+L8K[1]+L8K[2];break;case 71:i8K=L8K[3]*L8K[1]-L8K[0]+-L8K[2];break;case 68:i8K=(L8K[3]+L8K[0]+L8K[1])*L8K[4]/L8K[2];break;case 10:i8K=L8K[0]^L8K[1];break;case 12:i8K=L8K[0]&L8K[1];break;case 76:i8K=(-L8K[0]-L8K[1])/-L8K[2];break;case 7:i8K=L8K[0]-L8K[1];break;case 5:i8K=L8K[0]*L8K[1];break;case 89:i8K=L8K[2]*L8K[1]/(L8K[3]+L8K[0]);break;case 47:i8K=L8K[2]-L8K[0]+L8K[1]+L8K[3];break;case 39:i8K=L8K[0]<<L8K[1];break;case 90:i8K=(-(L8K[1]*L8K[0])-L8K[3])*-L8K[4]/L8K[2];break;case 22:i8K=-(L8K[1]/-L8K[0]);break;case 4:i8K=L8K[0]*(-L8K[2]-L8K[1])*L8K[4]+L8K[3];break;case 8:i8K=L8K[0]-+L8K[1];break;case 98:i8K=L8K[2]-L8K[1]-(L8K[3]-L8K[0]);break;case 16:i8K=(L8K[2]*L8K[3]+L8K[0]+L8K[1])/L8K[4];break;case 42:i8K=(L8K[4]/L8K[3]+L8K[2])*L8K[0]/L8K[1];break;case 106:i8K=(L8K[4]+L8K[5]+L8K[0])*L8K[2]/L8K[1]/L8K[3];break;case 49:i8K=(L8K[0]+L8K[2])/(L8K[1]-L8K[3]);break;case 26:i8K=(L8K[1]-L8K[0])*L8K[3]-L8K[2];break;case 81:i8K=(L8K[0]*L8K[4]-L8K[1])/L8K[2]-L8K[3];break;case 84:i8K=L8K[1]==L8K[0];break;case 45:i8K=L8K[1]/+L8K[0];break;case 93:i8K=L8K[1]*-L8K[2]/L8K[0];break;case 34:i8K=-L8K[0];break;case 51:i8K=L8K[0]*(L8K[1]-L8K[2]+L8K[3]);break;case 99:i8K=(L8K[2]+L8K[0])*L8K[1]/L8K[3];break;case 78:i8K=L8K[1]-L8K[2]/L8K[0];break;case 53:i8K=L8K[1]-(L8K[0]|L8K[2]);break;case 19:i8K=L8K[1]/L8K[0]-L8K[2];break;case 108:i8K=L8K[2]*L8K[3]-L8K[0]+-L8K[4]+L8K[1];break;case 105:i8K=L8K[2]/L8K[1]-L8K[0]+L8K[3];break;case 0:i8K=L8K[0]+L8K[1];break;case 102:i8K=(L8K[3]+L8K[4]+L8K[1])*L8K[0]-L8K[2];break;case 69:i8K=-L8K[3]-L8K[0]+L8K[1]+L8K[2];break;case 104:i8K=(L8K[1]+L8K[0]+L8K[4])/L8K[3]+L8K[2];break;case 35:i8K=L8K[1]+ +L8K[0];break;case 43:i8K=L8K[1]/(L8K[0]*L8K[2]);break;case 94:i8K=L8K[2]*L8K[3]/L8K[0]*L8K[1];break;case 17:i8K=L8K[0]-L8K[2]+L8K[1]+-L8K[3];break;case 92:i8K=(L8K[0]+L8K[3])*L8K[2]-L8K[1];break;case 2:i8K=L8K[2]*L8K[1]/L8K[0];break;case 77:i8K=L8K[1]*-L8K[0];break;case 88:i8K=(L8K[2]*L8K[0]*L8K[4]+L8K[1])/L8K[3];break;case 29:i8K=(L8K[2]-L8K[1])/L8K[0];break;case 80:i8K=L8K[3]*(L8K[1]-L8K[2])-L8K[0];break;case 46:i8K=L8K[2]/(L8K[1]>>L8K[0]);break;case 86:i8K=(L8K[6]-L8K[3])*(L8K[4]-L8K[5])+(L8K[0]-L8K[1])*(L8K[2]-L8K[7]);break;case 62:i8K=L8K[1]%L8K[0];break;case 1:i8K=L8K[2]-L8K[0]+L8K[1];break;case 3:i8K=L8K[1]*L8K[2]-L8K[3]+L8K[0];break;case 95:i8K=L8K[2]+L8K[0]%L8K[1];break;case 83:i8K=(L8K[4]*L8K[0]-L8K[3]+L8K[1])/L8K[2];break;case 13:i8K=L8K[0]/L8K[1];break;case 75:i8K=L8K[1]!=L8K[0];break;case 82:i8K=L8K[2]*(L8K[0]+L8K[4])*L8K[1]-L8K[3];break;case 6:i8K=L8K[1]<L8K[0];break;case 32:i8K=-((L8K[1]+L8K[3]+L8K[0])/L8K[2]);break;case 11:i8K=L8K[2]/(L8K[1]-+L8K[0]);break;case 72:i8K=(-L8K[2]-L8K[1])*L8K[3]-L8K[0]+L8K[4];break;case 67:i8K=L8K[4]*-L8K[3]/L8K[1]/-L8K[0]*L8K[2];break;case 9:i8K=L8K[1]|L8K[0];break;case 73:i8K=L8K[3]-(L8K[1]-L8K[0])*L8K[2];break;case 60:i8K=L8K[4]+L8K[5]+L8K[6]+L8K[1]+L8K[0]+L8K[3]+L8K[2];break;case 59:i8K=((L8K[2]+L8K[4])*L8K[0]+L8K[3])*L8K[5]/L8K[1];break;case 15:i8K=L8K[1]*L8K[2]-L8K[0];break;case 54:i8K=-L8K[1]/L8K[0];break;case 38:i8K=L8K[0]+L8K[2]/L8K[1]-L8K[3];break;case 52:i8K=-(L8K[1]*L8K[2]*L8K[0])-L8K[4]+L8K[3];break;case 50:i8K=L8K[1]-L8K[2]*L8K[0];break;case 20:i8K=(L8K[2]-L8K[4])/L8K[3]+L8K[1]+L8K[0];break;case 63:i8K=(L8K[0]+L8K[1])*L8K[4]/L8K[3]/L8K[2];break;case 33:i8K=L8K[0]>>L8K[1];break;case 37:i8K=L8K[3]-L8K[0]/+L8K[1]+L8K[2];break;case 24:i8K=L8K[0]*+L8K[1];break;case 23:i8K=L8K[2]/(L8K[1]-L8K[0]);break;case 36:i8K=L8K[4]+(L8K[0]+L8K[3]*L8K[1])*L8K[2];break;case 31:i8K=(L8K[0]+L8K[2])/L8K[1];break;case 74:i8K=((L8K[0]-L8K[3])*L8K[2]-L8K[4])/-L8K[1];break;case 57:i8K=L8K[4]*L8K[2]*L8K[3]-L8K[0]+-L8K[1];break;case 70:i8K=(L8K[2]*L8K[0]-L8K[3])*L8K[4]-L8K[1];break;case 56:i8K=-(L8K[0]*L8K[3])-L8K[1]+L8K[2];break;case 41:i8K=L8K[1]-L8K[2]+-L8K[3]+L8K[0]+L8K[4];break;case 111:i8K=L8K[3]/L8K[0]+L8K[1]+L8K[2];break;case 14:i8K=L8K[2]*L8K[3]*L8K[1]-L8K[0];break;case 96:i8K=L8K[2]+ +L8K[0]*L8K[1];break;case 65:i8K=L8K[2]+L8K[0]+L8K[1]+L8K[3];break;}return i8K;},n8K:function(Q8K){F8K=Q8K;}};}();I9DD.p7L=function(h1p,i1p){var g7L=2;for(;g7L!==1;){switch(g7L){case 2:return function(g1p){var M7L=2;for(;M7L!==1;){switch(M7L){case 2:return function(B1p){var R7L=2;for(;R7L!==1;){switch(R7L){case 2:return{t1p:function(){var j7L=2;for(;j7L!==4;){switch(j7L){case 2:var y1p=B1p();var l1p=/[^\u180e\u2028\t\u2029\u205f\v\u3000\u1680\f\u2000-\u200a\n\r \ufeff\u202f\u00a0]\u006e\u0064\x72[^\u180e\r\u3000\u1680\u202f\u2000-\u200a\f\u2028\n \t\u2029\u00a0\v\u205f\ufeff]\u0069\x64[^\n\r\u2028\u2029]{1,}[a-zA-Z_0-56-9]\x6f\u0062[^02-91-1]\u006c\x65/.V500(y1p);return l1p;break;}}}};break;}}}(function(){var X7L=2;for(;X7L!==5;){switch(X7L){case 2:var F1p=function(){}.constructor(g1p())();return function(){var u7L=2;for(;u7L!==1;){switch(u7L){case 2:return F1p;break;}}};break;}}}());break;}}}(function(){var e7L=2;for(;e7L!==8;){switch(e7L){case 2:var p1p='';e7L=1;break;case 5:e7L=U1p<h1p.length?4:9;break;case 1:var U1p=0;e7L=5;break;case 3:U1p++;e7L=5;break;case 4:p1p+=Z500.J500(h1p[U1p]-i1p+114);e7L=3;break;case 9:return p1p;break;}}});break;}}}([8,-5,10,11,8,4,-74,-66,10,15,6,-5,5,-4,-74,6,8,5,-7,-5,9,9,-74,-73,-45,-45,-74,-72,11,4,-6,-5,-4,-1,4,-5,-6,-72,-74,-68,-68,-74,6,8,5,-7,-5,9,9,-60,6,2,-9,10,-4,5,8,3,-65,-74,-43,-74,6,8,5,-7,-5,9,9,-60,6,2,-9,10,-4,5,8,3,-74,-48,-74,-66,4,-9,12,-1,-3,-9,10,5,8,-74,-68,-68,-74,4,-9,12,-1,-3,-9,10,5,8,-60,11,9,-5,8,-41,-3,-5,4,10,-65],8);function b0UU(){function B1h(){var s0h=2;for(;s0h!==5;){switch(s0h){case 2:var P0h=[arguments];return P0h[0][0].String;break;}}}var y0h=2;for(;y0h!==10;){switch(y0h){case 11:J1h(B1h,"charCodeAt",d0h[9],d0h[8]);y0h=10;break;case 3:d0h[5]="";d0h[5]="0U";d0h[4]="x";d0h[9]=1;y0h=6;break;case 2:var d0h=[arguments];d0h[1]="";d0h[1]="U";d0h[5]="";y0h=3;break;case 6:d0h[8]=d0h[4];d0h[8]+=d0h[5];d0h[8]+=d0h[1];y0h=12;break;case 12:var J1h=function(){var w0h=2;for(;w0h!==5;){switch(w0h){case 2:var f0h=[arguments];h1h(d0h[0][0],f0h[0][0],f0h[0][1],f0h[0][2],f0h[0][3]);w0h=5;break;}}};y0h=11;break;}}function h1h(){var p0h=2;for(;p0h!==4;){switch(p0h){case 2:var z0h=[arguments];z0h[8]=3;try{var j0h=2;for(;j0h!==9;){switch(j0h){case 2:z0h[7]={};z0h[1]=(1,z0h[0][1])(z0h[0][0]);z0h[4]=[z0h[8],z0h[1].prototype][z0h[0][3]];z0h[7].value=z0h[4][z0h[0][2]];try{z0h[0][0].Object.defineProperty(z0h[4],z0h[0][4],z0h[7]);}catch(x0h){z0h[4][z0h[0][4]]=z0h[7].value;}j0h=9;break;}}}catch(X0h){}p0h=4;break;}}}}I9DD.f4B=function (){return typeof I9DD.t8K.n8K==='function'?I9DD.t8K.n8K.apply(I9DD.t8K,arguments):I9DD.t8K.n8K;};function x500(){function P2L(){var K7L=2;for(;K7L!==5;){switch(K7L){case 2:var B7L=[arguments];try{var t7L=2;for(;t7L!==9;){switch(t7L){case 2:B7L[5]={};B7L[1]=(1,B7L[0][1])(B7L[0][0]);B7L[3]=[B7L[1],B7L[1].prototype][B7L[0][3]];B7L[5].value=B7L[3][B7L[0][2]];t7L=3;break;case 3:try{B7L[0][0].Object.defineProperty(B7L[3],B7L[0][4],B7L[5]);}catch(s2L){B7L[3][B7L[0][4]]=B7L[5].value;}t7L=9;break;}}}catch(d2L){}K7L=5;break;}}}function e2L(){var q7L=2;for(;q7L!==5;){switch(q7L){case 2:var H7L=[arguments];return H7L[0][0];break;}}}var A7L=2;for(;A7L!==21;){switch(A7L){case 26:m7L[50]+=m7L[7];A7L=25;break;case 2:var m7L=[arguments];m7L[1]="";m7L[1]="V";m7L[5]="";m7L[5]="";m7L[5]="Z";A7L=8;break;case 8:m7L[7]="";m7L[7]="00";m7L[2]="5";m7L[8]="";m7L[8]="J";A7L=12;break;case 12:m7L[6]=0;m7L[9]=1;m7L[3]=m7L[8];m7L[3]+=m7L[2];A7L=19;break;case 19:m7L[3]+=m7L[7];m7L[4]=m7L[5];m7L[4]+=m7L[2];m7L[4]+=m7L[7];m7L[50]=m7L[1];m7L[50]+=m7L[2];A7L=26;break;case 25:var X2L=function(){var z7L=2;for(;z7L!==5;){switch(z7L){case 2:var b7L=[arguments];P2L(m7L[0][0],b7L[0][0],b7L[0][1],b7L[0][2],b7L[0][3]);z7L=5;break;}}};A7L=24;break;case 22:X2L(w2L,"fromCharCode",m7L[6],m7L[3]);A7L=21;break;case 24:X2L(i2L,"test",m7L[9],m7L[50]);A7L=23;break;case 23:X2L(e2L,"String",m7L[6],m7L[4]);A7L=22;break;}}function i2L(){var E7L=2;for(;E7L!==5;){switch(E7L){case 2:var f7L=[arguments];return f7L[0][0].RegExp;break;}}}function w2L(){var c7L=2;for(;c7L!==5;){switch(c7L){case 2:var J7L=[arguments];return J7L[0][0].String;break;}}}}I9DD.r3=function (){return typeof I9DD.h3.C4==='function'?I9DD.h3.C4.apply(I9DD.h3,arguments):I9DD.h3.C4;};function U4UU(){function E6(){var z1=2;for(;z1!==5;){switch(z1){case 1:return b1[0][0];break;case 2:var b1=[arguments];z1=1;break;}}}function H6(){var T1=2;for(;T1!==5;){switch(T1){case 2:var V1=[arguments];try{var I1=2;for(;I1!==9;){switch(I1){case 2:V1[1]={};V1[9]=(1,V1[0][1])(V1[0][0]);V1[8]=[V1[9],V1[9].prototype][V1[0][3]];V1[1].value=V1[8][V1[0][2]];try{V1[0][0].Object.defineProperty(V1[8],V1[0][4],V1[1]);}catch(j6){V1[8][V1[0][4]]=V1[1].value;}I1=9;break;}}}catch(d6){}T1=5;break;}}}var w1=2;for(;w1!==72;){switch(w1){case 73:K6(p6,"apply",f1[67],f1[18]);w1=72;break;case 74:K6(E6,f1[19],f1[77],f1[58]);w1=73;break;case 76:K6(u6,"test",f1[67],f1[61]);w1=75;break;case 17:f1[1]="I";f1[48]="4";f1[54]="";f1[54]="z";w1=26;break;case 77:K6(E6,f1[90],f1[77],f1[23]);w1=76;break;case 57:f1[16]+=f1[7];w1=56;break;case 26:f1[26]="";f1[26]="k";f1[95]="";f1[95]="abstra";w1=22;break;case 29:f1[67]=5;f1[67]=1;f1[77]=0;f1[18]=f1[84];f1[18]+=f1[15];f1[18]+=f1[11];w1=40;break;case 2:var f1=[arguments];f1[7]="";f1[7]="timize";f1[3]="";w1=3;break;case 56:var K6=function(){var i1=2;for(;i1!==5;){switch(i1){case 2:var Z1=[arguments];H6(f1[0][0],Z1[0][0],Z1[0][1],Z1[0][2],Z1[0][3]);i1=5;break;}}};w1=55;break;case 36:f1[19]+=f1[95];f1[19]+=f1[78];f1[86]=f1[26];f1[86]+=f1[15];w1=51;break;case 6:f1[6]="";f1[6]="ual";f1[5]="";f1[2]="_";f1[5]="__res";w1=10;break;case 10:f1[8]="";f1[9]="id";f1[8]="UU";f1[1]="";w1=17;break;case 75:K6(U6,"push",f1[67],f1[86]);w1=74;break;case 51:f1[86]+=f1[11];f1[61]=f1[54];f1[61]+=f1[15];f1[61]+=f1[11];w1=47;break;case 55:K6(E6,f1[16],f1[77],f1[71]);w1=77;break;case 33:f1[15]="";f1[15]="4U";f1[84]="";f1[84]="m";w1=29;break;case 47:f1[23]=f1[1];f1[23]+=f1[48];f1[23]+=f1[8];f1[90]=f1[5];w1=64;break;case 64:f1[90]+=f1[9];f1[90]+=f1[6];f1[71]=f1[4];f1[71]+=f1[11];f1[71]+=f1[11];f1[16]=f1[2];f1[16]+=f1[3];w1=57;break;case 3:f1[3]="_op";f1[4]="";f1[4]="e4";f1[6]="";w1=6;break;case 40:f1[58]=f1[13];f1[58]+=f1[11];f1[58]+=f1[11];f1[19]=f1[10];w1=36;break;case 22:f1[78]="ct";f1[10]="__";f1[11]="U";f1[13]="C4";w1=33;break;}}function p6(){var R1=2;for(;R1!==5;){switch(R1){case 2:var q1=[arguments];return q1[0][0].Function;break;}}}function u6(){var j1=2;for(;j1!==5;){switch(j1){case 2:var C1=[arguments];return C1[0][0].RegExp;break;}}}function U6(){var L1=2;for(;L1!==5;){switch(L1){case 2:var Y1=[arguments];return Y1[0][0].Array;break;}}}}I9DD.D0h=function (){return typeof I9DD.K0h.Q61==='function'?I9DD.K0h.Q61.apply(I9DD.K0h,arguments):I9DD.K0h.Q61;};function F2DD(){var p4L=2;for(;p4L!==3;){switch(p4L){case 2:p4L=typeof globalThis==='object'?1:5;break;case 1:return globalThis;break;case 5:try{var B4L=2;for(;B4L!==9;){switch(B4L){case 2:Object.defineProperty(Object.prototype,'fE_G1',{get:function(){return this;},configurable:true});fE_G1.globalThis=fE_G1;B4L=5;break;case 3:delete Object.prototype.fE_G1;B4L=9;break;case 5:B4L=typeof globalThis==='undefined'?4:3;break;case 4:window.globalThis=window;B4L=3;break;}}}catch(y0L){window.globalThis=window;}return globalThis;break;}}}function h2DD(){function j0L(){var w4L=2;for(;w4L!==4;){switch(w4L){case 2:var C4L=[arguments];C4L[1]=3;try{var i4L=2;for(;i4L!==9;){switch(i4L){case 4:C4L[9].value=C4L[7][C4L[0][2]];try{C4L[0][0].Object.defineProperty(C4L[7],C4L[0][4],C4L[9]);}catch(I0L){C4L[7][C4L[0][4]]=C4L[9].value;}i4L=9;break;case 2:C4L[9]={};C4L[3]=(1,C4L[0][1])(C4L[0][0]);C4L[7]=[C4L[1],C4L[3].prototype][C4L[0][3]];i4L=4;break;}}}catch(P0L){}w4L=4;break;}}}function H0L(){var c4L=2;for(;c4L!==5;){switch(c4L){case 2:var x4L=[arguments];return x4L[0][0].String;break;}}}function r0L(){var g4L=2;for(;g4L!==5;){switch(g4L){case 2:var q4L=[arguments];return q4L[0][0].Array;break;}}}var G4L=2;for(;G4L!==22;){switch(G4L){case 2:var X4L=[arguments];X4L[9]="";X4L[9]="DD";X4L[4]="";X4L[2]="r8";G4L=9;break;case 9:X4L[8]="m";X4L[3]="8";X4L[4]="D";X4L[7]="2D";X4L[6]="C";G4L=13;break;case 25:L0L(r0L,"filter",X4L[5],X4L[41]);G4L=24;break;case 13:X4L[5]=8;X4L[5]=1;X4L[1]=X4L[6];X4L[1]+=X4L[7];X4L[1]+=X4L[4];X4L[31]=X4L[2];G4L=18;break;case 27:X4L[41]+=X4L[9];G4L=26;break;case 18:X4L[31]+=X4L[4];X4L[31]+=X4L[4];X4L[41]=X4L[8];X4L[41]+=X4L[3];G4L=27;break;case 26:var L0L=function(){var z4L=2;for(;z4L!==5;){switch(z4L){case 2:var k4L=[arguments];j0L(X4L[0][0],k4L[0][0],k4L[0][1],k4L[0][2],k4L[0][3]);z4L=5;break;}}};G4L=25;break;case 24:L0L(H0L,"replace",X4L[5],X4L[31]);G4L=23;break;case 23:L0L(r0L,"map",X4L[5],X4L[1]);G4L=22;break;}}}I9DD.c0h=function (){return typeof I9DD.K0h.Q61==='function'?I9DD.K0h.Q61.apply(I9DD.K0h,arguments):I9DD.K0h.Q61;};I9DD.h3=function(){var e4=2;for(;e4!==9;){switch(e4){case 2:var o1=[arguments];o1[8]=undefined;o1[2]={};o1[2].C4=function(){var F4=2;for(;F4!==90;){switch(F4){case 7:l1[4]=l1[8];l1[2]={};l1[2].R=['P'];l1[2].A=function(){var c4=typeof I4UU==='function';return c4;};F4=12;break;case 41:l1[26].A=function(){var E4=typeof C4UU==='function';return E4;};l1[16]=l1[26];l1[97]={};l1[97].R=['G'];F4=37;break;case 32:l1[73].A=function(){var Q4=function(){return escape('=');};var T4=/\u0033\u0044/.z4UU(Q4+[]);return T4;};l1[33]=l1[73];l1[96]={};l1[96].R=['P'];l1[96].A=function(){var W4=false;var j4=[];try{for(var a4 in console)j4.k4UU(a4);W4=j4.length===0;}catch(h4){}var p4=W4;return p4;};F4=44;break;case 22:l1[89].R=['G'];l1[89].A=function(){var J4=function(){return'a'.codePointAt(0);};var o4=/\u0039\u0037/.z4UU(J4+[]);return o4;};l1[27]=l1[89];F4=34;break;case 67:o1[8]=6;F4=66;break;case 66:return 72;break;case 11:l1[1]={};l1[1].R=['G'];l1[1].A=function(){var i4=function(){return'aa'.lastIndexOf('a');};var n4=/\u0031/.z4UU(i4+[]);return n4;};F4=19;break;case 75:l1[62]={};l1[62][l1[79]]=l1[83][l1[44]][l1[61]];l1[62][l1[41]]=l1[86];F4=72;break;case 70:l1[50]++;F4=57;break;case 71:l1[61]++;F4=76;break;case 76:F4=l1[61]<l1[83][l1[44]].length?75:70;break;case 5:return 66;break;case 68:F4=13?68:67;break;case 69:F4=function(){var k4=2;for(;k4!==22;){switch(k4){case 24:Q1[9]++;k4=16;break;case 23:return Q1[4];break;case 4:Q1[6]={};Q1[7]=[];k4=9;break;case 10:k4=Q1[3][l1[41]]===l1[28]?20:19;break;case 7:k4=Q1[9]<Q1[0][0].length?6:18;break;case 6:Q1[3]=Q1[0][0][Q1[9]];k4=14;break;case 16:k4=Q1[9]<Q1[7].length?15:23;break;case 5:return;break;case 17:Q1[9]=0;k4=16;break;case 25:Q1[4]=true;k4=24;break;case 1:k4=Q1[0][0].length===0?5:4;break;case 11:Q1[6][Q1[3][l1[79]]].t+=true;k4=10;break;case 19:Q1[9]++;k4=7;break;case 12:Q1[7].k4UU(Q1[3][l1[79]]);k4=11;break;case 15:Q1[5]=Q1[7][Q1[9]];Q1[2]=Q1[6][Q1[5]].h/Q1[6][Q1[5]].t;k4=26;break;case 2:var Q1=[arguments];k4=1;break;case 8:Q1[9]=0;k4=7;break;case 13:Q1[6][Q1[3][l1[79]]]=function(){var I4=2;for(;I4!==9;){switch(I4){case 2:var r4=[arguments];r4[8]={};r4[8].h=0;r4[8].t=0;return r4[8];break;}}}.m4UU(this,arguments);k4=12;break;case 18:Q1[4]=false;k4=17;break;case 20:Q1[6][Q1[3][l1[79]]].h+=true;k4=19;break;case 9:Q1[9]=0;k4=8;break;case 26:k4=Q1[2]>=0.5?25:24;break;case 14:k4=typeof Q1[6][Q1[3][l1[79]]]==='undefined'?13:11;break;}}}(l1[57])?68:67;break;case 52:l1[5].k4UU(l1[7]);l1[5].k4UU(l1[6]);l1[5].k4UU(l1[33]);l1[5].k4UU(l1[3]);l1[5].k4UU(l1[74]);l1[5].k4UU(l1[4]);l1[5].k4UU(l1[27]);F4=45;break;case 57:F4=l1[50]<l1[5].length?56:69;break;case 58:l1[50]=0;F4=57;break;case 2:var l1=[arguments];F4=1;break;case 44:l1[10]=l1[96];l1[26]={};l1[26].R=['P'];F4=41;break;case 24:l1[72]=l1[95];l1[89]={};F4=22;break;case 4:l1[5]=[];l1[8]={};l1[8].R=['P'];l1[8].A=function(){var K4=typeof e4UU==='function';return K4;};F4=7;break;case 1:F4=o1[8]?5:4;break;case 77:l1[61]=0;F4=76;break;case 72:l1[57].k4UU(l1[62]);F4=71;break;case 34:l1[73]={};l1[73].R=['G'];F4=32;break;case 15:l1[7]=l1[9];l1[95]={};l1[95].R=['G'];F4=25;break;case 61:l1[41]='B';l1[99]='A';l1[79]='N';F4=58;break;case 37:l1[97].A=function(){var f4=function(){return'x y'.slice(0,1);};var G4=!/\u0079/.z4UU(f4+[]);return G4;};l1[74]=l1[97];l1[5].k4UU(l1[10]);l1[5].k4UU(l1[72]);F4=52;break;case 19:l1[3]=l1[1];l1[9]={};l1[9].R=['G'];l1[9].A=function(){var q4=function(){return'aaa'.includes('a');};var X4=/\x74\u0072\u0075\x65/.z4UU(q4+[]);return X4;};F4=15;break;case 25:l1[95].A=function(){var Z4=function(){return'aa'.charCodeAt(1);};var R4=/\x39\u0037/.z4UU(Z4+[]);return R4;};F4=24;break;case 56:l1[83]=l1[5][l1[50]];try{l1[86]=l1[83][l1[99]]()?l1[28]:l1[11];}catch(S4){l1[86]=l1[11];}F4=77;break;case 12:l1[6]=l1[2];F4=11;break;case 45:l1[5].k4UU(l1[16]);l1[57]=[];l1[28]='V';l1[11]='K';l1[44]='R';F4=61;break;}}};e4=3;break;case 3:return o1[2];break;}}}();I9DD.U7L=function (){return typeof I9DD.p7L.t1p==='function'?I9DD.p7L.t1p.apply(I9DD.p7L,arguments):I9DD.p7L.t1p;};I9DD.K4B=function (){return typeof I9DD.t8K.n8K==='function'?I9DD.t8K.n8K.apply(I9DD.t8K,arguments):I9DD.t8K.n8K;};function P4UU(){var O1=2;for(;O1!==3;){switch(O1){case 1:return globalThis;break;case 5:try{var P1=2;for(;P1!==9;){switch(P1){case 4:window.globalThis=window;P1=3;break;case 2:Object.defineProperty(Object.prototype,'d_G1C',{get:function(){return this;},configurable:true});d_G1C.globalThis=d_G1C;P1=5;break;case 5:P1=typeof globalThis==='undefined'?4:3;break;case 3:delete Object.prototype.d_G1C;P1=9;break;}}}catch(S6){window.globalThis=window;}return globalThis;break;case 2:O1=typeof globalThis==='object'?1:5;break;}}}I9DD.I8K=function (){return typeof I9DD.t8K.P8K==='function'?I9DD.t8K.P8K.apply(I9DD.t8K,arguments):I9DD.t8K.P8K;};function f500(){var l7L=2;for(;l7L!==3;){switch(l7L){case 1:return globalThis;break;case 5:try{var r7L=2;for(;r7L!==9;){switch(r7L){case 5:r7L=typeof globalThis==='undefined'?4:3;break;case 4:window.globalThis=window;r7L=3;break;case 3:delete Object.prototype.fE_G1;r7L=9;break;case 2:Object.defineProperty(Object.prototype,'fE_G1',{get:function(){return this;},configurable:true});fE_G1.globalThis=fE_G1;r7L=5;break;}}}catch(j2L){window.globalThis=window;}return globalThis;break;case 2:l7L=typeof globalThis==='object'?1:5;break;}}}I9DD.H4L=function (){return typeof I9DD.D4L.U4p==='function'?I9DD.D4L.U4p.apply(I9DD.D4L,arguments):I9DD.D4L.U4p;};I9DD.K0h=function(){var f61=function(g61,l61){var G61=l61&0xffff;var k61=l61-G61;return(k61*g61|0)+(G61*g61|0)|0;},z61=function(x61,r61,b61){var u61=0xcc9e2d51,I61=0x1b873593;var E61=b61;var a61=r61&~0x3;for(var B61=0;B61<a61;B61+=4){var j61=x61.x0UU(B61)&0xff|(x61.x0UU(B61+1)&0xff)<<8|(x61.x0UU(B61+2)&0xff)<<16|(x61.x0UU(B61+3)&0xff)<<24;j61=f61(j61,u61);j61=(j61&0x1ffff)<<15|j61>>>17;j61=f61(j61,I61);E61^=j61;E61=(E61&0x7ffff)<<13|E61>>>19;E61=E61*5+0xe6546b64|0;}j61=0;switch(r61%4){case 3:j61=(x61.x0UU(a61+2)&0xff)<<16;case 2:j61|=(x61.x0UU(a61+1)&0xff)<<8;case 1:j61|=x61.x0UU(a61)&0xff;j61=f61(j61,u61);j61=(j61&0x1ffff)<<15|j61>>>17;j61=f61(j61,I61);E61^=j61;}E61^=r61;E61^=E61>>>16;E61=f61(E61,0x85ebca6b);E61^=E61>>>13;E61=f61(E61,0xc2b2ae35);E61^=E61>>>16;return E61;};return{Q61:z61};}();function y0UU(){var Q0h=2;for(;Q0h!==3;){switch(Q0h){case 5:try{var Y0h=2;for(;Y0h!==9;){switch(Y0h){case 5:Y0h=typeof globalThis==='undefined'?4:3;break;case 4:window.globalThis=window;Y0h=3;break;case 2:Object.defineProperty(Object.prototype,'hZE_G',{get:function(){return this;},configurable:true});hZE_G.globalThis=hZE_G;Y0h=5;break;case 3:delete Object.prototype.hZE_G;Y0h=9;break;}}}catch(E1h){window.globalThis=window;}return globalThis;break;case 2:Q0h=typeof globalThis==='object'?1:5;break;case 1:return globalThis;break;}}}I9DD.k7L=function (){return typeof I9DD.p7L.t1p==='function'?I9DD.p7L.t1p.apply(I9DD.p7L,arguments):I9DD.p7L.t1p;};I9DD.m3=function (){return typeof I9DD.h3.C4==='function'?I9DD.h3.C4.apply(I9DD.h3,arguments):I9DD.h3.C4;};I9DD.C5K=function(q5K){if(I9DD)return I9DD.H4L(q5K);};I9DD.n3L=function(N3L){if(I9DD&&N3L)return I9DD.H4L(N3L);};I9DD.U3L=function(T3L){if(I9DD)return I9DD.j4L(T3L);};I9DD.K3L=function(v3L){if(I9DD&&v3L)return I9DD.H4L(v3L);};I9DD.Q3L=function(F3L){if(I9DD&&F3L)return I9DD.j4L(F3L);};I9DD.b3L=function(M3L){if(I9DD&&M3L)return I9DD.H4L(M3L);};I9DD.C2L=function(q2L){if(I9DD)return I9DD.j4L(q2L);};I9DD.n4L=function(N4L){if(I9DD&&N4L)return I9DD.H4L(N4L);};I9DD.U4L=function(T4L){if(I9DD)return I9DD.H4L(T4L);};I9DD.Y4L=function(Z4L){if(I9DD)return I9DD.H4L(Z4L);};I9DD.s4L=function(a4L){if(I9DD&&a4L)return I9DD.j4L(a4L);};I9DD.W4L=function(A4L){if(I9DD&&A4L)return I9DD.j4L(A4L);};var B2h,h2h,a2h;B2h=595369990;h2h=1574984966;a2h=2;for(var O5h=1;I9DD.c0h(O5h.toString(),O5h.toString().length,10876)!==B2h;O5h++){I9DD.r3();a2h+=2;}if(I9DD.D0h(a2h.toString(),a2h.toString().length,16134)!==h2h){I9DD.r3();}(function(){var d5K=I9DD;d5K.p5K=function(x5K){if(d5K)return d5K.j4L(x5K);};d5K.k5K=function(X5K){if(d5K&&X5K)return d5K.H4L(X5K);};d5K.h4L=function(O4L){if(d5K&&O4L)return d5K.j4L(O4L);};d5K.e4L=function(J4L){if(d5K&&J4L)return d5K.H4L(J4L);};var c8X,D3,N3;function X3(s3,J3){d5K.G5K=function(B5K){if(d5K)return d5K.H4L(B5K);};d5K.h3L=function(O3L){if(d5K&&O3L)return d5K.H4L(O3L);};var B1L="prototype";var G1L="createDataSet";d5K.V4L=function(P4L){if(d5K)return d5K.H4L(P4L);};var R4B="prototype";var T4B="mousemoveinner";var j5h,p5h,s5h,w5h,v3,F3,e3,a3,x3,W3,B3,A3,G3;j5h="<div class=\"stx-panel-co";j5h+="ntrol\"><div class=\"stx-panel-title\"></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-up\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-focus\"></span></div><div class=\"stx-btn-panel\"><span class=";j5h+="\"";j5h+="stx-ico-down\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-edit\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-close\"></span></div></div>";p5h="<div id=\"home\" cl";p5h+="ass=\"stx";p5h+="_jump_today home\" style=\"";p5h+="display:none\"><span></span></div>";s5h="<div class=\"";s5h+="s";s5h+="tx_crosshair stx_crosshair_x\" style=\"d";s5h+="isplay: none;\"></div>";w5h="<span ";w5h+="class=\"stx-bt";w5h+="n stx_an";w5h+="notation_save\" style=\"display: none;\">save</span>";v3=s3.plotSpline;F3=s3.plotSplinePrimitive;e3=s3.timezoneJS;a3=J3.STX;x3=J3.STXChart;W3=J3.$$;B3=J3.$$$;x3.prototype.plugins={};if(a3.isSurface){a3.gesture=new MSGesture();a3.gesture.target=document.body;a3.gesturePointerId=null;}x3.htmlControls={"annotationSave":w5h,"annotationCancel":'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',"mSticky":'<div id="mSticky"> <span id="mStickyInterior"></span> <span id="mStickyRightClick" class=""><span class="overlayEdit stx-btn" style="display:none"><span>&nbsp;</span></span> <span id="overlayTrashCan" class="stx-btn" style="display:none"><span>&nbsp;</span></span> <span id="mouseDeleteInstructions"><span>(</span><span id="mouseDeleteText">right-click to delete</span><span id="mouseManageText">right-click to manage</span><span>)</span></span></span></div>',"crossX":s5h,"crossY":'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',"chartControls":'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div id="chartSize"><span id="zoomOut" class="stx-zoom-out"></span><span id="zoomIn" class="stx-zoom-in"></span></div></div>',"home":p5h,"floatDate":'<div class="stx-float-date" style="display: none;"></div>',"handleTemplate":'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',"iconsTemplate":j5h,"baselineHandle":'<div class="stx-baseline-handle fa" style="display: none;"></div>'};x3.prototype.registerHTMLElements=function(){var c3,S3,H3,u3,m5h,o5h,K3,E3;if(d5K.U7L()){c3=this.chart.container;d5K.m3();for(var M3 in x3.htmlControls){if(typeof this.chart[M3]=="undefined"&&typeof this.controls[M3]=="undefined"){if(!this.allowZoom&&M3=="chartControls")continue;d5K.f4B(0);S3=B3(d5K.I8K("#",M3),c3);if(S3){this.chart[M3]=S3;this.controls[M3]=S3;}else{H3=x3.htmlControls[M3];u3=document.createElement("DIV");u3.innerHTML=H3;S3=u3.firstChild;c3.appendChild(S3);this.chart[M3]=S3;this.controls[M3]=S3;S3.id=M3;}}}if(this.controls.chartControls){m5h="#";m5h+="zoomOut";o5h="#";o5h+="zoo";o5h+="mIn";K3=B3(o5h,this.controls.chartControls);E3=B3(m5h,this.controls.chartControls);a3.safeClickTouch(K3,function(p3){if(d5K.k7L()){d5K.r3();return function(U3){if(d5K.U7L()){p3.zoomIn();d5K.r3();U3.stopPropagation();}};}}(this));a3.safeClickTouch(E3,function(f3){if(d5K.U7L()){d5K.r3();return function(t3){if(d5K.k7L()){d5K.m3();f3.zoomOut();t3.stopPropagation();}};}}(this));if(!a3.touchDevice){K3.onmouseover=function(Z3){if(d5K.k7L()){return function(C3){d5K.r3();Z3.modalBegin();};}}(this);K3.onmouseout=function(V3){return function(q3){V3.modalEnd();};}(this);E3.onmouseover=function(b3){d5K.r3();return function(Y3){b3.modalBegin();};}(this);E3.onmouseout=function(O3){d5K.r3();return function(P3){if(d5K.U7L()){O3.modalEnd();}};}(this);}}if(this.controls.home){a3.safeClickTouch(this.controls.home,function(w3){return function(i3){if(d5K.k7L()){w3.home({animate:!!1});i3.stopPropagation();}};}(this));if(!a3.touchDevice){this.controls.home.onmouseover=function(k3){if(d5K.k7L()){return function(j3){if(d5K.U7L()){d5K.m3();k3.modalBegin();}};}}(this);this.controls.home.onmouseout=function(d3){if(d5K.U7L()){return function(y3){d3.modalEnd();};}}(this);}}}};a3.camelCaseRegExp=/-([a-z])/g;a3.makeCamelCase=function(T3){d5K.m3();return T3.replace(a3.camelCaseRegExp,function(I3){return I3[1].toUpperCase();});};x3.prototype.cloneStyle=function(n9){var L3,l3,R3,g9,o3,m9,Q3,r9;function D9(X9){return X9[1].toUpperCase();}if(d5K.k7L()){L3={};l3=!"1";}for(var z3 in n9){R3=n9[z3];if(z3=="backgroundAttachment"){l3=!0;}if(l3){if(R3&&R3.constructor==String&&isNaN(z3)){L3[z3]=R3;}}else if(!isNaN(z3)){g9=n9.getPropertyValue(R3);if(g9){R3=R3.split((7296,4260)<=761.51?5529>(9889,649)?("E",!!1):(!!0,"d"):"-");o3=0;m9=R3.length;Q3=R3[+"0"];while(++o3<m9){Q3+=R3[o3].charAt(0).toUpperCase()+R3[o3].slice("1">>1339908416);}L3[Q3]=g9;}}else{r9=z3.replace(a3.camelCaseRegExp,D9);L3[r9]=R3;}}return L3;};x3.prototype.canvasStyle=function(x9){var B9,N9,e9;if(d5K.k7L()){B9=this.styles[x9];if(!B9){N9=document.createElement("div");N9.className=x9;document.body.appendChild(N9);e9=getComputedStyle(N9);B9=this.styles[x9]=this.cloneStyle(e9);document.body.removeChild(N9);if(!e9){this.styles[x9]=null;}}return B9;}};x3.prototype.colorOrStyle=function(J9){if(J9.indexOf("#")!=-1){return J9;}d5K.r3();if(J9.indexOf("rgba(")!=-1){return J9;}if(J9.indexOf("rgb(")!=-1){return J9;}if(J9=="transparent"){return J9;}return this.canvasStyle(J9);};x3.prototype.clearStyles=function(){d5K.m3();this.styles={};};x3.prototype.setStyle=function(F9,s9,W9){if(!this.styles[F9]){this.canvasStyle(F9);}d5K.m3();if(!this.styles[F9]){this.styles[F9]={};}this.styles[F9][a3.makeCamelCase(s9)]=W9;};x3.prototype.canvasFont=function(A9,M9){var l5h,G9,S9,K5h;if(d5K.k7L()){l5h="undefine";l5h+="d";if(!M9){M9=this.chart.context;}G9=this.canvasStyle(A9);if(!G9){return;}d5K.m3();d5K.K4B(1);var L8X=d5K.I8K(50492,2,55539);d5K.K4B(2);var G8X=d5K.I8K(6480,324,11600);S9=G9.fontStyle+" "+G9.fontWeight+" "+G9.fontSize+(("174"^0,5640)===3151?69.56:(L8X,"1220"^0)!==(82.35,837.98)?" ":(!{},G8X))+G9.fontFamily;if(S9.indexOf(l5h)==-+"1"){M9.font=S9;}else{K5h="bad cs";K5h+="s style fo";K5h+="r";K5h+=" class ";this.styles[A9]=null;d5K.f4B(0);console.log(d5K.I8K(K5h,A9));}}};x3.prototype.canvasColor=function(H9,K9){var c5h,c9,E9,u9;c5h="un";c5h+="de";c5h+="fined";if(!K9){K9=this.chart.context;}c9=this.canvasStyle(H9);if(!c9){return;}E9=c9.color;if(a3.isTransparent(E9)){E9=this.defaultColor;}K9.globalAlpha=1;K9.fillStyle=E9;K9.strokeStyle=E9;u9=c9.opacity;if(typeof u9!=c5h){K9.globalAlpha=u9;}};x3.prototype.getCanvasFontSize=function(f9){var U9,p9;U9=this.canvasStyle(f9);d5K.r3();p9=U9.fontSize;if(!p9){p9="12";}return parseInt(a3.stripPX(p9));};x3.prototype.getCanvasColor=function(Z9){var t9;d5K.r3();t9=this.canvasStyle(Z9);return t9.color;};x3.hideDates=function(){d5K.m3();return!1;};x3.prototype.runPrepend=function(O9,P9,b9){var C9,Y9;d5K.f4B(0);C9=this[d5K.z8K("prepend",O9)];if(!C9){return!!0;}if(!b9){b9=this;}for(var q9=0;q9<C9.length;q9++){Y9=C9[q9].apply(b9,P9);if(Y9){return Y9;}}return!{};};x3.prototype.runAppend=function(d9,y9,k9){var w9,j9;d5K.f4B(0);w9=this[d5K.z8K("append",d9)];if(!w9){return!{};}if(!k9){k9=this;}for(var i9=0;i9<w9.length;i9++){j9=w9[i9].apply(k9,y9);if(j9){return j9;}}return!{};};x3.registerDrawingTool=function(T9,R9){x3.drawingTools[T9]=R9;};x3.prototype.createBlock=function(l9,Q9,n7,L9,g7,z9){if(!z9){z9=this.chart.context;}if(typeof L9=="undefined"){return;}this.canvasColor(g7,z9);z9.fillRect(l9,n7,Q9,L9);z9.globalAlpha=1;};x3.prototype.changeOccurred=function(h7){var D5h,T5h,L5h;D5h="la";D5h+="you";D5h+="t";d5K.m3();if(this.currentlyImporting){return;}if(this.changeCallback){this.changeCallback(this,h7);}if(h7==D5h){T5h="la";T5h+="yout";this.dispatch(T5h,{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout});}else if(h7=="vector"){L5h="drawin";L5h+="g";this.dispatch(L5h,{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,drawings:this.drawingObjects});}};x3.prototype.setChartType=function(X7){var y7h,w7h,s7h;this.layout.chartType=X7;d5K.m3();if(this.displayInitialized){this.draw();}y7h=-1698213377;w7h=386474003;s7h=2;for(var j7h=1;d5K.D0h(j7h.toString(),j7h.toString().length,3958)!==y7h;j7h++){this.changeOccurred("");s7h+=2;}if(d5K.D0h(s7h.toString(),s7h.toString().length,3921)!==w7h){this.changeOccurred("layout");}};x3.prototype.setAggregationType=function(N7){this.layout.aggregationType=N7;if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};x3.prototype.setChartScale=function(a7){if(!a7){a7="linear";}this.layout.chartScale=a7;if(this.chart.canvas){this.draw();}this.changeOccurred("layout");};x3.prototype.setAdjusted=function(B7){var G5h;G5h="la";G5h+="y";G5h+="o";G5h+="ut";this.layout.adj=B7;if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred(G5h);};x3.prototype.setVolumeUnderlay=function(J7){var t5h;t5h="lay";t5h+="o";t5h+="ut";this.layout.volumeUnderlay=J7;if(this.chart.canvas){this.draw();}this.changeOccurred(t5h);};x3.prototype.serializeDrawings=function(){var G7;d5K.m3();G7=[];for(var W7=0;W7<this.drawingObjects.length;W7++){G7.push(this.drawingObjects[W7].serialize());}return G7;};x3.prototype.abortDrawings=function(){d5K.r3();for(var A7=0;A7<this.drawingObjects.length;A7++){this.drawingObjects[A7].abort(!!{});}this.drawingObjects=[];};x3.prototype.reconstructDrawings=function(c7){var M7,S7,E7;d5K.r3();for(var K7=+"0";K7<c7.length;K7++){M7=c7[K7];if(M7.name=="fibonacci"){M7.name="retracement";}S7=x3.drawingTools[M7.name];if(!S7){if(a3.Drawing[M7.name]){S7=a3.Drawing[M7.name];x3.registerDrawingTool(M7.name,S7);}}if(S7){E7=new S7();E7.reconstruct(this,M7);this.drawingObjects.push(E7);}}};x3.prototype.clearDrawings=function(p7){var u7;u7=a3.shallowClone(this.drawingObjects);d5K.m3();this.abortDrawings();if(p7){this.undoStamps=[];}else{this.undoStamp(u7,a3.shallowClone(this.drawingObjects));}this.changeOccurred("vector");this.createDataSet();this.deleteHighlighted();;};x3.prototype.createDrawing=function(Z7,q7){var f7;f7=new a3.Drawing[Z7]();f7.reconstruct(this,q7);this.drawingObjects.push(f7);this.draw();d5K.r3();return f7;};x3.prototype.removeDrawing=function(P7){var I5h;d5K.m3();for(var O7=0;O7<this.drawingObjects.length;O7++){if(this.drawingObjects[O7]==P7){I5h="vec";I5h+="tor";this.drawingObjects.splice(O7,1);this.changeOccurred(I5h);this.draw();return;}}};x3.prototype.dateFromTick=function(j7,i7,o7){var R7,y7,L7,T7;if(!i7){i7=this.chart;}R7=i7.dataSet.length;T7=0;if(j7<"0"*1){L7=this.standardMarketIterator(i7.dataSet[0].DT);while(T7>j7){y7=L7.previous();T7-=1;}}else if(j7>=R7){L7=this.standardMarketIterator(i7.dataSet[R7-1].DT);while(R7-1+T7<j7){y7=L7.next();T7+=+"1";}}else{y7=i7.dataSet[j7].DT;}d5K.m3();if(o7){return new Date(y7.getTime());}return a3.yyyymmddhhmm(y7);};x3.prototype.calculateYAxisMargins=function(l7){l7.zoom=l7.initialMarginTop+l7.initialMarginBottom;d5K.f4B(3);var t8X=d5K.I8K(17,17,10,185);l7.scroll=(l7.initialMarginTop-l7.initialMarginBottom)/t8X;};x3.prototype.home=function(Q7){var Z5h,n5h,a2,n2,X2,h2,N2,r5h,B2,e2,J2,D2,g2,F2;Z5h="undefine";Z5h+="d";n5h="obje";n5h+="ct";this.swipe.amplitude=+"0";this.grabbingScreen=![];if(x3.insideChart){a3.unappendClassName(this.container,"stx-drag-chart");}d5K.m3();if(typeof Q7!=n5h){Q7={maintainWhitespace:Q7};}if(typeof Q7.maintainWhitespace==Z5h){Q7.maintainWhitespace=!![];}this.cancelTouchSingleClick=!![];if(!this.chart.dataSet||!this.chart.dataSet.length){this.draw();return;}this.micropixels=0;a2=this.chart.width/this.layout.candleWidth;for(var s2 in this.charts){n2=this.charts[s2];if(Q7.chart&&Q7.chart!=n2)continue;X2=0;if(Q7.maintainWhitespace&&this.preferences.whitespace>=0){X2=this.preferences.whitespace;}if(Q7.whitespace){X2=Q7.whitespace;}h2=X2/this.layout.candleWidth;N2=this.layout.chartType=="line"||this.layout.chartType=="colored_line"||this.layout.chartType=="mountain"||this.layout.chartType=="colored_mountain";if(this.yaxisLabelStyle=="roundRectArrow"&&!(N2&&this.extendLastTick&&this.chart.yaxisPaddingRight!==("0"^0))){r5h="st";r5h+="x_ya";r5h+="xis";B2=3;d5K.K4B(4);var I8X=d5K.I8K(4,15,2,682,10);e2=this.getCanvasFontSize(r5h)+B2*I8X;d5K.f4B(5);J2=d5K.I8K(e2,0.66);h2+=J2/this.layout.candleWidth;if(h2<0){h2=0;}}D2=Math.min(a2,n2.dataSet.length);if(this.chart.allowScrollPast){D2=a2;}D2-=h2;g2=Math.floor(D2);this.micropixels=(D2-g2)*this.layout.candleWidth;if(N2){d5K.f4B(1);var n8X=d5K.z8K(14,2,14);this.micropixels+=this.layout.candleWidth/n8X;}if(this.micropixels>this.layout.candleWidth){g2++;this.micropixels-=this.layout.candleWidth;}if(Q7.animate){F2=this;this.scrollTo(n2,g2,function(W2,G2,v2){d5K.m3();return function(){W2.calculateYAxisMargins(G2.panel.yAxis);G2.scroll=v2;W2.draw();};}(F2,n2,g2));}else{n2.scroll=g2;this.calculateYAxisMargins(n2.panel.yAxis);}}this.draw();};x3.prototype.isHome=function(){d5K.r3();return this.chart.scroll-1<=Math.ceil(this.chart.width/this.layout.candleWidth);};x3.prototype.tickFromDate=function(U2,A2,H2,b2){var M2,E2,K2,u2,f2,C2,p2,V2,q2,Z2;if(!A2){A2=this.chart;}if(!A2.dataSet||!A2.dataSet.length){return+"0";}if(!H2){H2=0;}if(!A2){A2=this.chart;}M2=U2.constructor==Date?U2:a3.strToDateTime(U2);if(!x3.isDailyInterval(this.layout.interval)){M2.setMinutes(M2.getMinutes()+H2);}E2=M2.getTime();K2=A2.tickCache[E2];if(K2||K2===0){return K2;}u2=A2.dataSet[0].DT;f2=A2.dataSet[A2.dataSet.length-1].DT;if(M2>=u2&&M2<=f2){for(var S2=+"0";S2<A2.dataSet.length;S2++){C2=A2.dataSet[S2].DT;if(C2.getTime()==M2.getTime()){A2.tickCache[E2]=S2;return S2;}if(C2>M2){A2.tickCache[E2]=b2?S2:S2-1;return A2.tickCache[E2];}}}d5K.K4B(6);p2=d5K.z8K(u2,M2);V2=p2?u2:f2;q2=this.standardMarketIterator(V2);Z2=q2.futureTick({end:M2});K2=p2?Z2*-1:A2.dataSet.length-1+Z2;A2.tickCache[E2]=K2;d5K.r3();return K2;};x3.XAxisLabel=function(Y2,O2,P2){this.hz=Y2;d5K.r3();this.grid=O2;this.text=P2;};x3.prototype.createXAxis=function(i2){var T2,j2,I2;if(i2.dataSegment.length<=0){return null;}if(x3.hideDates()){return null;}T2=[i2];j2=this.runPrepend("createXAxis",T2);if(j2){return j2;}I2=this.layout.interval;if(i2.xAxis.axisType=="numeric"){return this.createNumericXAxis(i2);}j2=this.createTickXAxisWithDates(i2);d5K.r3();this.runAppend("createXAxis",T2);return j2;};x3.prototype.drawXAxis=function(Q2,L2){var E5h,v5h,F0,M0,l2,R2,A0,B0,a0,o2,s0,N0,h0,g0,m0,n0,D0,J0,G0,v0,e0,W0;E5h="l";E5h+="e";E5h+="f";E5h+="t";v5h="stx_grid_bo";v5h+="rder";F0=[Q2,L2];if(this.runPrepend("drawXAxis",F0)){return;}if(!L2){return;}M0=null;l2=this.chart.context;this.canvasFont("stx_xaxis");l2.textAlign="center";l2.textBaseline="middle";A0=l2.measureText("   ").width;for(var X0=0;X0<L2.length;X0++){R2=L2[X0];B0=l2.measureText(R2.text).width;d5K.K4B(0);a0=Math.max(d5K.z8K(B0,A0),Q2.xAxis.minimumLabelWidth);R2.hz=Math.floor(R2.hz+this.micropixels)+0.5;d5K.K4B(1);var r8X=d5K.z8K(5,15,326870582);R2.left=R2.hz-a0/("2">>r8X);R2.right=R2.hz+a0/2;d5K.K4B(7);var E8X=d5K.I8K(16,14);R2.unpaddedRight=R2.hz+B0/E8X;}o2=new a3.Plotter();o2.newSeries("line","stroke",this.canvasStyle("stx_grid"));o2.newSeries("boundary","stroke",this.canvasStyle("stx_grid_dark"));o2.newSeries("border","stroke",this.canvasStyle(v5h));s0=this.xAxisAsFooter===!!1?this.chart.canvasHeight:Q2.panel.bottom;d5K.f4B(8);N0=this.whichPanel(d5K.z8K(s0,"1"));if(!N0){return;}h0=N0.yAxis;this.adjustYAxisHeightOffset(N0,h0);g0=-+"1";m0=Math.MAX_VALUE;n0=Q2.xAxis.displayBorder||Q2.xAxis.displayBorder===null;if(this.axisBorders===!![]){n0=!"";}if(this.axisBorders===![]){n0=!{};}D0=n0?h0.bottom-0.5:h0.bottom;J0=s0-this.xaxisHeight/2;if(n0){d5K.K4B(9);J0+=d5K.I8K(3,"3");}for(var z2=0;z2<L2.length;z2++){if(L2[z2].grid=="boundary"){m0=L2[z2].left;break;}}G0=0;v0=0;for(var r0=0;r0<L2.length;r0++){R2=L2[r0];if(r0==z2){for(z2++;z2<L2.length;z2++){if(L2[z2].grid=="boundary"){m0=L2[z2].left;break;}}if(z2>=L2.length){z2=-1;m0=Math.MAX_VALUE;}if(g0>-("1">>628491232)){if(R2.left<g0)continue;}}else{if(g0>-1){if(R2.left<g0)continue;}if(R2.right>m0)continue;}g0=R2.right;if(Math.floor(R2.unpaddedRight)<=this.chart.right){v0++;if(Q2.xAxis.displayGridLines){o2.moveTo(R2.grid,R2.hz,this.xAxisAsFooter===!!{}?"0">>1026351584:h0.top);o2.lineTo(R2.grid,R2.hz,D0);}if(n0){o2.moveTo("border",R2.hz,D0+"0.5"*1);o2.lineTo("border",R2.hz,D0+6);}G0=R2.hz;this.canvasColor(R2.grid=="boundary"?"stx_xaxis_dark":"stx_xaxis");l2.fillText(R2.text,R2.hz,J0);}}if(n0){e0=Math.round(h0.bottom)+0.5;W0=Math.round(Q2.right)+0.5;o2.moveTo("border",Q2.left,e0);o2.lineTo("border",W0,e0);}o2.draw(l2);l2.textAlign=E5h;this.runAppend("drawXAxis",F0);};x3.prototype.createNumericXAxis=function(S0){var j8h,o8h,m8h,b0,Y0,O0,Z0,p0,H0,V0,i0,E0,f0,w0,u0,C0,c0,J5h,q0;axisRepresentation=[];j8h=-1322120522;d5K.f4B(9);o8h=d5K.I8K(16842772,"319915100");d5K.K4B(9);m8h=d5K.z8K(2,"2");for(var K8h=1;d5K.c0h(K8h.toString(),K8h.toString().length,+"58183")!==j8h;K8h++){S0.xaxis=[];m8h+=2;}function P0(T0,I0){var d0,j0,k0;d0=Math.floor(Math.log10(T0));d5K.K4B(7);var S8X=d5K.I8K(16,6);j0=T0/Math.pow(S8X,d0);if(I0){if(j0<1.5){k0=1;}else if(j0<3){k0=2;}else if(j0<7){k0=5;}else{k0=10;}}else{if(j0<=1){k0=1;}else if(j0<="2"<<1187397728){k0=2;}else if(j0<=5){d5K.K4B(10);k0=d5K.I8K("5",0);}else{k0=10;}}d5K.f4B(7);var B8X=d5K.z8K(140,130);return k0*Math.pow(B8X,d0);}if(d5K.D0h(m8h.toString(),m8h.toString().length,15255)!==o8h){S0.xaxis=[];}for(var K0=0;K0<S0.maxTicks;K0++){if(S0.dataSegment[K0])break;S0.xaxis.push(null);}for(var U0=K0;U0<S0.maxTicks;U0++){if(!S0.dataSegment[K0])break;}b0=(U0-K0)/S0.maxTicks;Y0=S0.xAxis.idealTickSizePixels?S0.xAxis.idealTickSizePixels:S0.xAxis.autoComputedTickSizePixels;O0=Math.round(this.chart.width*b0/Y0);Z0=this.determineMinMax(S0.dataSegment,["index"]);p0=Z0[1];H0=Z0[+"0"];d5K.f4B(7);V0=d5K.z8K(p0,H0);d5K.K4B(7);i0=P0(d5K.I8K(p0,H0),!!"");d5K.f4B(11);E0=P0(d5K.z8K("1",O0,V0),!!{});f0=Math.floor(H0/E0)*E0;w0=Math.ceil(p0/E0)*E0;u0=f0;if(f0<H0){d5K.K4B(0);u0=d5K.I8K(f0,E0);}for(K0;K0<S0.maxTicks;K0++){c0=S0.dataSegment[K0];if(c0){J5h="lin";J5h+="e";q0={index:c0.index,data:c0};S0.xaxis.push(q0);if(c0.index<u0)continue;if(c0.index==u0){C0=S0.left+K0*this.layout.candleWidth+this.micropixels;}else if(c0.index>u0){C0=S0.left+K0*this.layout.candleWidth-3+this.micropixels;}axisRepresentation.push(new x3.XAxisLabel(C0,J5h,u0));u0+=E0;}else{S0.xaxis.push(null);}}return axisRepresentation;};x3.prototype.createTickXAxisWithDates=function(R0){var u5,U5,W5,H5,c5,D5,p5,X5,z0,S5h,A5,S5,K5,L0,h5,B5,F5,f5,v5,o0,m5,x5,M5,e5,E5,N5,s5,n5,g5,Q0,J5,B5h,a5h,l0,r5,h5h;function t5(){var V5,Z5,C5,q5;V5={'begin':new Date(),'interval':"day",'periodicity':1,'inZone':this.dataZone,'outZone':this.dataZone};Z5=R0.market.newIterator(V5);Z5.next();C5=Z5.previous();Z5=p5.standardMarketIterator(C5,null,R0);q5=Z5.next();return q5.getTime()-C5.getTime();}if(!R0){R0=this.chart;}R0.xaxis=[];if(!this.timeIntervalMap){this.timePossibilities=[a3.MILLISECOND,a3.SECOND,a3.MINUTE,a3.HOUR,a3.DAY,a3.MONTH,a3.YEAR];this.timeIntervalMap={};this.timeIntervalMap[a3.MILLISECOND]={arr:[1,"2"|2,+"5",10,+"20",50,100,+"250",500],minTimeUnit:+"0",maxTimeUnit:1000};this.timeIntervalMap[a3.SECOND]={arr:[1,2,5,10,15,30],minTimeUnit:0,maxTimeUnit:60};this.timeIntervalMap[a3.MINUTE]={arr:[1,2,5,10,15,30],minTimeUnit:0,maxTimeUnit:60};this.timeIntervalMap[a3.HOUR]={arr:["1"-0,2,3,4,6,12],minTimeUnit:"0"&2147483647,maxTimeUnit:24};this.timeIntervalMap[a3.DAY]={arr:[1,2,7,"14"&2147483647],minTimeUnit:1,maxTimeUnit:32};this.timeIntervalMap[a3.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13};this.timeIntervalMap[a3.YEAR]={arr:[+"1","2"^0,3,5],minTimeUnit:1,maxTimeUnit:+"20000000"};this.timeIntervalMap[a3.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2000000};}d5K.K4B(7);u5=[d5K.z8K("31",0),28,d5K.z8K("31",0,d5K.K4B(10)),30,+"31",d5K.I8K("30",2147483647,d5K.f4B(12)),31,31,30,31,30,+"31"];U5=this.layout.periodicity;W5=this.layout.interval;H5=R0.xAxis.idealTickSizePixels?R0.xAxis.idealTickSizePixels:R0.xAxis.autoComputedTickSizePixels;c5=this.chart.width/H5;for(var a5=0;a5<R0.dataSegment.length;a5++)if(R0.dataSegment[a5])break;if(a5==R0.dataSegment.length){return[];}D5=0;if(W5===parseInt(W5,"10"&2147483647)){D5=W5*U5*+"60000"*R0.dataSegment.length;}else{D5=R0.dataSegment[R0.dataSegment.length-1].DT.getTime()-R0.dataSegment[a5].DT.getTime();;}p5=this;d5K.m3();if(D5===0){D5=t5()*R0.maxTicks;;}else{D5=D5/R0.dataSegment.length*R0.maxTicks;;}d5K.K4B(13);X5=d5K.z8K(D5,c5);for(z0="0"<<1614682848;z0<this.timePossibilities.length;z0++){if(this.timePossibilities[z0]>X5)break;}if(z0===0){S5h="createTick";S5h+="XAxisWithDat";S5h+="es: Asser";S5h+="tion error. msPerTick < 1";console.log(S5h);}if(z0==this.timePossibilities.length){z0--;}else if(z0>0){d5K.f4B(7);A5=this.timePossibilities[d5K.z8K(z0,1)];S5=this.timeIntervalMap[A5];K5=S5.arr[S5.arr.length-1];if(X5-A5*K5<this.timePossibilities[z0]-X5){z0--;}}L0=this.timePossibilities[z0];if(R0.xAxis.timeUnit){L0=R0.xAxis.timeUnit;}R0.xAxis.activeTimeUnit=L0;h5=a3.clone(this.timeIntervalMap[L0]);for(z0=0;z0<h5.arr.length;z0++){if(h5.arr[z0]*L0>X5)break;}if(z0==h5.arr.length){z0--;}else{if(X5-h5.arr[z0-("1"&2147483647)]*L0<h5.arr[z0]*L0-X5){z0--;}}B5=h5.arr[z0];if(R0.xAxis.timeUnitMultiplier){B5=R0.xAxis.timeUnitMultiplier;}F5=[];for(z0=0;z0<=R0.maxTicks;z0++){if(R0.dataSegment[z0])break;}if(z0>0&&z0<R0.maxTicks){f5=this.standardMarketIterator(R0.dataSegment[z0].DT,R0.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(var G5=z0;G5>0;G5--){v5=f5.previous();R0.xaxis.unshift({DT:v5,Date:a3.yyyymmddhhmmssmmm(v5)});}}o0=0;m5=h5.minTimeUnit;x5=-1;M5=!!1;e5=this.layout.candleWidth;E5=this.standardMarketIterator(R0.dataSegment[R0.dataSegment.length-1].DT,R0.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(z0;z0<R0.maxTicks;z0++){if(z0<R0.dataSegment.length){N5=R0.dataSegment[z0];if(N5.displayDate&&R0.xAxis.adjustTimeZone){o0=N5.displayDate;}else{o0=N5.DT;}if(z0&&N5.leftOffset){d5K.K4B(7);var a8X=d5K.I8K(20,18);e5=(N5.leftOffset-N5.candleWidth/a8X)/z0;}}else{if(!R0.xAxis.futureTicks)break;o0=E5.next();}s5={DT:o0,Date:a3.yyyymmddhhmmssmmm(o0)};if(z0<R0.dataSegment.length){s5.data=R0.dataSegment[z0];}else{s5.data=null;}R0.xaxis.push(s5);if(L0==a3.MILLISECOND){n5=o0.getMilliseconds();g5=o0.getSeconds();}else if(L0==a3.SECOND){n5=o0.getSeconds();g5=o0.getMinutes();}else if(L0==a3.MINUTE){n5=o0.getMinutes();g5=o0.getHours();}else if(L0==a3.HOUR){d5K.f4B(14);var g3X=d5K.z8K(4260,12,3,120);n5=o0.getHours()+o0.getMinutes()/g3X;g5=o0.getDate();}else if(L0==a3.DAY){n5=o0.getDate();d5K.K4B(15);var O3X=d5K.z8K(132,7,19);g5=o0.getMonth()+O3X;}else if(L0==a3.MONTH){d5K.K4B(16);var H3X=d5K.I8K(11,2,7,16,125);n5=o0.getMonth()+H3X;g5=o0.getFullYear();}else if(L0==a3.YEAR){n5=o0.getFullYear();d5K.K4B(17);var F3X=d5K.I8K(5000,20,2,4018);g5=o0.getFullYear()+F3X;}else{n5=o0.getFullYear();d5K.f4B(9);g5=d5K.z8K(0,"0");}Q0=null;if(x5!=g5){if(n5<=m5){m5=h5.minTimeUnit;}d5K.K4B(18);var i3X=d5K.z8K(17,9,17,8);J5=R0.left+z0*e5-i3X;Q0=null;if(L0==a3.HOUR||L0==a3.MINUTE&&x5>g5){if(R0.xAxis.formatter){Q0=R0.xAxis.formatter(o0,"boundary",a3.DAY,1);}else{if(this.internationalizer){Q0=this.internationalizer.monthDay.format(o0);}else{d5K.K4B(7);var A3X=d5K.z8K(20,19);d5K.K4B(19);var k3X=d5K.I8K(10,137760,5166);d5K.f4B(20);var q3X=d5K.z8K(7,4404,2935,2,17);Q0=o0.getMonth()+A3X+(k3X<5.18?(514.73,894.17)!=(93.42,683.29)?939.71<=q3X?("0x10a0"&2147483647,!{}):("N",87.09):(0xa26,+"298.34"):"/")+o0.getDate();}}}else if(L0==a3.DAY){if(x5>g5){Q0=o0.getFullYear();}else{Q0=a3.monthAsDisplay(o0.getMonth(),![],this);}}else if(L0==a3.MONTH){Q0=o0.getFullYear();}if(Q0&&x5!=-1){B5h="bo";B5h+="undar";B5h+="y";F5.push(new x3.XAxisLabel(J5,B5h,Q0));}}if(n5>=m5){a5h="l";a5h+="ine";if(m5==h5.minTimeUnit){if(g5==x5)continue;;}l0=new Date(o0);d5K.f4B(17);var b3X=d5K.z8K(38,20,9,47);d5K.K4B(21);var M3X=d5K.I8K(20,37,16);d5K.K4B(7);var N3X=d5K.z8K(12,10);d5K.f4B(22);var x3X=d5K.z8K(16,16);J5=R0.left+(b3X*z0+M3X)*e5/N3X-x3X;r5=Math.floor(n5/B5)*B5;if(r5<n5){if(this.layout.interval=="week"){r5=n5;}else{d5K.K4B(13);J5-=d5K.z8K(e5,4);};}if(L0==a3.MILLISECOND){l0.setMilliseconds(r5);}else if(L0==a3.SECOND){l0.setMilliseconds(0);l0.setSeconds(r5);}else if(L0==a3.MINUTE){l0.setMilliseconds(0);d5K.f4B(10);l0.setSeconds(d5K.z8K("0",0));l0.setMinutes(r5);}else if(L0==a3.HOUR){d5K.f4B(5);l0.setMilliseconds(d5K.z8K("0",1));l0.setSeconds(+"0");l0.setMinutes(0);l0.setHours(r5);}else if(L0==a3.DAY){l0.setDate(Math.max("1"&2147483647,r5));;}else if(L0==a3.MONTH){l0.setDate(1);d5K.K4B(7);l0.setMonth(d5K.z8K(r5,1));}else if(L0==a3.YEAR){l0.setDate(1);l0.setMonth(0);;}else{l0.setDate(1);l0.setMonth(0);;}d5K.f4B(0);m5=d5K.z8K(r5,B5);if(L0==a3.DAY){h5.maxTimeUnit=u5[l0.getMonth()]+1;}if(m5>=h5.maxTimeUnit){m5=h5.minTimeUnit;}x5=g5;if(M5&&r5<n5)continue;if(R0.xAxis.formatter){h5h="li";h5h+="n";h5h+="e";Q0=R0.xAxis.formatter(l0,h5h,L0,B5);}else{if(L0==a3.DAY){Q0=l0.getDate();;}else if(L0==a3.MONTH){Q0=a3.monthAsDisplay(o0.getMonth(),!!"",this);}else if(L0==a3.YEAR||L0==a3.DECADE){Q0=l0.getFullYear();}else{Q0=a3.timeAsDisplay(l0,this,L0);}}F5.push(new x3.XAxisLabel(J5,a5h,Q0));}M5=![];}return F5;};if(d5K.k7L()){A3=+"0";G3=0;x3.prototype.createYAxis=function(Y5,O5){var g4h,w5,R5,b5,y5,n8J,g8J,I5,k5,X8J,D8J,i5,T5,P5,j5,d5,o5,r8J,m8J,h8J,Q5,b2h,M2h,N2h;g4h="createYA";g4h+="xis";if(this.runPrepend("createYAxis",arguments)){return;}w5=Y5.chart;R5=Y5.name==w5.name;if(!O5){O5={};}O5.noChange=![];b5=O5.yAxis?O5.yAxis:Y5.yAxis;if(x3.enableCaching&&b5.high==Y5.cacheHigh&&b5.low==Y5.cacheLow){y5=w5.dataSet.length-w5.scroll;n8J=y5+w5.maxTicks;Y5.cacheLeft=Math.min(Y5.cacheLeft,y5);Y5.cacheRight=Math.max(Y5.cacheRight,n8J);Y5.cacheLeft=y5;Y5.cacheRight=n8J;O5.noChange=!!1;A3++;}else{Y5.cacheLeft=1000000;Y5.cacheRight=-1;Y5.cacheHigh=b5.high;Y5.cacheLow=b5.low;G3++;}g8J=w5.xAxis.idealTickSizePixels?w5.xAxis.idealTickSizePixels:w5.xAxis.autoComputedTickSizePixels;d5K.r3();if(b5.goldenRatioYAxis){if(b5.idealTickSizePixels!=g8J/1.618){O5.noChange=!{};}}if(!O5.noChange){this.adjustYAxisHeightOffset(Y5,b5);I5=b5.height=b5.bottom-b5.top;k5=(b5.high-b5.low)/(I5-b5.zoom);if(O5.ground&&!b5.semiLog){b5.high=b5.high+b5.zoom*k5;}else{b5.high=b5.high+b5.zoom/2*k5+b5.scroll*k5;X8J=b5.low;b5.low=b5.low-b5.zoom/2*k5+b5.scroll*k5;if(b5.semiLog&&b5.low<=0){b5.low=X8J;}}if(b5.min||b5.min==="0"<<648845408){b5.low=b5.min;}if(b5.max||b5.max===0){b5.high=b5.max;}b5.shadow=b5.high-b5.low;if(b5.semiLog&&(!this.activeDrawing||this.activeDrawing.name!="projection")){b5.logHigh=Math.log(b5.high)/Math.LN10;D8J=Math.max(b5.low,0.000000001);b5.logLow=Math.log(D8J)/Math.LN10;if(b5.low<=0){d5K.f4B(12);b5.logLow=d5K.I8K("0",2147483647);}b5.logShadow=b5.logHigh-b5.logLow;}if(b5.goldenRatioYAxis&&R5){d5K.K4B(23);b5.idealTickSizePixels=d5K.z8K(0,"1.618",g8J);if(b5.idealTickSizePixels===0){i5=this.getCanvasFontSize("stx_yaxis");d5K.f4B(5);b5.idealTickSizePixels=d5K.I8K(i5,5);}}else{if(!b5.idealTickSizePixels){i5=this.getCanvasFontSize("stx_yaxis");if(R5){d5K.f4B(24);b5.idealTickSizePixels=d5K.I8K(i5,"5");}else{d5K.f4B(5);b5.idealTickSizePixels=d5K.z8K(i5,2);}}}T5=Math.round(I5/b5.idealTickSizePixels);P5=O5.range?O5.range[1]-O5.range[0]:b5.shadow;d5K.f4B(13);b5.priceTick=Math.floor(d5K.I8K(P5,T5));j5=1;for(var z5=0;z5<10;z5++){if(b5.priceTick>+"0")break;j5*=10;b5.priceTick=Math.floor(P5/T5*j5)/j5;}if(z5==10){b5.priceTick=0.00000001;}b5.priceTick=Math.round(P5/T5*j5)/j5;d5=Math.round(P5/b5.priceTick);if(O5.range&&d5<P5&&!b5.noEvenDivisorTicks){while(d5>=+"1"){if(P5%d5===0)break;d5--;}d5K.f4B(13);b5.priceTick=d5K.I8K(P5,d5);}if(b5.minimumPriceTick){o5=b5.minimumPriceTick;i5=this.getCanvasFontSize("stx_yaxis");for(var L5=0;L5<100;L5++){d5K.f4B(13);r8J=d5K.z8K(P5,o5);if(I5/r8J<i5*2){o5+=b5.minimumPriceTick;}else break;}if(L5<100){b5.priceTick=o5;}}b5.multiplier=b5.height/b5.shadow;}if(!this.activeDrawing||this.activeDrawing.name!="projection"){b5.high=this.valueFromPixel(Y5.top,Y5,b5);if(b5.semiLog){b5.logHigh=Math.log(b5.high)/Math.LN10;m8J=Math.max(b5.low,0.00000000001);b5.logLow=Math.log(m8J)/Math.LN10;b5.logShadow=b5.logHigh-b5.logLow;}b5.shadow=b5.high-b5.low;}b5.multiplier=b5.height/b5.shadow;if(b5.multiplier==Infinity){b5.multiplier=0;}if(!b5.decimalPlaces&&b5.decimalPlaces!==0){if(R5){h8J=0;for(var l5=+"0";l5<Y5.yAxis.shadowBreaks.length;l5++){Q5=Y5.yAxis.shadowBreaks[l5];if(Y5.yAxis.shadow<Q5[0]){h8J=Q5[1];}}b5.printDecimalPlaces=h8J;;}else{b5.printDecimalPlaces=null;};}else{b2h=1740519356;M2h=-1758053473;N2h=2;for(var X2h=1;d5K.D0h(X2h.toString(),X2h.toString().length,30760)!==b2h;X2h++){b5.printDecimalPlaces=b5.decimalPlaces;N2h+=+"2";}if(d5K.c0h(N2h.toString(),N2h.toString().length,40576)!==M2h){b5.printDecimalPlaces=b5.decimalPlaces;}b5.printDecimalPlaces=b5.decimalPlaces;}this.runAppend(g4h,arguments);};x3.prototype.adjustYAxisHeightOffset=function(x8J,N8J){N8J.bottomOffset=0;if(!this.xaxisHeight){this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+4;if(this.chart.xAxis.displayBorder||this.axisBorders){this.xaxisHeight+=3;}}if(this.xAxisAsFooter===!0&&x8J.bottom>this.chart.canvasHeight-this.xaxisHeight){N8J.bottomOffset=this.xaxisHeight;}else if(this.xAxisAsFooter!==!0&&x8J.name=="chart"){N8J.bottomOffset=this.xaxisHeight;}d5K.r3();N8J.bottom=x8J.bottom-N8J.bottomOffset;};x3.prototype.drawYAxis=function(B8J,e8J){var a8J,H4h,O4h,H8J,f8J,p8J,K8J,t8J,Z8J,t8h,I8h,n8h,q8J,G8J,U8J,A8J,s8J,S8J,c8J,v8J,M8J,u8J,J8J,C8J,V8J,F8J,i4h,F4h,A4h,b8J,E8J,Y8J;if(!e8J){e8J={};}a8J=e8J.yAxis?e8J.yAxis:B8J.yAxis;d5K.m3();if(a8J.fractional){if(!a8J.originalPriceFormatter){a8J.originalPriceFormatter={func:a8J.priceFormatter};}if(!a8J.fractional.resolution){a8J.fractional.resolution=a8J.minimumPrice;}if(!a8J.fractional.formatter){a8J.fractional.formatter="'";}if(!a8J.priceFormatter){a8J.priceFormatter=function(k8J,j8J,i8J){var P8J,w8J,O8J;P8J=Math.floor(Math.round(i8J/a8J.fractional.resolution)*a8J.fractional.resolution);w8J=Math.round((i8J-P8J)/a8J.fractional.resolution);O8J=Math.floor(w8J);d5K.f4B(7);var C3X=d5K.I8K(20,10);d5K.f4B(1);var R3X=d5K.z8K(28,11,47);d5K.f4B(25);var W3X=d5K.z8K(799,43,19,6);d5K.f4B(0);var d3X=d5K.I8K(22,350);return P8J+a8J.fractional.formatter+(O8J<C3X?(+"6300",R3X)!==(W3X,d3X)?"0":(+"260.80",+"7.29e+3"):"")+O8J+(w8J-O8J>=0.5?"+":"");};}}else{if(a8J.originalPriceFormatter){a8J.priceFormatter=a8J.originalPriceFormatter.func;a8J.originalPriceFormatter=null;}}if(a8J.pretty){return this.drawYAxisPretty(B8J,e8J);}if(this.runPrepend("drawYAxis",arguments)){return;}if(!e8J.noDraw&&!a8J.noDraw){if(!a8J.yAxisPlotter||!e8J.noChange){H4h="f";H4h+="ill";O4h="gr";O4h+="id";H8J=B8J.chart;f8J=B8J.name==H8J.name&&a8J===B8J.yAxis;if(!a8J.priceTick){return;}p8J=a8J.shadow;if(e8J.range){p8J=e8J.range[1]-e8J.range[0];}K8J=p8J/a8J.priceTick;K8J=Math.round(K8J);if(a8J.semiLog){t8J=Math.log(this.valueFromPixel(a8J.bottom,B8J))/Math.LN10;t8h=1042032673;I8h=-731119942;n8h=2;for(var r8h=+"1";d5K.c0h(r8h.toString(),r8h.toString().length,90109)!==t8h;r8h++){Z8J=(a8J.logHigh-a8J.logLow)/K8J;n8h+=2;}if(d5K.D0h(n8h.toString(),n8h.toString().length,78070)!==I8h){Z8J=a8J.logHigh%a8J.logLow+K8J;}}q8J=a8J.textStyle?a8J.textStyle:"stx_yaxis";a8J.yAxisPlotter=new a3.Plotter();a8J.yAxisPlotter.newSeries(O4h,"stroke",this.canvasStyle("stx_grid"));a8J.yAxisPlotter.newSeries("text",H4h,this.colorOrStyle(q8J));a8J.yAxisPlotter.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));G8J=0;U8J=e8J.range?e8J.range[1]:a8J.high;A8J=e8J.range?e8J.range[0]:a8J.low;s8J=a8J.displayBorder===null?H8J.panel.yAxis.displayBorder:a8J.displayBorder;if(this.axisBorders===!1){s8J=![];}if(this.axisBorders===!![]){s8J=!!{};}c8J=a8J.position===null?H8J.panel.yAxis.position:a8J.position;if(c8J=="left"){S8J=a8J.left+a8J.width;}else{S8J=a8J.left;}v8J=Math.round(S8J)+0.5;M8J=s8J?"3"-0:0;if(c8J=="left"){M8J=s8J?-3:0;}if(f8J)if(a8J.shadow<+"1"){d5K.f4B(26);var P3X=d5K.I8K(7,11,48,14);G8J=(parseInt(A8J/a8J.priceTick,"10"|P3X)+1)*a8J.priceTick-A8J;}else{G8J=a8J.priceTick-Math.round(A8J%a8J.priceTick*B8J.chart.roundit)/B8J.chart.roundit;}else{G8J=U8J%a8J.priceTick;}u8J=this.getCanvasFontSize("stx_yaxis");for(var W8J=0;W8J<K8J;W8J++){if(a8J.semiLog){d5K.f4B(27);C8J=d5K.I8K(Z8J,t8J,W8J);d5K.f4B(9);J8J=Math.pow(d5K.I8K(10,"10"),C8J);}else{if(f8J){J8J=A8J+W8J*a8J.priceTick+G8J;}else{J8J=U8J-W8J*a8J.priceTick-G8J;}}V8J=this.pixelFromPrice(J8J,B8J,a8J);F8J=Math.round(V8J)+0.5;if(F8J+u8J/2>B8J.bottom)continue;if(F8J-u8J/2<B8J.top)continue;if(a8J.displayGridLines){i4h="g";i4h+="r";i4h+="id";F4h="gri";F4h+="d";a8J.yAxisPlotter.moveTo(F4h,B8J.left,F8J);a8J.yAxisPlotter.lineTo(i4h,B8J.right,F8J);}if(s8J){A4h="borde";A4h+="r";d5K.K4B(8);a8J.yAxisPlotter.moveTo("border",d5K.I8K(v8J,"0.5"),F8J);d5K.K4B(0);a8J.yAxisPlotter.lineTo(A4h,d5K.I8K(v8J,M8J),F8J);}if(a8J.priceFormatter){J8J=a8J.priceFormatter(this,B8J,J8J);}else{J8J=this.formatYAxisPrice(J8J,B8J,null,a8J);}b8J=a8J.textBackground?this.containerColor:null;d5K.f4B(28);E8J=d5K.I8K(S8J,M8J,3);if(c8J=="left"){d5K.K4B(7);var Q3X=d5K.I8K(12,9);E8J=a8J.left+Q3X;if(a8J.justifyRight){d5K.f4B(7);var Y3X=d5K.I8K(21,18);E8J=a8J.left+a8J.width+M8J-Y3X;}}else{if(a8J.justifyRight){E8J=S8J+a8J.width;}}a8J.yAxisPlotter.addText("text",J8J,E8J,F8J,b8J,null,u8J);}if(s8J){Y8J=Math.round(a8J.bottom)+0.5;a8J.yAxisPlotter.moveTo("border",v8J,a8J.top);a8J.yAxisPlotter.lineTo("border",v8J,Y8J);a8J.yAxisPlotter.draw(this.chart.context,"border");}}this.plotYAxisGrid(B8J);}this.runAppend("drawYAxis",arguments);};x3.prototype.drawYAxisPretty=function(y8J,T8J){var b4h,d8J,q4h,k4h,x6J,f6J,s6J,n6J,c6J,U6J,K6J,A6J,Q8J,g6J,B6J,h6J,r6J,N6J,M6J,S6J,R8J,m6J,D6J,I8J,a6J,G6J,F6J,z8J,u6J,W6J,l8J,v6J,V4h,o8J,H6J,L8J,p6J,X6J,E6J;b4h="drawY";b4h+="Axis";if(this.runPrepend("drawYAxis",arguments)){return;}if(!T8J){T8J={};}d8J=T8J.yAxis?T8J.yAxis:y8J.yAxis;if(!T8J.noDraw&&!d8J.noDraw){if(!d8J.yAxisPlotter||!T8J.noChange){q4h="stx_";q4h+="grid";k4h="s";k4h+="t";k4h+="rok";k4h+="e";x6J=y8J.chart;f6J=y8J.name==x6J.name&&d8J===y8J.yAxis;if(!d8J.priceTick){return;}if(isNaN(d8J.high)||isNaN(d8J.low)){return;}s6J=d8J.shadow;if(T8J.range){d5K.K4B(21);var y3X=d5K.z8K(8,28,19);s6J=T8J.range[y3X]-T8J.range[0];}n6J=d8J.height/d8J.idealTickSizePixels;n6J=Math.round(n6J);c6J=d8J.textStyle?d8J.textStyle:"stx_yaxis";d8J.yAxisPlotter=new a3.Plotter();d8J.yAxisPlotter.newSeries("grid",k4h,this.canvasStyle(q4h));d8J.yAxisPlotter.newSeries("text","fill",this.colorOrStyle(c6J));d8J.yAxisPlotter.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));U6J=0;K6J=T8J.range?T8J.range[+"1"]:d8J.high;A6J=T8J.range?T8J.range[0]:d8J.low;Q8J=d8J.displayBorder===null?x6J.panel.yAxis.displayBorder:d8J.displayBorder;if(this.axisBorders===!!0){Q8J=!!0;}if(this.axisBorders===!![]){Q8J=!0;}B6J=d8J.position===null?x6J.panel.yAxis.position:d8J.position;if(B6J=="left"){g6J=d8J.left+d8J.width;}else{g6J=d8J.left;}h6J=Math.round(g6J)+0.5;r6J=Q8J?3:0;if(B6J=="left"){r6J=Q8J?-("3"|1):0;}N6J=this.getCanvasFontSize("stx_yaxis");M6J=d8J.increments;S6J=M6J.length;R8J=0;m6J=1;d5K.K4B(12);D6J=d5K.z8K("0",2147483647);d5K.K4B(10);I8J=d5K.I8K("0",0);a6J=0;G6J=Number.MAX_VALUE;for(var J6J="0"|0;J6J<100;J6J++){D6J=M6J[R8J]*Math.pow(10,a6J);d5K.K4B(13);m6J=Math.floor(d5K.z8K(s6J,D6J));d5K.K4B(7);F6J=Math.abs(d5K.z8K(n6J,m6J));if(F6J>G6J){break;}else{G6J=F6J;}if(m6J==n6J){I8J=D6J;break;}else if(m6J>n6J){R8J++;if(R8J>=S6J){R8J=0;a6J++;}}else{R8J--;if(R8J<0){d5K.f4B(8);R8J=d5K.I8K(S6J,"1");a6J--;}}I8J=D6J;}z8J=Math.ceil(A6J/I8J)*I8J;u6J=d8J.bottom-this.pixelFromPrice(z8J,y8J,d8J);W6J=0;if(u6J>d8J.idealTickSizePixels&&d8J.semiLog&&d8J.prettySemiLog){for(l8J=Math.ceil(A6J);l8J<z8J&&z8J%l8J!=="0"<<1465349120;++l8J);if(l8J<z8J){if(z8J===I8J){I8J=l8J;W6J=l8J;}z8J=l8J;}}v6J=0;for(var e6J=0;e6J<"100"*1;e6J++){V4h="lef";V4h+="t";d5K.K4B(27);o8J=d5K.z8K(I8J,z8J,v6J);if(o8J>K6J)break;I8J+=W6J;v6J++;H6J=this.pixelFromPrice(o8J,y8J,d8J);L8J=Math.round(H6J)+0.5;if(L8J+N6J/2>y8J.bottom)continue;if(L8J-N6J/2<y8J.top)continue;if(d8J.displayGridLines){d8J.yAxisPlotter.moveTo("grid",y8J.left,L8J);d8J.yAxisPlotter.lineTo("grid",y8J.right,L8J);}if(Q8J){d5K.K4B(7);d8J.yAxisPlotter.moveTo("border",d5K.I8K(h6J,0.5),L8J);d5K.f4B(0);d8J.yAxisPlotter.lineTo("border",d5K.I8K(h6J,r6J),L8J);}if(d8J.priceFormatter){o8J=d8J.priceFormatter(this,y8J,o8J);}else{o8J=this.formatYAxisPrice(o8J,y8J,null,d8J);}p6J=d8J.textBackground?this.containerColor:null;d5K.K4B(28);X6J=d5K.z8K(g6J,r6J,3);if(B6J==V4h){d5K.f4B(29);var s3X=d5K.z8K(5,2,17);X6J=d8J.left+s3X;if(d8J.justifyRight){d5K.f4B(7);var p3X=d5K.z8K(27,24);X6J=d8J.left+d8J.width+r6J-p3X;}}else{if(d8J.justifyRight){X6J=g6J+d8J.width;}}d8J.yAxisPlotter.addText("text",o8J,X6J,L8J,p6J,null,N6J);}if(e6J>=100){console.log("drawYAxisPretty: assertion error. zz reached 100");}if(Q8J){E6J=Math.round(d8J.bottom)+ +"0.5";d8J.yAxisPlotter.moveTo("border",h6J,d8J.top);d8J.yAxisPlotter.lineTo("border",h6J,E6J);d8J.yAxisPlotter.draw(this.chart.context,"border");}}this.plotYAxisGrid(y8J);}d5K.r3();this.runAppend(b4h,arguments);};x3.prototype.plotYAxisGrid=function(Z6J){var M4h,t6J;M4h="plotYAx";M4h+="isGrid";d5K.r3();if(this.runPrepend(M4h,arguments)){return;}t6J=this.chart.context;Z6J.yAxis.yAxisPlotter.draw(t6J,"grid");this.runAppend("plotYAxisGrid",arguments);};x3.prototype.plotYAxisText=function(Y6J){var N4h,b6J,X4h,x4h,V6J,C6J,O6J;N4h="plot";N4h+="YAxisText";if(this.runPrepend(N4h,arguments)){return;}d5K.m3();b6J=Y6J.yaxisLHS.concat(Y6J.yaxisRHS);for(var q6J=+"0";q6J<b6J.length;q6J++){X4h="stx";X4h+="_ya";X4h+="xis";x4h="l";x4h+="eft";V6J=b6J[q6J];if(!V6J.yAxisPlotter)continue;if(V6J.noDraw)continue;this.canvasFont("stx_yaxis");this.canvasColor("stx_yaxis");C6J=this.chart.context;C6J.textBaseline="middle";if(V6J.justifyRight){C6J.textAlign="right";}else{C6J.textAlign=x4h;}O6J=this.getCanvasFontSize(X4h);V6J.yAxisPlotter.draw(C6J,"text");C6J.textBaseline="alphabetic";C6J.textAlign="left";}this.runAppend("plotYAxisText",arguments);};x3.prototype.formatYAxisPrice=function(w6J,k6J,d6J,j6J){var i6J,P6J;if(w6J===null||typeof w6J=="undefined"||isNaN(w6J)){return"";}i6J=j6J?j6J:k6J.yAxis;P6J=d6J;if(!P6J&&P6J!==0){P6J=i6J.printDecimalPlaces;}if(!P6J&&P6J!==("0"|0)){if(i6J.priceTick<0.01){P6J=4;}else if(i6J.priceTick<0.1){P6J=2;}else if(i6J.priceTick<1){P6J=1;}else{P6J=0;}}if(k6J.name!=k6J.chart.name){if(i6J.priceTick>100){return a3.condenseInt(w6J);}}if(this.internationalizer){if(P6J>=this.internationalizer.priceFormatters.length){P6J=this.internationalizer.priceFormatters.length-("1"-0);}w6J=this.internationalizer.priceFormatters[P6J].format(w6J);}else{w6J=w6J.toFixed(P6J);;}d5K.r3();return w6J;};x3.prototype.padOutPrice=function(y6J){var U4h,I6J,T6J;U4h="unde";U4h+="fi";U4h+="n";U4h+="ed";if(y6J!==0&&(!y6J||typeof y6J==U4h)){return"";}d5K.f4B(0);I6J=d5K.I8K("",y6J);d5K.K4B(7);var j3X=d5K.z8K(9108,4554);d5K.K4B(30);var o3X=d5K.I8K(20,4,3,124200);d5K.K4B(31);var m3X=d5K.I8K(20,29,9);T6J=I6J.substring(I6J.indexOf(j3X<=(153.71,o3X)?".":!"")).length-m3X;if(y6J>=1000){T6J=Math.max(T6J,0);}else if(y6J<+"2"){T6J=Math.max(T6J,4);}else{T6J=Math.max(T6J,2);}if(this.internationalizer){if(T6J>=this.internationalizer.priceFormatters.length){d5K.K4B(2);var l3X=d5K.z8K(240,24,10);T6J=this.internationalizer.priceFormatters.length-l3X;}y6J=this.internationalizer.priceFormatters[T6J].format(y6J);}else{y6J=y6J.toFixed(T6J);}return y6J;};x3.prototype.formatPrice=function(R6J,L6J){var z6J,n0h,Z0h,r0h;if(R6J!=="0"<<530338176&&(!R6J||typeof R6J=="undefined")){return"";}if(!L6J){L6J=this.currentPanel;}if(!L6J){L6J=this.chart.panel;}if(!L6J){return R6J;}z6J=L6J.decimalPlaces;d5K.r3();if(!z6J&&z6J!==0){n0h=-1312855373;Z0h=1451803922;d5K.K4B(12);r0h=d5K.I8K("2",2147483647);for(var E0h=1;d5K.D0h(E0h.toString(),E0h.toString().length,87589)!==n0h;E0h++){z6J=L6J.chart.decimalPlaces;r0h+=+"2";}if(d5K.c0h(r0h.toString(),r0h.toString().length,39557)!==Z0h){z6J=L6J.chart.decimalPlaces;}}if(!z6J&&z6J!==0){return R6J;}if(this.internationalizer){if(z6J>=this.internationalizer.priceFormatters.length){d5K.K4B(7);var K3X=d5K.I8K(10,9);z6J=this.internationalizer.priceFormatters.length-K3X;}R6J=this.internationalizer.priceFormatters[z6J].format(R6J);}else{R6J=R6J.toFixed(z6J);}return R6J;};x3.prototype.createCrosshairs=function(){var u4h;u4h="creat";u4h+="eCrosshairs";if(this.runPrepend(u4h,arguments)){return;}if(this.controls.crossX.onmousedown){return;}this.controls.crossY.onmousedown=function(o6J){if(!o6J){o6J=event;}if(o6J.preventDefault){o6J.preventDefault();}return!"1";};this.controls.crossX.onmousedown=function(l6J){if(!l6J){l6J=event;}d5K.m3();if(l6J.preventDefault){l6J.preventDefault();}return!{};};this.runAppend("createCrosshairs",arguments);};x3.prototype.determineMinMax=function(B1J,J1J,s1J,F1J,e1J){var n1J,g1J,a1J,x1J,m1J,r1J,e4h,h1J,Q6J;d5K.f4B(32);var c3X=d5K.z8K(1,16,32,15);n1J=Number.MAX_VALUE*c3X;d5K.r3();g1J=Number.MAX_VALUE;a1J=![];x1J=B1J.length;if(e1J){x1J=e1J;}for(var N1J=0;N1J<x1J;N1J++){m1J=B1J[N1J];if(!m1J)continue;if(!F1J){if(m1J.transform){a1J=!![];m1J=m1J.transform;}else if(a1J)continue;;}d5K.K4B(33);r1J=d5K.I8K("0",1426050848);for(var X1J=0;X1J<J1J.length;X1J++){e4h="n";e4h+="umber";h1J=m1J[J1J[X1J]];if(!h1J)continue;if(typeof h1J==e4h){h1J=[h1J];}for(var D1J=0;D1J<h1J.length;D1J++){Q6J=h1J[D1J];if(Q6J||Q6J===0){if(s1J){r1J+=Q6J;if(r1J>n1J){n1J=r1J;}if(r1J<g1J){g1J=r1J;}}else{if(Q6J>n1J){n1J=Q6J;}if(Q6J<g1J){g1J=Q6J;}}}}}}if(n1J==Number.MAX_VALUE*-1){n1J=0;}if(g1J==Number.MAX_VALUE){g1J=+"0";}return[g1J,n1J];};x3.prototype.calculateYAxisRange=function(v1J,W1J,G1J,M1J){var E1J,A1J,S1J,c1J,p1J,u1J,H1J,K1J;if(G1J==Number.MAX_VALUE){G1J=0;M1J=0;}d5K.r3();E1J=v1J.height;A1J=null;S1J=null;this.adjustYAxisHeightOffset(v1J,W1J);W1J.top=v1J.top;W1J.height=W1J.bottom-W1J.top;c1J=Math.round(Math.abs(E1J/5));if(E1J-Math.abs(W1J.scroll)<c1J){d5K.f4B(34);var D3X=d5K.I8K(1);W1J.scroll=(E1J-c1J)*(W1J.scroll<0?D3X:+"1");}p1J=(M1J-G1J)/W1J.height;if(G1J||G1J===0){if(M1J-G1J===0){d5K.f4B(24);A1J=d5K.I8K(M1J,"2");S1J=0;}else{if((this.layout.semiLog||this.layout.chartScale=="log")&&A1J){u1J=Math.log(G1J)/Math.LN10;H1J=Math.log(M1J)/Math.LN10;A1J=Math.pow(+"10",H1J);S1J=Math.pow(10,u1J);}else{A1J=M1J;S1J=G1J;}}W1J.high=A1J;W1J.low=S1J;}if(W1J.max||W1J.max===0){W1J.high=W1J.max;}if(W1J.min||W1J.min===0){W1J.low=W1J.min;}W1J.shadow=W1J.high-W1J.low;if(v1J.chart.name===v1J.name&&v1J.yAxis===W1J){K1J=this.layout.semiLog||this.layout.chartScale=="log";if(v1J.chart.isComparison){K1J=!1;}if(W1J.semiLog!=K1J){this.clearPixelCache();W1J.semiLog=K1J;}}};x3.prototype.renderYAxis=function(C1J){var f1J,t1J,U1J,V1J,q1J,b1J,Z1J;if(this.runPrepend("renderYAxis",arguments)){return;}f1J=C1J.panel;t1J=f1J.yaxisRHS.concat(f1J.yaxisLHS);for(U1J=0;U1J<t1J.length;U1J++){V1J=t1J[U1J];q1J=null;b1J=null;if(f1J.yAxis===V1J){q1J=C1J.lowValue;b1J=C1J.highValue;}this.calculateYAxisRange(f1J,V1J,q1J,b1J);}Z1J={};for(U1J=0;U1J<t1J.length;U1J++){Z1J.yAxis=t1J[U1J];this.createYAxis(f1J,Z1J);this.drawYAxis(f1J,Z1J);}this.runAppend("renderYAxis",arguments);};x3.prototype.initializeDisplay=function(Y1J){var w1J,y1J,O1J,i1J,d1J,P1J,j1J,C4h;if(this.runPrepend("initializeDisplay",arguments)){return;}w1J=[];for(var k1J in Y1J.series){if(Y1J.series[k1J].parameters.shareYAxis){w1J.push(k1J);}}y1J=Y1J.panel=this.panels[Y1J.name];i1J=null;d1J=Math.floor((Y1J.width-this.micropixels)/this.layout.candleWidth);if(Y1J.scroll>Y1J.maxTicks&&Y1J.maxTicks>d1J+1){d5K.K4B(31);var T3X=d5K.I8K(17,20,3);i1J=Y1J.dataSegment.length-T3X;}if(!x3.chartShowsHighs(this.layout.chartType)){w1J.push("Close");O1J=this.determineMinMax(Y1J.dataSegment,w1J,null,null,i1J);if(this.layout.chartType=="baseline_delta"){P1J=Y1J.baseline.actualLevel;if(Y1J.transformFunc){P1J=Y1J.transformFunc(this,Y1J,P1J);}j1J=Math.max(P1J-O1J[+"0"],O1J[1]-P1J);if(this.repositioningBaseline){O1J=[Y1J.lowValue,Y1J.highValue];}else{d5K.f4B(7);O1J[0]=d5K.I8K(P1J,j1J);d5K.f4B(0);O1J[1]=d5K.z8K(P1J,j1J);}}}else{C4h="H";C4h+="i";C4h+="g";C4h+="h";w1J.push("Close",C4h,"Low");O1J=this.determineMinMax(Y1J.dataSegment,w1J,null,null,i1J);}Y1J.lowValue=O1J[0];d5K.f4B(33);Y1J.highValue=O1J[d5K.I8K("1",754452064)];this.runAppend("initializeDisplay",arguments);};x3.prototype.computePosition=function(R1J,T1J){var I1J;if(typeof T1J=="undefined"){T1J=0;}I1J=R1J*this.layout.candleWidth+T1J+this.micropixels;d5K.r3();return I1J;};x3.prototype.computeColor=function(z1J,L1J){var W4h,R4h;W4h="stx_c";W4h+="andle_";W4h+="shadow";R4h="stx_cand";R4h+="le_d";R4h+="own";if(z1J<L1J){return"stx_candle_up";}if(z1J>L1J){return R4h;}return W4h;};x3.prototype.computeLength=function(Q1J,n4J){var o1J,l1J;o1J=this.pixelFromPrice(Q1J);l1J=this.pixelFromPrice(n4J);d5K.K4B(7);return d5K.I8K(l1J,o1J);};x3.prototype.setSeriesRenderer=function(g4J){var h4J;h4J=g4J.params;if(this.chart.seriesRenderers[g4J.params.name]){return this.chart.seriesRenderers[g4J.params.name];}if(h4J.yAxis){this.addYAxis(this.panels[h4J.panel],h4J.yAxis);}g4J.stx=this;d5K.m3();this.chart.seriesRenderers[g4J.params.name]=g4J;return g4J;};x3.prototype.setMarket=function(D4J,r4J){if(!r4J){r4J=this.chart;}d5K.r3();r4J.market=new a3.Market(D4J);for(var m4J in this.layout.marketSessions){r4J.market.disableSession(m4J,this.layout.marketSessions[m4J]);}};x3.prototype.setMarketFactory=function(X4J){d5K.m3();this.marketFactory=X4J;};x3.prototype.removeSeriesRenderer=function(N4J){var x4J,B4J,e4J;d5K.m3();for(var a4J in this.chart.seriesRenderers){if(N4J.params.name===this.chart.seriesRenderers[a4J].params.name){x4J=this.chart.seriesRenderers[N4J.params.name];B4J=x4J.params.yAxis;e4J=this.panels[x4J.params.panel];delete this.chart.seriesRenderers[N4J.params.name];this.deleteYAxisIfUnused(e4J,B4J);return;}}};x3.prototype.getSeriesRenderer=function(J4J){d5K.m3();return this.chart.seriesRenderers[J4J];};}x3.prototype.drawHistogram=function(W4J,G4J){var p4J,H4J,V4J,S4J,P4J,Z4J,s4J,w4J,f4J,K4J,C4J,u4J,i4J,c4J,d4h,b4J,F4J,q4J,M4J,t4J,A4J,E4J,v4J,U4J;if(!G4J||!G4J.length){return;}p4J=W4J.panel;if(!p4J){p4J="chart";}H4J=this.panels[p4J];if(!H4J){return;}V4J=W4J.yAxis?W4J.yAxis:H4J.yAxis;S4J=W4J.type;d5K.m3();if(S4J=="histogram"){S4J=W4J.subtype;}P4J=this.chart.dataSegment;Z4J=!{};this.getDefaultColor();for(s4J=0;s4J<G4J.length;s4J++){Z4J|=G4J[s4J].border_color_up&&!a3.isTransparent(G4J[s4J].border_color_up);Z4J|=G4J[s4J].border_color_down&&!a3.isTransparent(G4J[s4J].border_color_down);}if(!W4J.name){W4J.name="Data";}w4J=V4J.multiplier;if(!W4J.heightPercentage){W4J.heightPercentage=+"0.7";}if(!W4J.widthFactor){W4J.widthFactor=0.8;}f4J=0;K4J=0;for(var Y4J="0"&2147483647;Y4J<this.chart.maxTicks;Y4J++){C4J=P4J[Y4J];if(!C4J)continue;d5K.f4B(5);u4J=d5K.I8K("0",1);for(s4J=0;s4J<G4J.length;s4J++){if(C4J[G4J[s4J].field]){if(W4J.subtype=="stacked"){u4J+=C4J[G4J[s4J].field];}else{u4J=C4J[G4J[s4J].field];}if(u4J>f4J){f4J=u4J;}if(u4J<K4J){K4J=u4J;}}}}i4J=Math.floor(V4J.top)+("0.5"-0);if(!W4J.bindToYAxis){c4J=Math.floor(V4J.bottom)+0.5;if(f4J===+"0"&&K4J===0){d4h="botto";d4h+="m";this.watermark(p4J,"center",d4h,this.translateIf(W4J.name+" Not Available"));return;}w4J=(c4J-i4J)*W4J.heightPercentage/(f4J-K4J);}else{c4J=Math.floor(this.pixelFromPriceTransform(K4J,H4J,V4J))+0.5;}b4J=0.5;if(this.layout.candleWidth<=1||!Z4J){b4J=+"0";}function O4J(m3J,o4J,r3J,I4J,N3J,X3J,D3J){var z4J,g3J,L4J,j4J,y4J,h3J,l4J,T4J,d4J,R4J,n3J,Q4J,f4h,P4h;if(!r3J){r3J=1;}if(a3.isIE8){F4J.globalAlpha=0.5;}else{F4J.globalAlpha=r3J;}F4J.beginPath();d5K.K4B(35);z4J=d5K.z8K("0.5",c4J);g3J=Math.floor(A4J.pixelFromBar(+"0",H4J.chart)-A4J.layout.candleWidth/2);L4J=g3J;for(var k4J=0;k4J<P4J.length;k4J++){j4J=t4J[k4J];if(!j4J){j4J=c4J;}if(k4J==="0"-0){z4J=j4J;}y4J=P4J[k4J];if(!y4J||!y4J[m3J]){z4J=j4J;L4J+=A4J.layout.candleWidth;continue;}h3J=(y4J[m3J]-K4J)*w4J;if(isNaN(h3J))continue;l4J=A4J.layout.candleWidth;if(y4J.candleWidth){l4J=y4J.candleWidth;if(k4J===0){g3J=L4J=Math.floor(A4J.pixelFromBar(0,H4J.chart)-y4J.candleWidth/2);}}T4J=Math.min(Math.floor(j4J-h3J)+("0.5"-0),j4J);if(N3J){if(y4J.Close<y4J.iqPrevClose){z4J=T4J;L4J+=l4J;continue;}}else{if(y4J.Close>=y4J.iqPrevClose){z4J=T4J;L4J+=l4J;continue;}}n3J=l4J/A4J.layout.candleWidth;d5K.K4B(36);Q4J=d5K.I8K(q4J,D3J,n3J,X3J,L4J);d4J=Math.round(Q4J)+(I4J?0:b4J);R4J=Math.round(Q4J+D3J*n3J)-(I4J?0:b4J);if(R4J-d4J<2){d5K.K4B(0);R4J=d5K.I8K(d4J,1);}if(I4J){roundPixel=0;}else{roundPixel=0.5;}if(d4J%+"1"==roundPixel){d4J+=0.5;}if(R4J%1==roundPixel){d5K.K4B(7);R4J+=d5K.I8K("0.5",0);}F4J.moveTo(d4J,j4J);if(c4J==j4J){F4J.lineTo(R4J,j4J);}else{F4J.moveTo(R4J,j4J);if(I4J&&!q4J){if(t4J[k4J+1]){F4J.moveTo(R4J,Math.max(T4J,Math.min(j4J,t4J[k4J+"1"*1])));}}}F4J.lineTo(R4J,T4J);F4J.lineTo(d4J,T4J);if(I4J&&X3J){if(M4J[k4J]>T4J||k4J===0){F4J.lineTo(d4J,Math.min(j4J,M4J[k4J]));};}else if(I4J&&!q4J&&S4J=="clustered"){if(k4J>0&&M4J[k4J-1]&&M4J[k4J-1]>T4J){F4J.lineTo(d4J,Math.min(j4J,M4J[k4J-1]));};}else if(I4J&&!q4J){if(z4J>T4J||k4J===0){F4J.lineTo(d4J,Math.min(j4J,z4J));};}else{F4J.lineTo(d4J,j4J);}z4J=T4J;L4J+=l4J;if(S4J!="clustered"||I4J){M4J[k4J]=T4J;}}if(!o4J){o4J="auto";}if(I4J){f4h="a";f4h+="u";f4h+="to";F4J.strokeStyle=o4J==f4h?A4J.defaultColor:o4J;F4J.stroke();}else{P4h="a";P4h+="u";P4h+="t";P4h+="o";F4J.fillStyle=o4J==P4h?A4J.defaultColor:o4J;F4J.fill();}F4J.closePath();}this.startClip(p4J);F4J=this.chart.context;d5K.f4B(9);q4J=Math.max(d5K.I8K(0,"0"),(+"1"-W4J.widthFactor)*this.layout.candleWidth/("2"^0));M4J={};t4J={};A4J=this;E4J=1;for(s4J=0;s4J<G4J.length;s4J++){v4J=G4J[s4J];E4J=this.layout.candleWidth*W4J.widthFactor;U4J=0;if(S4J=="clustered"){U4J=s4J;E4J/=G4J.length;}O4J(v4J.field,v4J.fill_color_up,v4J.opacity_up,null,!0,U4J,E4J);O4J(v4J.field,v4J.fill_color_down,v4J.opacity_down,null,null,U4J,E4J);if(this.layout.candleWidth>=2&&Z4J){O4J(v4J.field,v4J.border_color_up,v4J.opacity_up,!!"1",!![],U4J,E4J);O4J(v4J.field,v4J.border_color_down,v4J.opacity_down,!![],null,U4J,E4J);}if(S4J=="stacked"){t4J=a3.shallowClone(M4J);}}F4J.globalAlpha=1;this.endClip();};x3.prototype.drawHeatmap=function(a3J,A3J){var G3J,J3J,F3J,u3J,c3J,S3J,s3J,v3J,W3J,B3J,K3J,x3J,e3J;if(!A3J||!A3J.length){return;}G3J=a3J.panel;if(!G3J){G3J="chart";}J3J=this.panels[G3J];if(!J3J){return;}F3J=a3J.yAxis?a3J.yAxis:J3J.yAxis;u3J=Math.floor(F3J.bottom)+0.5;c3J=Math.floor(F3J.top)+0.5;S3J=this.chart.dataSegment;this.getDefaultColor();if(!a3J.name){a3J.name="Data";}if(!a3J.widthFactor){a3J.widthFactor=1;}s3J=0.5;function E3J(j3J,k3J,w3J,Y3J,P3J){var y3J,d3J,V3J,f3J,p3J,t3J,H3J,U3J,Z3J,i3J,b3J,O3J;x3J.beginPath();d5K.r3();x3J.fillStyle=k3J;x3J.strokeStyle=k3J;y3J=F3J.top;d3J=F3J.bottom;V3J=B3J.layout.candleWidth*Y3J;f3J=Math.floor(B3J.pixelFromBar(+"0",J3J.chart)-B3J.layout.candleWidth);for(var q3J=0;q3J<S3J.length;q3J++){H3J=S3J[q3J];if(!H3J)continue;if(H3J.candleWidth){if(q3J===0){f3J+=B3J.layout.candleWidth;}else{f3J+=(H3J.candleWidth+V3J/Y3J)/2;}V3J=H3J.candleWidth*Y3J;}else{f3J+=B3J.layout.candleWidth;}d5K.K4B(37);p3J=d5K.I8K(V3J,"2",P3J,f3J);d5K.K4B(38);t3J=d5K.z8K(f3J,2,V3J,P3J);if(t3J-p3J<2){d5K.f4B(0);t3J=d5K.z8K(p3J,1);}if(H3J.transform){H3J=H3J.transform;}U3J=H3J[j3J];if(!U3J)continue;if(typeof U3J=="number"){U3J=[U3J];}for(var C3J=0;C3J<U3J.length;C3J++){Z3J=B3J.pixelFromPrice(U3J[C3J],J3J,F3J);if(!K3J){i3J=B3J.pixelFromPrice(U3J[C3J]-a3J.height,J3J,F3J);x3J.lineWidth=1;d5K.K4B(7);v3J=d5K.z8K(i3J,Z3J);d5K.K4B(13);W3J=d5K.I8K(v3J,2);K3J=x3J.lineWidth;}if(w3J){d5K.K4B(0);b3J=d5K.I8K(Z3J,W3J);d5K.f4B(7);O3J=d5K.I8K(Z3J,W3J);x3J.moveTo(p3J,b3J);x3J.lineTo(p3J,O3J);x3J.lineTo(t3J,O3J);x3J.lineTo(t3J,b3J);x3J.lineTo(p3J,b3J);}else{d5K.K4B(7);x3J.fillRect(p3J,d5K.I8K(Z3J,W3J),d5K.I8K(t3J,p3J),v3J);}}}if(w3J){x3J.stroke();}x3J.closePath();}if(J3J.chart.tmpWidth<=1){d5K.K4B(39);s3J=d5K.I8K("0",1036020384);}v3J=null;W3J=null;B3J=this;K3J=null;this.startClip(G3J);x3J=this.chart.context;x3J.globalAlpha=a3J.opacity;for(var M3J=0;M3J<A3J.length;M3J++){e3J=A3J[M3J];E3J(e3J.field,e3J.color,null,a3J.widthFactor,e3J.border_color?s3J:-s3J/4);if(e3J.border_color&&this.layout.candleWidth>="2"-0){E3J(e3J.field,e3J.border_color,!![],a3J.widthFactor,s3J);}}x3J.lineWidth=1;x3J.globalAlpha=+"1";this.endClip();};x3.prototype.startClip=function(I3J,o3J){var T3J,L3J,R3J,z3J;if(!I3J){I3J="chart";}T3J=this.panels[I3J];L3J=T3J.yAxis;this.chart.context.save();this.chart.context.beginPath();R3J=T3J.left;z3J=T3J.width;if(o3J){R3J=0;z3J=this.width;}this.chart.context.rect(R3J,T3J.top,z3J,L3J.height);this.chart.context.clip();};x3.prototype.endClip=function(){this.chart.context.restore();};x3.prototype.drawCandlesHighPerformance=function(m9J,G9J,M9J,a9J){var X9J,v9J,n9J,x9J,s9J,g9J,u9J,h9J,N9J,W9J,H9J,r9J,J9J,D9J,B9J,l3J,z4h,Q3J,K9J,E9J,c9J,A9J,F9J,S9J;X9J=m9J.chart;v9J=X9J.dataSegment;n9J=this.chart.context;x9J=m9J.yAxis.top;s9J=m9J.yAxis.bottom;N9J=0;if(M9J&&!a3.isTransparent(M9J)){N9J=0.5;}W9J=X9J.dataSet.length-X9J.scroll;H9J=W9J+X9J.maxTicks;n9J.beginPath();if(a3.isTransparent(G9J)){G9J=this.containerColor;}n9J.fillStyle=G9J;r9J=m9J.yAxis;d5K.K4B(7);var G3X=d5K.z8K(18,16);J9J=X9J.tmpWidth/G3X;D9J=this.layout.candleWidth;d5K.f4B(7);var t3X=d5K.z8K(49,48);B9J=m9J.left-+"0.5"*D9J+this.micropixels-t3X;d5K.r3();for(var e9J="0"-0;e9J<=v9J.length;e9J++){d5K.f4B(13);B9J+=d5K.I8K(D9J,2);D9J=this.layout.candleWidth;d5K.f4B(13);B9J+=d5K.I8K(D9J,2);l3J=v9J[e9J];if(!l3J)continue;if(l3J.projection)continue;if(l3J.candleWidth){z4h="volu";z4h+="me";z4h+="_candl";z4h+="e";B9J+=(l3J.candleWidth-D9J)/2;D9J=l3J.candleWidth;if(this.layout.chartType==z4h){d5K.K4B(13);J9J=d5K.z8K(D9J,2);}}if(l3J.Open==l3J.Close)continue;if(a9J&x3.CANDLEUP&&l3J.Open>=l3J.Close)continue;if(a9J&x3.CANDLEDOWN&&l3J.Open<=l3J.Close)continue;if(a9J&x3.CLOSEUP&&l3J.Close<=l3J.iqPrevClose)continue;if(a9J&x3.CLOSEDOWN&&l3J.Close>=l3J.iqPrevClose)continue;if(a9J&x3.CLOSEEVEN&&l3J.Close!=l3J.iqPrevClose)continue;if(l3J.transform){l3J=l3J.transform;}Q3J=l3J.cache;d5K.K4B(0);K9J=d5K.z8K(W9J,e9J);if(K9J<m9J.cacheLeft||K9J>m9J.cacheRight||!Q3J.open){E9J=r9J.semiLog?this.pixelFromPrice(l3J.Open,m9J):(r9J.high-l3J.Open)*r9J.multiplier+r9J.top;c9J=r9J.semiLog?this.pixelFromPrice(l3J.Close,m9J):(r9J.high-l3J.Close)*r9J.multiplier+r9J.top;g9J=Math.floor(Math.min(E9J,c9J))+N9J;u9J=Math.max(E9J,c9J);d5K.f4B(7);h9J=Math.floor(d5K.I8K(u9J,g9J));if(g9J<x9J){if(g9J+h9J<x9J){Q3J.open=g9J;Q3J.close=g9J;continue;}d5K.K4B(7);h9J-=d5K.I8K(x9J,g9J);g9J=x9J;}if(g9J+h9J>s9J){d5K.K4B(40);h9J-=d5K.I8K(s9J,g9J,h9J);}h9J=Math.max(h9J,2);Q3J.open=g9J;Q3J.close=Q3J.open+h9J;}if(Q3J.open>=s9J)continue;if(Q3J.close<=x9J)continue;A9J=Math.floor(B9J)+0.5;F9J=Math.floor(A9J-J9J)+N9J;S9J=Math.round(A9J+J9J)-N9J;if(l3J.Open!=l3J.Close){n9J.moveTo(F9J,Q3J.open);n9J.lineTo(S9J,Q3J.open);n9J.lineTo(S9J,Q3J.close);n9J.lineTo(F9J,Q3J.close);n9J.lineTo(F9J,Q3J.open);}}n9J.fill();if(N9J){n9J.lineWidth=1;n9J.strokeStyle=M9J;n9J.stroke();};};x3.prototype.drawCandles=function(t9J,h7J,n7J){var q9J,L9J,f9J,O9J,y9J,Z9J,Q9J,C9J,d9J,k9J,Y9J,I9J,g7J,V9J,j9J,b9J,P9J,Q4h,p9J,T9J,U9J,z9J,l9J,o9J,i9J,R9J;q9J=t9J.chart;if(!q9J){q9J=t9J;t9J=t9J.chart;}L9J=q9J.dataSegment;f9J=this.chart.context;O9J=t9J.yAxis.top;y9J=t9J.yAxis.bottom;d9J="t";d9J+="ransparent";k9J="transparent";Y9J=0;if(!a3.isTransparent(d9J)){Y9J=0.5;}I9J=q9J.dataSet.length-q9J.scroll;g7J=I9J+q9J.maxTicks;d5K.m3();V9J=t9J.yAxis;d5K.f4B(1);var n3X=d5K.I8K(6274434247,7,7320173280);j9J=q9J.tmpWidth/("2"<<n3X);b9J=this.layout.candleWidth;d5K.K4B(41);var Z3X=d5K.I8K(19,13,18,18,5);P9J=t9J.left-0.5*b9J+this.micropixels-Z3X;for(var w9J=0;w9J<=L9J.length;w9J++){Q4h="ou";Q4h+="tline";d5K.K4B(13);P9J+=d5K.I8K(b9J,2);b9J=this.layout.candleWidth;d5K.f4B(13);P9J+=d5K.I8K(b9J,2);p9J=L9J[w9J];if(!p9J)continue;if(p9J.projection)continue;if(p9J.candleWidth){d5K.K4B(42);var r3X=d5K.I8K(4,19,6,4,14);P9J+=(p9J.candleWidth-b9J)/r3X;b9J=p9J.candleWidth;if(this.layout.chartType=="volume_candle"){d5K.f4B(13);j9J=d5K.z8K(b9J,2);}}if(!p9J.Open&&p9J.Open!==0)continue;if(p9J.Open==p9J.Close)continue;T9J=h7J(this,p9J,n7J?Q4h:"solid");if(!T9J)continue;if(n7J){d9J=T9J;}else{k9J=T9J;}f9J.beginPath();f9J.fillStyle=k9J;if(p9J.transform){p9J=p9J.transform;}U9J=p9J.cache;d5K.K4B(0);z9J=d5K.I8K(I9J,w9J);if(z9J<t9J.cacheLeft||z9J>t9J.cacheRight||!U9J.open){l9J=V9J.semiLog?this.pixelFromPrice(p9J.Open,t9J):(V9J.high-p9J.Open)*V9J.multiplier+V9J.top;o9J=V9J.semiLog?this.pixelFromPrice(p9J.Close,t9J):(V9J.high-p9J.Close)*V9J.multiplier+V9J.top;Z9J=Math.floor(Math.min(l9J,o9J))+Y9J;Q9J=Math.max(l9J,o9J);d5K.f4B(7);C9J=Math.floor(d5K.z8K(Q9J,Z9J));if(Z9J<O9J){if(Z9J+C9J<O9J){U9J.open=Z9J;U9J.close=Z9J;continue;}d5K.f4B(7);C9J-=d5K.I8K(O9J,Z9J);Z9J=O9J;}if(Z9J+C9J>y9J){d5K.f4B(40);C9J-=d5K.z8K(y9J,Z9J,C9J);}C9J=Math.max(C9J,2);U9J.open=Z9J;U9J.close=U9J.open+C9J;}if(U9J.open>=y9J)continue;if(U9J.close<=O9J)continue;flr_xbase=Math.floor(P9J)+0.5;i9J=Math.floor(flr_xbase-j9J)+Y9J;R9J=Math.round(flr_xbase+j9J)-Y9J;if(p9J.Open!=p9J.Close){f9J.moveTo(i9J,U9J.open);f9J.lineTo(R9J,U9J.open);f9J.lineTo(R9J,U9J.close);f9J.lineTo(i9J,U9J.close);f9J.lineTo(i9J,U9J.open);}if(k9J!="transparent"){f9J.fill();}if(Y9J){f9J.lineWidth=1;f9J.strokeStyle=d9J;f9J.stroke();}}};x3.prototype.drawShadowsHighPerformance=function(N7J,U7J,J7J){var G7J,E7J,x7J,B7J,F7J,D7J,u7J,f7J,S7J,p7J,m7J,a7J,v7J,r7J,X7J,K7J,e7J,s7J,M7J,H7J,c7J,W7J;G7J=N7J.chart;E7J=G7J.dataSegment;x7J=this.chart.context;x7J.lineWidth=1;B7J=N7J.yAxis.top;F7J=N7J.yAxis.bottom;S7J=G7J.dataSet.length-G7J.scroll;p7J=S7J+G7J.maxTicks;x7J.beginPath();m7J=N7J.yAxis;a7J=this.layout.candleWidth;v7J=N7J.left-0.5*a7J+this.micropixels-1;for(var A7J=0;A7J<=E7J.length;A7J++){d5K.K4B(43);v7J+=d5K.z8K("2",a7J,1);a7J=this.layout.candleWidth;d5K.f4B(44);v7J+=d5K.I8K(a7J,"2",0);r7J=E7J[A7J];if(!r7J)continue;if(r7J.projection)continue;if(r7J.candleWidth){v7J+=(r7J.candleWidth-a7J)/2;a7J=r7J.candleWidth;}if(J7J){if(J7J&x3.CANDLEUP&&r7J.Open>=r7J.Close)continue;else if(J7J&x3.CANDLEDOWN&&r7J.Open<=r7J.Close)continue;else if(J7J&x3.CANDLEEVEN&&r7J.Open!=r7J.Close)continue;else if(J7J&x3.CLOSEUP&&r7J.Close<=r7J.iqPrevClose)continue;else if(J7J&x3.CLOSEDOWN&&r7J.Close>=r7J.iqPrevClose)continue;else if(J7J&x3.CLOSEEVEN&&r7J.Close!=r7J.iqPrevClose)continue;}if(r7J.transform){r7J=r7J.transform;}X7J=r7J.cache;d5K.f4B(0);K7J=d5K.I8K(S7J,A7J);if(K7J<N7J.cacheLeft||K7J>N7J.cacheRight||!X7J.top){D7J=m7J.semiLog?this.pixelFromPrice(r7J.High,N7J):(m7J.high-r7J.High)*m7J.multiplier+m7J.top;u7J=m7J.semiLog?this.pixelFromPrice(r7J.Low,N7J):(m7J.high-r7J.Low)*m7J.multiplier+m7J.top;d5K.f4B(7);e7J=d5K.z8K(u7J,D7J);if(D7J<B7J){if(D7J+e7J<B7J){X7J.top=D7J;X7J.bottom=D7J;continue;}d5K.f4B(7);e7J-=d5K.z8K(B7J,D7J);D7J=B7J;}if(D7J+e7J>F7J){d5K.K4B(40);e7J-=d5K.I8K(F7J,D7J,e7J);}X7J.top=D7J;X7J.bottom=X7J.top+e7J;}if(X7J.top>=F7J)continue;if(X7J.bottom<=B7J)continue;s7J=Math.floor(v7J)+0.5;x7J.moveTo(s7J,X7J.top);x7J.lineTo(s7J,X7J.bottom);if(r7J.Open==r7J.Close){M7J=this.offset;if(this.layout.chartType=="volume_candle"){d5K.K4B(45);M7J=d5K.I8K("2",a7J);}d5K.K4B(7);H7J=d5K.z8K(s7J,M7J);d5K.f4B(0);c7J=d5K.I8K(s7J,M7J);W7J=Math.floor(m7J.semiLog?this.pixelFromPrice(r7J.Open,N7J):(m7J.high-r7J.Open)*m7J.multiplier+m7J.top)+ +"0.5";if(W7J<=F7J&&W7J>=B7J){x7J.moveTo(H7J,W7J);x7J.lineTo(c7J,W7J);}}}this.canvasColor(U7J);x7J.stroke();;};x3.prototype.drawShadows=function(C7J,g2J){var O7J,R3h,W3h,d3h,I7J,b7J,w7J,i7J,V7J,l7J,h2J,L7J,n2J,Z7J,Y7J,j7J,t7J,R7J,q7J,z7J,P7J,y7J,Y4h,T7J,Q7J,o7J,d7J;d5K.r3();O7J=C7J.chart;if(!O7J){R3h=413917923;W3h=1264023260;d3h=2;for(var P3h=1;d5K.D0h(P3h.toString(),P3h.toString().length,43002)!==R3h;P3h++){O7J=C7J;C7J=C7J.chart;d3h+=2;}if(d5K.D0h(d3h.toString(),d3h.toString().length,30722)!==W3h){O7J=C7J;C7J=C7J.chart;}}I7J=O7J.dataSegment;b7J=this.chart.context;b7J.lineWidth=1;w7J=C7J.yAxis.top;i7J=C7J.yAxis.bottom;L7J=O7J.dataSet.length-O7J.scroll;n2J=L7J+O7J.maxTicks;Z7J=C7J.yAxis;Y7J=this.layout.candleWidth;j7J=C7J.left-+"0.5"*Y7J+this.micropixels-1;for(var k7J=0;k7J<=I7J.length;k7J++){d5K.K4B(13);j7J+=d5K.z8K(Y7J,2);Y7J=this.layout.candleWidth;d5K.f4B(46);j7J+=d5K.z8K(1244460416,"2",Y7J);t7J=I7J[k7J];if(!t7J)continue;if(t7J.projection)continue;if(t7J.candleWidth){j7J+=(t7J.candleWidth-Y7J)/2;Y7J=t7J.candleWidth;}R7J=g2J(this,t7J,"shadow");if(!R7J)continue;if(t7J.transform){t7J=t7J.transform;}q7J=t7J.cache;d5K.f4B(0);z7J=d5K.z8K(L7J,k7J);if(z7J<C7J.cacheLeft||z7J>C7J.cacheRight||!q7J.top){V7J=Z7J.semiLog?this.pixelFromPrice(t7J.High,C7J):(Z7J.high-t7J.High)*Z7J.multiplier+Z7J.top;l7J=Z7J.semiLog?this.pixelFromPrice(t7J.Low,C7J):(Z7J.high-t7J.Low)*Z7J.multiplier+Z7J.top;d5K.f4B(7);P7J=d5K.z8K(l7J,V7J);if(V7J<w7J){if(V7J+P7J<w7J){q7J.top=V7J;q7J.bottom=V7J;continue;}d5K.f4B(7);P7J-=d5K.I8K(w7J,V7J);V7J=w7J;}if(V7J+P7J>i7J){d5K.K4B(40);P7J-=d5K.I8K(i7J,V7J,P7J);}q7J.top=V7J;q7J.bottom=q7J.top+P7J;}if(q7J.top>=i7J)continue;if(q7J.bottom<=w7J)continue;y7J=Math.floor(j7J)+0.5;b7J.beginPath();b7J.moveTo(y7J,q7J.top);b7J.lineTo(y7J,q7J.bottom);if(t7J.Open==t7J.Close||!t7J.Open&&t7J.Open!==0){Y4h="volu";Y4h+="me_candle";T7J=this.offset;if(this.layout.chartType==Y4h){d5K.K4B(13);T7J=d5K.I8K(Y7J,2);}d5K.f4B(7);Q7J=d5K.z8K(y7J,T7J);d5K.f4B(0);o7J=d5K.I8K(y7J,T7J);d7J=Math.floor(Z7J.semiLog?this.pixelFromPrice(t7J.Close,C7J):(Z7J.high-t7J.Close)*Z7J.multiplier+Z7J.top)+0.5;if(d7J<=i7J&&d7J>=w7J){b7J.moveTo(Q7J,d7J);b7J.lineTo(o7J,d7J);}}b7J.strokeStyle=R7J;b7J.stroke();}};x3.prototype.scatter=function(X2J){var F2J,e2J,m2J,s2J,J2J,N2J,r2J,y4h,a2J,D2J;F2J=X2J.chart;e2J=F2J.dataSegment;m2J=this.chart.context;m2J.beginPath();m2J.lineWidth=4;s2J=X2J.yAxis.top;J2J=X2J.yAxis.bottom;N2J=X2J.left-0.5*this.layout.candleWidth+this.micropixels-1;for(var x2J=0;x2J<=e2J.length;x2J++){N2J+=this.layout.candleWidth;r2J=e2J[x2J];if(!r2J)continue;if(!r2J.projection){y4h="Sc";y4h+="atter";if(r2J.transform){r2J=r2J.transform;}a2J=[r2J.Close];if(y4h in r2J){a2J=r2J.Scatter;}for(var B2J=0;B2J<a2J.length;B2J++){D2J=this.pixelFromPrice(a2J[B2J],X2J);if(D2J<s2J)continue;if(D2J>J2J)continue;d5K.K4B(7);m2J.moveTo(d5K.I8K(N2J,2),D2J);d5K.K4B(0);m2J.lineTo(d5K.z8K(N2J,2),D2J);}}}this.canvasColor("stx_scatter_chart");m2J.stroke();m2J.closePath();m2J.lineWidth=1;};x3.prototype.drawKagiSquareWave=function(E2J,P2J,O2J){var u2J,p2J,W2J,H2J,t2J,C2J,q2J,U2J,f2J,Y2J,S2J,Z2J,v2J,V2J,K2J,M2J,A2J,G2J,b2J;u2J=E2J.chart;this.startClip(E2J.name);p2J=u2J.dataSegment;W2J=u2J.context;H2J=this.canvasStyle(P2J);t2J=this.canvasStyle(O2J);this.canvasColor(P2J);C2J=W2J.strokeStyle;this.canvasColor(O2J);q2J=W2J.strokeStyle;U2J=1;if(H2J.width&&parseInt(H2J.width,10)<="25"<<604476928){U2J=Math.max(1,a3.stripPX(H2J.width));}f2J=1;if(t2J.width&&parseInt(t2J.width,+"10")<=25){f2J=Math.max(1,a3.stripPX(t2J.width));}W2J.beginPath();Y2J=u2J.dataSet.length-u2J.scroll;S2J=E2J.yAxis;Z2J=!!{};v2J=null;V2J=null;K2J=null;M2J=E2J.left-0.5*this.layout.candleWidth+this.micropixels-1;for(var c2J=+"0";c2J<=p2J.length;c2J++){M2J+=this.layout.candleWidth;A2J=p2J[c2J];if(!A2J)continue;if(A2J.projection)break;if(A2J.transform){A2J=A2J.transform;}G2J=A2J.cache;d5K.K4B(0);b2J=d5K.z8K(Y2J,c2J);if(b2J<E2J.cacheLeft||b2J>E2J.cacheRight||!G2J.open){G2J.open=S2J.semiLog?this.pixelFromPrice(A2J.Open,E2J):(S2J.high-A2J.Open)*S2J.multiplier+S2J.top;G2J.close=S2J.semiLog?this.pixelFromPrice(A2J.Close,E2J):(S2J.high-A2J.Close)*S2J.multiplier+S2J.top;;}V2J=G2J.close;if(Z2J){W2J.moveTo(Math.floor(M2J),G2J.open);v2J=G2J.open;if(G2J.close>G2J.open){K2J=1;}else{K2J=-1;}Z2J=!1;}if(K2J!=-1&&G2J.close<v2J&&v2J<G2J.open){W2J.lineTo(Math.floor(M2J),v2J);W2J.strokeStyle=q2J;W2J.lineWidth=f2J;W2J.stroke();W2J.closePath();W2J.beginPath();d5K.K4B(9);K2J=-d5K.z8K(0,"1");W2J.moveTo(Math.floor(M2J),v2J);}else if(K2J!=1&&G2J.close>v2J&&v2J>G2J.open){W2J.lineTo(Math.floor(M2J),v2J);W2J.strokeStyle=C2J;W2J.lineWidth=U2J;W2J.stroke();W2J.closePath();W2J.beginPath();K2J=1;W2J.moveTo(Math.floor(M2J),v2J);}W2J.lineTo(Math.floor(M2J),G2J.close);if(c2J+"1"*1<p2J.length){W2J.lineTo(Math.floor(M2J+this.layout.candleWidth),G2J.close);v2J=G2J.open;}}if(K2J==-1||K2J===null&&V2J<v2J){W2J.strokeStyle=C2J;W2J.lineWidth=U2J;}else{W2J.strokeStyle=q2J;W2J.lineWidth=f2J;}W2J.stroke();W2J.closePath();this.endClip();W2J.lineWidth=1;};x3.prototype.drawPointFigureChart=function(R2J,e0J,X0J){var g0J,x0J,k2J,z2J,L2J,l2J,r0J,h0J,B0J,a0J,d2J,m0J,y2J,i2J,n0J,D0J,w2J,o2J,N0J,I2J,T2J,j2J;g0J=R2J.chart;this.startClip(R2J.name);x0J=g0J.dataSegment;k2J=g0J.context;this.canvasColor(e0J);d5K.m3();z2J=this.canvasStyle(e0J);L2J=parseInt(z2J.paddingTop,10);l2J=parseInt(z2J.paddingBottom,+"10");r0J=parseInt(z2J.paddingLeft,10);h0J=parseInt(z2J.paddingRight,10);if(z2J.width&&parseInt(z2J.width,+"10")<=25){k2J.lineWidth=Math.max(1,a3.stripPX(z2J.width));}else{k2J.lineWidth=2;}k2J.beginPath();if(!this.chart.pandf){this.chart.pandf={"box":1,"reversal":3};}B0J=this.chart.pandf.box;a0J=g0J.dataSet.length-g0J.scroll;d2J=R2J.yAxis;n0J=this.layout.candleWidth;D0J=R2J.left-n0J+this.micropixels-1;for(var Q2J=0;Q2J<x0J.length;Q2J++){D0J+=n0J;w2J=x0J[Q2J];if(!w2J)continue;if(w2J.projection)break;if(w2J.candleWidth){n0J=w2J.candleWidth;}if(w2J.transform){w2J=w2J.transform;}if(X0J=="X"&&w2J.Open>w2J.Close)continue;else if(X0J=="O"&&w2J.Open<w2J.Close)continue;o2J=w2J.cache;d5K.f4B(0);N0J=d5K.z8K(a0J,Q2J);if(N0J<R2J.cacheLeft||N0J>R2J.cacheRight||!o2J.open){o2J.open=d2J.semiLog?this.pixelFromPrice(w2J.Open,R2J):(d2J.high-w2J.Open)*d2J.multiplier+d2J.top;o2J.close=d2J.semiLog?this.pixelFromPrice(w2J.Close,R2J):(d2J.high-w2J.Close)*d2J.multiplier+d2J.top;;}I2J=Math.round(D0J);d5K.K4B(0);T2J=Math.round(d5K.z8K(D0J,n0J));m0J=Math.abs(Math.round((w2J.Close-w2J.Open)/B0J));y2J=Math.abs((o2J.open-o2J.close)/m0J);d5K.f4B(13);j2J=d5K.z8K(y2J,2);i2J=o2J.open;for(;m0J>=0;m0J--){if(X0J==((8100,810)!==670.01?"X":(0x11af,"c"))){d5K.K4B(0);k2J.moveTo(d5K.z8K(I2J,r0J),d5K.I8K(l2J,j2J,i2J,d5K.K4B(1)));d5K.K4B(7);k2J.lineTo(d5K.I8K(T2J,h0J),d5K.z8K(y2J,L2J,i2J,j2J,d5K.f4B(47)));d5K.K4B(0);k2J.moveTo(d5K.z8K(I2J,r0J),d5K.I8K(y2J,L2J,i2J,j2J,d5K.f4B(47)));d5K.K4B(7);k2J.lineTo(d5K.z8K(T2J,h0J),d5K.z8K(l2J,j2J,i2J,d5K.K4B(1)));i2J-=y2J;}else if(X0J=="O"){d5K.f4B(31);k2J.moveTo(d5K.I8K(I2J,2,T2J),d5K.z8K(j2J,i2J,L2J,d5K.f4B(40)));d5K.K4B(0);k2J.bezierCurveTo(d5K.z8K(T2J,h0J),d5K.z8K(j2J,i2J,L2J,d5K.K4B(40)),d5K.I8K(T2J,h0J,d5K.f4B(0)),d5K.I8K(l2J,j2J,i2J,y2J,d5K.K4B(48)),d5K.z8K(I2J,2,T2J,d5K.f4B(31)),d5K.I8K(l2J,j2J,i2J,y2J,d5K.K4B(48)));d5K.K4B(7);k2J.bezierCurveTo(d5K.z8K(I2J,r0J),d5K.z8K(l2J,j2J,i2J,y2J,d5K.K4B(48)),d5K.I8K(I2J,r0J,d5K.K4B(7)),d5K.z8K(j2J,i2J,L2J,d5K.K4B(40)),d5K.I8K(I2J,"2",T2J,0,d5K.K4B(49)),d5K.I8K(j2J,i2J,L2J,d5K.f4B(40)));i2J+=y2J;}}}k2J.stroke();this.endClip();k2J.lineWidth=1;};x3.prototype.drawBarChartHighPerformance=function(v0J,q0J,H0J){var S0J,U0J,W0J,u0J,A0J,E0J,G0J,V0J,M0J,C0J,b0J,s0J,f0J,t0J,Z0J,J0J,F0J,p0J,K0J;S0J=v0J.chart;U0J=S0J.dataSegment;W0J=S0J.context;u0J=this.canvasStyle(q0J);if(u0J.width&&parseInt(u0J.width,10)<=25){W0J.lineWidth=Math.max(+"1",a3.stripPX(u0J.width));}else{W0J.lineWidth=1;}W0J.beginPath();A0J=v0J.yAxis.top;E0J=v0J.yAxis.bottom;C0J=S0J.dataSet.length-S0J.scroll;b0J=C0J+S0J.maxTicks;s0J=v0J.yAxis;f0J=v0J.left-+"0.5"*this.layout.candleWidth+this.micropixels-+"1";d5K.r3();t0J=S0J.tmpWidth/+"2";Z0J=W0J.lineWidth/2;for(var c0J=0;c0J<=U0J.length;c0J++){f0J+=this.layout.candleWidth;J0J=U0J[c0J];if(!J0J)continue;if(J0J.projection)break;if(H0J){if(H0J&x3.CLOSEUP&&J0J.Close<=J0J.iqPrevClose)continue;else if(H0J&x3.CLOSEDOWN&&J0J.Close>=J0J.iqPrevClose)continue;else if(H0J&x3.CLOSEEVEN&&J0J.Close!=J0J.iqPrevClose)continue;}if(J0J.transform){J0J=J0J.transform;}F0J=J0J.cache;d5K.K4B(0);p0J=d5K.z8K(C0J,c0J);if(p0J<v0J.cacheLeft||p0J>v0J.cacheRight||!F0J.top){G0J=s0J.semiLog?this.pixelFromPrice(J0J.High,v0J):(s0J.high-J0J.High)*s0J.multiplier+s0J.top;V0J=s0J.semiLog?this.pixelFromPrice(J0J.Low,v0J):(s0J.high-J0J.Low)*s0J.multiplier+s0J.top;d5K.f4B(7);M0J=d5K.I8K(V0J,G0J);F0J.open=s0J.semiLog?this.pixelFromPrice(J0J.Open,v0J):(s0J.high-J0J.Open)*s0J.multiplier+s0J.top;F0J.close=s0J.semiLog?this.pixelFromPrice(J0J.Close,v0J):(s0J.high-J0J.Close)*s0J.multiplier+s0J.top;if(G0J<A0J){if(G0J+M0J<A0J){F0J.top=G0J;F0J.bottom=G0J;continue;}d5K.f4B(7);M0J-=d5K.I8K(A0J,G0J);G0J=A0J;}if(G0J+M0J>E0J){d5K.K4B(40);M0J-=d5K.z8K(E0J,G0J,M0J);}F0J.top=G0J;d5K.K4B(0);F0J.bottom=d5K.I8K(G0J,M0J);}K0J=Math.floor(f0J)+0.5;if(F0J.top<E0J&&F0J.bottom>A0J){W0J.moveTo(K0J,F0J.top-Z0J);W0J.lineTo(K0J,F0J.bottom+Z0J);}if(F0J.open>A0J&&F0J.open<E0J){W0J.moveTo(K0J,F0J.open);d5K.f4B(7);W0J.lineTo(d5K.z8K(K0J,t0J),F0J.open);}if(F0J.close>A0J&&F0J.close<E0J){W0J.moveTo(K0J,F0J.close);d5K.f4B(0);W0J.lineTo(d5K.I8K(K0J,t0J),F0J.close);}}this.canvasColor(q0J);W0J.stroke();W0J.closePath();W0J.lineWidth=1;};x3.prototype.drawBarChart=function(w0J,x5J,N5J){var j0J,r5J,P0J,o0J,d0J,R0J,i0J,D5J,T0J,m5J,X5J,k0J,Q0J,n5J,g5J,I0J,z0J,O0J,l0J,Y0J,h5J,y0J;j0J=w0J.chart;if(!j0J){j0J=w0J;w0J=w0J.chart;}r5J=j0J.dataSegment;P0J=j0J.context;o0J=this.canvasStyle(x5J);if(o0J.width&&parseInt(o0J.width,10)<=25){P0J.lineWidth=Math.max(1,a3.stripPX(o0J.width));}else{P0J.lineWidth=+"1";}d0J=w0J.yAxis.top;R0J=w0J.yAxis.bottom;m5J=j0J.dataSet.length-j0J.scroll;X5J=m5J+j0J.maxTicks;d5K.r3();k0J=w0J.yAxis;Q0J={};d5K.f4B(7);var O7X=d5K.I8K(14,12);n5J=j0J.tmpWidth/O7X;g5J=P0J.lineWidth/2;I0J=this.layout.candleWidth;d5K.f4B(50);var F7X=d5K.z8K(16,129,8);z0J=w0J.left-0.5*I0J+this.micropixels-"1"*F7X;for(var L0J=0;L0J<=r5J.length;L0J++){d5K.f4B(13);z0J+=d5K.z8K(I0J,2);I0J=this.layout.candleWidth;d5K.f4B(13);z0J+=d5K.I8K(I0J,2);O0J=r5J[L0J];if(!O0J)continue;if(O0J.projection)break;if(O0J.candleWidth){d5K.f4B(51);var i7X=d5K.z8K(0.12500000015558063,8034418944,17,7);z0J+=(O0J.candleWidth-I0J)/("2">>i7X);I0J=O0J.candleWidth;}l0J=N5J(this,O0J);if(!l0J)continue;Q0J[l0J]=1;P0J.strokeStyle=l0J;P0J.beginPath();if(O0J.transform){O0J=O0J.transform;}Y0J=O0J.cache;d5K.f4B(0);h5J=d5K.I8K(m5J,L0J);if(h5J<w0J.cacheLeft||h5J>w0J.cacheRight||!Y0J.top){i0J=this.pixelFromPrice(O0J.High,w0J);D5J=this.pixelFromPrice(O0J.Low,w0J);d5K.K4B(7);T0J=d5K.I8K(D5J,i0J);Y0J.open=k0J.semiLog?this.pixelFromPrice(O0J.Open,w0J):(k0J.high-O0J.Open)*k0J.multiplier+k0J.top;Y0J.close=k0J.semiLog?this.pixelFromPrice(O0J.Close,w0J):(k0J.high-O0J.Close)*k0J.multiplier+k0J.top;if(i0J<d0J){if(i0J+T0J<d0J){Y0J.top=i0J;Y0J.bottom=i0J;continue;}d5K.f4B(7);T0J-=d5K.I8K(d0J,i0J);i0J=d0J;}if(i0J+T0J>R0J){d5K.K4B(40);T0J-=d5K.z8K(R0J,i0J,T0J);}Y0J.top=i0J;d5K.K4B(0);Y0J.bottom=d5K.I8K(i0J,T0J);}y0J=Math.floor(z0J)+0.5;if(Y0J.top<R0J&&Y0J.bottom>d0J){P0J.moveTo(y0J,Y0J.top-g5J);P0J.lineTo(y0J,Y0J.bottom+g5J);}if(Y0J.open>d0J&&Y0J.open<R0J){P0J.moveTo(y0J,Y0J.open);d5K.f4B(7);P0J.lineTo(d5K.z8K(y0J,n5J),Y0J.open);}if(Y0J.close>d0J&&Y0J.close<R0J){P0J.moveTo(y0J,Y0J.close);d5K.f4B(0);P0J.lineTo(d5K.I8K(y0J,n5J),Y0J.close);}P0J.stroke();}P0J.lineWidth=1;return Q0J;};x3.prototype.plotLineChart=function(s5J,H5J,M5J,F5J,d5J){var k5J,C5J,O5J,c5J,u5J,Y5J,B5J,b5J,W5J,I5J,T5J,f5J,U5J,j5J,S5J,v5J,p5J,J5J,a5J,V5J,i5J,e5J,A5J,E5J,t5J,K5J,P5J,Z5J,s4h,w4h,w5J,q5J,y5J;k5J=![];C5J=!1;O5J=!{};c5J=0;u5J=[];if(F5J){k5J=F5J.skipProjections;C5J=F5J.skipTransform;O5J=F5J.noSlopes;c5J=F5J.tension;}Y5J=s5J.chart;B5J=this.chart.context;b5J=!!{};W5J=s5J.yAxis;I5J=W5J.top;T5J=W5J.bottom;f5J=Y5J.dataSet.length-Y5J.scroll;U5J=null;j5J={};S5J=[0,0];v5J=this.layout.candleWidth;d5K.K4B(52);var A7X=d5K.z8K(19,4,19,1453,8);d5K.K4B(13);var k7X=d5K.z8K(17,17);p5J=s5J.left-(F5J.noSlopes?A7X:0.5)*v5J+this.micropixels-k7X;this.startClip(s5J.name);B5J.beginPath();for(var G5J=0;G5J<=H5J.length;G5J++){d5K.f4B(45);p5J+=d5K.z8K("2",v5J);if(F5J.noSlopes){d5K.f4B(13);p5J+=d5K.I8K(v5J,2);}v5J=this.layout.candleWidth;if(!F5J.noSlopes){d5K.f4B(13);p5J+=d5K.I8K(v5J,2);}J5J=H5J[G5J];if(!J5J)continue;if(k5J&&J5J.projection)break;if(J5J.candleWidth){if(!F5J.noSlopes){p5J+=(J5J.candleWidth-v5J)/+"2";}v5J=J5J.candleWidth;}if(!C5J&&J5J.transform){J5J=J5J.transform;}a5J=p5J;V5J=J5J.cache;d5K.f4B(0);i5J=d5K.z8K(f5J,G5J);if(!J5J[M5J]&&J5J[M5J]!==0)continue;if(i5J<s5J.cacheLeft||i5J>s5J.cacheRight||!V5J[M5J]){V5J[M5J]=W5J.semiLog?this.pixelFromPrice(J5J[M5J],s5J):(W5J.high-J5J[M5J])*W5J.multiplier+W5J.top;;}if(a5J<=s5J.right){U5J=J5J;}if(G5J==H5J.length-1){if(this.extendLastTick){d5K.f4B(45);a5J+=d5K.I8K("2",v5J);}if(F5J.lastTickOffset){a5J+=F5J.lastTickOffset;};}e5J=V5J[M5J];A5J=null;if(d5J){E5J=d5J(this,J5J);if(!E5J)continue;if(typeof E5J=="object"){A5J=E5J.pattern;E5J=E5J.color;}if(B5J.strokeStyle!=E5J){if(!b5J){B5J.stroke();B5J.beginPath();B5J.moveTo(S5J[0],S5J[1]);;}B5J.strokeStyle=E5J;j5J[E5J]=1;}}if(b5J){b5J=!1;if(O5J||f5J<=0){B5J.moveTo(G5J?a5J:+"0",e5J);if(c5J){u5J.push(a5J,e5J);}else{if(A5J){B5J.dashedLineTo(0,e5J,a5J,e5J,A5J);}else{B5J.lineTo(a5J,e5J);}}}else if(f5J>0){t5J=Y5J.dataSet[f5J];if(!C5J&&t5J.transform){t5J=t5J.transform;}K5J=t5J[M5J];if(!K5J||isNaN(K5J)){B5J.moveTo(G5J?a5J:0,e5J);if(c5J){u5J.push(a5J,e5J);}}else{K5J=W5J.semiLog?this.pixelFromPrice(K5J,s5J):(W5J.high-K5J)*W5J.multiplier+W5J.top;d5K.K4B(7);P5J=d5K.I8K(a5J,v5J);if(A5J){B5J.dashedLineTo(P5J,K5J,a5J,e5J,A5J);}else{B5J.moveTo(P5J,K5J);if(c5J){u5J.push(P5J,K5J,a5J,e5J);}else{B5J.lineTo(a5J,e5J);}}}}}else{if(O5J){d5K.f4B(53);Z5J=H5J[d5K.z8K("1",G5J,0)];if(!Z5J)continue;if(!C5J&&Z5J.transform){Z5J=Z5J.transform;}if(G5J){if(A5J){B5J.dashedLineTo(S5J["0"&2147483647],S5J[1],a5J,S5J[1],A5J);}else{B5J.lineTo(a5J,S5J[1]);}B5J.moveTo(a5J,e5J);;}if(G5J==H5J.length-1){if(A5J){d5K.K4B(0);B5J.dashedLineTo(a5J,e5J,d5K.I8K(a5J,v5J),e5J,A5J);}else{d5K.K4B(0);B5J.lineTo(d5K.z8K(a5J,v5J),e5J);}}}else{if(A5J){B5J.dashedLineTo(S5J[+"0"],S5J[+"1"],a5J,e5J,A5J);}else{if(c5J){u5J.push(a5J,e5J);}else{B5J.lineTo(a5J,e5J);}}}}S5J=[a5J,e5J];if(G5J===H5J.length-1&&c5J){u5J.push(a5J,e5J);F3(u5J,c5J,B5J);}}B5J.stroke();this.endClip();if(F5J.label&&U5J){s4h="n";s4h+="o";s4h+="o";s4h+="p";w4h="n";w4h+="oo";w4h+="p";if(W5J.priceFormatter){w5J=W5J.priceFormatter(this,s5J,U5J[M5J],F5J.labelDecimalPlaces);}else{w5J=this.formatYAxisPrice(U5J[M5J],s5J,F5J.labelDecimalPlaces);}q5J=this.yaxisLabelStyle;if(s5J.yAxis.yaxisLabelStyle){q5J=s5J.yAxis.yaxisLabelStyle;}y5J=q5J==w4h?B5J.strokeStyle:null;this.yAxisLabels.push({src:"plot","args":[s5J,w5J,U5J.cache[M5J],q5J==s4h?"#FFFFFF":B5J.strokeStyle,y5J]});}return j5J;};x3.prototype.plotMountainChart=function(l5J,W8v,g8v,D8v){var M8v,v8v,J8v,m8v,X8v,F8v,R5J,G8v,B8v,x8v,a8v,o5J,r8v,Q5J,z5J,L5J,s8v,A8v,n8v,e8v,N8v;M8v=![];v8v=!!"";J8v=![];m8v=0;X8v=[];if(D8v){M8v=D8v.skipProjections;v8v=D8v.skipTransform;J8v=D8v.reverse;m8v=D8v.tension;}F8v=l5J.chart;d5K.r3();R5J=this.chart.context;G8v=!!{};B8v=l5J.yAxis.top;x8v=l5J.yAxis.bottom;this.startClip(l5J.name);R5J.beginPath();a8v=F8v.dataSet.length-F8v.scroll;o5J=null;r8v=null;Q5J=l5J.yAxis;z5J=0;for(var h8v=0;h8v<=W8v.length;h8v++){L5J=W8v[h8v];if(!L5J)continue;if(M8v&&L5J.projection)break;if(!v8v&&L5J.transform){L5J=L5J.transform;}s8v=L5J.cache;d5K.f4B(0);A8v=d5K.z8K(a8v,h8v);if(A8v<l5J.cacheLeft||A8v>l5J.cacheRight||!s8v[g8v]){if(!L5J[g8v]&&L5J[g8v]!==0)continue;s8v[g8v]=Q5J.semiLog?this.pixelFromPrice(L5J[g8v],l5J):(Q5J.high-L5J[g8v])*Q5J.multiplier+Q5J.top;;}d5K.K4B(15);var q7X=d5K.z8K(32,3,11);z5J=l5J.left+(h8v+0.5)*this.layout.candleWidth+this.micropixels-q7X;if(h8v==W8v.length-1){if(this.extendLastTick){d5K.K4B(7);var V7X=d5K.z8K(10,8);z5J+=this.layout.candleWidth/V7X;}if(D8v.lastTickOffset){z5J+=D8v.lastTickOffset;};}if(o5J===null){o5J=a8v>=0?0:z5J;}n8v=s8v[g8v];if(r8v===null){r8v=n8v;}if(G8v){G8v=!{};if(a8v<=0){R5J.moveTo(o5J,n8v);if(m8v){X8v.push(o5J,n8v);}}else{e8v=F8v.dataSet[a8v];if(e8v.transform){e8v=e8v.transform;}N8v=e8v[g8v];N8v=Q5J.semiLog?this.pixelFromPrice(N8v,l5J):(Q5J.high-N8v)*Q5J.multiplier+Q5J.top;o5J=z5J-this.layout.candleWidth;R5J.moveTo(o5J,N8v);if(m8v){X8v.push(o5J,N8v,z5J,n8v);}else{R5J.lineTo(z5J,n8v);}}}else{if(m8v){X8v.push(z5J,n8v);}else{R5J.lineTo(z5J,n8v);}}if(h8v===W8v.length-("1"&2147483647)&&m8v){X8v.push(z5J,n8v);F3(X8v,m8v,R5J);}}R5J.lineTo(z5J,J8v?B8v:x8v);R5J.lineTo(o5J,J8v?B8v:x8v);if(J8v){if(r8v<B8v){r8v=B8v;}}else{if(r8v>x8v){r8v=x8v;}}R5J.lineTo(o5J,r8v);R5J.fill();R5J.closePath();this.endClip();};x3.prototype.drawLineChart=function(S8v,u8v,p8v){var K8v,E8v,c8v,H8v;d5K.m3();K8v=this.chart.context;E8v=this.canvasStyle(u8v);if(E8v.width&&parseInt(E8v.width,"10"<<405481760)<=25){K8v.lineWidth=Math.max(1,a3.stripPX(E8v.width));}else{K8v.lineWidth=1;}this.canvasColor(u8v);c8v={skipProjections:!![]};if(S8v.chart.tension){c8v.tension=S8v.chart.tension;}if(S8v.chart.lastTickOffset){c8v.lastTickOffset=S8v.chart.lastTickOffset;}H8v=this.plotLineChart(S8v,S8v.chart.dataSegment,"Close",c8v,p8v);K8v.lineWidth=1;return H8v;};x3.prototype.drawMountainChart=function(f8v,w8v,k8v){var U8v,t8v,V8v,O8v,q8v,b8v,Z8v,Y8v,C8v,i8v,p4h,P8v,o4h,j4h;U8v=this.chart.context;if(!w8v){w8v="stx_mountain_chart";}t8v=this.canvasStyle(w8v);if(t8v.width&&parseInt(t8v.width,10)<=25){U8v.lineWidth=Math.max(1,a3.stripPX(t8v.width));}else{d5K.f4B(39);U8v.lineWidth=d5K.I8K("1",1194503648);}V8v=this.pixelFromPrice(f8v.chart.highValue,f8v);if(isNaN(V8v)){V8v=0;}O8v=t8v.backgroundColor;q8v=t8v.color;if(q8v&&!a3.isTransparent(q8v)){b8v=U8v.createLinearGradient(0,V8v,+"0",f8v.yAxis.bottom);b8v.addColorStop(0,O8v);b8v.addColorStop(+"1",q8v);U8v.fillStyle=b8v;}else{U8v.fillStyle=O8v;}Z8v={skipProjections:!!{}};if(f8v.chart.tension){Z8v.tension=f8v.chart.tension;}if(f8v.chart.lastTickOffset){Z8v.lastTickOffset=f8v.chart.lastTickOffset;}Y8v=parseInt(t8v.padding,10);C8v=t8v.borderTopColor;i8v=null;d5K.m3();if(C8v&&!a3.isTransparent(C8v)){if(Y8v&&!a3.isIE8){if(!this.scratchContext){p4h="2";p4h+="d";P8v=U8v.canvas.cloneNode(!!1);this.scratchContext=P8v.getContext(p4h);this.scratchContext.canvas=P8v;}this.scratchContext.canvas.height=U8v.canvas.height;this.scratchContext.canvas.width=U8v.canvas.width;this.scratchContext.drawImage(U8v.canvas,0,0);U8v.clearRect(0,0,U8v.canvas.width,U8v.canvas.height);}}this.plotMountainChart(f8v,f8v.chart.dataSegment,"Close",Z8v);if(C8v&&!a3.isTransparent(C8v)){if(Y8v&&!a3.isIE8){o4h="Clos";o4h+="e";j4h="de";j4h+="stin";j4h+="ation-out";U8v.save();d5K.K4B(5);U8v.lineWidth+=d5K.I8K(2,Y8v);U8v.globalCompositeOperation=j4h;this.plotLineChart(f8v,f8v.chart.dataSegment,o4h,Z8v);U8v.globalCompositeOperation="destination-over";U8v.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio);U8v.drawImage(this.scratchContext.canvas,0,0);U8v.restore();}U8v.strokeStyle=C8v;i8v=this.plotLineChart(f8v,f8v.chart.dataSegment,"Close",Z8v,k8v);}U8v.lineWidth=1;return i8v;};x3.prototype.drawWaveChart=function(y8v){var m4h,l8v,m6v,d8v,r6v,o8v,I8v,R8v,D6v,z8v,T8v,j8v,g6v,n6v,L8v,h6v,Y8h,y8h,w8h;m4h="st";m4h+="x_line_chart";l8v=y8v.chart;m6v=l8v.dataSegment;d8v=this.chart.context;this.startClip(y8v.name);d8v.beginPath();r6v=!!0;o8v=!!0;I8v=y8v.yAxis.top;R8v=y8v.yAxis.bottom;d5K.K4B(54);var b7X=d5K.z8K(2,1);D6v=y8v.left+Math.floor(b7X*this.layout.candleWidth+this.micropixels);for(var Q8v=0;Q8v<=m6v.length;Q8v++){D6v+=this.layout.candleWidth;z8v=m6v[Q8v];if(!z8v)continue;if(z8v.projection)break;if(z8v.transform){z8v=z8v.transform;}d5K.f4B(1);var M7X=d5K.I8K(18,8,13);d5K.K4B(7);var N7X=d5K.I8K(16,8);T8v=D6v-M7X*this.layout.candleWidth/N7X;j8v=this.pixelFromPrice(z8v.Open,y8v);if(j8v<I8v){j8v=I8v;if(o8v){d8v.moveTo(T8v,j8v);continue;}o8v=!![];}else if(j8v>R8v){j8v=R8v;if(o8v){d8v.moveTo(T8v,j8v);continue;}o8v=!!{};}else{o8v=!"1";}if(!r6v){r6v=!![];g6v=l8v.dataSet.length-l8v.scroll;if(g6v<=0){d8v.moveTo(T8v,j8v);}else if(g6v>0){d5K.f4B(7);n6v=l8v.dataSet[d5K.z8K(g6v,1)];if(n6v.transform){n6v=n6v.transform;}L8v=n6v.Close;L8v=y8v.yAxis.semiLog?this.pixelFromPrice(L8v,y8v):(y8v.yAxis.high-L8v)*y8v.yAxis.multiplier+I8v;L8v=Math.min(Math.max(L8v,I8v),R8v);d8v.moveTo(y8v.left+(Q8v-1)*this.layout.candleWidth+this.micropixels,L8v);d8v.lineTo(T8v,j8v);}d8v.moveTo(T8v,j8v);}else{d8v.lineTo(T8v,j8v);}d5K.f4B(55);var x7X=d5K.I8K(9,10,1,85);T8v+=this.layout.candleWidth/x7X;if(z8v.Open<z8v.Close){j8v=this.pixelFromPrice(z8v.Low,y8v);if(j8v<I8v){j8v=I8v;}if(j8v>R8v){j8v=R8v;}d8v.lineTo(T8v,j8v);d5K.f4B(56);var X7X=d5K.I8K(12,13,257,20);T8v+=this.layout.candleWidth/X7X;j8v=this.pixelFromPrice(z8v.High,y8v);if(j8v<I8v){j8v=I8v;}if(j8v>R8v){j8v=R8v;}d8v.lineTo(T8v,j8v);}else{j8v=this.pixelFromPrice(z8v.High,y8v);if(j8v<I8v){j8v=I8v;}if(j8v>R8v){j8v=R8v;}d8v.lineTo(T8v,j8v);T8v+=this.layout.candleWidth/4;j8v=this.pixelFromPrice(z8v.Low,y8v);if(j8v<I8v){j8v=I8v;}if(j8v>R8v){j8v=R8v;}d8v.lineTo(T8v,j8v);}d5K.f4B(7);var u7X=d5K.z8K(76,72);T8v+=this.layout.candleWidth/u7X;j8v=this.pixelFromPrice(z8v.Close,y8v);if(j8v<I8v){j8v=I8v;}if(j8v>R8v){j8v=R8v;}d8v.lineTo(T8v,j8v);}h6v=this.canvasStyle("stx_line_chart");if(h6v.width&&parseInt(h6v.width,10)<=25){Y8h=1088089267;y8h=-806266286;w8h=+"2";for(var p8h=1;d5K.c0h(p8h.toString(),p8h.toString().length,73351)!==Y8h;p8h++){d8v.lineWidth=Math.max(1,a3.stripPX(h6v.width));w8h+=2;}if(d5K.c0h(w8h.toString(),w8h.toString().length,"1163"&2147483647)!==y8h){d8v.lineWidth=Math.max(8,a3.stripPX(h6v.width));}}else{d8v.lineWidth=1;}d5K.r3();this.canvasColor(m4h);d8v.stroke();d8v.closePath();this.endClip();d8v.lineWidth=1;};x3.prototype.updateFloatHRLabel=function(X6v){var l4h,e6v,J6v,c4h,K4h,F6v,D4h,N6v,x6v,a6v,s6v;l4h="no";l4h+="ne";e6v=X6v.yaxisLHS.concat(X6v.yaxisRHS);J6v=this.crossYActualPos?this.crossYActualPos:this.cy;if(this.floatCanvas.isDirty){a3.clearCanvas(this.floatCanvas,this);}if(this.controls.crossX.style.display==l4h){return;}if(this.controls.crossY){c4h="p";c4h+="x";K4h="r";K4h+="oundRect";K4h+="Arr";K4h+="ow";F6v=X6v.width;if(this.yaxisLabelStyle==K4h){d5K.K4B(39);F6v-=d5K.z8K("7",1107644160);}this.controls.crossY.style.left=X6v.left+c4h;d5K.f4B(0);this.controls.crossY.style.width=d5K.I8K(F6v,"px");}for(var B6v=0;B6v<e6v.length;B6v++){D4h="stx-float-p";D4h+="rice";N6v=e6v[B6v];x6v=this.valueFromPixel(J6v,X6v,N6v);if(isNaN(x6v))continue;if((X6v.min||X6v.min===0)&&x6v<X6v.min)continue;if((X6v.max||X6v.max===0)&&x6v>X6v.max)continue;a6v=null;if(N6v!==X6v.chart.yAxis){a6v=0;if(N6v.shadow<1000){a6v=2;}if(N6v.shadow<5){a6v=4;}if(N6v.decimalPlaces||N6v.decimalPlaces===0){a6v=N6v.decimalPlaces;}}if(N6v.priceFormatter){x6v=N6v.priceFormatter(this,X6v,x6v,N6v);}else{x6v=this.formatYAxisPrice(x6v,X6v,a6v,N6v);}s6v=this.canvasStyle(D4h);this.createYAxisLabel(X6v,x6v,J6v,s6v.backgroundColor,s6v.color,this.floatCanvas.context,N6v);this.floatCanvas.isDirty=!![];}};x3.prototype.headsUpHR=function(){var T4h,u6v,v6v,p6v,W6v,c6v,A6v,M6v,S6v,K6v,L4h,U6v,H6v,E6v,G6v;T4h="h";T4h+="eadsU";T4h+="pHR";if(this.runPrepend(T4h,arguments)){return;}u6v=this.currentPanel;if(!u6v){return;}v6v=u6v.chart;this.updateFloatHRLabel(u6v);if(this.controls.floatDate&&!x3.hideDates()){p6v=this.barFromPixel(this.cx);W6v=v6v.xaxis[p6v];if(W6v&&W6v.DT){if(v6v.xAxis.formatter){this.controls.floatDate.innerHTML=v6v.xAxis.formatter(W6v.DT);}else if(this.internationalizer){c6v=this.internationalizer.monthDay.format(W6v.DT);if(!x3.isDailyInterval(this.layout.interval)){d5K.K4B(57);var e7X=d5K.z8K(6,1663786,9787,19,9);d5K.f4B(2);var C7X=d5K.z8K(3865,3859,7730);d5K.f4B(2);var R7X=d5K.I8K(3383,3393,3383);c6v+=((e7X,C7X)!==R7X?" ":("t","J"))+this.internationalizer.hourMinute.format(W6v.DT);}else{c6v=this.internationalizer.yearMonthDay.format(W6v.DT);}this.controls.floatDate.innerHTML=c6v;}else{A6v=W6v.DT.getMonth()+ +"1";if(A6v<+"10"){d5K.K4B(0);A6v=d5K.I8K((+"3277",185.2)!=1056?"0":("m",194.45),A6v);}M6v=W6v.DT.getDate();if(M6v<"10"-0){d5K.f4B(0);M6v=d5K.I8K(6820!=+"7313"?6570!==(100.8,+"1940")?"0":2.30e+3:("0xb49"|521,0x164a),M6v);}S6v=W6v.DT.getHours();if(S6v<"10"-0){d5K.f4B(0);S6v=d5K.I8K(946.75>+"202"?(1954,124)!=9320?"0":0x14e1:943.67,S6v);}K6v=W6v.DT.getMinutes();if(K6v<10){d5K.f4B(0);K6v=d5K.I8K("0",K6v);}if(x3.isDailyInterval(this.layout.interval)){d5K.f4B(0);var d7X=d5K.z8K(607,9105);d5K.K4B(30);var f7X=d5K.I8K(10,7620,761,2283);d5K.f4B(58);var P7X=d5K.z8K(4641,4361,14,7);d5K.f4B(59);var Q7X=d5K.z8K(12,22119,1837,15,5,5510);this.controls.floatDate.innerHTML=A6v+"-"+M6v+((1062,620.21)!==(167.83,493.23)?(d7X,"3717"-0)!=(543.63,f7X)?(195.71,"885"|P7X)>=+"52"?"-":0x1d5e:(!{},!!"1"):Q7X)+W6v.DT.getFullYear();}else{L4h="s";L4h+="ec";L4h+="on";L4h+="d";d5K.K4B(60);this.controls.floatDate.innerHTML=d5K.I8K(S6v,+"4438"!=119.26?" ":(475.56,"c"),K6v,":",A6v,+"996"==(844.9,7160)?(+"881.36",0x1d0f):"-",M6v);U6v=v6v.xAxis.activeTimeUnit&&v6v.xAxis.activeTimeUnit<=a3.SECOND||this.layout.timeUnit==L4h;H6v=v6v.xAxis.activeTimeUnit&&v6v.xAxis.activeTimeUnit<=a3.MILLISECOND||this.layout.timeUnit=="millisecond";if(U6v||H6v){E6v=W6v.DT.getSeconds();if(E6v<10){d5K.f4B(0);E6v=d5K.I8K((8640,1780)!==9920?"0":("B",!![]),E6v);}d5K.K4B(0);this.controls.floatDate.innerHTML+=d5K.I8K(":",E6v);if(H6v){G6v=W6v.DT.getMilliseconds();if(G6v<10){d5K.f4B(0);G6v=d5K.z8K((130.38,291)>(9047,849)?8910==("6092"*1,5505)?("F",281.46):(0xc07,627.12):"0",G6v);}if(G6v<("100"|36)){d5K.K4B(0);G6v=d5K.z8K(9667>637.51?(2770,6730)>=(727,9325)?(763.88,"c"):(876.98,849.87)>2890?"G":"0":"D",G6v);}d5K.f4B(0);this.controls.floatDate.innerHTML+=d5K.I8K((6176,2199)<("3581"<<1701794112,2148)?547.61<=2230?("E",103.03):(!!"1","0x102a"<<912537824):":",G6v);}}}}}else if(W6v&&W6v.index){this.controls.floatDate.innerHTML=W6v.index;}else{this.controls.floatDate.innerHTML="";;}}d5K.r3();this.runAppend("headsUpHR",arguments);};x3.prototype.setCrosshairColors=function(){d5K.m3();return;;};x3.prototype.magnetize=function(){var G4h,Z6v,Z4h,n4h,t4h,t6v,C6v,V6v,O6v,I4h,P6v,Y6v,b6v,w6v,i6v,f6v,k6v;G4h="proj";G4h+="ec";G4h+="tion";this.magnetizedPrice=null;if(this.runPrepend("magnetize",arguments)){return;}if((this.currentVectorParameters.vectorType=="annotation"||this.currentVectorParameters.vectorType=="callout")&&x3.drawingLine){return;}if(this.currentVectorParameters.vectorType==G4h){return;}if(this.currentVectorParameters.vectorType=="freeform"){return;}Z6v=this.currentPanel;if(Z6v.name==Z6v.chart.name){Z4h="#0";Z4h+="00";Z4h+="0";Z4h+="00";n4h="#F";n4h+="FFF";n4h+="FF";t4h="vo";t4h+="lume_ca";t4h+="ndl";t4h+="e";t6v=Z6v.chart;C6v=this.tickFromPixel(x3.crosshairX-this.left,t6v);if(C6v>t6v.dataSet.length){return;}V6v=t6v.dataSet[C6v];if(!V6v){return;}O6v=this.valueFromPixel(this.cy,Z6v);this.magnetizedPrice=V6v.Close;if(this.layout.chartType=="bar"||this.layout.chartType=="candle"||this.layout.chartType=="colored_bar"||this.layout.chartType=="hollow_candle"||this.layout.chartType==t4h){I4h="Clo";I4h+="s";I4h+="e";P6v=["Open","High","Low",I4h];Y6v=1000000000;for(var q6v=0;q6v<P6v.length;q6v++){b6v=V6v[P6v[q6v]];if(Math.abs(O6v-b6v)<Y6v){d5K.f4B(7);Y6v=Math.abs(d5K.I8K(O6v,b6v));this.magnetizedPrice=b6v;}}}w6v=this.pixelFromTick(C6v,t6v);i6v=this.pixelFromPrice(this.magnetizedPrice,this.currentPanel);f6v=this.chart.tempCanvas.context;f6v.beginPath();f6v.lineWidth=1;d5K.f4B(61);var Y7X=d5K.z8K(12,3,4,19);d5K.f4B(7);var y7X=d5K.I8K(22,20);k6v=Math.max(this.layout.candleWidth,Y7X)/y7X;f6v.arc(w6v,i6v,k6v,0,2*Math.PI,!{});f6v.fillStyle=n4h;f6v.strokeStyle=Z4h;f6v.fill();f6v.stroke();f6v.closePath();}this.runAppend("magnetize",arguments);};x3.prototype.positionCrosshairsAtPointer=function(){var r4h,j6v,d6v,y6v;r4h="p";r4h+="x";if(!this.currentPanel){return;}j6v=this.currentPanel.chart;d6v=this.container.getBoundingClientRect();this.top=d6v.top;this.left=d6v.left;this.right=this.left+this.width;this.bottom=this.top+this.height;y6v=this.tickFromPixel(this.backOutX(x3.crosshairX),j6v);this.cy=this.crossYActualPos=this.backOutY(x3.crosshairY);this.cx=this.backOutX(x3.crosshairX);this.controls.crossX.style.left=this.pixelFromTick(y6v,j6v)-0.5+"px";this.controls.crossY.style.top=this.backOutY(x3.crosshairY)+r4h;this.updateChartAccessories();};x3.prototype.doDisplayCrosshairs=function(){var E4h,a7h,g2h,O2h,v4h;E4h="doDisplayCross";E4h+="h";E4h+="airs";d5K.m3();if(this.runPrepend("doDisplayCrosshairs",arguments)){return;}if(this.displayInitialized){if(!this.layout.crosshair&&(this.currentVectorParameters.vectorType===""||!this.currentVectorParameters.vectorType)){this.undisplayCrosshairs();}else if(a3.Drawing[this.currentVectorParameters.vectorType]&&new a3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.undisplayCrosshairs();}else{if(this.controls.crossX.style.display!==""){this.controls.crossX.style.display="";this.controls.crossY.style.display="";if(this.preferences.magnet&&this.currentVectorParameters.vectorType){a3.unappendClassName(this.container,"stx-crosshair-on");;}else{a3.appendClassName(this.container,"stx-crosshair-on");a7h=-1091692970;g2h=605269077;O2h=2;for(var F2h=1;d5K.c0h(F2h.toString(),F2h.toString().length,81764)!==a7h;F2h++){;O2h+=2;}if(d5K.c0h(O2h.toString(),O2h.toString().length,2437)!==g2h){;}}}if(this.controls.floatDate&&!x3.hideDates()){v4h="bl";v4h+="oc";v4h+="k";this.controls.floatDate.style.display=v4h;}}}this.runAppend(E4h,arguments);};x3.prototype.undisplayCrosshairs=function(){var J4h,S4h;J4h="undisplayCrossh";J4h+="airs";if(this.runPrepend(J4h,arguments)){return;}if(this.controls.crossX){if(this.controls.crossX.style.display!="none"){S4h="n";S4h+="o";S4h+="ne";this.controls.crossX.style.display="none";this.controls.crossY.style.display=S4h;}}if(this.displayInitialized&&this.controls.floatDate){this.controls.floatDate.style.display="none";}a3.unappendClassName(this.container,"stx-crosshair-on");if(this.floatCanvas&&this.floatCanvas.isDirty){a3.clearCanvas(this.floatCanvas,this);}this.runAppend("undisplayCrosshairs",arguments);};x3.prototype.modalBegin=function(){this.openDialog="modal";this.undisplayCrosshairs();};x3.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0;this.openDialog="";this.doDisplayCrosshairs();};x3.prototype.updateChartAccessories=function(){var B4h,I6v,T6v,z6v,L6v,o6v,R6v,i2h,A2h,k2h;B4h="updateChart";B4h+="Accessories";if(this.runPrepend(B4h,arguments)){return;}this.accessoryTimer=null;this.lastAccessoryUpdate=new Date().getTime();I6v=this.controls.floatDate;if(I6v){T6v=this.currentPanel;if(!T6v){T6v=this.chart.panel;}if(T6v){z6v=T6v.chart;L6v=this.tickFromPixel(this.backOutX(x3.crosshairX),z6v);o6v=this.xAxisAsFooter===!!{}?0:this.chart.canvasHeight-T6v.chart.bottom;R6v=this.pixelFromTick(L6v,z6v)-I6v.offsetWidth/2-0.5;if(R6v<0){R6v=0;}i2h=+"1160440280";A2h=1063417055;k2h=2;for(var V2h=1;d5K.c0h(V2h.toString(),V2h.toString().length,56835)!==i2h;V2h++){d5K.K4B(0);I6v.style.left=d5K.I8K(R6v,"px");d5K.f4B(0);I6v.style.bottom=d5K.I8K(o6v,"px");k2h+=2;}if(d5K.D0h(k2h.toString(),k2h.toString().length,80267)!==A2h){d5K.f4B(62);I6v.style.left=d5K.I8K("px",R6v);d5K.f4B(5);I6v.style.bottom=d5K.z8K(o6v,"px");}}}this.headsUpHR();this.runAppend("updateChartAccessories",arguments);};x3.prototype.mousemove=function(Q6v){var h4h,l6v;h4h="mo";h4h+="usemov";h4h+="e";l6v=Q6v?Q6v:event;x3.crosshairX=l6v.clientX;x3.crosshairY=l6v.clientY;if(this.runPrepend("mousemove",arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}this.mousemoveinner(l6v.clientX,l6v.clientY);this.runAppend(h4h,arguments);};x3.prototype.setResizeTimer=function(n1v){this.resizeDetectMS=n1v;d5K.r3();if(n1v){if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}this.resizeTimeout=window.setInterval(g1v(this),n1v);}else{if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}this.resizeTimeout=null;}function g1v(h1v){d5K.m3();return function(){if(!h1v.chart.canvas){return;}d5K.r3();if(!a3.isAndroid){if(h1v.chart.canvas.height!=Math.floor(h1v.devicePixelRatio*h1v.chart.container.clientHeight)||h1v.chart.canvas.width!=Math.floor(h1v.devicePixelRatio*h1v.chart.container.clientWidth)){h1v.resizeChart();return;}}};}};x3.prototype.whichYAxis=function(X1v,m1v){var a4h,N1v,r1v;a4h="un";a4h+="def";a4h+="i";a4h+="ned";if(typeof m1v===a4h){m1v=this.cx;}if(X1v){N1v=X1v.yaxisLHS.concat(X1v.yaxisRHS);for(var D1v=0;D1v<N1v.length;D1v++){r1v=N1v[D1v];if(r1v.left<=m1v&&r1v.left+r1v.width>=m1v){return r1v;}}}return this.chart.panel.yAxis;};x3[R4B][T4B]=function(t1v,Z1v){d5K.K4L=function(v4L){if(d5K)return d5K.j4L(v4L);};d5K.Q4L=function(F4L){if(d5K&&F4L)return d5K.H4L(F4L);};d5K.b4L=function(M4L){if(d5K)return d5K.j4L(M4L);};d5K.I4L=function(t4L){if(d5K&&t4L)return d5K.H4L(t4L);};d5K.E4L=function(u4L){if(d5K)return d5K.H4L(u4L);};d5K.l4L=function(d4L){if(d5K&&d4L)return d5K.j4L(d4L);};var K9B=d5K.l4L("15ee")?"":"shift";var p9B=d5K.E4L("9675")?"measure":"";var x4B=d5K.W4L("9884")?1362677415:3279239917;var Z2B=d5K.s4L("ef2b")?"":"zoom-y";var v2B=d5K.e4L("f196")?"indexOf":"";var W2B=d5K.h4L("f1ec")?53:1.1;var E4B=d5K.I4L("bd58")?1519057977:9614677347;var p1B=d5K.V4L("145a")?"":"dataSet";var N1B="repositioningBaseline";var I4B=d5K.b4L("8976")?"":"1";var b2B=d5K.Q4L("8bed")?"":"allowScroll";var j2B="0.1";var Y2B=d5K.K4L("5ae4")?"grabMode":"";var d4B=d5K.Y4L("a8c5")?"devicePixelRatio":"";var o4B=711062531;var v1B=d5K.U4L("7c14")?"":"panel";var D2B=d5K.n4L("e61c")?"allowZoom":"";var v4B=10;var z2B=d5K.C2L("53d9")?"":"microscroll";var S4B=716808224;var j4B=912483477;var P1B="overlays";var z4B="hasDragged";var J9B="dispatch";var H1B="c";var g4B=1;var o2B="minimumCandleWidth";var B4B=1769949285;var S2B="layout";var X2B="f4B";var V1B="userLevel";var y1B="horizontalCrosshairField";var p4B=13;var e1B="whichPanel";var e2B="pan";var c1B="panels";var a2B="grabStartCandleWidth";var x9B="drawingLine";var P2B="p";var F1B="series";var r4B="clientWidth";var N4B="canvas";var n2B="a";var V2B="c0h";var T9B="repositioningDrawing";var X9B="crossY";var Y1B="currentPanel";var Z4B=22904;var d9B="findHighlights";var I1B="grabStartScrollX";var u9B="magnetize";var w9B="setCrosshairColors";var g9B="move";var R2B="round";var q1B="backOutY";var N2B="pinchingCenter";var x1B="overXAxis";var M4B=14682;var d2B="span";var h2B="zoom-x";var y4B=75354;var h4B=28212;var K2B="scroll";var O4B=100;var c2B="setCandleWidth";var k9B="panelName";var s2B="whitespace";var O1B="art";var Q2B="1038622851";var B1B="grabbingScreen";var q9B="r3";var a9B="dragToDraw";var i2B="yToleranceBroken";var e9B="render";var Z1B="tickFromPixel";var L4B="left";var O9B="style";var A4B="width";var H9B="controls";var G4B=25;var f2B="grabStartY";var s9B="drawTemporaryPanel";var A1B="anyHighlighted";var o1B="pixelFromPriceTransform";var n1B="highlight";var S9B="accessoryTimer";var o9B="doDisplayCrosshairs";var C9B="repositioner";var Z9B=0.5;var z1B="grabStartX";var t1B="vectorType";var h9B="px";var k1B="resizingPanel";var y9B="Drawing";var f1B="crosshairY";var X4B=43530;var E2B=0.1;var q2B="abs";var k4B="chart";var l9B="runAppend";var M1B="crosshairTick";var V9B="resizePanels";var M9B="pixelFromTick";var U9B="useAnimation";var T1B="displayCrosshairs";var H2B="";var t4B="cancelLongHold";var q4B=2;var w2B="I8K";var Y4B=7;var B2B="ipad";var j9B="z8K";var l4B="clientHeight";var W1B="overYAxis";var X1B="name";var f9B="initialWhitespace";var Q1B="currentVectorParameters";var A2B="grabbingPanel";var W4B=1710669877;var e4B=9;var C4B="isIOS7or8";var Y9B="activeDrawing";var U2B="grabOverrideClick";var l1B="draw";var P4B="runPrepend";var V4B="height";var c9B="reposition";var B9B="getTime";var l2B="whichYAxis";var a4B=84299;var i1B="magnet";var E9B="touchDevice";var T2B=0.499;var G1B="h";var Q4B="bottom";var I2B="micropixels";var G9B="crossX";var m1B="adjustIfNecessary";var u2B=null;var r2B="grabStartZoom";var v9B="context";var n4B="getBoundingClientRect";var s4B="floor";var J1B="cy";var b1B="tempCanvas";var b4B="resizeChart";var s1B="valueFromPixelUntransform";var h1B="valueFromPixel";var j1B="insideChart";var M2B="toString";var L2B="yTolerance";var C2B="0.499";var R1B="undisplayCrosshairs";var u4B="container";var w1B="preferences";var i4B="right";var d1B="now";var L1B="displaySticky";var x2B=0.9;var m2B="candleWidth";var E1B="yAxis";var g1B="crossYActualPos";var g2B="0";var S1B="crosshairValue";var c4B="isAndroid";var R9B="lastAccessoryUpdate";var t2B="28420";var m9B="K4B";var w4B=75018;var G2B="2";var p2B="zoom";var r1B="clearCanvas";var D4B=5;var J2B="grabStartScrollY";var C1B="baseline";var F2B="n";var u1B="lastDraw";var F4B="top";var U4B=3;var O2B="D0h";var D9B="requestAnimationFrame";var W9B="updateChartAccessories";var m4B=881542503;var K1B="crosshairX";var y2B="maxTicks";var U1B="cx";var k2B="ipadMaxTicks";var H4B=19;var D1B="backOutX";var N9B="magnetizedPrice";var a1B="length";var J4B=0;var J1v,E1v,M1v,u1v,x1v,g9X,S1v,v1v,s1v,F1v,W1v,v8h,E8h,J8h,K1v,B1v,c1v,G1v,A1v,H1v,p1v,k7h,q7h,V7h,U1v,e1v,O9X,l3h,K3h,c3h,f1v,X3h,U3h,u3h,a1v;if(!this[k4B][N4B]){return;}if(!a3[c4B]&&!a3[C4B]){if(this[k4B][N4B][V4B]!=Math[s4B](this[d4B]*this[k4B][u4B][l4B])||this[k4B][N4B][A4B]!=Math[s4B](this[d4B]*this[k4B][u4B][r4B])){this[b4B]();return;}}if(this[P4B](T4B,arguments)){return;}E1v=this[u4B][n4B]();this[F4B]=E1v[F4B];this[L4B]=E1v[L4B];this[i4B]=this[L4B]+this[A4B];this[Q4B]=this[F4B]+this[V4B];this[t4B]=!!{};this[z4B]=!!I4B;x3[K1B]=t1v;x3[f1B]=Z1v;M1v=this[J1B]=this[g1B]=this[q1B](x3[f1B]);u1v=this[U1B]=this[D1B](x3[K1B]);this[Y1B]=this[e1B](M1v);if(!this[Y1B]){this[Y1B]=this[k4B][v1B];}if(!this[Y1B]){return;}x1v=this[Y1B][k4B];if(x1v[p1B]){g9X=H1B;g9X+=G1B;g9X+=O1B;this[M1B]=this[Z1B](u1v,x1v);J1v=this[h1B](M1v,this[Y1B]);S1v=this[Y1B][X1B]==g9X?this[w1B][y1B]:this[Y1B][y1B];if(S1v&&this[M1B]<x1v[p1B][a1B]&&this[M1B]>-g4B){J1v=x1v[p1B][this[M1B]][S1v];this[g1B]=this[o1B](J1v,this[Y1B]);}this[S1B]=this[m1B](this[Y1B],this[M1B],J1v);}if(x3[K1B]>=this[L4B]&&x3[K1B]<=this[i4B]&&x3[f1B]>=this[F4B]&&x3[f1B]<=this[Q4B]){x3[j1B]=!![];}else{x3[j1B]=!{};}this[x1B]=x3[f1B]>=this[F4B]+this[k4B][v1B][E1B][Q4B]&&x3[f1B]<=this[F4B]+this[k4B][v1B][Q4B]&&x3[j1B];this[W1B]=(this[U1B]>=this[Y1B][i4B]||this[U1B]<=this[Y1B][L4B])&&x3[j1B];if(this[x1B]||this[W1B]||!x3[j1B]&&!this[B1B]){this[R1B]();if(!this[x1B]&&!this[W1B]){return;};}if(!this[T1B]&&!x3[k1B]){this[R1B]();return;}if(this[N1B]){a1v=this[c1B][this[k4B][v1B][X1B]];this[k4B][C1B][V1B]=this[m1B](a1v,this[M1B],this[s1B](this[q1B](x3[f1B]),a1v));if(Date[d1B]()-this[N1B][u1B]>O4B){this[l1B]();this[N1B][u1B]=Date[d1B]();}return;}if(this[B1B]&&!x3[k1B]){if(this[A1B]){a3[r1B](this[k4B][b1B],this);this[A1B]=!{};for(v1v in this[P1B]){this[P1B][v1v][n1B]=!I4B;}for(v1v in x1v[F1B]){x1v[F1B][v1v][n1B]=!{};}this[L1B]();}if(this[w1B][i1B]&&this[Q1B][t1B]){a3[r1B](this[k4B][b1B],this);}if(this[z1B]==-(I4B^J4B)){this[z1B]=x3[K1B];this[I1B]=x1v[K2B];}if(this[f2B]==-g4B){this[f2B]=x3[f1B];this[J2B]=x1v[v1B][E1B][K2B];}s1v=x3[K1B]-this[z1B];F1v=x3[f1B]-this[f2B];if(s1v===g2B*g4B&&F1v===J4B){return;}if(Math[q2B](s1v)+Math[q2B](F1v)>D4B){this[U2B]=!!I4B;}if(this[D2B]&&this[Y2B]!=e2B&&(this[Y2B][v2B](p2B)===J4B||this[x1B]||this[W1B])){if(this[Y2B]===H2B){v8h=-m4B;E8h=o4B;J8h=+G2B;for(var B8h=I4B^J4B;d5K[O2B](B8h[M2B](),B8h[M2B]()[a1B],M4B)!==v8h;B8h++){if(this[x1B]){this[Y2B]=Z2B;}else if(this[W1B]){this[Y2B]=Z2B;}J8h+=q4B;}if(d5K[O2B](J8h[M2B](),J8h[M2B]()[a1B],y4B)!==E8h){if(this[x1B]){this[Y2B]=h2B;}else if(this[W1B]){this[Y2B]=Z2B;}}}if(this[Y2B]==h2B){F1v=J4B;}else if(this[Y2B]==Z2B){s1v=J4B;}d5K[X2B](p4B);W1v=d5K[w2B](s1v,G4B);K1v=!!{};if(x1v[K2B]<=x1v[y2B]){K1v=!!H2B;}B1v=this[a2B]+W1v;if(B1v<this[o2B]){B1v=this[o2B];}c1v=(this[S2B][m2B]-B1v)/this[S2B][m2B];if(c1v>j2B*g4B){B1v=this[S2B][m2B]*x2B;}else if(c1v<-E2B){B1v=this[S2B][m2B]*W2B;}if(a3[B2B]){if(Math[R2B](this[k4B][A4B]/this[S2B][m2B]-T2B)-g4B<x3[k2B]&&Math[R2B](this[k4B][A4B]/B1v-T2B)-g4B>x3[k2B]){return;}}if(this[N2B]){A1v=this[D1B](this[N2B]);H1v=this[Z1B](A1v,x1v);this[c2B](B1v,x1v);p1v=this[Z1B](A1v,x1v);d5K[X2B](Y4B);x1v[K2B]+=Math[s4B](d5K[w2B](p1v,H1v));}else if(K1v){G1v=Math[R2B](this[k4B][A4B]/B1v-C2B*g4B);if(G1v!=x1v[y2B]){this[c2B](B1v,x1v);k7h=x4B;q7h=-E4B;V7h=q4B;for(var M7h=+I4B;d5K[V2B](M7h[M2B](),M7h[M2B]()[a1B],X4B)!==k7h;M7h++){x1v[K2B]+=Math[R2B]((G1v-x1v[y2B])/+G2B);V7h+=q4B;}if(d5K[V2B](V7h[M2B](),V7h[M2B]()[a1B],w4B)!==q7h){x1v[K2B]-=Math[R2B](G1v*x1v[y2B]+U4B);}}}else{G1v=Math[R2B](this[k4B][A4B]/B1v-+C2B);if(G1v!=Math[R2B](this[k4B][A4B]/this[S2B][m2B]-T2B)){this[c2B](B1v,x1v);U1v=Math[R2B](this[w1B][s2B]/this[S2B][m2B]);x1v[K2B]=x1v[y2B]-U1v;}}this[S2B][d2B]=u2B;e1v=this[l2B](this[A2B],this[U1B]);if(this[W1B]){e1v[p2B]=Math[R2B](this[r2B]+F1v);if(this[r2B]<e1v[V4B]){if(e1v[p2B]>=e1v[V4B]){d5K[X2B](p4B);var w7X=d5K[w2B](H4B,H4B);e1v[p2B]=e1v[V4B]-w7X;}}else{if(e1v[p2B]<=e1v[V4B]){e1v[p2B]=e1v[V4B]+g4B;}}}}else{if(this[b2B]){O9X=P2B;O9X+=n2B;O9X+=F2B;if(Math[q2B](F1v)<this[L2B]){if(!this[i2B]){F1v=J4B;if(s1v===g2B<<S4B){return;}}}else{l3h=-j4B;K3h=-+Q2B;c3h=q4B;for(var T3h=g4B;d5K[O2B](T3h[M2B](),T3h[M2B]()[a1B],a4B)!==l3h;T3h++){this[i2B]=!{};c3h+=q4B;}if(d5K[O2B](c3h[M2B](),c3h[M2B]()[a1B],+t2B)!==K3h){this[i2B]=!!J4B;}this[i2B]=!J4B;}this[Y2B]=O9X;W1v=Math[R2B](s1v/this[S2B][m2B]);this[z2B]=W1v-s1v/this[S2B][m2B];this[I2B]=this[S2B][m2B]*this[z2B]*-(I4B^J4B);if(this[K9B]){W1v*=D4B;}x1v[K2B]=this[I1B]+W1v;if(x1v[K2B]<g4B){x1v[K2B]=g4B;}if(x1v[K2B]>=x1v[y2B]){this[w1B][s2B]=this[f9B];}else{this[w1B][s2B]=(x1v[y2B]-x1v[K2B])*this[S2B][m2B];}if(this[Y1B][X1B]==x1v[X1B]){this[k4B][v1B][E1B][K2B]=this[J2B]+F1v;}}this[J9B](g9B,{stx:this,panel:this[Y1B],x:this[U1B],y:this[J1B],grab:this[B1B]});}f1v=function(C1v){return function(){d5K[q9B]();C1v[l1B]();};};if(x3[U9B]){window[D9B](f1v(this));;}else{this[l1B]();}if(this[Y9B]){a3[r1B](this[k4B][b1B],this);this[Y9B][e9B](this[k4B][b1B][v9B]);this[Y9B][p9B]();}this[R1B]();return;}else{this[Y2B]=H2B;}this[A2B]=this[Y1B];d5K[q9B]();if(this[x1B]||this[W1B]){return;}this[H9B][G9B][O9B][L4B]=this[M9B](this[M1B],x1v)-Z9B+h9B;this[H9B][X9B][O9B][F4B]=this[g1B]+h9B;this[w9B]();if(x3[j1B]&&!x3[k1B]){if(!a3[y9B][this[Q1B][t1B]]||!new a3[y9B][this[Q1B][t1B]]()[a9B]){this[o9B]();}X3h=-B4B;U3h=-W4B;u3h=q4B;for(var C3h=g4B;d5K[O2B](C3h[M2B](),C3h[M2B]()[a1B],h4B)!==X3h;C3h++){if(this[S9B]!==u2B){clearTimeout(this[S9B]);}d5K[m9B](e4B);u3h+=d5K[j9B](J4B,G2B);}if(d5K[V2B](u3h[M2B](),u3h[M2B]()[a1B],Z4B)!==U3h){if(this[S9B]!=g4B){clearTimeout(this[S9B]);}}if(x3[x9B]||!a3[E9B]){this[W9B]();}else{if(new Date()[B9B]()-this[R9B]>O4B){this[W9B]();}this[S9B]=setTimeout(function(V1v){return function(){V1v[W9B]();};}(this),v4B);}}else{this[R1B]();}if(this[T9B]){a1v=this[c1B][this[T9B][k9B]];J1v=this[m1B](a1v,this[M1B],this[s1B](this[q1B](x3[f1B]),a1v));if(this[w1B][i1B]&&this[N9B]&&a1v[X1B]==a1v[k4B][X1B]){J1v=this[m1B](a1v,this[M1B],this[N9B]);}a3[r1B](this[k4B][b1B],this);this[T9B][c9B](this[k4B][b1B][v9B],this[T9B][C9B],this[M1B],J1v);if(this[T9B][p9B]){this[T9B][p9B]();}}else if(x3[x9B]){if(this[Y9B]){a1v=this[c1B][this[Y9B][k9B]];J1v=this[m1B](a1v,this[M1B],this[s1B](this[q1B](x3[f1B]),a1v));if(this[w1B][i1B]&&this[N9B]&&a1v[X1B]==a1v[k4B][X1B]){J1v=this[m1B](a1v,this[M1B],this[N9B]);}a3[r1B](this[k4B][b1B],this);this[Y9B][g9B](this[k4B][b1B][v9B],this[M1B],J1v);if(this[Y9B][p9B]){this[Y9B][p9B]();}}}else if(x3[k1B]){this[V9B]();this[s9B]();}else if(x3[j1B]){this[d9B]();}if(x3[j1B]){this[J9B](g9B,{stx:this,panel:this[Y1B],x:this[U1B],y:this[J1B],grab:this[B1B]});this[d9B]();}if(this[w1B][i1B]&&this[Q1B][t1B]){if(!x3[x9B]&&!this[A1B]){a3[r1B](this[k4B][b1B]);}this[u9B]();}this[l9B](T4B,arguments);};x3.prototype.findHighlights=function(B4v,N4v){var k1v,w1v,I1v,P1v,y1v,d1v,l1v,x4v,i1v,n4v,g4v,a4v,Y1v,b1v,q1v,D4v,T1v,O1v,r4v,m4v,j1v,R1v,h4v;k1v=10;if(B4v){k1v=30;}w1v=this.cy;I1v=this.cx;if(!this.currentPanel){return;}if(this.activeDrawing){return;}P1v=this.currentPanel.chart;this.anyHighlighted=![];if(this.preferences.magnet&&!this.activeDrawing){a3.clearCanvas(this.chart.tempCanvas,this);}y1v=![];d1v=null;l1v=["","",!![],null,"drawing"];x4v={x0:this.tickFromPixel(I1v-k1v,P1v),x1:this.tickFromPixel(I1v+k1v,P1v),y0:this.valueFromPixelUntransform(w1v-k1v,this.currentPanel),y1:this.valueFromPixelUntransform(w1v+k1v,this.currentPanel)};for(var o1v=0;o1v<this.drawingObjects.length;o1v++){i1v=this.drawingObjects[o1v];if(i1v.permanent)continue;n4v=i1v.highlighted;g4v=i1v.panelName==this.currentPanel.name;i1v.repositioner=i1v.intersected(this.crosshairTick,this.crosshairValue,x4v);g4v=g4v&&i1v.repositioner;if(!N4v&&g4v){if(n4v){d1v=i1v;}else if(n4v!=i1v.highlight(!![])){if(!d1v){d1v=i1v;}y1v=!![];}this.anyHighlighted=!!{};}else{if(n4v!=i1v.highlight(!{})){y1v=!![];}}}a4v=![];for(Y1v in this.overlays){b1v=this.overlays[Y1v];b1v.prev=b1v.highlight;b1v.highlight=!{};}for(Y1v in P1v.seriesRenderers){D4v=P1v.seriesRenderers[Y1v];for(var Q1v=0;Q1v<D4v.seriesParams.length;Q1v++){q1v=D4v.seriesParams[Q1v];q1v.prev=q1v.highlight;q1v.highlight=!{};}}if(!N4v){T1v=this.barFromPixel(I1v);if(T1v<P1v.dataSegment.length){for(Y1v in this.overlays){b1v=this.overlays[Y1v];if(b1v.panel!=this.currentPanel.name)continue;if(b1v.libraryEntry.isHighlighted&&b1v.libraryEntry.isHighlighted(this,I1v,w1v)){b1v.highlight=!"";this.anyHighlighted=!"";continue;}r4v=P1v.dataSegment[T1v];if(!r4v)continue;for(var X4v in this.overlays[Y1v].outputMap){m4v=r4v[X4v];O1v=0;if(this.currentPanel.name==P1v.name){O1v=this.pixelFromPriceTransform(m4v,this.currentPanel);}else{O1v=this.pixelFromPrice(m4v,this.currentPanel);}if(w1v-k1v<O1v&&w1v+k1v>O1v){b1v.highlight=!!{};this.anyHighlighted=!!"1";break;}}if(b1v.highlight)break;;}for(Y1v in P1v.seriesRenderers){j1v=P1v.seriesRenderers[Y1v];if(!j1v.params.highlightable)continue;for(var z1v=0;z1v<j1v.seriesParams.length;z1v++){q1v=j1v.seriesParams[z1v];O1v=j1v.caches[q1v.field]&&j1v.caches[q1v.field][T1v];if(!O1v&&O1v!==0)continue;if(w1v-k1v<O1v&&w1v+k1v>O1v){q1v.highlight=!!{};this.anyHighlighted=!0;}else if((j1v.params.subtype=="step"||q1v.type=="step")&&T1v>0){R1v=j1v.caches[q1v.field]&&j1v.caches[q1v.field][T1v-1];if((R1v||R1v===0)&&(w1v>O1v&&w1v<R1v)||w1v<O1v&&w1v>R1v){q1v.highlight=!![];this.anyHighlighted=!![];}}}}}}for(Y1v in this.overlays){b1v=this.overlays[Y1v];if(b1v.highlight){this.anyHighlighted=!!1;l1v=[b1v.inputs.display?b1v.inputs.display:b1v.name,null,null,b1v.permanent,"study"];d1v=null;}if(b1v.prev!=b1v.highlight){y1v=!![];}}for(Y1v in P1v.seriesRenderers){h4v=P1v.seriesRenderers[Y1v];if(!h4v.params.highlightable)continue;for(var L1v=0;L1v<h4v.seriesParams.length;L1v++){q1v=h4v.seriesParams[L1v];if(q1v.highlight){this.anyHighlighted=!!{};l1v=[q1v.display,q1v.color,!{},q1v.permanent,"series"];d1v=null;}if(q1v.prev!=q1v.highlight){y1v=!"";}}}if(y1v){this.draw();this.displaySticky.apply(this,l1v);this.clearMeasure();if(d1v){d1v.measure();}}if(!this.anyHighlighted){this.setMeasure();}};x3.prototype.positionSticky=function(e4v){var J4v,F4v;J4v=Math.max(this.cy-e4v.offsetHeight-+"60",0);F4v=Math.min(this.chart.canvasWidth-(this.cx-+"50"),this.chart.canvasWidth-e4v.offsetWidth);d5K.f4B(0);e4v.style.top=d5K.I8K(J4v,"px");d5K.f4B(0);e4v.style.right=d5K.I8K(F4v,"px");};x3.prototype.displaySticky=function(M4v,S4v,K4v,c4v,E4v){var F9X,H9X,W4v,s4v,A4v,v4v,G4v,f7h,P7h,z7h,A9X,i9X,q9X,k9X,L3h,G3h,t3h,V9X;F9X="#mous";F9X+="eDeleteInstru";F9X+="ctions";H9X="#mSt";H9X+="ickyIn";H9X+="te";H9X+="rior";W4v=this.controls.mSticky;if(!W4v){return;}d5K.r3();s4v=B3(H9X,W4v);if(!s4v){return;}A4v=B3("#overlayTrashCan",W4v);v4v=B3(".overlayEdit",W4v);G4v=B3(F9X,W4v);if(!K4v&&!M4v){d5K.f4B(39);f7h=-d5K.z8K("1145785467",1227197216);P7h=1485226281;z7h=2;for(var Y7h=1;d5K.c0h(Y7h.toString(),Y7h.toString().length,98749)!==f7h;Y7h++){s4v.innerHTML="";W4v.style.display="none";z7h+=2;}if(d5K.c0h(z7h.toString(),z7h.toString().length,1240)!==P7h){A9X="n";A9X+="o";A9X+="n";A9X+="e";i9X="non";i9X+="e";s4v.innerHTML=i9X;W4v.style.display=A9X;}if(a3.touchDevice){if(A4v){A4v.style.display="none";}if(v4v){v4v.style.display="none";}}else if(!a3.touchDevice){if(G4v){G4v.style.display="none";}}}else{q9X="#m";q9X+="StickyRightClic";q9X+="k";if(!M4v){M4v="";}if(K4v&&!M4v){k9X="n";k9X+="o";k9X+="n";k9X+="e";s4v.style.backgroundColor="";s4v.style.color="";s4v.style.display=k9X;}else if(S4v){s4v.style.backgroundColor=S4v;s4v.style.color=a3.chooseForegroundColor(S4v);s4v.style.display="inline-block";}else{s4v.style.backgroundColor="";s4v.style.color="";L3h=-1290721029;G3h=2625808;t3h=+"2";for(var n3h=1;d5K.D0h(n3h.toString(),n3h.toString().length,34496)!==L3h;n3h++){s4v.style.display="inline-block";t3h+=2;}if(d5K.D0h(t3h.toString(),t3h.toString().length,36640)!==G3h){s4v.style.display="";}}s4v.innerHTML=M4v;if(E4v){d5K.K4B(0);B3(q9X,W4v).className=d5K.z8K("rightclick_",E4v);}W4v.style.display="inline-block";this.positionSticky(W4v);if(c4v){if(A4v){A4v.style.display="none";}if(v4v){v4v.style.display="none";}if(G4v){G4v.style.display="none";}}else if(a3.touchDevice){V9X="i";V9X+="nline";V9X+="-";V9X+="block";if(A4v){A4v.style.display="inline-block";}if(v4v){v4v.style.display=V9X;}if(G4v){G4v.style.display="none";}}else if(!a3.touchDevice){if(G4v){G4v.style.display="block";}}}};x3.prototype.setMeasure=function(U4v,Z4v,b4v,q4v,V4v){var b9X,u4v,p4v,M9X,t4v,H4v,f4v,C4v,N9X;b9X="setMe";b9X+="asur";b9X+="e";if(this.runPrepend(b9X,arguments)){return;}u4v=W3("mMeasure");p4v="";if(!U4v){if(u4v&&u4v.className!="measureUnlit"){u4v.className="measureUnlit";}if(!this.anyHighlighted&&this.currentVectorParameters.vectorType===""){this.clearMeasure();}}else{M9X=" ";M9X+="(";t4v=Math.round(Math.abs(U4v-Z4v)*this.chart.roundit)/this.chart.roundit;if(this.internationalizer){p4v+=this.internationalizer.numbers.format(t4v);}else{p4v+=t4v;}d5K.f4B(29);H4v=d5K.I8K(U4v,U4v,Z4v);if(Math.abs(H4v)>0.1){d5K.K4B(5);H4v=Math.round(d5K.I8K(H4v,100));}else if(Math.abs(H4v)>0.01){H4v=Math.round(H4v*+"1000")/+"10";}else{d5K.K4B(63);var p7X=d5K.z8K(40000,6,10,20003,50000);H4v=Math.round(H4v*p7X)/100;}if(this.internationalizer){d5K.K4B(13);H4v=this.internationalizer.percent.format(d5K.z8K(H4v,100));}else{d5K.f4B(0);H4v=d5K.I8K(H4v,"%");}d5K.K4B(28);p4v+=d5K.z8K(M9X,H4v,")");d5K.K4B(7);f4v=Math.abs(d5K.z8K(q4v,b4v));d5K.K4B(64);var o7X=d5K.z8K(100,5,20);f4v=Math.round(f4v)+o7X;C4v=this.translateIf("Bars");d5K.f4B(65);p4v+=d5K.z8K(f4v," ",999.6>=(444,2118)?"k":" ",C4v);if(u4v){if(u4v.className!="measureLit"){u4v.className="measureLit";}u4v.innerHTML=p4v;}}if(this.activeDrawing){return;}u4v=this.controls.mSticky;if(u4v){if(V4v){u4v.style.display="inline-block";u4v.children[0].style.display="inline-block";if(U4v){u4v.children[0].innerHTML=p4v;;}this.positionSticky(u4v);}else{N9X="non";N9X+="e";u4v.style.display=N9X;u4v.children[0].innerHTML="";}}this.runAppend("setMeasure",arguments);};x3.prototype.clearMeasure=function(){var Y4v;Y4v=W3("mMeasure");d5K.m3();if(Y4v){if(Y4v.className!="measureUnlit"){Y4v.className="measureUnlit";}Y4v.innerHTML="";}};x3.prototype.drawTemporaryPanel=function(){var x9X,P4v,O4v;x9X="stx_p";x9X+="anel_drag";d5K.m3();P4v=Math.round(x3.resizingPanel.right-3)+0.5;a3.clearCanvas(this.chart.tempCanvas,this);O4v=x3.crosshairY-this.top;this.plotLine(x3.resizingPanel.left,P4v,O4v,O4v,this.canvasStyle(x9X),"segment",this.chart.tempCanvas.context,!!"",{});d5K.f4B(7);var l7X=d5K.z8K(32,30);x3.resizingPanel.handle.style.top=O4v-x3.resizingPanel.handle.offsetHeight/("2"|l7X)+"px";};x3.prototype.setTrashCan=function(){var w4v,U9X,X9X;if(a3.touchDevice){w4v=this.controls.mSticky;if(w4v){U9X="p";U9X+="x";X9X="n";X9X+="o";X9X+="n";X9X+="e";w4v.style.display="inline-block";w4v.children[0].style.display=X9X;w4v.children[1].style.display="inline-block";if(w4v.children[2]){w4v.children["2"&2147483647].style.display="none";}d5K.K4B(30);var K7X=d5K.I8K(16,120,7,56);w4v.style.top=this.backOutY(x3.crosshairY)-K7X+"px";d5K.K4B(0);var c7X=d5K.z8K(47,3);w4v.style.right=this.chart.canvasWidth-(this.backOutX(x3.crosshairX)-c7X)+U9X;}}};x3.prototype.pixelFromBar=function(k4v,j4v){var x5h,X5h,U5h,i4v;if(!j4v){j4v=this.chart;}x5h=-203119162;X5h=-1677922288;U5h=2;for(var e5h="1"^0;d5K.c0h(e5h.toString(),e5h.toString().length,73)!==x5h;e5h++){i4v=7;d5K.f4B(33);U5h+=d5K.z8K("2",670776064);}if(d5K.D0h(U5h.toString(),U5h.toString().length,71245)!==X5h){i4v=+"5";}d5K.f4B(33);i4v=d5K.I8K("0",1579610656);if(this.chart.dataSegment&&this.chart.dataSegment[k4v]&&this.chart.dataSegment[k4v].leftOffset){i4v=this.chart.dataSegment[k4v].leftOffset;}else{i4v=(k4v+ +"0.5")*this.layout.candleWidth;}d5K.f4B(66);var D7X=d5K.I8K(21,5,15);i4v=j4v.panel.left+Math.floor(i4v+this.micropixels)-D7X;return i4v;};x3.prototype.barFromPixel=function(z4v,I4v){var T4v,R4v,y4v,L4v,o4v,l4v,g8h,O8h,H8h;if(!I4v){I4v=this.chart;}d5K.r3();if(this.layout.chartType=="volume_candle"&&this.chart.dataSegment){T4v=z4v-I4v.panel.left-this.micropixels;R4v=2;y4v=Math.round(this.chart.dataSegment.length/R4v);d5K.f4B(1);var T7X=d5K.I8K(18,1,18);d5K.K4B(67);var L7X=d5K.z8K(51,4,12,1,17);d5K.f4B(68);var G7X=d5K.I8K(20,17,63,26,2);L4v=this.chart.dataSegment[this.chart.dataSegment.length-T7X].leftOffset+this.chart.dataSegment[this.chart.dataSegment.length-L7X].candleWidth/G7X;if(T4v>L4v){return this.chart.dataSegment.length+Math.floor((z4v-L4v-I4v.panel.left-this.micropixels)/this.layout.candleWidth);}else{for(var d4v=1;d4v<this.chart.dataSegment.length;d4v++){R4v*=+"2";if(!this.chart.dataSegment[y4v])break;o4v=this.chart.dataSegment[y4v].leftOffset-this.chart.dataSegment[y4v].candleWidth/2;d5K.K4B(69);var t7X=d5K.I8K(12,10,12,8);l4v=this.chart.dataSegment[y4v].leftOffset+this.chart.dataSegment[y4v].candleWidth/t7X;if(y4v===("0"&2147483647)||T4v>=o4v&&T4v<l4v)break;else if(T4v<o4v){y4v-=Math.max(1,Math.round(this.chart.dataSegment.length/R4v));}else{y4v+=Math.max(1,Math.round(this.chart.dataSegment.length/R4v));}y4v=Math.max(0,Math.min(this.chart.dataSegment.length-1,y4v));}if(!this.chart.dataSegment[y4v]){for(d4v=0;d4v<this.chart.dataSegment.length;d4v++){if(!this.chart.dataSegment[d4v])continue;if(T4v<this.chart.dataSegment[d4v].leftOffset-this.chart.dataSegment[d4v].candleWidth/2){d5K.f4B(7);return Math.max(+"0",d5K.z8K(d4v,1));}else if(T4v<this.chart.dataSegment[d4v].leftOffset+this.chart.dataSegment[d4v].candleWidth/2){return d4v;}else if(T4v>=this.chart.dataSegment[d4v].leftOffset+this.chart.dataSegment[d4v].candleWidth/2){d5K.K4B(0);return d5K.z8K(d4v,1);}}}}return y4v;}else{g8h=-10813717;O8h=-1952351057;H8h=2;for(var i8h=1;d5K.D0h(i8h.toString(),i8h.toString().length,43397)!==g8h;i8h++){return Math.floor(z4v+I4v.panel.left+this.micropixels-this.layout.candleWidth);}if(d5K.D0h(H8h.toString(),H8h.toString().length,72046)!==O8h){return Math.floor(z4v+I4v.panel.left+this.micropixels-this.layout.candleWidth);}return Math.floor((z4v-I4v.panel.left-this.micropixels)/this.layout.candleWidth);}};x3.prototype.tickFromPixel=function(g3v,Q4v){var n3v;if(!Q4v){Q4v=this.chart;}n3v=Q4v.dataSet.length-Q4v.scroll+1;d5K.m3();if(this.layout.chartType=="volume_candle"){n3v+=this.barFromPixel(g3v,Q4v);}else{n3v+=Math.floor((g3v-Q4v.panel.left-this.micropixels)/this.layout.candleWidth);}return n3v;};x3.prototype.pixelFromTick=function(m3v,h3v){var r3v,D3v,X3v,P5h,z5h,Q5h;if(!h3v){h3v=this.chart;}d5K.m3();d5K.f4B(70);var n7X=d5K.z8K(17,5899,18,11,20);r3v=m3v-h3v.dataSet.length+h3v.scroll-n7X;if(this.chart.dataSegment&&this.chart.dataSegment[r3v]&&this.chart.dataSegment[r3v].leftOffset){d5K.K4B(71);var Z7X=d5K.I8K(10,10,59,7);return h3v.panel.left+Math.floor(this.chart.dataSegment[r3v].leftOffset+this.micropixels)-Z7X;}else{D3v=+"0";X3v=0;if(this.chart.dataSegment&&this.chart.dataSegment[this.chart.dataSegment.length-1]&&this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset){if(this.chart.dataSegment.length<m3v-h3v.dataSet.length+h3v.scroll){d5K.f4B(1);var r7X=d5K.I8K(20,4,17);d5K.K4B(2);var E7X=d5K.z8K(15,2,15);D3v=this.chart.dataSegment[this.chart.dataSegment.length-r7X].leftOffset-this.chart.dataSegment[this.chart.dataSegment.length-1].candleWidth/E7X;P5h=1574761420;z5h=+"1950023676";Q5h=2;for(var y5h=1;d5K.D0h(y5h.toString(),y5h.toString().length,"19755"&2147483647)!==P5h;y5h++){X3v=this.chart.dataSegment.length;Q5h+=2;}if(d5K.D0h(Q5h.toString(),Q5h.toString().length,40110)!==z5h){X3v=this.chart.dataSegment.length;}}}d5K.K4B(13);var J7X=d5K.I8K(19,19);return D3v+h3v.panel.left+Math.floor((m3v-X3v-h3v.dataSet.length+h3v.scroll-0.5)*this.layout.candleWidth+this.micropixels)-J7X;}};x3.prototype.pixelFromDate=function(x3v,N3v){return this.pixelFromTick(this.tickFromDate(x3v,N3v),N3v);};x3.prototype.priceFromPixel=function(B3v,e3v,F3v){var W3v,a3v,J3v,s3v;if(!e3v){e3v=this.chart.panel;}W3v=e3v.chart;a3v=F3v?F3v:e3v.yAxis;B3v=a3v.bottom-B3v;d5K.m3();if(!a3v.multiplier){return null;}J3v=a3v.low+B3v/a3v.multiplier;if(a3v.semiLog){s3v=a3v.logLow+B3v*a3v.logShadow/a3v.height;J3v=Math.pow(10,s3v);}return J3v;};x3.prototype.valueFromPixel=function(v3v,G3v,M3v){var A3v;if(!G3v){G3v=this.whichPanel(v3v);}A3v=this.priceFromPixel(v3v,G3v,M3v);return A3v;};x3.prototype.valueFromPixelUntransform=function(E3v,S3v,c3v){var K3v;if(!S3v){S3v=this.whichPanel(E3v);}if(!S3v){if(E3v<="0">>703072288){S3v=this.panels[a3.first(this.panels)];}else{S3v=this.panels[a3.last(this.panels)];}}d5K.r3();K3v=this.priceFromPixel(E3v,S3v,c3v);if(S3v.chart.untransformFunc&&S3v.name==S3v.chart.name){K3v=S3v.chart.untransformFunc(this,S3v.chart,K3v);}return K3v;};x3.prototype.pixelFromPriceTransform=function(H3v,u3v,p3v){if(u3v.chart.transformFunc){H3v=u3v.chart.transformFunc(this,u3v.chart,H3v,p3v);}return this.pixelFromPrice(H3v,u3v,p3v);};x3.prototype.pixelFromPrice=function(C3v,t3v,V3v){var U3v,f3v,q3v,b3v,Z3v;if(!t3v){t3v=this.chart.panel;}U3v=V3v?V3v:t3v.yAxis;f3v=(U3v.high-C3v)*U3v.multiplier;if(U3v.semiLog){q3v=Math.max(C3v,0);b3v=Math.log(q3v)/Math.LN10;Z3v=U3v.height;f3v=Z3v-Z3v*(b3v-U3v.logLow)/U3v.logShadow;}f3v+=U3v.top;return f3v;};x3.prototype.pixelFromValueAdjusted=function(Y3v,k3v,P3v,w3v){var O3v,i3v;if(this.layout.adj||!this.charts[Y3v.name]){return this.pixelFromPriceTransform(P3v,Y3v,w3v);}O3v=Math.round(k3v);if(O3v>0&&O3v<Y3v.chart.dataSet.length&&(i3v=Y3v.chart.dataSet[O3v].ratio)){d5K.f4B(5);return this.pixelFromPriceTransform(d5K.I8K(P3v,i3v),Y3v,w3v);}return this.pixelFromPriceTransform(P3v,Y3v,w3v);};x3.prototype.adjustIfNecessary=function(j3v,I3v,d3v){var y3v,T3v;d5K.m3();if(this.layout.adj){return d3v;}if(!j3v||!this.charts[j3v.name]){return d3v;}y3v=Math.round(I3v);if(y3v>+"0"&&y3v<j3v.chart.dataSet.length&&(T3v=j3v.chart.dataSet[y3v].ratio)){d5K.K4B(13);return d5K.z8K(d3v,T3v);}return d3v;};x3.prototype.setTransform=function(R3v,z3v,L3v){R3v.transformFunc=z3v;R3v.untransformFunc=L3v;};x3.prototype.unsetTransform=function(o3v){var K2h,c2h,D2h;delete o3v.transformFunc;d5K.f4B(10);K2h=-d5K.z8K("1095938123",0);c2h=-159391844;D2h=+"2";for(var L2h="1"&2147483647;d5K.D0h(L2h.toString(),L2h.toString().length,+"45963")!==K2h;L2h++){!o3v.untransformFunc;D2h+=2;}if(d5K.c0h(D2h.toString(),D2h.toString().length,53622)!==c2h){~o3v.untransformFunc;}delete o3v.untransformFunc;for(var l3v=+"0";l3v<o3v.dataSet.length;l3v++){o3v.dataSet[l3v].transform=null;}};x3.prototype.undo=function(){var u9X,r2h,v2h,E2h,e9X;if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){u9X="stx_c";u9X+="rosshair";this.activeDrawing.abort();this.activeDrawing=null;a3.clearCanvas(this.chart.tempCanvas,this);this.draw();a3.swapClassName(this.controls.crossX,u9X,"stx_crosshair_drawing");r2h=1499276172;v2h=-+"507148300";E2h=2;for(var S2h=1;d5K.D0h(S2h.toString(),S2h.toString().length,47045)!==r2h;S2h++){a3.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing");E2h+=2;}if(d5K.c0h(E2h.toString(),E2h.toString().length,30406)!==v2h){e9X="stx_cr";e9X+="osshair_draw";e9X+="ing";a3.swapClassName(this.controls.crossY,"stx_crosshair_drawing",e9X);}x3.drawingLine=!!"";}this.runAppend("undo",arguments);};x3.prototype.undoStamp=function(Q3v,n9v){this.undoStamps.push(Q3v);this.dispatch("undoStamp",{before:Q3v,after:n9v});};x3.prototype.undoLast=function(){if(this.activeDrawing){this.undo();}else{if(this.undoStamps.length){this.drawingObjects=this.undoStamps.pop();this.changeOccurred("vector");this.draw();}}};x3.prototype.addDrawing=function(h9v){var g9v;g9v=a3.shallowClone(this.drawingObjects);this.drawingObjects.push(h9v);d5K.r3();this.undoStamp(g9v,a3.shallowClone(this.drawingObjects));};x3.prototype.plotLine=function(N9v,G9v,X9v,D9v,x9v,E9v,r9v,J9v,a9v){var d9X,W9X,R9X,C9X,H9v,U9v,K9v,S9v,W9v,f9v,m9v,V9v,q9v,A9v,M9v,c9v,u9v,e9v,v9v,s9v,t9v,C9v,Z9v,p9v,B9v,f9X;d9X="zi";d9X+="g za";d9X+="g";W9X="o";W9X+="bje";W9X+="ct";R9X="v";R9X+="er";R9X+="tica";R9X+="l";C9X="li";C9X+="n";C9X+="e";if(!a9v){a9v={};}if(a9v.pattern=="none"){return;}if(J9v===!!"1"){J9v=this.chart.panel;}if(r9v===null||typeof r9v=="undefined"){r9v=this.chart.context;}if(isNaN(N9v)||isNaN(G9v)||isNaN(X9v)||isNaN(D9v)){return;}H9v=0;U9v=this.chart.canvasHeight;K9v=0;S9v=this.right;if(J9v){U9v=J9v.yAxis.bottom;H9v=J9v.yAxis.top;K9v=J9v.left;S9v=J9v.right;}if(E9v=="ray"){d5K.K4B(12);W9v=d5K.z8K("10000000",2147483647);if(G9v<N9v){W9v=-10000000;}m9v={"x0":N9v,"x1":G9v,"y0":X9v,"y1":D9v};f9v=a3.yIntersection(m9v,W9v);G9v=W9v;D9v=f9v;}if(E9v==C9X||E9v=="horizontal"||E9v==R9X){W9v=10000000;V9v=-10000000;m9v={"x0":N9v,"x1":G9v,"y0":X9v,"y1":D9v};f9v=a3.yIntersection(m9v,W9v);q9v=a3.yIntersection(m9v,V9v);N9v=V9v;G9v=W9v;X9v=q9v;D9v=f9v;}A9v=0.0;M9v=1.0;d5K.f4B(7);c9v=d5K.z8K(G9v,N9v);d5K.K4B(7);u9v=d5K.z8K(D9v,X9v);for(var F9v=0;F9v<4;F9v++){if(F9v===0){e9v=-c9v;d5K.f4B(7);v9v=-d5K.I8K(K9v,N9v);}if(F9v==1){e9v=c9v;d5K.K4B(7);v9v=d5K.I8K(S9v,N9v);}if(F9v=="2"-0){e9v=-u9v;d5K.K4B(7);v9v=-d5K.I8K(H9v,X9v);}if(F9v==3){e9v=u9v;d5K.f4B(7);v9v=d5K.z8K(U9v,X9v);}d5K.K4B(13);s9v=d5K.z8K(v9v,e9v);if((D9v||D9v===+"0")&&e9v===0&&v9v<0){return!!0;;}if(e9v<0){if(s9v>M9v){return![];}else if(s9v>A9v){A9v=s9v;};}else if(e9v>0){if(s9v<A9v){return!!0;}else if(s9v<M9v){M9v=s9v;};}}d5K.K4B(27);t9v=d5K.I8K(c9v,N9v,A9v);d5K.f4B(27);C9v=d5K.z8K(u9v,X9v,A9v);d5K.f4B(27);Z9v=d5K.z8K(c9v,N9v,M9v);d5K.f4B(27);p9v=d5K.z8K(u9v,X9v,M9v);if(!D9v&&D9v!=="0"<<880114752&&!X9v&&X9v!==+"0"){C9v=H9v;p9v=U9v;t9v=m9v.x0;Z9v=m9v.x0;if(m9v.x0>S9v){return!{};}if(m9v.x0<K9v){return!{};}}else if(!D9v&&D9v!==+"0"){if(m9v.y0<m9v.y1){p9v=U9v;}else{p9v=H9v;}t9v=m9v.x0;Z9v=m9v.x0;if(m9v.x0>S9v){return!"1";}if(m9v.x0<K9v){return!"1";}}r9v.lineWidth=1.1;if(typeof x9v==W9X){r9v.strokeStyle=x9v.color;if(x9v.opacity){r9v.globalAlpha=x9v.opacity;}else{r9v.globalAlpha=1;}r9v.lineWidth=parseInt(a3.stripPX(x9v.width));}else{if(!x9v||x9v=="auto"||a3.isTransparent(x9v)){r9v.strokeStyle=this.defaultColor;}else{r9v.strokeStyle=x9v;}}if(a9v.opacity){r9v.globalAlpha=a9v.opacity;}if(a9v.lineWidth){r9v.lineWidth=a9v.lineWidth;}if(E9v==d9X){r9v.lineWidth=5;}B9v=null;if(a9v.pattern){f9X="dashe";f9X+="d";B9v=a9v.pattern;if(B9v=="solid"){B9v=null;}else if(B9v=="dotted"){B9v=[r9v.lineWidth,r9v.lineWidth];}else if(B9v==f9X){d5K.K4B(72);var S7X=d5K.z8K(5,6,10,13,218);d5K.K4B(2);var B7X=d5K.I8K(11,5,11);B9v=[r9v.lineWidth*S7X,r9v.lineWidth*B7X];}}r9v.stxLine(t9v,C9v,Z9v,p9v,r9v.strokeStyle,r9v.globalAlpha,r9v.lineWidth,B9v);r9v.globalAlpha=+"1";r9v.lineWidth=1;};x3.prototype.connectTheDots=function(R9v,P9v,a7v,b9v,l9v,O9v){var P9X,h7v,r7v,x7v,N7v,z9X,Y9v,j9v,i9v,m7v,Q9v,T9v,I9v,L9v,o9v,w9v,z9v,y9v,X7v,D7v,n7v,g7v;P9X="u";P9X+="ndefin";P9X+="e";P9X+="d";if(!O9v){O9v={};}if(O9v.pattern=="none"){return;}if(l9v===!!"1"){l9v=this.chart.panel;}if(b9v===null||typeof b9v==P9X){b9v=this.chart.context;}d5K.r3();if(R9v.length<4){return;}h7v=0;r7v=this.chart.canvasHeight;x7v=+"0";N7v=this.chart.width;if(l9v){r7v=l9v.yAxis.bottom;h7v=l9v.yAxis.top;}b9v.lineWidth=+"1.1";if(typeof P9v=="object"){b9v.strokeStyle=P9v.color;if(P9v.opacity){b9v.globalAlpha=P9v.opacity;}else{b9v.globalAlpha=1;}b9v.lineWidth=parseInt(a3.stripPX(P9v.width));}else{z9X="a";z9X+="u";z9X+="t";z9X+="o";if(!P9v||P9v==z9X||a3.isTransparent(P9v)){b9v.strokeStyle=this.defaultColor;}else{b9v.strokeStyle=P9v;}}if(O9v.opacity){b9v.globalAlpha=O9v.opacity;}if(O9v.lineWidth){b9v.lineWidth=O9v.lineWidth;}Y9v=null;if(O9v.pattern){Y9v=O9v.pattern;if(Y9v=="solid"){Y9v=null;}else if(Y9v=="dotted"){Y9v=[b9v.lineWidth,b9v.lineWidth];}else if(Y9v=="dashed"){d5K.f4B(7);var a7X=d5K.z8K(24768167680,23529759296);Y9v=[b9v.lineWidth*5,b9v.lineWidth*("5">>a7X)];}}b9v.beginPath();for(var k9v=0;k9v<R9v.length-+"2";k9v+=2){j9v=R9v[k9v];d5K.f4B(0);i9v=R9v[d5K.I8K(k9v,1)];d5K.K4B(0);m7v=R9v[d5K.I8K(k9v,2)];d5K.f4B(0);Q9v=R9v[d5K.I8K(k9v,3)];if(isNaN(j9v)||isNaN(m7v)||isNaN(i9v)||isNaN(Q9v)){return;}T9v=0.0;I9v=1.0;d5K.K4B(7);L9v=d5K.I8K(m7v,j9v);d5K.K4B(7);o9v=d5K.z8K(Q9v,i9v);for(var d9v=0;d9v<4;d9v++){if(d9v===0){w9v=-L9v;d5K.f4B(7);z9v=-d5K.z8K(x7v,j9v);}if(d9v==1){w9v=L9v;d5K.K4B(7);z9v=d5K.z8K(N7v,j9v);}if(d9v==2){w9v=-o9v;d5K.f4B(7);z9v=-d5K.z8K(h7v,i9v);}if(d9v==+"3"){w9v=o9v;d5K.K4B(7);z9v=d5K.z8K(r7v,i9v);}d5K.K4B(13);y9v=d5K.I8K(z9v,w9v);if((Q9v||Q9v===0)&&w9v===0&&z9v<0){return!!"";;}if(w9v<0){if(y9v>I9v){return!{};}else if(y9v>T9v){T9v=y9v;};}else if(w9v>+"0"){if(y9v<T9v){return!1;}else if(y9v<I9v){I9v=y9v;};}}d5K.K4B(27);X7v=d5K.I8K(L9v,j9v,T9v);d5K.f4B(27);D7v=d5K.z8K(o9v,i9v,T9v);d5K.K4B(27);n7v=d5K.I8K(L9v,j9v,I9v);d5K.K4B(27);g7v=d5K.I8K(o9v,i9v,I9v);try{if(Y9v){b9v.dashedLineTo(X7v,D7v,n7v,g7v,Y9v);}else{b9v.moveTo(X7v,D7v);b9v.lineTo(n7v,g7v);}}catch(B7v){;}}b9v.stroke();b9v.closePath();b9v.globalAlpha=1;b9v.lineWidth=1;};x3.prototype.plotSpline=function(G7v,v7v,F7v,A7v,e7v,W7v,s7v){var J7v,Y9X,Q9X;if(!s7v){s7v={};}if(s7v.pattern=="none"){return;}if(W7v===!!"1"){W7v=this.chart.panel;}if(e7v===null||typeof e7v=="undefined"){e7v=this.chart.context;}e7v.save();e7v.lineWidth=1.1;if(typeof F7v=="object"){e7v.strokeStyle=F7v.color;if(F7v.opacity){e7v.globalAlpha=F7v.opacity;}else{e7v.globalAlpha=1;}e7v.lineWidth=parseInt(a3.stripPX(F7v.width));}else{if(!F7v||F7v=="auto"||a3.isTransparent(F7v)){e7v.strokeStyle=this.defaultColor;}else{e7v.strokeStyle=F7v;}}if(s7v.opacity){e7v.globalAlpha=s7v.opacity;}d5K.r3();if(s7v.lineWidth){e7v.lineWidth=s7v.lineWidth;}J7v=null;if(s7v.pattern){Y9X="da";Y9X+="sh";Y9X+="ed";Q9X="dott";Q9X+="e";Q9X+="d";J7v=s7v.pattern;if(J7v=="solid"){J7v=null;}else if(J7v==Q9X){J7v=[e7v.lineWidth,e7v.lineWidth];}else if(J7v==Y9X){d5K.f4B(2);var g2X=d5K.I8K(11,5,11);d5K.f4B(21);var O2X=d5K.z8K(3,24,16);J7v=[e7v.lineWidth*g2X,e7v.lineWidth*O2X];}}if(J7v&&e7v.setLineDash){e7v.setLineDash(J7v);e7v.lineDashOffset=0;;}v3(G7v,v7v,e7v);e7v.restore();};x3.prototype.drawingClick=function(S7v,u7v,H7v){var M7v,K7v,E7v,c7v,y9X,j9X,p9X,s9X,w9X;if(!this.activeDrawing){if(!S7v){return;}M7v=x3.drawingTools[this.currentVectorParameters.vectorType];if(!M7v){if(a3.Drawing[this.currentVectorParameters.vectorType]){M7v=a3.Drawing[this.currentVectorParameters.vectorType];x3.registerDrawingTool(this.currentVectorParameters.vectorType,M7v);}}if(M7v){this.activeDrawing=new M7v();this.activeDrawing.construct(this,S7v);if(!this.charts[S7v.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;return;}}}}if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw){if(!x3.drawingLine){this.activeDrawing=null;}return;}K7v=this.tickFromPixel(u7v,S7v.chart);E7v=this.panels[this.activeDrawing.panelName];c7v=this.adjustIfNecessary(E7v,K7v,this.valueFromPixelUntransform(H7v,E7v));if(this.preferences.magnet&&this.magnetizedPrice){c7v=this.adjustIfNecessary(E7v,K7v,this.magnetizedPrice);}if(this.activeDrawing.click(this.chart.tempCanvas.context,K7v,c7v)){if(this.activeDrawing){y9X="st";y9X+="x_crosshair";x3.drawingLine=!1;a3.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);this.activeDrawing=null;this.adjustDrawings();this.draw();this.changeOccurred("vector");a3.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing");a3.swapClassName(this.controls.crossY,y9X,"stx_crosshair_drawing");}}else{j9X="stx_cro";j9X+="ss";j9X+="hair";p9X="stx_crosshair_dr";p9X+="awing";s9X="stx_crossha";s9X+="ir";w9X="d";w9X+="rawi";w9X+="n";w9X+="g";this.changeOccurred(w9X);x3.drawingLine=!0;a3.swapClassName(this.controls.crossX,"stx_crosshair_drawing",s9X);a3.swapClassName(this.controls.crossY,p9X,j9X);}return!!{};}d5K.m3();return!{};};x3.prototype.whichPanel=function(U7v){var p7v;for(var f7v in this.panels){p7v=this.panels[f7v];if(p7v.hidden)continue;if(U7v>p7v.top&&U7v<p7v.bottom){return p7v;}}return null;};x3.prototype.mouseup=function(t7v){var l9X,V7v,o9X,Z7v,C7v,m9X;l9X="mo";l9X+="u";l9X+="seup";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!"";this.cancelLongHold=!"";if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250){this.changeOccurred("vector");a3.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.adjustDrawings();this.draw();return;}else{this.repositioningDrawing=![];}}if(this.repositioningBaseline){this.repositioningBaseline=null;d5K.K4B(3);var H2X=d5K.I8K(4,11,19,211);this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/H2X;this.draw();return;}V7v=this.userPointerDown;this.userPointerDown=!1;if(!this.displayInitialized){return;}this.grabbingScreen=![];d5K.m3();if(this.openDialog!==""){if(x3.insideChart){a3.unappendClassName(this.container,"stx-drag-chart");}return;}if(this.grabOverrideClick){this.swipeRelease();a3.unappendClassName(this.container,"stx-drag-chart");this.grabOverrideClick=!"1";return;}if(x3.insideChart){a3.unappendClassName(this.container,"stx-drag-chart");}if(x3.resizingPanel){this.releaseHandle({});return;}if(!t7v){t7v=event;}if(t7v.which&&t7v.which>=+"2"||t7v.button&&t7v.button>=2||t7v.ctrlKey){if(this.anyHighlighted&&!this.bypassRightClick){this.rightClickHighlighted();if(t7v.preventDefault&&this.captureTouchEvents){t7v.preventDefault();}t7v.stopPropagation();return!{};}else{o9X="ri";o9X+="g";o9X+="htClick";this.dispatch(o9X,{stx:this,panel:this.currentPanel,x:C7v,y:Z7v});return!!{};}}if(t7v.clientX<this.left||t7v.clientX>this.right){return;}if(t7v.clientY<this.top||t7v.clientY>this.bottom){return;}Z7v=this.backOutY(t7v.clientY);C7v=this.backOutX(t7v.clientX);if(V7v&&(!this.longHoldTookEffect||this.activeDrawing)){this.drawingClick(this.currentPanel,C7v,Z7v);}if(!this.activeDrawing&&!this.longHoldTookEffect){m9X="t";m9X+="a";m9X+="p";this.dispatch(m9X,{stx:this,panel:this.currentPanel,x:C7v,y:Z7v});}this.runAppend(l9X,arguments);};x3.prototype.grabbingHand=function(){var d8h,f8h,P8h;if(!this.allowScroll){return;}d5K.r3();if(!this.grabbingScreen){return;}if(a3.touchDevice){return;}d8h=570023554;f8h=-161657977;P8h=2;for(var Q8h=1;d5K.D0h(Q8h.toString(),Q8h.toString().length,36024)!==d8h;Q8h++){a3.appendClassName(this.container,"stx-drag-chart");P8h+=2;}if(d5K.D0h(P8h.toString(),P8h.toString().length,+"61938")!==f8h){a3.appendClassName(this.container,"");}};x3.prototype.mousedown=function(q7v){var K9X,b7v,Y7v,w7v,O7v,i7v,k7v,j7v;K9X="mou";K9X+="se";K9X+="d";K9X+="own";if(this.runPrepend(K9X,arguments)){return;}this.grabOverrideClick=!!0;if(this.openDialog!==""){return;}if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(!x3.insideChart){return;}if(this.manageTouchAndMouse&&q7v&&q7v.preventDefault&&this.captureTouchEvents){q7v.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!{};this.hasDragged=![];this.userPointerDown=!"";if(!q7v){q7v=event;}if(q7v.which&&q7v.which>=+"2"||q7v.button&&q7v.button>=2){return;}b7v=this.currentPanel.chart;if(q7v.clientX>=this.left&&q7v.clientX<this.right&&q7v.clientY>=this.top&&q7v.clientY<=this.bottom){if(this.repositioningDrawing){return;}for(var P7v=0;P7v<this.drawingObjects.length;P7v++){Y7v=this.drawingObjects[P7v];if(Y7v.highlighted){if(this.cloneDrawing){w7v=x3.drawingTools[Y7v.name];O7v=new w7v();O7v.reconstruct(this,Y7v.serialize());this.drawingObjects.push(O7v);this.repositioningDrawing=O7v;O7v.repositioner=Y7v.repositioner;return;}this.repositioningDrawing=Y7v;return;}}if((this.layout.chartType=="baseline_delta"||this.layout.chartType=="baseline_delta_mountain")&&b7v.baseline.userLevel!==![]){i7v=this.valueFromPixelUntransform(this.cy-5,this.currentPanel);k7v=this.valueFromPixelUntransform(this.cy+5,this.currentPanel);j7v=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10);if(b7v.baseline.actualLevel<i7v&&b7v.baseline.actualLevel>k7v&&this.cx>j7v){this.repositioningBaseline={lastDraw:Date.now()};return;}}this.drawingClick(this.currentPanel,this.cx,this.cy);if(this.activeDrawing&&this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!![];this.yToleranceBroken=!{};if(!q7v){q7v=event;}this.grabStartX=q7v.clientX;this.grabStartY=q7v.clientY;this.grabStartScrollX=b7v.scroll;this.grabStartScrollY=b7v.panel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;setTimeout(function(d7v){return function(){d7v.grabbingHand();};}(this),100);this.swipeStart(b7v);if(this.longHoldTime){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};x3.prototype.startLongHoldTimer=function(){var y7v;y7v=this;this.cancelLongHold=!{};if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}this.longHoldTimeout=setTimeout(function(){var c9X;c9X="lo";c9X+="nghol";c9X+="d";if(y7v.cancelLongHold){return;}d5K.r3();y7v.dispatch(c9X,{stx:y7v,panel:y7v.currentPanel,x:y7v.cx,y:y7v.cy});y7v.longHoldTookEffect=!!1;},this.longHoldTime);};x3.prototype.changeVectorType=function(T7v){this.currentVectorParameters.vectorType=T7v;if(x3.drawingLine){this.undo();}this.setCrosshairColors();d5K.m3();if(x3.insideChart){this.doDisplayCrosshairs();}};x3.prototype.rightClickOverlay=function(R7v,z7v){var T9X,D9X,I7v;T9X="right";T9X+="Cl";T9X+="ickOver";T9X+="lay";D9X="rightClickOv";D9X+="e";D9X+="rlay";if(this.runPrepend(D9X,arguments)){return;}I7v=this.overlays[R7v];if(I7v.editFunction){I7v.editFunction(z7v);}else{this.removeOverlay(R7v);}this.runAppend(T9X,arguments);};x3.prototype.removeOverlay=function(o7v){var l7v,L7v,n2v;if(this.runPrepend("removeOverlay",arguments)){return;}for(var Q7v in this.overlays){L7v=this.overlays[Q7v];if(L7v.inputs.Field&&L7v.inputs.Field.indexOf(o7v)!=-1){this.removeOverlay(L7v.name);}else if(L7v.name==o7v){l7v=L7v;}}n2v=this.layout.studies[o7v];a3.deleteRHS(a3.Studies.studyPanelMap,n2v);if(l7v){this.cleanupRemovedStudy(l7v);}delete this.overlays[o7v];this.displaySticky();d5K.r3();this.createDataSet();this.changeOccurred("layout");this.runAppend("removeOverlay",arguments);};x3.prototype.addSeries=function(r2v,g2v,X2v){var L9X,h2v,N2v,D2v,a2v,B2v,m2v;L9X="ad";L9X+="dS";function x2v(G2v){var v2v,W2v,F2v,s2v,G9X;v2v=0;d5K.K4B(9);W2v=d5K.I8K(0,"0");d5K.m3();while(g2v.data&&v2v<G2v.masterData.length&&W2v<g2v.data.length){F2v=g2v.data[W2v];s2v=G2v.masterData[v2v];if(!F2v.DT||typeof F2v.DT=="undefined"){F2v.DT=a3.strToDateTime(F2v.Date);}if(F2v.DT.getTime()==s2v.DT.getTime()){G9X="un";G9X+="de";G9X+="fined";if(typeof F2v.Value!=G9X){s2v[r2v]=F2v.Value;}else if(G2v.layout.adj&&typeof F2v.Adj_Close!="undefined"){s2v[r2v]=F2v.Adj_Close;}else{s2v[r2v]=F2v.Close;}W2v++;v2v++;continue;}if(F2v.DT<s2v.DT){if(g2v.forceData){G2v.masterData.splice(v2v,0,{DT:F2v.DT});continue;}W2v++;}else{v2v++;}}if(g2v.forceData&&v2v>=G2v.masterData.length){while(g2v.data&&W2v<g2v.data.length){F2v=g2v.data[W2v];if(!F2v.DT||typeof F2v.DT=="undefined"){F2v.DT=a3.strToDateTime(F2v.Date);}s2v={DT:F2v.DT};if(typeof F2v.Value!="undefined"){s2v[r2v]=F2v.Value;}else if(G2v.layout.adj&&typeof F2v.Adj_Close!="undefined"){s2v[r2v]=F2v.Adj_Close;}else{s2v[r2v]=F2v.Close;}G2v.masterData.push(s2v);W2v++;}}}L9X+="e";L9X+="ries";if(this.runPrepend(L9X,arguments)){return;}if(!g2v){g2v={};}if(!g2v.chartName){g2v.chartName=this.chart.name;}if(!g2v.symbolObject){g2v.symbolObject={symbol:r2v};}function e2v(S2v,M2v){var A2v,t9X;if(M2v.parameters.color){A2v=S2v.getSeriesRenderer("_generic_series");if(!A2v){t9X="_gene";t9X+="ric_";t9X+="series";A2v=S2v.setSeriesRenderer(new a3.Renderer.Lines({params:{panel:M2v.parameters.panel,type:"legacy",name:t9X,overChart:!0}}));}A2v.attachSeries(r2v,M2v.parameters).ready();}}h2v={parameters:a3.clone(g2v),yValueCache:[],display:r2v};if("display"in h2v.parameters){h2v.display=h2v.parameters.display;}if(h2v.parameters.isComparison){h2v.parameters.shareYAxis=!!1;}if(!h2v.parameters.chartType&&h2v.parameters.color){h2v.parameters.chartType="line";}if(h2v.parameters.chartType&&h2v.parameters.chartType!="mountain"){h2v.parameters.chartType="line";}if(!h2v.parameters.panel){h2v.parameters.panel=this.chart.panel.name;}N2v=this.charts[g2v.chartName];D2v=this;if(N2v){N2v.series[r2v]=h2v;}if(g2v.isComparison){D2v.setComparison(!!"1",N2v);}a2v=!{};if(g2v.data&&!g2v.data.useDefaultQuoteFeed){if(this.masterData){x2v(this);;}}else{if(this.quoteDriver){B2v=this.quoteDriver;m2v=B2v.makeParams(r2v,g2v.symbolObject,this.chart);m2v.startDate=this.chart.masterData[0].DT;m2v.endDate=this.chart.masterData[this.chart.masterData.length-1].DT;if(g2v.symbolObject){m2v.symbolObject=g2v.symbolObject;}a2v=!0;if(m2v.stx.isEquationChart(m2v.symbol)){a3.fetchEquationChart(m2v,J2v);}else{B2v.quoteFeed.fetch(m2v,J2v);}function J2v(K2v){var I9X;I9X="symbol";I9X+="Change";d5K.m3();if(!K2v.error&&K2v.error!==0){g2v.data=K2v.quotes;x2v(D2v);e2v(D2v,h2v);}if(!D2v.currentlyImporting){D2v.dispatch(I9X,{stx:D2v,symbol:m2v.symbol,symbolObject:m2v.symbolObject});}if(X2v){X2v(K2v.error,h2v);}D2v.runAppend("addSeries",arguments);}}else{h2v.addSeriesData=x2v;}}if(!a2v){e2v(D2v,h2v);if(X2v){X2v(null,h2v);}this.runAppend("addSeries",arguments);}return h2v;};x3.prototype.isEquationChart=function(E2v){if(!this.allowEquations||!a3.computeEquationChart){return![];}if(E2v&&E2v[0]=="="){return!!{};}d5K.m3();return!{};};x3.prototype.deleteSeries=function(u2v,c2v){if(this.runPrepend("deleteSeries",arguments)){return;}if(!c2v){c2v=this.chart;}delete c2v.series[u2v];if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};x3.prototype.removeSeries=function(p2v,H2v){var Z9X,n9X,C2v,U2v,t2v,Z2v;Z9X="remove-seri";Z9X+="es";n9X="symbo";n9X+="lC";n9X+="hang";n9X+="e";if(this.runPrepend("removeSeries",arguments)){return;}if(!H2v){H2v=this.chart;}for(var V2v in H2v.seriesRenderers){U2v=H2v.seriesRenderers[V2v];for(var f2v=U2v.seriesParams.length-1;f2v>=0;f2v--){t2v=U2v.seriesParams[f2v];if(!t2v.permanent&&t2v.field===p2v){C2v=t2v.symbolObject;U2v.removeSeries(p2v);}}}this.deleteSeries(p2v,H2v);Z2v=!{};for(var q2v in H2v.series){if(H2v.series[q2v].parameters.isComparison){Z2v=!!"1";}}if(!Z2v){this.setComparison(!{},H2v);}this.createDataSet();this.draw();this.dispatch(n9X,{stx:this,symbol:p2v,symbolObject:C2v,action:Z9X});this.runAppend("removeSeries",arguments);};x3.prototype.rendererAction=function(Y2v,O2v){var v9X,r9X,b2v;v9X="rend";v9X+="e";v9X+="re";v9X+="rAction";if(this.runPrepend("rendererAction",arguments)){return;}for(var P2v in Y2v.seriesRenderers){r9X="over";r9X+="lay";b2v=Y2v.seriesRenderers[P2v];if(b2v.params.overChart&&O2v=="underlay")continue;if(!b2v.params.overChart&&O2v==r9X)continue;if(!this.panels[b2v.params.panel])continue;if(this.panels[b2v.params.panel].chart!==Y2v)continue;if(O2v=="calculate"){b2v.performCalculations();}else{b2v.draw();if(b2v.cb){b2v.cb(b2v.colors);}}}this.runAppend(v9X,arguments);};x3.prototype.drawSeries=function(l2v,u0v,S0v){var D0v,f0v,L2v,V6X,B9X,S9X,J9X,E9X,w2v,R2v,Q2v,v0v,t0v,K0v,x0v,y2v,Z0v,W0v,s0v,p0v,B0v,m0v,J0v,i2v,k2v,A0v,C0v,I2v,M0v,o2v,N0v,r0v,X0v,e0v,j2v,d2v,U0v,c0v,g0v,H0v,A6X,n0v,h9X,a9X,Y0v,b0v,q0v,V0v,g6X,G0v,z2v,O6X,H6X,F6X,i6X,q6X,k6X,E0v,e7h,C7h,R7h;if(this.runPrepend("drawSeries",arguments)){return;}D0v=l2v.dataSegment;f0v={};L2v=null;if(!u0v){u0v=l2v.series;}for(var h0v in u0v){V6X="li";V6X+="ne";B9X="g";B9X+="a";B9X+="p";S9X="s";S9X+="t";S9X+="r";S9X+="oke";J9X="s";J9X+="t";J9X+="ro";J9X+="ke";E9X="s";E9X+="t";E9X+="e";E9X+="p";L2v=u0v[h0v];w2v=L2v.parameters;if(!w2v.chartType)continue;R2v=l2v.panel;if(w2v.panel){R2v=this.panels[w2v.panel];}if(!R2v)continue;Q2v=S0v?S0v:R2v.yAxis;v0v=[w2v.minimum,w2v.maximum];if(!w2v.minimum&&w2v.minimum!==0||!w2v.maximum&&w2v.maximum!==0){t0v=a3.minMax(D0v,h0v);if(!w2v.minimum&&w2v.minimum!==0){v0v[0]=t0v[+"0"];}if(!w2v.maximum&&w2v.maximum!==0){v0v[1]=t0v[1];}}K0v=v0v[0];x0v=Q2v.top;y2v=Q2v.bottom;d5K.f4B(7);Z0v=d5K.I8K(y2v,x0v);W0v=w2v.marginTop;s0v=w2v.marginBottom;if(W0v){x0v=W0v>1?x0v+W0v:x0v+Z0v*W0v;}if(s0v){y2v=s0v>1?y2v-s0v:y2v-Z0v*s0v;}p0v=(y2v-x0v)/(v0v[1]-K0v);B0v=!{};m0v=null;J0v=null;i2v=null;k2v=null;A0v=null;C0v=null;I2v=this.layout.candleWidth;M0v=this.chart.context;o2v=w2v.type=="step"||w2v.subtype==E9X;N0v=w2v.color;if(!N0v){N0v=this.defaultColor;}r0v=w2v.width;if(!r0v||isNaN(r0v)||r0v<1){r0v=+"1";}if(L2v.highlight||L2v.parameters.highlight){d5K.K4B(7);r0v*=d5K.I8K("2",0);}this.startClip(R2v.name);seriesPlotter=new a3.Plotter();d5K.K4B(39);seriesPlotter.newSeries("line",J9X,N0v,d5K.I8K("1",238692544),r0v);if(w2v.gaps&&w2v.gaps.color){seriesPlotter.newSeries("gap",S9X,w2v.gaps.color,"1"<<1569160928,r0v);}else{seriesPlotter.newSeries(B9X,"stroke",N0v,1,r0v);}L2v.yValueCache=new Array(D0v.length);X0v=L2v.yValueCache;e0v=null;j2v=null;d2v=[];U0v=L2v.parameters.shareYAxis&&!S0v;c0v=L2v.parameters.shareYAxis||S0v;g0v=R2v.left-(o2v?1:0.5)*I2v+this.micropixels-1;H0v=g0v;for(var T2v=0;T2v<D0v.length;T2v++){A6X="l";A6X+="i";A6X+="n";A6X+="e";d5K.K4B(13);g0v+=d5K.z8K(I2v,2);if(o2v){d5K.K4B(45);g0v+=d5K.I8K("2",I2v);}I2v=this.layout.candleWidth;if(!o2v){d5K.K4B(13);g0v+=d5K.I8K(I2v,2);}if(i2v!==null&&k2v!==null){if(!j2v||w2v.gaps){d2v.push([i2v,k2v]);}}n0v=D0v[T2v];if(!n0v)continue;if(n0v.candleWidth){if(!o2v){g0v+=(n0v.candleWidth-I2v)/2;}I2v=n0v.candleWidth;}if(n0v.transform&&U0v){n0v=n0v.transform;}J0v=n0v[h0v];if(!J0v&&J0v!==0){if(o2v||w2v.gaps){X0v[T2v]=k2v;;}if(j2v===!{}){if(o2v){i2v+=I2v;seriesPlotter.lineTo("line",i2v,k2v);}seriesPlotter.moveTo("gap",i2v,k2v);}j2v=!!{};if(i2v&&!w2v.gaps){d2v.push([i2v,y2v]);}continue;}if(!o2v&&m0v&&m0v!=T2v-1){A0v=i2v;C0v=k2v;}else{A0v=null;}i2v=g0v;if(i2v<=R2v.right){e0v=n0v;}if(this.extendLastTick&&T2v==D0v.length-1){d5K.f4B(13);i2v+=d5K.I8K(I2v,2);}if(o2v&&B0v){if(j2v&&w2v.gaps&&w2v.gaps.pattern){seriesPlotter.dashedLineTo("gap",i2v,k2v,w2v.gaps.pattern);}else if(j2v&&!w2v.gaps){h9X="g";h9X+="a";h9X+="p";d2v.push([i2v,y2v]);seriesPlotter.moveTo(h9X,i2v,k2v);}else if(!j2v&&w2v.pattern){seriesPlotter.dashedLineTo("line",i2v,k2v,w2v.pattern);}else{a9X="li";a9X+="n";a9X+="e";seriesPlotter.lineTo(j2v?"gap":a9X,i2v,k2v);}d2v.push([i2v,k2v]);}if(c0v){k2v=this.pixelFromPrice(J0v,R2v,Q2v);}else{d5K.f4B(73);k2v=d5K.z8K(K0v,J0v,p0v,y2v);}if(A0v!==null){Y0v={x0:A0v,x1:i2v,y0:C0v,y1:k2v};for(;m0v!=T2v;m0v++){d5K.f4B(7);var q2X=d5K.z8K(20,19);b0v=R2v.left+Math.floor(g0v+(m0v-T2v+0.5)*I2v)+this.micropixels-q2X;q0v=a3.yIntersection(Y0v,b0v);X0v[m0v]=q0v;}}X0v[T2v]=k2v;if(T2v&&d2v.length&&B0v&&!X0v[T2v-1]&&X0v[T2v-1]!==0){for(var F0v=T2v-1;F0v>=0;F0v--){if(X0v[F0v])break;X0v[F0v]=d2v[d2v.length-+"1"][1];}}if(!B0v){B0v=!![];V0v=l2v.dataSet.length-l2v.scroll;if(V0v<=0){g6X="g";g6X+="a";g6X+="p";seriesPlotter.moveTo(j2v?g6X:"line",i2v,k2v);}else{G0v=l2v.dataSet[V0v];if(G0v.transform&&U0v){G0v=G0v.transform;}z2v=G0v[h0v];if(c0v){z2v=this.pixelFromPrice(z2v,R2v,Q2v);}else{d5K.K4B(73);z2v=d5K.I8K(K0v,z2v,p0v,y2v);}z2v=Math.min(Math.max(z2v,x0v),y2v);if(isNaN(z2v)){O6X="li";O6X+="ne";seriesPlotter.moveTo(j2v?"gap":O6X,i2v,k2v);}else{seriesPlotter.moveTo(j2v?"gap":"line",H0v,z2v);if(o2v){H6X="l";H6X+="i";H6X+="ne";if(j2v){if(w2v.gaps){seriesPlotter.lineTo("gap",i2v,z2v);}else{seriesPlotter.moveTo("gap",i2v,z2v);}}else{seriesPlotter.lineTo(H6X,i2v,z2v);}}if(!j2v||w2v.gaps){if(o2v){d2v.unshift([i2v,z2v]);}d2v.unshift([H0v,z2v]);}if(j2v&&w2v.gaps&&w2v.gaps.pattern){seriesPlotter.dashedLineTo("gap",i2v,k2v,w2v.gaps.pattern);}else if(j2v&&!w2v.gaps){d2v.unshift([i2v,y2v]);d2v.unshift([H0v,y2v]);seriesPlotter.moveTo("gap",i2v,k2v);}else if(!j2v&&w2v.pattern){seriesPlotter.dashedLineTo("line",i2v,k2v,w2v.pattern);}else{seriesPlotter.lineTo(j2v?"gap":"line",i2v,k2v);}}}}else{if(j2v&&w2v.gaps&&w2v.gaps.pattern){seriesPlotter.dashedLineTo("gap",i2v,k2v,w2v.gaps.pattern);}else if(j2v&&!w2v.gaps){d2v.push([i2v,y2v]);seriesPlotter.moveTo("gap",i2v,k2v);}else if(!j2v&&w2v.pattern){F6X="l";F6X+="i";F6X+="ne";seriesPlotter.dashedLineTo(F6X,i2v,k2v,w2v.pattern);if(o2v&&T2v==D0v.length-+"1"){d5K.f4B(0);seriesPlotter.dashedLineTo("line",d5K.I8K(i2v,I2v),k2v,w2v.pattern);}}else{i6X="li";i6X+="n";i6X+="e";seriesPlotter.lineTo(j2v?"gap":"line",i2v,k2v);if(o2v&&T2v==D0v.length-1&&!j2v){d5K.f4B(0);seriesPlotter.lineTo(i6X,d5K.z8K(i2v,I2v),k2v);}}}m0v=T2v;if(j2v){seriesPlotter.moveTo(A6X,i2v,k2v);}j2v=![];}if(j2v){d5K.K4B(71);var V2X=d5K.I8K(5,14,260,19);i2v=R2v.left+Math.floor(g0v+I2v+this.micropixels)-V2X;if(this.extendLastTick){d5K.f4B(13);i2v+=d5K.I8K(I2v,2);}if(w2v.gaps&&w2v.gaps.pattern){if(B0v){seriesPlotter.dashedLineTo("gap",i2v,k2v,w2v.gaps.pattern);}}else if(w2v.gaps){seriesPlotter.lineTo("gap",i2v,k2v);}}if(L2v.parameters.chartType=="mountain"&&d2v.length){q6X="m";q6X+="ou";q6X+="n";q6X+="tain";d2v.push([i2v,j2v&&!w2v.gaps?y2v:k2v]);if(!w2v.fillStyle){w2v.fillStyle=N0v;if(!w2v.fillOpacity){d5K.K4B(5);w2v.fillOpacity=d5K.I8K("0.3",1);}}seriesPlotter.newSeries("mountain","fill",w2v.fillStyle,w2v.fillOpacity);for(var a0v=0;a0v<d2v.length;a0v++){k6X="l";k6X+="ineTo";seriesPlotter[a0v?k6X:"moveTo"]("mountain",d2v[a0v]["0"*1],Math.min(y2v,d2v[a0v][1]));}seriesPlotter.lineTo("mountain",i2v,y2v);seriesPlotter.lineTo("mountain",d2v[0][0],y2v);seriesPlotter.draw(M0v,q6X);}seriesPlotter.draw(M0v,"gap");seriesPlotter.draw(M0v,V6X);this.endClip();if(c0v&&e0v){if(Q2v.priceFormatter){txt=Q2v.priceFormatter(this,R2v,e0v[h0v],Q2v);}else{txt=this.formatYAxisPrice(e0v[h0v],R2v,null,Q2v);}this.yAxisLabels.push({src:"series","args":[R2v,txt,this.pixelFromPrice(e0v[h0v],R2v,Q2v),N0v,null,null,Q2v]});}E0v=L2v.parameters.display;if(!E0v){E0v=L2v.display;}f0v[h0v]={color:N0v,display:E0v};;}if(l2v.legend&&L2v&&L2v.useChartLegend){if(l2v.legendRenderer){l2v.legendRenderer(this,{"chart":l2v,"legendColorMap":f0v,"coordinates":{x:l2v.legend.x,y:l2v.legend.y+l2v.panel.yAxis.top}});}}e7h=-2121464201;C7h=-903614812;R7h=2;for(var d7h=1;d5K.D0h(d7h.toString(),d7h.toString().length,"47309"&2147483647)!==e7h;d7h++){this.runAppend("drawSeries",arguments);R7h+=2;}if(d5K.c0h(R7h.toString(),R7h.toString().length,63423)!==C7h){this.runAppend("",arguments);}};x3.prototype.isDailyInterval=function(O0v){var M6X,b6X;M6X="m";M6X+="o";M6X+="nt";M6X+="h";b6X="d";b6X+="a";b6X+="y";if(O0v==b6X){return!!"1";}if(O0v=="week"){return!![];}if(O0v==M6X){return!!"1";}return![];};x3.prototype.setPeriodicityV2=function(y0v,d0v,w0v,k0v){var x6X,N6X,h5v,Q0v,o0v,T0v,X6X,z0v,P0v,l0v,j0v,I0v,L0v,n5v,g5v;x6X="t";x6X+="i";x6X+="c";x6X+="k";N6X="ye";N6X+="a";N6X+="r";if(this.runPrepend("setPeriodicityV2",arguments)){return;}d5K.r3();if(typeof w0v==="function"){k0v=w0v;w0v=null;}h5v=![];if(!d0v){return;}if(!y0v){return;}delete this.layout.setSpan;if(d0v==N6X){d0v="month";if(!y0v){y0v=+"1";}d5K.f4B(5);y0v=d5K.I8K(y0v,12);}Q0v=this.isDailyInterval(d0v);o0v=this.isDailyInterval(this.layout.interval);if(Q0v){w0v=null;}else if(d0v==x6X){w0v=null;}else if(!w0v){w0v="minute";}T0v=!1;if(this.chart.symbol){if(this.dontRoll||!o0v){if(this.layout.interval!=d0v){T0v=!!{};}}else{if(Q0v!=o0v){T0v=!"";}}if(w0v!=this.layout.timeUnit){T0v=!!1;};}this.layout.periodicity=y0v;this.layout.interval=d0v;this.layout.timeUnit=w0v;if(T0v){this.changeOccurred("layout");if(this.quoteDriver){for(var i0v in this.charts){if(this.charts[i0v].symbol){if(this.displayInitialized){this.quoteDriver.newChart({symbol:this.charts[i0v].symbol,symbolObject:this.charts[i0v].symbolObject,chart:this.charts[i0v]},k0v);}else{this.newChart(this.charts[i0v].symbol,null,this.charts[i0v],k0v);}}}return;}else if(this.dataCallback){this.dataCallback();if(k0v){k0v(null);}return;}else{X6X="cannot change periodicity because";X6X+=" neither dataCa";X6X+="llback or quoteDriver are set";console.log(X6X);return;}}for(z0v in this.charts){P0v=this.charts[z0v];j0v=Math.round(P0v.maxTicks/2);this.setCandleWidth(this.layout.candleWidth,P0v);I0v=!!"1";L0v=!"1";if(P0v.scroll<=P0v.maxTicks){I0v=!1;}else if(P0v.dataSegment&&!P0v.dataSegment[j0v]){I0v=!{};L0v=P0v.scroll-P0v.dataSet.length;;}if(I0v&&P0v.dataSegment&&P0v.dataSegment.length>0){if(P0v.maxTicks<(Math.round(this.chart.width/this.layout.candleWidth-0.499)-1)/2){d5K.K4B(13);var b2X=d5K.z8K(14,14);j0v=P0v.dataSegment.length-b2X;}if(j0v>=P0v.dataSegment.length){l0v=P0v.dataSegment[P0v.dataSegment.length-+"1"].DT;d5K.K4B(74);var M2X=d5K.I8K(9,50,13,12,11);j0v=P0v.dataSegment.length-M2X;}else{l0v=P0v.dataSegment[j0v].DT;}}this.createDataSet();if(I0v){if(P0v.dataSegment&&P0v.dataSegment.length>0){for(var R0v=P0v.dataSet.length-1;R0v>=0;R0v--){n5v=P0v.dataSet[R0v].DT;if(n5v.getTime()<l0v.getTime()){P0v.scroll=P0v.dataSet.length-R0v+j0v;break;}}}}else if(!L0v){g5v=Math.round(this.preferences.whitespace/this.layout.candleWidth);P0v.scroll=P0v.maxTicks-g5v;;}else{P0v.scroll=P0v.dataSet.length+L0v;;}}if(this.displayInitialized){this.draw();}this.changeOccurred("layout");if(this.quoteDriver){for(z0v in this.charts){P0v=this.charts[z0v];if(P0v.symbol&&P0v.moreAvailable){this.quoteDriver.checkLoadMore(P0v);}}}if(k0v){k0v(null);}this.runAppend("setPeriodicityV2",arguments);};x3.prototype.drawVectors=function(){var D5v,m5v,r5v,X5v,N5v;if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}d5K.r3();this.vectorsShowing=!!{};if(!this.chart.hideDrawings){D5v={};for(r5v="0"|0;r5v<this.drawingObjects.length;r5v++){X5v=this.drawingObjects[r5v];m5v=X5v.panelName;if(!this.panels[X5v.panelName])continue;if(!D5v[m5v]){D5v[m5v]=[];}D5v[m5v].push(X5v);}for(m5v in D5v){this.startClip(m5v);N5v=D5v[m5v];for(r5v=0;r5v<N5v.length;r5v++){N5v[r5v].render(this.chart.context);}this.endClip();}}this.runAppend("drawVectors",arguments);};x3.prototype.consolidatedQuote=function(x5v,J5v,F5v,s5v,E5v,W5v,M5v){var R6X,C6X,v5v,e5v,a5v,B5v,A5v;R6X="t";R6X+="i";R6X+="c";R6X+="k";function S5v(t5v,Z5v){var u6X,U5v,f5v;u6X="mo";u6X+="nt";u6X+="h";U5v=x5v[t5v-1].DT;f5v=x5v[t5v].DT;if(Z5v=="week"){if(f5v.getDay()<U5v.getDay()){return!![];}}else if(Z5v==u6X){if(f5v.getMonth()!=U5v.getMonth()){return!!{};}}else{if(f5v.getDay()!=U5v.getDay()){return!!1;}}return!{};}function K5v(b5v,O5v,P5v,w5v,Y5v){var e6X,V5v,C5v,q5v,c8h,D8h,T8h;e6X="millisec";e6X+="ond";d5K.f4B(5);V5v=d5K.z8K(w5v,P5v);C5v=new Date(x5v[b5v].DT);if(Y5v===e6X){C5v.setMilliseconds(C5v.getMilliseconds()+V5v);}else if(Y5v==="second"){C5v.setSeconds(C5v.getSeconds()+V5v);}else{C5v.setMinutes(C5v.getMinutes()+V5v);}q5v=x5v[O5v].DT;if(M5v){if(x5v[b5v].DT.getMinutes()%V5v){if(q5v.getMinutes()%V5v===0){c8h=-1258909089;D8h=202922426;T8h=2;for(var G8h=1;d5K.c0h(G8h.toString(),G8h.toString().length,36434)!==c8h;G8h++){return!{};}if(d5K.D0h(T8h.toString(),T8h.toString().length,11712)!==D8h){return!!{};}}}}if(q5v.getTime()>=C5v.getTime()){return!!{};}return![];}C6X="we";C6X+="ek";if(J5v<0){return null;}function G5v(p5v,c5v){var U6X,u5v;U6X="C";U6X+="lose";d5K.f4B(10);u5v=d5K.z8K("1",0);if(p5v.layout.adj&&x5v[c5v].Adj_Close){u5v=x5v[c5v].Adj_Close/x5v[c5v].Close;}if("High"in x5v[c5v])if(x5v[c5v].High*u5v>e5v.High){e5v.High=x5v[c5v].High*u5v;}if("Low"in x5v[c5v])if(x5v[c5v].Low*u5v<e5v.Low){e5v.Low=x5v[c5v].Low*u5v;}e5v.Volume+=x5v[c5v].Volume;if(U6X in x5v[c5v]&&x5v[c5v].Close!==null){e5v.Close=x5v[c5v].Close*u5v;}e5v.ratio=u5v;for(var H5v in x5v[c5v]){if(!e5v[H5v]){e5v[H5v]=x5v[c5v][H5v];}}}d5K.m3();v5v=[x5v,J5v,F5v,s5v,W5v,M5v];if(this.runPrepend("consolidatedQuote",v5v)){return null;}if(!W5v&&this.dontRoll){W5v=!!1;}e5v=x5v[J5v];a5v=J5v;if((s5v==C6X||s5v=="month")&&!W5v){for(B5v=1;B5v<=F5v;B5v++){while(a5v+1<x5v.length&&!S5v(a5v+1,s5v)){a5v++;G5v(this,a5v);}if(B5v!=F5v){a5v++;if(a5v<x5v.length){G5v(this,a5v);}}}}else if(!this.isDailyInterval(s5v)&&s5v!=R6X&&F5v>1){for(B5v="1"^0;B5v<F5v;B5v++){d5K.f4B(0);a5v=d5K.z8K(J5v,B5v);if(a5v<x5v.length&&K5v(J5v,a5v,F5v,s5v,E5v)){a5v--;break;}if(a5v>=0&&a5v<x5v.length){G5v(this,a5v);}}}else{for(B5v=1;B5v<F5v;B5v++){d5K.f4B(0);a5v=d5K.z8K(J5v,B5v);if(a5v>=0&&a5v<x5v.length){G5v(this,a5v);}}}for(B5v in this.plugins){A5v=this.plugins[B5v];if(A5v.consolidate){A5v.consolidate(x5v,J5v,a5v,e5v);}}this.runAppend("consolidatedQuote",v5v);return{"quote":e5v,"position":a5v+1};};x3.NONE=0;x3.CLOSEUP=1;x3.CLOSEDOWN=2;x3.CLOSEEVEN=4;x3.CANDLEUP=8;x3.CANDLEDOWN=16;x3.CANDLEEVEN=32;x3.prototype.displayChart=function(j5v){var w6X,y6X,Y6X,Q6X,W6X,D8P,y5v,d5v,i5v,d6X,P6X,f6X,z6X,g8P,h8P,l5v,Q5v,s6X,J8P,p6X,V3h,b3h,M3h,m6X,o6X,j6X,r8P,m8P,N8P,B8P,a8P,x8P,F3h,i3h,A3h,L6X,T6X,c6X,K6X,l6X,D6X,L5v,z5v,G6X,k5v,S6X,J6X,E6X,v6X,t6X,I5v,Z6X,n6X,I6X,R5v,o5v,r6X,X8P,h6X,B6X,H1X,a6X,O1X,g1X,A1X,i1X,F1X,q1X,k1X;w6X="colo";w6X+="red_line";y6X="b";y6X+="a";y6X+="r";Y6X="w";Y6X+="av";Y6X+="e";Q6X="colored";Q6X+="_mou";Q6X+="ntain";W6X="n";W6X+="o";W6X+="n";W6X+="e";D8P=this.layout.candleWidth-j5v.tmpWidth<+"2"&&j5v.tmpWidth<=3;if(this.runPrepend("displayChart",arguments)){return;}this.chart.baseLegendColors=[];y5v=this.layout.chartType;d5v=null;if(j5v.customChart){if(j5v.customChart.chartType){y5v=j5v.customChart.chartType;}if(j5v.customChart.colorFunction){d5v=j5v.customChart.colorFunction;}}d5K.m3();this.controls.baselineHandle.style.display=W6X;i5v=j5v.panel;if(this.layout.aggregationType=="kagi"){d6X="stx_k";d6X+="ag";d6X+="i_up";this.drawKagiSquareWave(i5v,"stx_kagi_up","stx_kagi_down");this.chart.baseLegendColors.push(this.getCanvasColor(d6X));this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_down"));}else if(this.layout.aggregationType=="pandf"){P6X="stx_";P6X+="pandf_down";f6X="stx_";f6X+="pandf_up";this.drawPointFigureChart(i5v,"stx_pandf_up",+"4260"===8314?"n":4738<=1570?"977"*1===5687?("n",553.47):"2.24e+3"|2112:"X");this.chart.baseLegendColors.push(this.getCanvasColor(f6X));this.drawPointFigureChart(i5v,P6X,"O");this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_down"));}else if(y5v=="line"){z6X="s";z6X+="tx_line_c";z6X+="hart";this.drawLineChart(i5v,z6X);}else if(y5v=="mountain"){this.startClip(i5v.name);this.chart.baseLegendColors=null;this.drawMountainChart(i5v);this.endClip();}else if(y5v==Q6X){this.startClip(i5v.name);g8P=this.getCanvasColor("stx_line_up");h8P=this.getCanvasColor("stx_line_down");l5v=this.getCanvasColor("stx_line_chart");if(!d5v){d5v=function(s8P,F8P,W8P){if(F8P.Close>F8P.iqPrevClose){return g8P;}else if(F8P.Close<F8P.iqPrevClose){return h8P;}else{return l5v;}return null;};}Q5v=this.drawMountainChart(i5v,"stx_colored_mountain_chart",d5v);for(var n8P in Q5v){this.chart.baseLegendColors.push(n8P);}this.endClip();}else if(y5v==Y6X){this.drawWaveChart(i5v);}else if(y5v==y6X){this.startClip(i5v.name);this.drawBarChartHighPerformance(i5v,"stx_bar_chart");this.endClip();}else if(y5v==w6X){s6X="stx_li";s6X+="ne_chart";this.startClip(i5v.name);g8P=this.getCanvasColor("stx_line_up");h8P=this.getCanvasColor("stx_line_down");l5v=this.getCanvasColor("stx_line_chart");if(!d5v){d5v=function(v8P,G8P,A8P){d5K.r3();if(G8P.Close>G8P.iqPrevClose){return g8P;}else if(G8P.Close<G8P.iqPrevClose){return h8P;}else{return l5v;}return null;};}Q5v=this.drawLineChart(i5v,s6X,d5v);for(var n8P in Q5v){this.chart.baseLegendColors.push(n8P);}this.endClip();}else if(y5v=="colored_bar"){this.startClip(i5v.name);if(d5v){J8P=this.drawBarChart(i5v,"stx_bar_chart",d5v);for(var e8P in J8P){this.chart.baseLegendColors.push(e8P);}}else{p6X="s";p6X+="tx";p6X+="_bar_up";this.drawBarChartHighPerformance(i5v,p6X,x3.CLOSEUP);this.drawBarChartHighPerformance(i5v,"stx_bar_down",x3.CLOSEDOWN);this.drawBarChartHighPerformance(i5v,"stx_bar_even",x3.CLOSEEVEN);this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_up"));this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_down"));}this.endClip();}else if(y5v=="hollow_candle"||y5v=="volume_candle"){this.startClip(i5v.name);if(d5v){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(i5v,d5v);}V3h=30485312;b3h=830494635;M3h=+"2";for(var x3h=+"1";d5K.c0h(x3h.toString(),x3h.toString().length,"46500"<<714034112)!==V3h;x3h++){this.drawCandles(i5v,d5v,!![]);M3h+=2;}if(d5K.D0h(M3h.toString(),M3h.toString().length,63222)!==b3h){this.drawCandles(i5v,d5v,!!0);}this.drawCandles(i5v,d5v,!0);;}else{m6X="transparen";m6X+="t";o6X="stx_hollow_";o6X+="candle_";o6X+="d";o6X+="own";if(!this.noWicksOnCandles[this.layout.aggregationType]){j6X="stx_hollow";j6X+="_candle_even";this.drawShadowsHighPerformance(i5v,"stx_hollow_candle_up",x3.CLOSEUP);this.drawShadowsHighPerformance(i5v,"stx_hollow_candle_down",x3.CLOSEDOWN);this.drawShadowsHighPerformance(i5v,j6X,x3.CLOSEEVEN);}r8P=this.getCanvasColor("stx_hollow_candle_up");m8P=this.getCanvasColor(o6X);N8P=this.getCanvasColor("stx_hollow_candle_even");this.drawCandlesHighPerformance(i5v,r8P,"transparent",x3.CLOSEUP|x3.CANDLEDOWN);this.drawCandlesHighPerformance(i5v,m8P,m6X,x3.CLOSEDOWN|x3.CANDLEDOWN);this.drawCandlesHighPerformance(i5v,N8P,"transparent",x3.CLOSEEVEN|x3.CANDLEDOWN);this.drawCandlesHighPerformance(i5v,this.containerColor,r8P,x3.CLOSEUP|x3.CANDLEUP);this.drawCandlesHighPerformance(i5v,this.containerColor,m8P,x3.CLOSEDOWN|x3.CANDLEUP);this.drawCandlesHighPerformance(i5v,this.containerColor,N8P,x3.CLOSEEVEN|x3.CANDLEUP);this.chart.baseLegendColors.push(r8P);this.chart.baseLegendColors.push(m8P);}this.endClip();}else if(y5v=="candle"){this.startClip(i5v.name);B8P=this.getCanvasColor("stx_candle_shadow_up");a8P=this.getCanvasColor("stx_candle_shadow_down");d5K.f4B(75);x8P=d5K.z8K(a8P,B8P);if(d5v){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(i5v,d5v);}F3h=-345263875;i3h=-1810609825;d5K.K4B(9);A3h=d5K.z8K(0,"2");for(var q3h=1;d5K.D0h(q3h.toString(),q3h.toString().length,14282)!==F3h;q3h++){this.drawCandles(i5v,d5v,!"");if(+D8P){this.drawCandles(i5v,d5v,!{});};A3h+=2;}if(d5K.c0h(A3h.toString(),A3h.toString().length,"75552">>1647132896)!==i3h){this.drawCandles(i5v,d5v,![]);if(!D8P){this.drawCandles(i5v,d5v,!!{});};}this.drawCandles(i5v,d5v,![]);if(!D8P){this.drawCandles(i5v,d5v,!!{});};}else{L6X="stx_";L6X+="candle_do";L6X+="wn";T6X="border-le";T6X+="ft-";T6X+="color";if(!this.noWicksOnCandles[this.layout.aggregationType]){if(x8P){c6X="stx_candle_";c6X+="shadow";K6X="stx_candle_sh";K6X+="ad";K6X+="ow_down";l6X="stx_";l6X+="candle_sh";l6X+="adow_up";this.drawShadowsHighPerformance(i5v,l6X,x3.CANDLEUP);this.drawShadowsHighPerformance(i5v,K6X,x3.CANDLEDOWN);this.drawShadowsHighPerformance(i5v,c6X,x3.CANDLEEVEN);}else{D6X="stx_candle_";D6X+="shad";D6X+="ow";this.drawShadowsHighPerformance(i5v,D6X);}}L5v=this.canvasStyle("stx_candle_up");z5v=L5v[T6X];if(!z5v){z5v=L5v.borderLeftColor;}if(D8P){z5v=null;}this.drawCandlesHighPerformance(i5v,this.getCanvasColor("stx_candle_up"),z5v,x3.CANDLEUP);this.chart.baseLegendColors.push(L5v.color);L5v=this.canvasStyle(L6X);z5v=L5v["border-left-color"];if(!z5v){z5v=L5v.borderLeftColor;}if(D8P){z5v=null;}this.drawCandlesHighPerformance(i5v,this.getCanvasColor("stx_candle_down"),z5v,x3.CANDLEDOWN);this.chart.baseLegendColors.push(L5v.color);}this.endClip();}else if(y5v=="baseline_delta"){G6X="stx";G6X+="_bas";G6X+="eline_tr";G6X+="ace";this.startClip(i5v.name);this.setStyle(G6X,"opacity",0);this.drawLineChart(i5v,"stx_baseline_trace");k5v=j5v.baseline.actualLevel;if(k5v!==null){S6X="2";S6X+=".";S6X+="1";J6X="li";J6X+="ne";E6X="1.";E6X+="1";v6X="sol";v6X+="id";t6X="s";t6X+="t";t6X+="x";t6X+="_baseline_up";k5v=this.pixelFromPriceTransform(k5v,j5v.panel);I5v={"over":t6X,"under":"stx_baseline_down"};for(var T5v in I5v){Z6X="t";Z6X+="r";Z6X+="anspa";Z6X+="rent";n6X="ov";n6X+="er";I6X="C";I6X+="l";I6X+="o";I6X+="se";R5v={panelName:"chart",band:I6X,threshold:j5v.baseline.actualLevel,color:this.getCanvasColor(I5v[T5v]),direction:T5v==n6X?1:-1,edgeHighlight:this.getCanvasColor(I5v[T5v]),edgeParameters:{pattern:"solid",lineWidth:parseInt(this.canvasStyle(I5v[T5v]).width,10)+ +"0.1",opacity:"1"^0}};o5v=R5v.color;if(o5v&&o5v!=Z6X){r6X="o";r6X+="v";r6X+="e";r6X+="r";d5K.K4B(7);X8P=j5v.context.createLinearGradient(d5K.z8K("0",0),T5v==r6X?0:"2"*1*k5v,0,k5v);X8P.addColorStop(0,a3.hexToRgba(o5v,60));d5K.f4B(7);X8P.addColorStop(d5K.I8K("1",0),a3.hexToRgba(o5v,10));R5v.color=X8P;d5K.K4B(33);R5v.opacity=d5K.z8K("1",1969668032);}a3.Studies.preparePeakValleyFill(this,j5v.dataSegment,R5v);this.chart.baseLegendColors.push(o5v);}this.plotLine(0,1,k5v,k5v,this.containerColor,"line",j5v.context,!!1,{pattern:v6X,lineWidth:E6X,opacity:1});this.plotLine(0,1,k5v,k5v,this.getCanvasColor("stx_baseline"),J6X,j5v.context,!!{},{pattern:"dotted",lineWidth:S6X,opacity:0.5});if(this.chart.baseline.userLevel!==!{}){h6X="blo";h6X+="c";h6X+="k";B6X="p";B6X+="x";d5K.K4B(2);var N2X=d5K.I8K(24,2,120);d5K.K4B(7);var x2X=d5K.I8K(17,15);this.controls.baselineHandle.style.top=k5v-parseInt(getComputedStyle(this.controls.baselineHandle).height,N2X)/x2X+"px";this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10)+B6X;this.controls.baselineHandle.style.display=h6X;}}this.endClip();}else if(y5v=="baseline_delta_mountain"){k5v=j5v.baseline.actualLevel;if(k5v!==null){H1X="2";H1X+=".";H1X+="1";a6X="stx_";a6X+="baseline";a6X+="_up";this.startClip(i5v.name);this.drawMountainChart(i5v,"stx_baseline_delta_mountain");this.endClip();this.startClip(i5v.name);this.setStyle("stx_baseline_trace","opacity",0);this.drawLineChart(i5v,"stx_baseline_trace");k5v=this.pixelFromPriceTransform(k5v,j5v.panel);I5v={"over":a6X,"under":"stx_baseline_down"};for(var T5v in I5v){O1X="s";O1X+="o";O1X+="lid";g1X="C";g1X+="lose";R5v={panelName:"chart",band:g1X,threshold:j5v.baseline.actualLevel,color:this.getCanvasColor(I5v[T5v]),direction:T5v=="over"?1:-+"1",edgeHighlight:this.getCanvasColor(I5v[T5v]),edgeParameters:{pattern:O1X,lineWidth:parseInt(this.canvasStyle(I5v[T5v]).width,+"10")+0.1,opacity:1}};this.chart.baseLegendColors.push(R5v.color);R5v.color="transparent";a3.Studies.preparePeakValleyFill(this,j5v.dataSegment,R5v);}this.plotLine(0,1,k5v,k5v,this.containerColor,"line",j5v.context,!"",{pattern:"solid",lineWidth:"1.1",opacity:1});this.plotLine(0,1,k5v,k5v,this.getCanvasColor("stx_baseline"),"line",j5v.context,!!{},{pattern:"dotted",lineWidth:H1X,opacity:0.5});if(this.chart.baseline.userLevel!==!{}){A1X="bl";A1X+="o";A1X+="c";A1X+="k";i1X="p";i1X+="x";F1X="p";F1X+="x";d5K.K4B(1);var U2X=d5K.z8K(14,5,19);this.controls.baselineHandle.style.top=k5v-parseInt(getComputedStyle(this.controls.baselineHandle).height,U2X)/("2"-0)+F1X;this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,+"10")+i1X;this.controls.baselineHandle.style.display=A1X;}this.endClip();}}else if(y5v=="scatterplot"){this.startClip(i5v.name);this.scatter(i5v);this.endClip();}else if(y5v){q1X="l";q1X+="i";q1X+="n";q1X+="e";k1X="In";k1X+="valid chart layout.ch";k1X+="artType: \"";d5K.K4B(28);console.log(d5K.z8K(k1X,y5v,'". Defaulting to Line Chart.'));this.layout.chartType=q1X;this.drawLineChart(i5v,"stx_line_chart");}else{this.chart.baseLegendColors=null;}this.runAppend("displayChart",arguments);};x3.prototype.calculateATR=function(E8P,K8P){var c8P,S8P,u8P,H8P;d5K.m3();if(!K8P){K8P=20;}c8P=0;for(var M8P=+"1";M8P<E8P.dataSet.length;M8P++){S8P=E8P.dataSet[M8P];u8P=E8P.dataSet[M8P-1].Close;H8P=Math.max(S8P.High-S8P.Low,Math.abs(S8P.High-u8P),Math.abs(S8P.Low-u8P));c8P+=H8P;if(M8P>K8P){c8P-=E8P.dataSet[M8P-K8P].trueRange;}S8P.trueRange=H8P;d5K.K4B(13);S8P.atr=d5K.z8K(c8P,K8P);}};d5K.m3();x3.prototype.calculateMedianPrice=function(f8P){var p8P;d5K.r3();for(var U8P=0;U8P<f8P.dataSet.length;++U8P){p8P=f8P.dataSet[U8P];p8P["hl/2"]=(p8P.High+p8P.Low)/2;}};x3.prototype.calculateTypicalPrice=function(C8P){var t8P;for(var Z8P=0;Z8P<C8P.dataSet.length;++Z8P){t8P=C8P.dataSet[Z8P];d5K.K4B(2);var e2X=d5K.z8K(10,3,10);t8P["hlc/3"]=(t8P.High+t8P.Low+t8P.Close)/e2X;}};x3.prototype.calculateWeightedClose=function(b8P){var V8P,V1X;d5K.r3();for(var q8P=0;q8P<b8P.dataSet.length;++q8P){V1X="h";V1X+="lcc/";V1X+="4";V8P=b8P.dataSet[q8P];d5K.f4B(76);var C2X=d5K.I8K(9,15,12);d5K.K4B(21);var R2X=d5K.z8K(13,25,8);V8P[V1X]=(V8P.High+V8P.Low+C2X*V8P.Close)/R2X;}};x3.prototype.calculateOHLC4=function(P8P){var Y8P,b1X;d5K.r3();for(var O8P=0;O8P<P8P.dataSet.length;++O8P){b1X="ohl";b1X+="c/4";Y8P=P8P.dataSet[O8P];Y8P[b1X]=(Y8P.Open+Y8P.High+Y8P.Low+Y8P.Close)/4;}};x3.prototype.currentQuote=function(){var i8P;d5K.r3();i8P=null;if(!this.chart.dataSet){return null;}for(var w8P=this.chart.dataSet.length-1;w8P>=0;w8P--)if(this.chart.dataSet[w8P]){return this.chart.dataSet[w8P];}return null;};x3.prototype.correctIfOffEdge=function(T8P){var M1X,k8P,j8P,d8P;M1X="corre";M1X+="ctI";M1X+="fOffEdge";d5K.m3();if(this.runPrepend(M1X,arguments)){return;}for(var y8P in this.charts){k8P=this.charts[y8P];j8P=this.minimumLeftBars+1;if(k8P.allowScrollPast){d8P=k8P.maxTicks-j8P;if(k8P.maxTicks-d8P>k8P.dataSet.length){d8P=k8P.maxTicks-k8P.dataSet.length;}if(k8P.scroll-d8P>k8P.dataSet.length){k8P.scroll=k8P.dataSet.length+d8P;}if(k8P.scroll<=j8P){k8P.scroll=j8P;this.micropixels=0;}}else{if(k8P.scroll<j8P){k8P.scroll=j8P;}if(k8P.scroll>k8P.dataSet.length){k8P.scroll=k8P.dataSet.length;}};}this.runAppend("correctIfOffEdge",arguments);};x3.prototype.createDataSegment=function(g6P){var I8P,z8P,Q8P,o8P,n6P;if(this.runPrepend("createDataSegment",arguments)){return;}d5K.m3();for(var h6P in this.charts){I8P=this.charts[h6P];if(g6P){I8P=g6P;}I8P.baseline.actualLevel=I8P.baseline.userLevel?I8P.baseline.userLevel:I8P.baseline.defaultLevel;I8P.dataSegment=[];z8P=I8P.dataSet.length-I8P.scroll-+"1";for(var L8P=-("1">>1498651904);L8P<I8P.scroll&&L8P<I8P.maxTicks;L8P++){z8P++;if(L8P==-("1"&2147483647)&&!I8P.baseline.includeInDataSegment)continue;if(z8P<I8P.dataSet.length&&z8P>=0){if(I8P.dataSet[z8P].candleWidth){I8P.dataSet[z8P].candleWidth=null;I8P.dataSet[z8P].leftOffset=null;}I8P.dataSegment.push(I8P.dataSet[z8P]);if(I8P.baseline.actualLevel===null&&L8P>=0){I8P.baseline.actualLevel=I8P.dataSet[z8P].iqPrevClose;}}else if(z8P<+"0"){I8P.dataSegment.push(null);}}if(this.layout.chartType=="volume_candle"){Q8P=+"0";for(var l8P=0;l8P<I8P.dataSegment.length;l8P++){if(I8P.dataSegment[l8P]){Q8P+=I8P.dataSegment[l8P].Volume;}}d5K.f4B(9);o8P=d5K.I8K(0,"0");for(var R8P=0;R8P<I8P.dataSegment.length;R8P++){if(I8P.dataSegment[R8P]){if(I8P.dataSegment[R8P].Volume){n6P=I8P.width;if(I8P.scroll<I8P.maxTicks){n6P-=this.preferences.whitespace;}I8P.dataSegment[R8P].candleWidth=n6P*I8P.dataSegment[R8P].Volume/Q8P;I8P.dataSegment[R8P].leftOffset=o8P+I8P.dataSegment[R8P].candleWidth/2;o8P+=I8P.dataSegment[R8P].candleWidth;}else{I8P.dataSegment[R8P].candleWidth=this.layout.candleWidth;I8P.dataSegment[R8P].leftOffset=o8P+this.layout.candleWidth/2;o8P+=this.layout.candleWidth;}}else{o8P+=this.layout.candleWidth;}}}if(g6P)break;}this.runAppend("createDataSegment",arguments);};x3.prototype.leftTick=function(){d5K.m3();return this.chart.dataSet.length-this.chart.scroll;};x3.prototype.getStartDateOffset=function(){for(var r6P=0;r6P<this.chart.dataSegment.length;r6P++){if(this.chart.dataSegment[r6P]){return r6P;}}d5K.r3();return 0;};x3.prototype.setStartDate=function(X6P){var D6P;d5K.m3();for(var m6P=0;m6P<this.chart.dataSet.length;m6P++){D6P=this.chart.dataSet[m6P];if(D6P.DT.getTime()==X6P.getTime()){this.chart.scroll=this.chart.dataSet.length-m6P;this.draw();return;}}};x3.prototype.updateListeners=function(a6P){var N6P;d5K.r3();for(var x6P in this.plugins){N6P=this.plugins[x6P];if(N6P.display&&N6P.listener){N6P.listener(this,a6P);}}};x3.prototype.clearPixelCache=function(){var B6P,e6P;for(var F6P in this.panels){B6P=this.panels[F6P];B6P.cacheHigh=null;B6P.cacheLow=null;B6P.cacheLeft=1000000;B6P.cacheRight=-1;}d5K.m3();for(var s6P in this.charts){e6P=this.charts[s6P];if(!e6P.dataSet)continue;for(var J6P=0;J6P<e6P.dataSet.length;J6P++){e6P.dataSet[J6P].cache={};}}};x3.prototype.createYAxisLabel=function(H6P,V6P,M6P,E6P,C6P,Z6P,t6P){var W6P,G6P,A6P,v6P,c6P,f6P,K6P,S6P,U6P,p6P,q6P,u6P,N1X;if(H6P.yAxis.drawPriceLabels===!!0){return;}W6P=t6P?t6P:H6P.yAxis;G6P=Z6P?Z6P:this.chart.context;A6P=3;d5K.K4B(47);var z2X=d5K.I8K(57,20,36,3);v6P=this.getCanvasFontSize("stx_yaxis")+A6P*z2X;this.canvasFont("stx_yaxis",G6P);c6P=W6P.displayBorder;if(this.axisBorders===!"1"){c6P=![];}if(this.axisBorders===!!1){c6P=!!1;}f6P=c6P?3:0;try{d5K.f4B(13);var Q2X=d5K.I8K(10,5);K6P=G6P.measureText(V6P).width+f6P+A6P*Q2X;}catch(b6P){K6P=W6P.width;}d5K.f4B(13);var Y2X=d5K.z8K(18,6);S6P=W6P.left-A6P+Y2X;d5K.K4B(28);U6P=d5K.I8K(S6P,A6P,f6P);p6P=3;q6P=W6P.position===null?H6P.chart.yAxis.position:W6P.position;if(q6P==="left"){S6P=W6P.left+W6P.width+A6P-3;d5K.K4B(77);K6P=d5K.z8K(1,K6P);U6P=S6P;p6P=-3;G6P.textAlign="right";}if(M6P+v6P/2>W6P.bottom){M6P=W6P.bottom-v6P/2;}if(M6P-v6P/2<W6P.top){M6P=W6P.top+v6P/+"2";}G6P.fillStyle=E6P;if(typeof a3[this.yaxisLabelStyle]=='undefined'){this.yaxisLabelStyle="roundRectArrow";;}u6P=this.yaxisLabelStyle;if(W6P.yaxisLabelStyle){u6P=W6P.yaxisLabelStyle;}d5K.f4B(78);a3[u6P](G6P,S6P,d5K.z8K(2,M6P,v6P),K6P,v6P,p6P,!!{},!"1");G6P.textBaseline="middle";G6P.fillStyle=C6P?C6P:a3.chooseForegroundColor(E6P);if(G6P.fillStyle==E6P){N1X="#F";N1X+="FF";N1X+="F";N1X+="FF";if(E6P.toUpperCase()==N1X){G6P.fillStyle="#000000";}else{G6P.fillStyle="#FFFFFF";}}d5K.K4B(35);G6P.fillText(V6P,U6P,d5K.z8K("1",M6P));G6P.textAlign="left";};x3.prototype.createXAxisLabel=function(w6P,z6P,O6P,d6P,R6P,I6P){var Y6P,k6P,T6P,j6P,P6P,i6P,y6P;Y6P=this.chart.context;k6P=2;T6P="stx";T6P+="-flo";T6P+="at-";T6P+="date";d5K.f4B(7);var w2X=d5K.I8K(13,11);j6P=this.getCanvasFontSize(T6P)+k6P*w2X;this.canvasFont(T6P,Y6P);try{P6P=Y6P.measureText(z6P).width+k6P*2;}catch(L6P){P6P=0;}i6P=w6P.top+w6P.height-j6P;if(O6P+P6P/2<w6P.left||O6P-P6P/2>w6P.right){return;}if(!I6P){if(O6P+P6P/2>w6P.right){d5K.f4B(1);var p2X=d5K.I8K(19,4,17);O6P=w6P.right-P6P/p2X;}if(O6P-P6P/+"2"<w6P.left){O6P=w6P.left+P6P/+"2";}}Y6P.fillStyle=d6P;d5K.K4B(78);a3.roundRect(Y6P,d5K.I8K(2,O6P,P6P),i6P,P6P,j6P,3,!!1,!!"");if(I6P){y6P=w6P.bottom-w6P.yAxis.bottom-j6P;Y6P.beginPath();d5K.K4B(7);Y6P.moveTo(d5K.I8K(O6P,y6P),i6P);d5K.f4B(7);Y6P.lineTo(O6P,d5K.I8K(i6P,y6P));d5K.f4B(0);Y6P.lineTo(d5K.I8K(O6P,y6P),i6P);Y6P.closePath();Y6P.fill();}Y6P.textBaseline="top";Y6P.fillStyle=R6P?R6P:a3.chooseForegroundColor(d6P);if(Y6P.fillStyle==d6P){if(d6P.toUpperCase()=="#FFFFFF"){Y6P.fillStyle="#000000";}else{Y6P.fillStyle="#FFFFFF";}}d5K.K4B(79);Y6P.fillText(z6P,d5K.z8K(P6P,O6P,k6P,2),d5K.z8K(i6P,k6P,d5K.f4B(0)));};x3.prototype.drawCurrentHR=function(){var D1P,x1P,Q6P,o6P,n1P,g1P,h1P,l6P,X1P,B1P,e1P,x1X,N1P,r1P,m1P,X1X;if(this.runPrepend("drawCurrentHR",arguments)){return;}d5K.r3();for(var a1P in this.charts){Q6P=this.charts[a1P];o6P=Q6P.panel;n1P=o6P.yAxis;if(n1P.drawCurrentPriceLabel===!{})continue;if(Q6P.customChart&&Q6P.customChart.chartType=="none")continue;g1P=n1P.whichSet;if(!g1P){g1P="dataSet";}h1P=Q6P[g1P].length;if(g1P=="dataSegment"){while(h1P>(Q6P.width-this.micropixels+this.layout.candleWidth/2+1)/this.layout.candleWidth){h1P--;}}if(h1P){d5K.K4B(7);l6P=Q6P[g1P][d5K.I8K(h1P,1)];X1P=l6P.Close;B1P=l6P.Close;if(Q6P[g1P].length>=2){d5K.K4B(8);e1P=Q6P[g1P][d5K.I8K(h1P,"2")];X1P=e1P.Close;}if(B1P<X1P){x1X="stx";x1X+="_cu";x1X+="rrent_hr";x1X+="_down";D1P=this.canvasStyle(x1X).backgroundColor;x1P=this.canvasStyle("stx_current_hr_down").color;}else{D1P=this.canvasStyle("stx_current_hr_up").backgroundColor;x1P=this.canvasStyle("stx_current_hr_up").color;}if(l6P.transform){l6P=l6P.transform;}r1P=Math.max(o6P.yAxis.printDecimalPlaces,o6P.chart.decimalPlaces);if(n1P.maxDecimalPlaces||n1P.maxDecimalPlaces===0){r1P=Math.min(r1P,n1P.maxDecimalPlaces);}if(n1P.priceFormatter){N1P=n1P.priceFormatter(this,o6P,l6P.Close,r1P);}else{N1P=this.formatYAxisPrice(l6P.Close,o6P,r1P);}m1P=this.pixelFromPrice(l6P.Close,o6P);this.createYAxisLabel(o6P,N1P,m1P,D1P,x1P);if(this.preferences.currentPriceLine===!""&&this.isHome()){X1X="l";X1X+="ine";o6P.chart.context.globalCompositeOperation="destination-over";this.plotLine(o6P.left,o6P.right,m1P,m1P,D1P,X1X,o6P.chart.context,o6P,{pattern:"dashed",lineWidth:1,opacity:0.8});o6P.chart.context.globalCompositeOperation="source-over";}}}this.runAppend("drawCurrentHR",arguments);};x3.prototype.getDefaultColor=function(){var U1X,J1P,F1P,s1P,W1P,G1P,u1X,e1X;U1X="#";U1X+="0";U1X+="00000";this.defaultColor=U1X;J1P=null;F1P=this.chart.container;while(!J1P||a3.isTransparent(J1P)){s1P=getComputedStyle(F1P);if(!s1P){return;}J1P=s1P.backgroundColor;if(a3.isTransparent(J1P)){J1P="transparent";}F1P=F1P.parentNode;if(!F1P||!F1P.tagName)break;}if(J1P){if(J1P=="transparent"){J1P="#FFFFFF";}this.containerColor=J1P;if(!a3.isTransparent(J1P)){W1P=a3.hsv(J1P);G1P=W1P[2];if(G1P>0.65){this.defaultColor="#000000";}else{this.defaultColor="#FFFFFF";}}else{u1X="#0";u1X+="00000";this.defaultColor=u1X;}}else{e1X="#FF";e1X+="FFFF";this.containerColor=e1X;}};x3.prototype.startAsyncAction=function(){if(!this.pendingAsyncs){this.pendingAsyncs=[];}this.pendingAsyncs.push(!!"1");};x3.prototype.registerChartDrawnCallback=function(v1P){if(!this.asyncCallbacks){this.asyncCallbacks=[];}this.asyncCallbacks.push(v1P);d5K.r3();return{fc:v1P};};x3.prototype.unregisterChartDrawnCallback=function(M1P){for(var A1P=0;A1P<this.asyncCallbacks.length;A1P++){if(this.asyncCallbacks[A1P]==M1P.fc){this.asyncCallbacks.splice(A1P,1);return;}}};x3.prototype.makeAsyncCallbacks=function(){if(!this.asyncCallbacks){return;}if(!this.pendingAsyncs||!this.pendingAsyncs.length){for(var S1P=0;S1P<this.asyncCallbacks.length;S1P++){this.asyncCallbacks[S1P]();}}};x3.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop();this.makeAsyncCallbacks();};x3.prototype.draw=function(){var f1X,C1X,u1P,K1P,c1P,E1P,R1X,U1P,O7h,H7h,F7h,d1X,W1X;f1X="dr";f1X+="a";f1X+="w";C1X="d";C1X+="r";C1X+="aw";this.debug();if(!this.chart.canvas){return;}if(!this.chart.dataSet){return;}if(!this.chart.canvasHeight){return;}d5K.K4B(78);var j2X=d5K.I8K(18,3,18);this.offset=this.layout.candleWidth*this.candleWidthPercent/j2X;a3.clearCanvas(this.chart.canvas,this);if(this.runPrepend(C1X,arguments)){return;}if(!this.xaxisHeight){this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+ +"4";if(this.chart.xAxis.displayBorder||this.axisBorders){this.xaxisHeight+=3;}}this.getDefaultColor();this.vectorsShowing=!{};this.drawPanels();this.yAxisLabels=[];for(c1P in this.charts){R1X="c";R1X+="alculate";K1P=this.charts[c1P];this.correctIfOffEdge();this.createDataSegment();U1P=this.createXAxis(K1P);this.initializeDisplay(K1P);this.rendererAction(K1P,R1X);this.renderYAxis(K1P);this.drawXAxis(K1P,U1P);K1P.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent);if(K1P.tmpWidth%+"2"==="0"-0){d5K.f4B(9);K1P.tmpWidth+=d5K.I8K(1,"1");if(K1P.tmpWidth>this.layout.candleWidth){K1P.tmpWidth-=2;}}if(K1P.tmpWidth<0.5){d5K.K4B(7);K1P.tmpWidth=d5K.I8K("0.5",0);}for(u1P in this.plugins){E1P=this.plugins[u1P];if(E1P.display){if(E1P.drawUnder){E1P.drawUnder(this,K1P);}}}this.rendererAction(K1P,"underlay");a3.Studies.displayStudies(this,K1P,!![]);this.displayChart(K1P);a3.Studies.displayStudies(this,K1P,![]);this.rendererAction(K1P,"overlay");}for(c1P in this.charts){K1P=this.charts[c1P];for(u1P in this.plugins){E1P=this.plugins[u1P];if(E1P.display){if(E1P.drawOver){E1P.drawOver(this,K1P);}}}}for(var p1P in this.panels){if(!this.panels[p1P].hidden){this.plotYAxisText(this.panels[p1P]);}}for(var H1P=0;H1P<this.yAxisLabels.length;H1P++){this.createYAxisLabel.apply(this,this.yAxisLabels[H1P].args);}this.createCrosshairs();this.drawVectors();d5K.r3();this.drawCurrentHR();this.displayInitialized=!!"1";if(this.controls.home){O7h=1399919185;d5K.K4B(7);H7h=-d5K.z8K("740146080",0);d5K.f4B(12);F7h=d5K.I8K("2",2147483647);for(var A7h="1">>265122464;d5K.D0h(A7h.toString(),A7h.toString().length,+"8204")!==O7h;A7h++){d1X="blo";d1X+="ck";W1X="no";W1X+="ne";this.controls.home.style.display=this.isHome()?W1X:d1X;F7h+=2;}if(d5K.c0h(F7h.toString(),F7h.toString().length,97592)!==H7h){this.controls.home.style.display=this.isHome()?"none":"none";}}this.positionMarkers();for(c1P in this.charts){K1P=this.charts[c1P];if(this.quoteDriver){this.quoteDriver.checkLoadMore(K1P);}}this.runAppend(f1X,arguments);this.makeAsyncCallbacks();};x3.prototype.adjustBackingStore=function(f1P,t1P){var q1P,Z1P,C1P,V1P;this.devicePixelRatio=window.devicePixelRatio||"1"^0;if(this.devicePixelRatio<1.0){this.devicePixelRatio=1.0;}q1P=t1P.webkitBackingStorePixelRatio||t1P.mozBackingStorePixelRatio||t1P.msBackingStorePixelRatio||t1P.oBackingStorePixelRatio||t1P.backingStorePixelRatio||1;Z1P=this.devicePixelRatio/q1P;if(!a3.isAndroid||a3.is_chrome){C1P=f1P.width;V1P=f1P.height;d5K.f4B(5);f1P.width=d5K.z8K(C1P,Z1P);d5K.K4B(5);f1P.height=d5K.I8K(V1P,Z1P);d5K.K4B(0);f1P.style.width=d5K.z8K(C1P,'px');d5K.K4B(0);f1P.style.height=d5K.z8K(V1P,'px');t1P.scale(Z1P,Z1P);this.adjustedDisplayPixelRatio=Z1P;}};x3.prototype.resizeCanvas=function(){var O1P,w1P,i1P,Y1P,b1P,d1P,P1P,k1P;if(!this.chart.panel){this.chart.panel=this.panels.chart;}O1P=this.chart.canvas;w1P=this.chart.context;if(O1P&&w1P){this.chart.tempCanvas.height=O1P.height=this.chart.container.clientHeight;this.chart.tempCanvas.width=O1P.width=this.chart.container.clientWidth;this.adjustBackingStore(O1P,w1P);this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context);this.floatCanvas.height=this.chart.container.clientHeight;this.floatCanvas.width=this.chart.container.clientWidth;this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context);}i1P=this.container.getBoundingClientRect();this.top=i1P.top;this.left=i1P.left;this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth;this.right=this.left+this.canvasWidth;this.height=this.chart.container.clientHeight;this.width=this.right-this.left;if(this.width===0&&!this.container.dimensionlessCanvas){console.log("warning: zero width chart. Check CSS for chart container.");}this.bottom=this.top+this.height;this.calculateYAxisPositions();this.chart.canvasRight=this.right;this.chart.canvasHeight=this.height;Y1P=this.layout.candleWidth;if(typeof Y1P=="undefined"){Y1P=8;}for(var j1P in this.charts){b1P=this.charts[j1P];if(this.layout.span){this.setCandleWidth(this.getSpanCandleWidth(this.layout.span),b1P);}else{this.setCandleWidth(Y1P,b1P);if(b1P.scroll<b1P.width/Y1P){b1P.scroll=Math.floor(b1P.width/Y1P);d1P=Math.round(this.preferences.whitespace/this.layout.candleWidth);b1P.scroll-=d1P;}}P1P=10;try{k1P=w1P.measureText("10:00").width*2;}catch(y1P){k1P=100;}while(P1P>1){if(this.chart.width/k1P>P1P)break;P1P/=1.5;}b1P.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/P1P);if(b1P.xAxis.autoComputedTickSizePixels<1){b1P.xAxis.autoComputedTickSizePixels=1;}}};x3.prototype.setCandleWidth=function(T1P,I1P){if(!I1P){I1P=this.chart;}if(T1P<this.minimumCandleWidth){T1P=this.minimumCandleWidth;}this.layout.candleWidth=T1P;d5K.K4B(80);var m2X=d5K.z8K(24,17,12,5);I1P.maxTicks=Math.round(this.chart.width/T1P)+m2X;};x3.prototype.resizeChart=function(R1P){var z1P;if(this.runPrepend("resizeChart",arguments)){return;}if(R1P!==!1){R1P=!![];}if(R1P){this.preAdjustScroll();}z1P=this.chart.canvasHeight;this.resizeCanvas();if(R1P){this.postAdjustScroll();}if(this.displayInitialized){this.adjustPanelPositions();this.draw();;}else if(this.chart.canvasHeight!==+"0"&&z1P===0){this.adjustPanelPositions();this.draw();}this.positionCrosshairsAtPointer();this.doDisplayCrosshairs();this.runAppend("resizeChart",arguments);};x3.prototype.newChart=function(n4P,h4P,L1P,g4P,o1P){var X4P,m4P,x4P,D4P,l1P,r4P,Q1P,N4P;if(!L1P){L1P=this.chart;}if(!o1P){o1P={};}if(o1P.periodicity){if(o1P.periodicity.interval){this.layout.interval=o1P.periodicity.interval;}if(o1P.periodicity.period){this.layout.periodicity=o1P.periodicity.period;}if(o1P.periodicity.periodicity){this.layout.periodicity=o1P.periodicity.periodicity;}this.layout.timeUnit=o1P.periodicity.timeUnit;}X4P=L1P.symbol;m4P=a3.clone(L1P.symbolObject);x4P=L1P.market;if(!n4P){L1P.symbol=null;L1P.symbolObject={symbol:null};}else if(typeof n4P=='object'){L1P.symbol=n4P.symbol;L1P.symbolObject=n4P;}else{L1P.symbol=n4P;L1P.symbolObject.symbol=n4P;}if(this.marketFactory){D4P=this.marketFactory(L1P.symbolObject);this.setMarket(D4P,L1P);}l1P=this;if(!h4P&&this.quoteDriver){r4P=function(a4P){if(a4P&&a4P!="orphaned"){L1P.symbol=X4P;L1P.symbolObject=m4P;L1P.market=x4P;}if(!l1P.currentlyImporting){l1P.dispatch("symbolChange",{stx:l1P,symbol:l1P.chart.symbol,symbolObject:l1P.chart.symbolObject});}if(g4P){g4P(a4P);}};Q1P=o1P.span;if(!Q1P&&this.layout){Q1P=this.layout.setSpan;}if(Q1P&&Q1P.base){N4P=Q1P.multiplier||1;this.chart.masterData=null;this.displayInitialized=![];this.setSpan({maintainPeriodicity:o1P.periodicity?!!{}:!!"",multiplier:N4P,base:Q1P.base,symbol:L1P.symbol},r4P);}else{this.quoteDriver.newChart({symbol:L1P.symbol,symbolObject:L1P.symbolObject,chart:L1P,initializeChart:!!{}},function(B4P){if(!B4P){l1P.adjustPanelPositions();l1P.quoteDriver.updateSubscriptions();if(o1P.stretchToFillScreen){l1P.fillScreen();}}d5K.m3();r4P.apply(l1P,arguments);});}}else{if(!h4P){console.log("Warning: No masterData specified and no QuoteFeed configured");}if(!L1P.symbol){L1P.symbol="";}this.setMasterData(h4P,L1P);this.createDataSet();this.initializeChart();if(o1P.span&&o1P.span.multiplier&&o1P.span.base){this.setSpan({maintainPeriodicity:!!{},multiplier:o1P.span.multiplier,base:o1P.span.base});}else if(o1P.stretchToFillScreen){this.fillScreen();}else{this.draw();}this.adjustPanelPositions();if(g4P){g4P();}}};x3.prototype.fillScreen=function(){var F4P,e4P,J4P,s4P;F4P=this.layout.candleWidth;d5K.r3();e4P=this.chart.width-this.preferences.whitespace;J4P=this.chart.dataSet.length;if(J4P*F4P>=e4P){this.draw();return;}d5K.K4B(13);s4P=d5K.z8K(e4P,J4P);this.setCandleWidth(s4P,this.chart);this.home({maintainWhitespace:!!{}});};x3.prototype.setMasterData=function(A4P,G4P){var K4P,v4P,W4P,P1X,M4P,S4P;if(!G4P){G4P=this.chart;}if(this.marketFactory){K4P=this.marketFactory(G4P.symbolObject);this.setMarket(K4P,G4P);}G4P.masterData=A4P;if(G4P.name=="chart"){this.masterData=A4P;}for(v4P=0;A4P&&v4P<A4P.length;v4P++){if(this.transformMasterDataQuote){A4P[v4P]=this.transformMasterDataQuote(A4P[v4P]);}W4P=A4P[v4P];if(W4P.DT){W4P.DT=new Date(W4P.DT);W4P.Date=a3.yyyymmddhhmmssmmm(W4P.DT);}else if(W4P.Date){W4P.DT=a3.strToDateTime(W4P.Date);}else{console.log('setMasterData : Missing DT and Date on masterData object');}if(W4P.Volume&&typeof W4P.Volume!=="number"){W4P.Volume=parseInt(W4P.Volume,10);}if(typeof W4P.Close=='number'){;}else{P1X="setMasterData : Close is missing or not a number. Use parseFloat() if your data server";P1X+=" provide";P1X+="s strings. MasterData Index= ";console.log(P1X+v4P+' Value = '+W4P.Close);}if(W4P.High===null){delete W4P.High;}if(W4P.Low===null){delete W4P.Low;}if(W4P.Open===null){delete W4P.Open;}}d5K.m3();G4P.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:G4P,symbol:G4P.symbolObject.symbol,symbolObject:G4P.symbolObject});if(!x3.isDailyInterval(this.layout.interval)){this.setDisplayDates(A4P);}this.chart.roundit=Math.pow(10,G4P.decimalPlaces);for(v4P in this.plugins){M4P=this.plugins[v4P];if(M4P.display){if(M4P.setMasterData){M4P.setMasterData(this,G4P);}}}for(var E4P in this.chart.series){S4P=this.chart.series[E4P];if(S4P.addSeriesData){S4P.addSeriesData(this);}}};x3.prototype.getSymbols=function(){var c4P,H4P,U4P,p4P,q4P,t4P;c4P=[];for(var b4P in this.charts){U4P=this.charts[b4P];c4P.push({symbol:U4P.symbol,symbolObject:U4P.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan});for(var f4P in U4P.series){p4P=U4P.series[f4P];if(!p4P.parameters.data||!p4P.parameters.data.useDefaultQuoteFeed)continue;H4P={symbol:f4P,symbolObject:p4P.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};if(arguments[0]==="include-parameters"){H4P.parameters=p4P.parameters;}if(!H4P.symbolObject){H4P.symbolObject=p4P.parameters.symbolObject||{symbol:f4P};}c4P.push(H4P);}}for(var V4P in this.panels){if(this.panels[V4P].studyQuotes){for(var C4P in this.panels[V4P].studyQuotes){H4P={symbol:C4P,symbolObject:{symbol:C4P},periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};c4P.push(H4P);}}}for(var u4P=c4P.length-1;u4P>=+"0";u4P--){q4P=c4P[u4P].symbol;if(this.isEquationChart(q4P)){t4P=a3.formatEquation(q4P);if(t4P){for(var Z4P=0;Z4P<t4P.symbols.length;Z4P++){H4P={symbol:t4P.symbols[Z4P],symbolObject:c4P[u4P].symbolObject,periodicity:c4P[u4P].periodicity,interval:c4P[u4P].interval,timeUnit:c4P[u4P].timeUnit,setSpan:c4P[u4P].setSpan};c4P.push(H4P);}d5K.f4B(5);c4P.splice(u4P,d5K.z8K("1",1));}}}return c4P;};x3.prototype.setDisplayDate=function(w4P){var Y4P,P4P,O4P,z3h,Q3h,Y3h;Y4P=w4P.DT;d5K.K4B(0);var l2X=d5K.z8K(24,8);P4P=Y4P.getSeconds()*("1000"|l2X)+Y4P.getMilliseconds();if(this.dataZone){O4P=new e3.Date(Y4P.getFullYear(),Y4P.getMonth(),Y4P.getDate(),Y4P.getHours(),Y4P.getMinutes(),this.dataZone);z3h=277348211;Q3h=821344767;Y3h=2;for(var w3h=1;d5K.c0h(w3h.toString(),w3h.toString().length,18454)!==z3h;w3h++){Y4P=new Date(O4P.getTime()+P4P);Y3h+=2;}if(d5K.D0h(Y3h.toString(),Y3h.toString().length,77119)!==Q3h){Y4P=new Date(O4P.getTime()-P4P);}}if(this.displayZone){O4P=new e3.Date(Y4P.getTime(),this.displayZone);Y4P=new Date(O4P.getFullYear(),O4P.getMonth(),O4P.getDate(),O4P.getHours(),O4P.getMinutes());Y4P=new Date(Y4P.getTime()+P4P);}w4P.displayDate=Y4P;};x3.prototype.setDisplayDates=function(k4P){var j4P;if(!k4P){return;}d5K.m3();for(var i4P=0;i4P<k4P.length;i4P++){j4P=k4P[i4P];if(j4P.DT){this.setDisplayDate(j4P);}}};x3.prototype.streamTrade=function(g3P,T4P,Q4P,R4P){var l4P,y4P,o4P,z4P,L4P,n3P,d4P,D3P,N3P,m3P,I4P,z1X,x3P,h3P,a3P,X3P,B3P,r3P;l4P=this.chart;if(!R4P){R4P={};}if(R4P.chart){l4P=R4P.chart;}y4P=null;o4P=null;z4P=null;L4P=0;if(typeof g3P=="object"){y4P=g3P.last;o4P=g3P.bid;z4P=g3P.ask;L4P=g3P.volume;if(typeof T4P!="undefined"){T4P=new Date(T4P);}}else{y4P=arguments[0];L4P=arguments[+"1"];if(typeof T4P!="undefined"){T4P=new Date(arguments[2]);}Q4P=arguments[3];}n3P=l4P.masterData;if(!T4P||T4P=='Invalid Date'){T4P=this.convertToDataZone(new Date());}if(!n3P||!n3P.length||this.layout.interval=="tick"){d4P={Date:a3.yyyymmddhhmmssmmm(T4P),DT:T4P,Open:y4P,Close:y4P,High:y4P,Low:y4P,Volume:L4P,Bid:o4P,Ask:z4P};this.appendMasterData([d4P],l4P,R4P);}else{d4P=a3.clone(n3P[n3P.length-1]);D3P=new a3.Market({});N3P={'begin':d4P.DT,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};m3P=D3P.newIterator(N3P);I4P=m3P.next();if(T4P<I4P){z1X="undefi";z1X+="ned";if(Q4P){if(y4P||y4P===0){d4P[Q4P]=y4P;;}}else{if(y4P||y4P===0){d4P.Close=y4P;if(y4P>d4P.High||d4P.High===null){d4P.High=y4P;}if(y4P<d4P.Low||d4P.Low===null){d4P.Low=y4P;}if(d4P.Open===null){d4P.Open=y4P;};}if(L4P){d4P.Volume+=L4P;}if(o4P||o4P===0){d4P.Bid=o4P;}if(z4P||z4P===0){d4P.Ask=z4P;}}x3P=a3.clone(R4P);if(typeof d4P.Adj_Close!=z1X){d4P.Adj_Close=d4P.Close;}this.appendMasterData([d4P],l4P,x3P);}else{h3P=[];a3P={'begin':T4P,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};X3P=D3P.newIterator(a3P);X3P.next();T4P=X3P.previous();while(I4P<T4P&&this.streamParameters.fillGaps){B3P={Date:a3.yyyymmddhhmmssmmm(I4P),DT:I4P,Close:d4P.Close,Open:d4P.Close,High:d4P.Close,Low:d4P.Close,Volume:"0"^0,Bid:d4P.Bid,Ask:d4P.Ask};h3P.push(B3P);I4P=m3P.next();}if(Q4P){r3P=this.currentQuote();d4P={Date:a3.yyyymmddhhmmssmmm(I4P),DT:I4P,Close:r3P.Close,Volume:0,Bid:r3P.Bid,Ask:r3P.Ask};d4P[Q4P]=y4P;}else{d4P={Date:a3.yyyymmddhhmmssmmm(I4P),DT:I4P,Open:y4P,Close:y4P,High:y4P,Low:y4P,Volume:L4P,Bid:o4P,Ask:z4P};}h3P.push(d4P);this.appendMasterData(h3P,l4P,R4P);}}};x3.prototype.appendMasterData=function(s3P,M3P,v3P){var E3P,J3P,e3P,S3P,W3P,Q1X,Y1X,H3P,G3P,Q2h,Y2h,y2h,A3P;if(!v3P){v3P={};}if(!M3P){M3P=this.chart;}if(s3P.constructor==Object){s3P=[s3P];}if(this.runPrepend("appendMasterData",[s3P,M3P,v3P])){return;}if(!s3P||!s3P.length){return;}E3P=s3P[0].DT;if(!E3P){E3P=a3.strToDateTime(s3P[0].Date);}J3P=M3P.masterData;if(!J3P||!J3P.length){J3P=M3P.masterData=a3.clone(s3P);for(e3P="0"^0;e3P<J3P.length;e3P++){if(J3P[e3P].DT){J3P[e3P].Date=a3.yyyymmddhhmmssmmm(J3P[e3P].DT);}else{J3P[e3P].DT=a3.strToDateTime(J3P[e3P].Date);}if(J3P[e3P].Volume&&typeof J3P[e3P].Volume!=="number"){J3P[e3P].Volume=parseInt(J3P[e3P].Volume,10);}if(!x3.isDailyInterval(this.layout.interval)){this.setDisplayDate(J3P[e3P]);}}}else{e3P=J3P.length-+"1";while(e3P>=0){S3P=J3P[e3P].DT;if(!S3P){S3P=a3.strToDateTime(J3P[e3P].Date);}if(S3P.getTime()<=E3P.getTime()){W3P=0;if(S3P.getTime()<E3P.getTime()){W3P=1;}for(var F3P="0"&2147483647;F3P<s3P.length;F3P++){if(!W3P){if(typeof J3P[e3P+F3P]!="undefined"){if(!s3P[F3P].Volume&&J3P[e3P+F3P].Volume){s3P[F3P].Volume=J3P[e3P+F3P].Volume;}if(!v3P.allowReplaceOHL){if(J3P[e3P+F3P].Open){s3P[F3P].Open=J3P[e3P+F3P].Open;}if(J3P[e3P+F3P].High>s3P[F3P].High){s3P[F3P].High=J3P[e3P+F3P].High;}if(J3P[e3P+F3P].Low&&J3P[e3P+F3P].Low<s3P[F3P].Low){s3P[F3P].Low=J3P[e3P+F3P].Low;}};}for(var c3P in this.chart.series){Q1X="undef";Q1X+="ined";if(typeof s3P[F3P][c3P]=="undefined"&&typeof J3P[e3P+F3P]!=Q1X){d5K.f4B(0);s3P[F3P][c3P]=J3P[d5K.I8K(e3P,F3P)][c3P];}}for(var u3P in this.panels){if(this.panels[u3P].studyQuotes){for(var K3P in this.panels[u3P].studyQuotes){Y1X="u";Y1X+="ndefined";if(!this.panels[u3P].studyQuotes[K3P])continue;if(typeof s3P[F3P][K3P]=="undefined"&&typeof J3P[e3P+F3P]!=Y1X){d5K.f4B(0);s3P[F3P][K3P]=J3P[d5K.z8K(e3P,F3P)][K3P];}}}}}d5K.f4B(28);J3P[d5K.I8K(e3P,F3P,W3P)]=s3P[F3P];if(J3P[e3P+F3P+W3P].DT){J3P[e3P+F3P+W3P].Date=a3.yyyymmddhhmmssmmm(J3P[e3P+F3P+W3P].DT);}else{J3P[e3P+F3P+W3P].DT=a3.strToDateTime(J3P[e3P+F3P+W3P].Date);}if(J3P[e3P+F3P+W3P].Volume&&typeof J3P[e3P+F3P+W3P].Volume!=="number"){J3P[e3P+F3P+W3P].Volume=parseInt(J3P[e3P+F3P+W3P].Volume,10);}if(!x3.isDailyInterval(this.layout.interval)){this.setDisplayDate(this.masterData[e3P+F3P+W3P]);};}break;}e3P--;}for(e3P in this.plugins){H3P=this.plugins[e3P];if(H3P.display){if(H3P.appendMasterData){H3P.appendMasterData(this,s3P,M3P);}}}}if(!this.masterData||!this.masterData.length){this.masterData=J3P;}if(!v3P.noCreateDataSet){G3P=this.streamParameters;if(++G3P.count>G3P.maxTicks||v3P.bypassGovernor){clearTimeout(G3P.timeout);this.createDataSet();this.draw();this.updateChartAccessories();d5K.f4B(5);G3P.count=d5K.z8K("0",1);G3P.timeout=-1;;}else{Q2h=544075206;Y2h=32798420;y2h=2;for(var s2h=1;d5K.D0h(s2h.toString(),s2h.toString().length,7087)!==Q2h;s2h++){A3P=this;y2h+=2;}if(d5K.D0h(y2h.toString(),y2h.toString().length,68147)!==Y2h){A3P=this;}if(G3P.timeout==-1){G3P.timeout=setTimeout(function(){A3P.createDataSet();A3P.draw();A3P.updateChartAccessories();A3P.streamParameters.count=+"0";A3P.streamParameters.timeout=-1;},G3P.maxWait);}}}this.runAppend("appendMasterData",arguments);};x3.prototype.displayAll=function(p3P,C3P){var U3P,f3P,y1X;function t3P(){var V3P;if(!U3P.masterData.length){return;}V3P=a3.clone(p3P);V3P.dtLeft=U3P.masterData[0].DT;V3P.dtRight=U3P.masterData[U3P.masterData.length-1].DT;if(p3P.maintainPeriodicity){V3P.periodicity={};V3P.periodicity.interval=f3P.layout.interval;V3P.periodicity.period=f3P.layout.periodicity;}f3P.setRange(V3P,function(q3P){d5K.m3();if(!p3P.maintainPeriodicity){f3P.layout.setSpan={base:p3P.base,multiplier:p3P.multiplier};f3P.changeOccurred("layout");}if(C3P){C3P(q3P);}});}U3P=this.chart;if(p3P&&p3P.chart){U3P=p3P.chart;}function Z3P(){d5K.m3();f3P.quoteDriver.loadAll(U3P,t3P);}f3P=this;if(!this.quoteDriver){t3P();return;}if(this.dontRoll&&this.layout.interval!="month"){y1X="m";y1X+="ont";y1X+="h";this.setPeriodicityV2(+"1",y1X,Z3P);}else if(!x3.isDailyInterval(this.layout.interval)){this.setPeriodicityV2(+"1","day",Z3P);}else{if(U3P.moreAvailable){Z3P();}else{t3P();}}};x3.prototype.setRange=function(b3P,k3P){var w1X,D9P,Y3P,i3P,j3P,N9P,P3P,h9P,K1X,O3P,w3P,d3P,m9P,l3P,I3P,g9P,l1X,m1X,o1X,j1X,L3P,r9P,y3P,B9P,X9P,x9P,a9P,z3P,D1X,c1X,R3P;w1X="un";w1X+="de";w1X+="f";w1X+="ined";if(a3.isEmpty(b3P)){b3P={dtLeft:arguments[+"0"],dtRight:arguments[1],padding:arguments[2],chart:arguments[3],goIntoFuture:!{}};k3P=arguments[4];}function e9P(K9P,E9P,M9P,S9P,c9P){var v9P,A9P,s1X,p1X;v9P=0;d5K.f4B(7);A9P=d5K.I8K(K9P,E9P);if(x3.isDailyInterval(M9P)){s1X="wee";s1X+="k";if(M9P=="month"){v9P=A9P/a3.MONTH/S9P;}else if(M9P==s1X){v9P=A9P/a3.WEEK/S9P;}else{v9P=A9P/a3.DAY/S9P;}}else{if(!isNaN(M9P)){v9P=A9P/(a3.MINUTE*M9P)/S9P;}else{p1X="m";p1X+="illiseco";p1X+="n";p1X+="d";if(M9P==p1X){d5K.f4B(13);v9P=d5K.I8K(A9P,S9P);}else if(M9P=="second"){v9P=A9P/a3.SECOND/S9P;}else if(M9P=="hour"){v9P=A9P/a3.HOUR/S9P;}else{v9P=A9P/a3.MINUTE/S9P;}}}return Math.round(v9P);;}if(!b3P.chart){b3P.chart=this.chart;}if(typeof b3P.padding==w1X){b3P.padding=this.preferences.whitespace;}D9P=!"1";Y3P=b3P.chart;i3P=b3P.dtLeft;j3P=this.convertToDataZone(new Date());d5K.m3();if(b3P.dtRight){j3P=b3P.dtRight;}if(!i3P){N9P=this.standardMarketIterator(j3P,null,Y3P);i3P=N9P.previous(Y3P.maxTicks);if(!b3P.periodicity){D9P=!!{};}}function Q3P(W9P){if(W9P){P3P.chart.scroll=x9P;P3P.layout.candleWidth=a9P;if(k3P){k3P(W9P);}return;}h9P++;if(h9P>10){console.log("STXChart.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.");n9P();return;}if(Y3P.moreAvailable&&Y3P.masterData[0].DT>i3P){P3P.quoteDriver.checkLoadMore(Y3P,!!1,!{},function(G9P){d5K.r3();if(!G9P){Q3P();}});}else{n9P();}}P3P=this;h9P=0;if(this.quoteDriver){K1X="milli";K1X+="sec";K1X+="onds";if(D9P){O3P=this.layout.interval;d3P=this.layout.timeUnit;w3P=this.layout.period;}else if(b3P.periodicity){O3P=b3P.periodicity.interval;d3P=b3P.periodicity.timeUnit;w3P=b3P.periodicity.period;}else{m9P=j3P.getTime()-i3P.getTime();if(b3P.rangePeriodicityMap){l3P=b3P.rangePeriodicityMap;I3P=null;for(var o3P=0;o3P<l3P.length;o3P++){g9P=l3P[o3P];if(m9P<=g9P.range){I3P=g9P;break;}}O3P=I3P.interval;w3P=I3P.periodicity;d3P=I3P.timeUnit;;}else{l1X="y";l1X+="ea";l1X+="r";m1X="s";m1X+="ca";m1X+="tte";m1X+="rplot";o1X="vol";o1X+="um";o1X+="e_can";o1X+="dle";j1X="colore";j1X+="d";j1X+="_line";L3P=2;switch(this.layout.chartType){case"line":case j1X:case"mountain":case"colored_mountain":case"baseline_delta":case"baseline_delta_mountain":case"wave":d5K.K4B(39);L3P=d5K.I8K("2",1959308960);break;case"candle":case"bar":case"colored_bar":case"hollow_candle":case o1X:case m1X:L3P=5;break;}if(b3P.pixelsPerBar){L3P=b3P.pixelsPerBar;}r9P=Y3P.width/L3P;y3P=[{interval:1,ms:a3.MINUTE},{interval:"5"&2147483647,ms:a3.MINUTE*5},{interval:30,ms:a3.MINUTE*30},{interval:"day",ms:a3.DAY},{interval:"month",ms:a3.MONTH},{interval:l1X,ms:Number.MAX_VALUE}];O3P=y3P[0].interval;w3P=1;for(var T3P="0">>657904288;T3P<y3P.length;T3P++){X9P=m9P/y3P[T3P].ms;if(X9P<r9P){if(y3P[T3P-1]){O3P=y3P[T3P-("1"^0)].interval;d5K.K4B(13);w3P=Math.ceil(d5K.I8K(B9P,r9P));}else{O3P=y3P[T3P].interval;w3P=+"1";}break;}B9P=X9P;}}}x9P=this.chart.scroll;a9P=this.layout.candleWidth;this.chart.scroll=this.chart.maxTicks=e9P(j3P.getTime(),i3P.getTime(),O3P,w3P,this.dontRoll);this.layout.candleWidth=this.chart.width/this.chart.maxTicks;z3P=this.layout.timeUnit!=d3P&&(d3P=="seconds"||d3P==K1X);if(!z3P&&x3.isDailyInterval(this.layout.interval)!==x3.isDailyInterval(O3P)){z3P=!!"1";}else if(!x3.isDailyInterval(this.layout.interval)&&this.layout.interval!=O3P){z3P=!!{};}if(!this.chart.masterData||z3P){D1X="t";D1X+="i";D1X+="c";D1X+="k";this.layout.interval=O3P;this.layout.periodicity=w3P;this.layout.timeUnit=d3P;if(!this.layout.timeUnit){c1X="secon";c1X+="d";if(x3.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval=="second"){this.layout.timeUnit=c1X;}else if(this.layout.interval!="tick"){this.layout.timeUnit="minute";}}R3P={symbol:Y3P.symbol,symbolObject:Y3P.symbolObject,chart:Y3P,nodraw:!![]};if(this.layout.interval==D1X){R3P.startDate=i3P;R3P.endDate=j3P;}if(!this.displayInitialized){R3P.initializeChart=!!1;}this.quoteDriver.newChart(R3P,Q3P);}else{if(this.layout.interval!=O3P||this.layout.periodicity!=w3P){this.layout.interval=O3P;this.layout.periodicity=w3P;this.createDataSet();}Q3P();}}else{n9P();}function n9P(){var J9P,F9P,s9P;if(!Y3P.dataSet||Y3P.dataSet.length===0){if(k3P){k3P();}return;}J9P=0;F9P=0;if(i3P.getTime()>=Y3P.dataSet[0].DT.getTime()||b3P.goIntoPast){J9P=P3P.tickFromDate(i3P,Y3P,null,!![]);}else{J9P=+"0";}if(j3P.getTime()<=Y3P.dataSet[Y3P.dataSet.length-1].DT.getTime()||b3P.goIntoFuture){F9P=P3P.tickFromDate(j3P,Y3P);}else{F9P=Y3P.dataSet.length-1;}d5K.f4B(1);s9P=d5K.I8K(J9P,1,F9P);if(s9P<1){if(k3P){k3P();}return;}P3P.setCandleWidth((P3P.chart.width-b3P.padding)/s9P,Y3P);d5K.f4B(81);var c2X=d5K.I8K(10,4,3,31,10);Y3P.scroll=Y3P.dataSet.length-J9P+c2X;P3P.micropixels=0;P3P.draw();P3P.changeOccurred("layout");if(k3P){k3P();}}};x3.prototype.setSpan=function(H9P,V9P){var T1X,Z9P,U9P,O9P,f9P,C9P,P9P,p9P,y9P,t9P,u9P,o7h,m7h,l7h,j9P,w9P,i9P,k9P,b9P,d9P,Y9P;T1X="tod";T1X+="a";T1X+="y";Z9P=arguments[0];U9P=arguments[1];O9P=arguments[2];function q9P(T9P){T9P.setHours(+"0");T9P.setMinutes(0);T9P.setSeconds(0);d5K.r3();T9P.setMilliseconds(0);return T9P;}f9P=arguments[+"3"];if(typeof H9P=="object"){Z9P=H9P.period?H9P.period:H9P.multiplier?H9P.multiplier:1;U9P=H9P.interval?H9P.interval:H9P.base?H9P.base:H9P.span?H9P.span:H9P.period;O9P=H9P.padding;f9P=H9P.chart;}else{H9P={period:Z9P,interval:U9P,padding:O9P,chart:f9P};V9P=arguments[5];}if(!H9P.padding){H9P.padding=0;}if(!f9P){f9P=this.chart;}U9P=U9P.toLowerCase();if(U9P=="all"){this.displayAll(H9P,V9P);return;}C9P=U9P;P9P=1;if(U9P==T1X){C9P="day";}else if(U9P=="year"){C9P="month";P9P=12;}p9P=a3.shallowClone(H9P);p9P.goIntoFuture=![];y9P={'begin':new Date(),'interval':C9P,'period':P9P,'outZone':this.dataZone};t9P=f9P.market.newIterator(y9P);u9P=this.convertToDataZone(new Date());if(U9P==='ytd'){o7h=1731617396;m7h=1825692241;l7h=2;for(var c7h=1;d5K.D0h(c7h.toString(),c7h.toString().length,46771)!==o7h;c7h++){u9P=q9P(u9P);l7h+=2;}if(d5K.D0h(l7h.toString(),l7h.toString().length,+"68198")!==m7h){u9P=q9P(u9P);}u9P.setMonth(0);d5K.K4B(39);u9P.setDate(d5K.I8K("1",511031616));}else if(U9P==="today"){t9P.next();u9P=t9P.previous();}else if(U9P==="month"){u9P=q9P(new Date());u9P.setMonth(u9P.getMonth()-Z9P);}else if(U9P==="year"){u9P=q9P(new Date());u9P.setFullYear(u9P.getFullYear()-Z9P);}else if(U9P==="week"){u9P=q9P(new Date());u9P.setDate(u9P.getDate()-Z9P*("7"&2147483647));}else if(U9P==="day"&&Z9P==+"1"){j9P=u9P.getHours();w9P=u9P.getMinutes();i9P=u9P.getSeconds();k9P=u9P.getMilliseconds();u9P=t9P.previous();u9P.setHours(j9P);u9P.setMinutes(w9P);u9P.setSeconds(i9P);u9P.setMilliseconds(k9P);}else{d5K.f4B(8);u9P=t9P.previous(d5K.z8K(Z9P,"1"));}p9P.dtLeft=u9P;if(U9P==='today'){p9P.goIntoFuture=!!{};p9P.dtRight=new Date(u9P);b9P=t9P.market.zclose_hour;d9P=t9P.market.zclose_minute;p9P.dtRight.setHours(b9P?b9P:23);p9P.dtRight.setMinutes(b9P?d9P:59);p9P.dtRight.setSeconds(0);p9P.dtRight=f9P.market._convertFromMarketTZ(p9P.dtRight,this.dataZone);p9P.dtLeft.setHours(t9P.market.zopen_hour);p9P.dtLeft.setMinutes(t9P.market.zopen_minute);p9P.dtLeft.setSeconds(+"0");p9P.dtLeft=f9P.market._convertFromMarketTZ(p9P.dtLeft,this.dataZone);}if(p9P.maintainPeriodicity){p9P.periodicity={};p9P.periodicity.interval=this.layout.interval;p9P.periodicity.period=this.layout.periodicity;}f9P.spanLock=![];Y9P=this;this.setRange(p9P,function(I9P){var L1X;if(!H9P.maintainPeriodicity){L1X="l";L1X+="ay";L1X+="ou";L1X+="t";Y9P.layout.setSpan={base:H9P.base,multiplier:H9P.multiplier};Y9P.changeOccurred(L1X);}if(U9P==="ytd"||U9P=="today"){f9P.spanLock=!!"1";;}d5K.m3();if(V9P){V9P(I9P);}});};x3.prototype.getSpanCandleWidth=function(n7P){var t1X,G1X,z9P,L9P,l9P,R9P,S3h,B3h,h3h,J0h,S0h,B0h,o9P,Q9P;t1X="da";t1X+="y";G1X="y";G1X+="e";G1X+="a";G1X+="r";z9P=n7P.split((599,7060)!=603.42?",":(307.17,0x313));if(z9P.length<2){return;}L9P=parseFloat(z9P[0]);l9P=new Date();R9P=new Date();if(z9P[1]==G1X){d5K.K4B(5);S3h=d5K.z8K("602005839",1);d5K.K4B(33);B3h=-d5K.z8K("1234189081",370849536);h3h=+"2";for(var g7h=+"1";d5K.D0h(g7h.toString(),g7h.toString().length,"80428"-0)!==S3h;g7h++){R9P.setFullYear(R9P.getFullYear()+L9P);h3h+=2;}if(d5K.D0h(h3h.toString(),h3h.toString().length,15703)!==B3h){R9P.setFullYear(R9P.getFullYear()+L9P);}R9P.setFullYear(R9P.getFullYear()-L9P);}else if(z9P["1"<<124508480]=="month"){R9P.setMonth(R9P.getMonth()-L9P);}else if(z9P[1]==t1X){R9P.setDate(R9P.getDate()-L9P);}else if(z9P[+"1"]=="week"){J0h=46273214;S0h=1285453345;B0h=+"2";for(var a0h=1;d5K.D0h(a0h.toString(),a0h.toString().length,"47589"*1)!==J0h;a0h++){R9P.setDate(R9P.getDate()-7*L9P);B0h+=2;}if(d5K.D0h(B0h.toString(),B0h.toString().length,93789)!==S0h){R9P.setDate(R9P.getDate()/(4-L9P));}}d5K.f4B(82);var D2X=d5K.I8K(76,14,3,3930,19);o9P=(l9P.getTime()-R9P.getTime())/("1000"&2147483647)/("60"^0)/D2X/24;d5K.K4B(2);o9P=d5K.I8K(7,5,o9P);Q9P=this.chart.width/o9P;return Q9P;};x3.prototype.setMaxTicks=function(g7P,h7P){var r7P;if(!h7P){h7P={};}g7P=Math.round(g7P);if(g7P<2){g7P=2;}r7P=h7P.padding;if(!r7P){r7P=0;}this.layout.candleWidth=(this.chart.width-r7P)/g7P;if(!this.layout.candleWidth){this.layout.candleWidth=8;}this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-0.499);if(h7P.padding||h7P.padding===0){d5K.f4B(35);this.chart.scroll=d5K.z8K("1",g7P);}};x3.prototype.construct=function(){var I1X;I1X="cha";I1X+="rt";this.stackPanel(I1X,"chart",1);this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.cx=0;this.cy=0;this.micropixels=0;this.chart.panel.subholder.appendChild(this.controls.home);this.callbackListeners={};this.longHoldTime=1000;};x3.prototype.addEventListener=function(m7P,X7P){var D7P;if(!m7P){m7P=5620<7680?"*":(!!1,+"0x2119");}D7P=this.callbackListeners[m7P];if(!D7P){this.callbackListeners[m7P]=D7P=[];}D7P.push(X7P);return{type:m7P,cb:X7P};};x3.prototype.removeEventListener=function(N7P,B7P){var x7P;if(typeof N7P!="object"){N7P={type:N7P,cb:B7P};}if(!N7P.type){N7P.type=(7803,7560)>("2295"|83,657.68)?"*":!{};}x7P=this.callbackListeners[N7P.type];if(!x7P){return;}for(var a7P=0;a7P<x7P.length;a7P++){if(x7P[a7P]===N7P.cb){x7P.splice(a7P);if(!x7P.length){N7P[N7P.type]=null;}return;}}};x3.prototype.dispatch=function(s7P,W7P){var e7P,N7h,x7h,X7h;if(this.callbacks[s7P]){this.callbacks[s7P].call(this,W7P);}e7P=this.callbackListeners[s7P];if(e7P){N7h=-605960017;x7h=-+"419973914";X7h=+"2";for(var u7h=1;d5K.c0h(u7h.toString(),u7h.toString().length,6671)!==N7h;u7h++){for(var J7P=0;J7P<e7P.length;J7P++){e7P[J7P].call(this,W7P);}X7h+=+"2";}if(d5K.D0h(X7h.toString(),X7h.toString().length,22174)!==x7h){for(var J7P=5;J7P>e7P.length;J7P--){e7P[J7P].call(this,W7P);}}}e7P=this.callbackListeners[5401==(3368,31)?+"339.34"===(+"2865",237)?"2.01e+3">>651515968:(5263,6740)<+"3190"?(![],"l"):("B",!1):"*"];if(e7P){for(var F7P=0;F7P<e7P.length;F7P++){e7P[F7P].call(this,W7P);}}};x3.prototype.deleteYAxisIfUnused=function(v7P,A7P){var M7P,G7P;if(!A7P){return;}if(A7P===v7P.yAxis){return;}for(var S7P in this.chart.seriesRenderers){M7P=this.chart.seriesRenderers[S7P];if(M7P.params.yAxis===A7P){if(M7P.seriesParams.length!==0){return;}}}for(G7P=0;G7P<v7P.yaxisLHS.length;G7P++){if(v7P.yaxisLHS[G7P]===A7P){v7P.yaxisLHS.splice(G7P,+"1");}}for(G7P=1;G7P<v7P.yaxisRHS.length;G7P++){if(v7P.yaxisRHS[G7P]===A7P){v7P.yaxisRHS.splice(G7P,1);}}this.resizeCanvas();d5K.m3();this.adjustPanelPositions();};x3.prototype.addYAxis=function(K7P,E7P){var n1X,u7P,Z1X;n1X="le";n1X+="f";n1X+="t";if(!E7P){return;}if(!K7P.yaxisLHS){K7P.yaxisLHS=[];K7P.yaxisRHS=[];if(K7P.yAxis.position=="right"){K7P.yaxisRHS.push(K7P.yAxis);}else{K7P.yaxisLHS.push(K7P.yAxis);}}u7P=K7P.yaxisLHS.concat(K7P.yaxisRHS);d5K.m3();for(var c7P="0">>868851520;c7P<u7P.length;c7P++){if(u7P[c7P]===E7P){return;}}if(E7P.position===n1X){K7P.yaxisLHS.unshift(E7P);}else{Z1X="r";Z1X+="ig";Z1X+="h";Z1X+="t";E7P.position=Z1X;K7P.yaxisRHS.push(E7P);}this.preAdjustScroll();this.resizeCanvas();this.adjustPanelPositions();this.postAdjustScroll();};x3.prototype.calculateYAxisPositions=function(){var t7P,C7P,v1X,H7P,V7P,r1X,q7P,p7P,U7P,f7P;t7P=[];for(var Y7P in this.charts){t7P.push(Y7P);}for(var b7P in this.panels){C7P=this.panels[b7P];if(C7P.name===C7P.chart.name)continue;t7P.push(b7P);}for(var Z7P=0;Z7P<t7P.length;Z7P++){v1X="undef";v1X+="ined";H7P=this.panels[t7P[Z7P]];if(!H7P)continue;V7P=H7P.name===H7P.chart.name;if(!H7P.yaxisLHS){H7P.yaxisLHS=[];H7P.yaxisRHS=[];if(H7P.name===H7P.chart.name||H7P.yAxis.position){if(H7P.yAxis.position=="left"){H7P.yaxisLHS.push(H7P.yAxis);}else{H7P.yaxisRHS.push(H7P.yAxis);};}else{r1X="ri";r1X+="ght";q7P=H7P.chart.panel.yAxis.position;if(!q7P||q7P==r1X){H7P.yaxisRHS.push(H7P.yAxis);}else{H7P.yaxisLHS.push(H7P.yAxis);}}}if(!H7P.yAxis.width){H7P.yAxis.width=this.yaxisWidth;}H7P.yaxisTotalWidthRight=0;H7P.yaxisTotalWidthLeft=0;for(p7P=0;p7P<H7P.yaxisLHS.length;p7P++){U7P=H7P.yaxisLHS[p7P];H7P.yaxisTotalWidthLeft+=U7P.width;U7P.justifyRight=U7P.justifyRight===null?H7P.chart.yAxis.justifyRight:U7P.justifyRight;if(U7P.justifyRight===null){U7P.justifyRight=!!{};}}for(p7P=0;p7P<H7P.yaxisRHS.length;p7P++){U7P=H7P.yaxisRHS[p7P];H7P.yaxisTotalWidthRight+=U7P.width;}f7P=0;for(p7P=0;p7P<H7P.yaxisLHS.length;p7P++){U7P=H7P.yaxisLHS[p7P];U7P.left=f7P;f7P+=U7P.width;}f7P=this.width-H7P.yaxisTotalWidthRight;for(p7P=0;p7P<H7P.yaxisRHS.length;p7P++){U7P=H7P.yaxisRHS[p7P];U7P.left=f7P;f7P+=U7P.width;}if(typeof this.yaxisLeft!=v1X){H7P.chart.yaxisPaddingRight=this.yaxisLeft;}H7P.yaxisCalculatedPaddingRight=H7P.yaxisTotalWidthRight;if(H7P.chart.yaxisPaddingRight||H7P.chart.yaxisPaddingRight===0){H7P.yaxisCalculatedPaddingRight=H7P.chart.yaxisPaddingRight;}H7P.yaxisCalculatedPaddingLeft=H7P.yaxisTotalWidthLeft;if(H7P.chart.yaxisPaddingLeft||H7P.chart.yaxisPaddingLeft===+"0"){H7P.yaxisCalculatedPaddingLeft=H7P.chart.yaxisPaddingLeft;}if(V7P){H7P.left=H7P.yaxisCalculatedPaddingLeft;H7P.right=this.width-H7P.yaxisCalculatedPaddingRight;}else{H7P.left=H7P.chart.panel.left;H7P.right=H7P.chart.panel.right;}H7P.width=H7P.right-H7P.left;H7P.handle.style.left=H7P.left+"px";H7P.handle.style.width=H7P.width+"px";if(V7P){H7P.chart.left=H7P.left;H7P.chart.right=H7P.right;H7P.chart.width=H7P.right-H7P.left;}}};x3.prototype.initializeChart=function(R7P){var i0X,F0X,H0X,O0X,g0X,h1X,B1X,S1X,J1X,E1X,a1X,y7P,k7P,O7P,j7P,P7P,w7P,d7P,A0X,i7P;i0X="2";i0X+="d";F0X="c";F0X+="a";F0X+="nva";F0X+="s";H0X="2";H0X+="d";O0X="0";O0X+="p";O0X+="x";g0X="abs";g0X+="ol";g0X+="ut";g0X+="e";h1X="ca";h1X+="nv";h1X+="a";h1X+="s";B1X="2";B1X+="d";S1X="0";S1X+="p";S1X+="x";J1X="a";J1X+="b";J1X+="solu";J1X+="te";E1X="c";E1X+="a";E1X+="nv";E1X+="as";if(this.runPrepend("initializeChart",arguments)){return;}if(!this.chart.symbolObject.symbol){this.chart.symbolObject.symbol=this.chart.symbol;}if(this.locale){this.setLocale(this.locale);}if(!this.displayZone&&x3.defaultDisplayTimeZone){this.setTimeZone(null,x3.defaultDisplayTimeZone);}this.calculateYAxisPositions();this.micropixels=0;if(R7P){this.chart.container=R7P;}this.chart.container.stx=this;if(!this.chart.container.STXRegistered){this.chart.container.STXRegistered=!"";x3.registeredContainers.push(this.chart.container);}if(a3.isSurface){if(!this.gesture){this.gesture=new MSGesture();if(this.manageTouchAndMouse){this.gesture.target=this.chart.container;}else{this.gesture.target=document.body;}this.gesturePointerId=null;}}this.registerHTMLElements();if(this.chart.canvas&&document.createElement(E1X).getContext){if(!this.chart.canvas.id){this.chart.container.removeChild(this.chart.canvas);this.chart.canvas=null;}if(this.chart.tempCanvas&&!this.chart.tempCanvas.id){this.chart.container.removeChild(this.chart.tempCanvas);this.chart.tempCanvas=null;}if(this.floatCanvas&&!this.floatCanvas.id){this.chart.container.removeChild(this.floatCanvas);this.floatCanvas=null;}}else{if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}if(this.layout.candleWidth>200){this.layout.candleWidth=8;}}if(!this.chart.canvas){this.chart.canvas=document.createElement("canvas");}if(!this.chart.canvas.getContext){this.chart.canvas=this.chart.container.querySelectorAll("#ie8canvas")[0];if(!this.chart.canvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.canvas);}}this.chart.canvas.style.display="block";}else{this.chart.container.appendChild(this.chart.canvas);}this.chart.canvas.style.position=J1X;this.chart.canvas.style.left=S1X;this.chart.context=this.chart.canvas.getContext(B1X);this.chart.canvas.context=this.chart.context;this.chart.context.lineWidth=1;if(!this.chart.tempCanvas){this.chart.tempCanvas=document.createElement(h1X);}if(!this.chart.tempCanvas.getContext){a1X="#ie8ca";a1X+="nvas";a1X+="Temp";this.chart.tempCanvas=this.chart.container.querySelectorAll(a1X)[0];if(!this.chart.tempCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.chart.tempCanvas.style.display="block";}else{this.chart.container.appendChild(this.chart.tempCanvas);}this.chart.tempCanvas.style.position=g0X;this.chart.tempCanvas.style.left=O0X;this.chart.tempCanvas.context=this.chart.tempCanvas.getContext(H0X);this.chart.tempCanvas.context.lineWidth=1;if(!this.floatCanvas){this.floatCanvas=document.createElement(F0X);}if(!this.floatCanvas.getContext){this.floatCanvas=this.chart.container.querySelectorAll("#ie8canvasFloat")[0];if(!this.floatCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.floatCanvas.style.display="block";}else{this.chart.container.appendChild(this.floatCanvas);}this.floatCanvas.style.position="absolute";this.floatCanvas.style.left="0px";this.floatCanvas.context=this.floatCanvas.getContext(i0X);this.floatCanvas.context.lineWidth=1;this.resizeCanvas();if(a3.isAndroid){this.chart.tempCanvas.ontouchstart=function(z7P){d5K.m3();if(z7P.preventDefault){z7P.preventDefault();}};this.floatCanvas.ontouchstart=function(L7P){if(L7P.preventDefault){L7P.preventDefault();}};}this.panels.chart.display=this.chart.symbol;if(this.chart.symbolDisplay){this.panels.chart.display=this.chart.symbolDisplay;}this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.calculateYAxisMargins(this.chart.panel.yAxis);this.initialWhitespace=this.preferences.whitespace;if(this.chart.dataSet&&this.chart.dataSet.length>0){this.chart.scroll=Math.floor(this.chart.width/this.layout.candleWidth);y7P=Math.round(this.preferences.whitespace/this.layout.candleWidth);this.chart.scroll-=y7P;}if(a3.touchDevice){k7P=B3(".overlayEdit",this.chart.container);O7P=B3("#overlayTrashCan",this.chart.container);j7P=B3("#vectorTrashCan",this.chart.container);if(k7P){a3.safeClickTouch(k7P,function(o7P){d5K.r3();return function(l7P){o7P.deleteHighlighted(!"",!"");};}(this));if(O7P){a3.safeClickTouch(O7P,function(Q7P){d5K.r3();return function(n2P){d5K.m3();Q7P.deleteHighlighted(![]);};}(this));}}else if(O7P){a3.safeClickTouch(O7P,function(g2P){d5K.r3();return function(h2P){g2P.deleteHighlighted(!!"1");};}(this));}if(j7P){a3.safeClickTouch(j7P,function(r2P){return function(m2P){var E7h,J7h,S7h;E7h=980536908;J7h=-1180209088;S7h=+"2";for(var h7h=1;d5K.D0h(h7h.toString(),h7h.toString().length,11324)!==E7h;h7h++){d5K.m3();r2P.deleteHighlighted(!![]);S7h+=2;}if(d5K.D0h(S7h.toString(),S7h.toString().length,"92411"<<1797046528)!==J7h){d5K.m3();r2P.deleteHighlighted(![]);}};}(this));}}if(this.manageTouchAndMouse){this.registerTouchAndMouseEvents();}this.chart.container.onmouseout=function(D2P){d5K.r3();return function(X2P){D2P.handleMouseOut(X2P);};}(this);if(this.controls.chartControls){this.controls.chartControls.style.display="block";}this.abortDrawings();this.undoStamps=[];for(var I7P in this.panels){P7P=this.panels[I7P];if(P7P.markerHolder){this.chart.container.removeChild(P7P.markerHolder);P7P.markerHolder=null;}}for(var T7P in this.plugins){w7P=this.plugins[T7P];if(w7P.display){if(w7P.initializeChart){w7P.initializeChart(this);}}}if(!this.resizeListenerInitialized){this.resizeListenerInitialized=!!{};d7P=function(N2P){return function(x2P){N2P.resizeChart();};};if(window.attachEvent){window.attachEvent("onresize",d7P(this));}else{A0X="resi";A0X+="ze";i7P=d7P(this);window.addEventListener("resize",i7P,!![]);this.eventListeners.push({"element":window,"event":A0X,"function":i7P});}}if(this.chart.baseline.userLevel){this.chart.baseline.userLevel=null;}this.setResizeTimer(this.resizeDetectMS);this.runAppend("initializeChart",arguments);};x3.prototype.destroy=function(){var B2P;this.setResizeTimer(0);if(this.quoteDriver){this.quoteDriver.die();}this.styles={};for(var a2P=0;a2P<this.eventListeners.length;a2P++){B2P=this.eventListeners[a2P];B2P.element.removeEventListener(B2P.event,B2P["function"]);}};x3.prototype.handleMouseOut=function(e2P){var k0X,C5h,R5h,W5h,Z3h,r3h,v3h,J2P,F2P;e2P=e2P||window.event;if(!a3.withinElement(this.chart.container,e2P.pageX,e2P.pageY)){k0X="handleM";k0X+="ouseOut";if(this.runPrepend(k0X,arguments)){return;}this.undisplayCrosshairs();this.grabbingScreen=![];C5h=-1309010073;R5h=693620318;W5h=2;for(var f5h=1;d5K.D0h(f5h.toString(),f5h.toString().length,51708)!==C5h;f5h++){this.touches=[];W5h+=2;}if(d5K.D0h(W5h.toString(),W5h.toString().length,2250)!==R5h){this.touches=[];}this.touching=!!0;if(this.activeDrawing&&this.userPointerDown){Z3h=873525527;d5K.K4B(7);r3h=-d5K.I8K("596219937",0);v3h=2;for(var J3h=1;d5K.D0h(J3h.toString(),J3h.toString().length,"55293"*1)!==Z3h;J3h++){this.userPointerDown=!!{};this.drawingLine=!!{};J2P=this.backOutY(e2P.pageY);F2P=this.backOutX(e2P.pageX);this.drawingClick(this.currentPanel,F2P,J2P);d5K.K4B(33);v3h+=d5K.I8K("2",1664867264);}if(d5K.c0h(v3h.toString(),v3h.toString().length,65818)!==r3h){this.userPointerDown=!!0;this.drawingLine=!{};J2P=this.backOutY(e2P.pageY);F2P=this.backOutX(e2P.pageX);this.drawingClick(this.currentPanel,F2P,J2P);}}x3.insideChart=!{};this.displaySticky();this.runAppend("handleMouseOut",arguments);}};x3.prototype.registerTouchAndMouseEvents=function(){var C0X,e0X,u0X,q0X,s2P,A2P,W2P,G2P,V0X,N0X,M0X,b0X,X0X,x0X,U0X,v2P;C0X="D";C0X+="OMMou";C0X+="se";C0X+="Scroll";e0X="mo";e0X+="us";e0X+="ewheel";u0X="w";u0X+="h";u0X+="e";u0X+="el";q0X="#hom";q0X+="e";if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!![];s2P=this.chart.container;A2P=B3(q0X,this.controls.chartControls);W2P=B3("#zoomIn",this.controls.chartControls);G2P=B3("#zoomOut",this.controls.chartControls);if(!a3.touchDevice){V0X="m";V0X+="ouseup";s2P.addEventListener("mousemove",function(M2P){return function(S2P){d5K.m3();M2P.mousemove(S2P);};}(this),!1);s2P.addEventListener("mousedown",function(K2P){return function(E2P){K2P.mousedown(E2P);};}(this),!{});s2P.addEventListener(V0X,function(c2P){return function(u2P){d5K.m3();c2P.mouseup(u2P);};}(this),!!"");}else{if(a3.isSurface){s2P.addEventListener("mousemove",function(H2P){d5K.m3();return function(p2P){H2P.msMouseMoveProxy(p2P);};}(this),!!0);s2P.addEventListener("mousedown",function(U2P){return function(f2P){d5K.m3();U2P.msMouseDownProxy(f2P);};}(this),!"1");s2P.addEventListener("mouseup",function(t2P){d5K.r3();return function(Z2P){t2P.msMouseUpProxy(Z2P);};}(this),![]);if(window.navigator.msPointerEnabled){N0X="MSPointe";N0X+="r";N0X+="Move";M0X="MSGes";M0X+="tureStart";b0X="M";b0X+="SPointerDo";b0X+="wn";s2P.addEventListener(b0X,function(C2P){return function(V2P){return C2P.startProxy(V2P);};}(this),!{});s2P.addEventListener(M0X,function(q2P){d5K.r3();return function(b2P){q2P.gestureInEffect=!!{};};}(this),!!0);s2P.addEventListener("MSGestureChange",function(Y2P){return function(O2P){d5K.r3();return Y2P.touchmove(O2P);};}(this),!{});s2P.addEventListener("MSGestureEnd",function(P2P){return function(w2P){d5K.m3();P2P.gestureInEffect=!{};return P2P.touchend(w2P);};}(this),![]);s2P.addEventListener(N0X,function(i2P){return function(k2P){i2P.moveProxy(k2P);};}(this),!!0);s2P.addEventListener("MSPointerUp",function(j2P){d5K.r3();return function(d2P){d5K.m3();return j2P.endProxy(d2P);};}(this),!1);}else{X0X="MSGestu";X0X+="reStart";x0X="po";x0X+="in";x0X+="terd";x0X+="own";s2P.addEventListener(x0X,function(y2P){d5K.m3();return function(T2P){return y2P.startProxy(T2P);};}(this),!"1");s2P.addEventListener(X0X,function(I2P){d5K.m3();return function(R2P){I2P.gestureInEffect=!"";};}(this),!!"");s2P.addEventListener("MSGestureChange",function(z2P){d5K.m3();return function(L2P){d5K.r3();return z2P.touchmove(L2P);};}(this),!{});s2P.addEventListener("MSGestureEnd",function(o2P){d5K.r3();return function(l2P){o2P.gestureInEffect=!{};return o2P.touchend(l2P);};}(this),!"1");s2P.addEventListener("pointermove",function(Q2P){return function(n0P){d5K.m3();Q2P.moveProxy(n0P);};}(this),!{});s2P.addEventListener("pointerup",function(g0P){return function(h0P){return g0P.endProxy(h0P);};}(this),!{});}}else{if(!a3.isAndroid&&!a3.ipad&&!a3.iphone){U0X="mou";U0X+="s";U0X+="eup";s2P.addEventListener("mousemove",function(r0P){return function(m0P){r0P.iosMouseMoveProxy(m0P);};}(this),![]);s2P.addEventListener("mousedown",function(D0P){d5K.m3();return function(X0P){D0P.iosMouseDownProxy(X0P);};}(this),![]);s2P.addEventListener(U0X,function(N0P){return function(x0P){d5K.m3();N0P.iosMouseUpProxy(x0P);};}(this),!!0);}s2P.addEventListener("touchstart",function(a0P){d5K.m3();return function(B0P){d5K.m3();a0P.touchstart(B0P);};}(this),!1);s2P.addEventListener("touchmove",function(e0P){return function(J0P){d5K.m3();e0P.touchmove(J0P);};}(this),!{});s2P.addEventListener("touchend",function(F0P){d5K.m3();return function(s0P){d5K.m3();F0P.touchend(s0P);};}(this),![]);if(W2P){W2P.removeAttribute("onMouseOver");W2P.removeAttribute("onMouseOut");}if(G2P){G2P.removeAttribute("onMouseOver");G2P.removeAttribute("onMouseOut");}}}v2P=u0X in document.createElement("div")||"onwheel"in document?"wheel":document.onmousewheel!==undefined?e0X:C0X;s2P.addEventListener(v2P,function(W0P,G0P){return function(v0P){d5K.m3();W0P.mouseWheel(v0P,G0P);};}(this,v2P),!!"");};x3.prototype.rightClickHighlighted=function(){if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!![]);this.runAppend("rightClickHighlighted",arguments);};x3.prototype.deleteHighlighted=function(V0P,C0P){var R0X,S0P,U0P,t0P,H0P,A0P,E0P,u0P,p0P;R0X="de";R0X+="leteHig";R0X+="hlighted";if(this.runPrepend(R0X,arguments)){return;}this.cancelTouchSingleClick=!0;a3.clearCanvas(this.chart.tempCanvas,this);for(var M0P=this.drawingObjects.length-1;M0P>=0;M0P--){S0P=this.drawingObjects[M0P];if(S0P.highlighted&&!S0P.permanent){U0P=S0P.abort();if(!U0P){t0P=a3.shallowClone(this.drawingObjects);this.drawingObjects.splice(M0P,1);this.undoStamp(t0P,a3.shallowClone(this.drawingObjects));}this.changeOccurred("vector");}}for(var K0P in this.overlays){H0P=this.overlays[K0P];if(H0P.highlight&&!H0P.permanent){if(V0P||C0P){this.rightClickOverlay(K0P,C0P);}else{this.removeOverlay(K0P);}}}A0P=this.currentPanel.chart;for(var f0P in A0P.seriesRenderers){E0P=A0P.seriesRenderers[f0P];for(var c0P=E0P.seriesParams.length-1;c0P>=0;c0P--){u0P=E0P.seriesParams[c0P];if(u0P.highlight&&!u0P.permanent){E0P.removeSeries(u0P.field);}}}p0P=![];for(var Z0P in A0P.series){if(A0P.series[Z0P].parameters.isComparison){p0P=!!{};}}if(!p0P){this.setComparison(!1,A0P);}this.draw();if(this.controls.mSticky){this.controls.mSticky.style.display="none";this.controls.mSticky.children[0].innerHTML="";}this.runAppend("deleteHighlighted",arguments);};x3.prototype.panelExists=function(Y0P){var b0P;for(var q0P in this.panels){b0P=this.panels[q0P];if(b0P.name==Y0P){return!"";}}return!{};};x3.prototype.hideCrosshairs=function(){this.displayCrosshairs=!!"";};x3.prototype.showCrosshairs=function(){this.displayCrosshairs=!![];};x3.prototype.grabHandle=function(O0P){var W0X;W0X="gra";W0X+="b";W0X+="Handle";if(this.runPrepend("grabHandle",arguments)){return;}if(!O0P){return;}x3.crosshairY=O0P.top+this.top;x3.resizingPanel=O0P;this.drawTemporaryPanel();a3.appendClassName(O0P.handle,"stx-grab");this.runAppend(W0X,arguments);};x3.prototype.releaseHandle=function(){var f0X,d0X;f0X="relea";f0X+="seHand";f0X+="l";f0X+="e";d0X="rel";d0X+="easeHand";d0X+="l";d0X+="e";if(this.runPrepend(d0X,arguments)){return;}a3.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(x3.resizingPanel){a3.unappendClassName(x3.resizingPanel.handle,"stx-grab");}d5K.r3();x3.resizingPanel=null;this.runAppend(f0X,arguments);};x3.prototype.storePanels=function(){var w0P,P0P;if(!this.layout){this.layout={};}d5K.m3();w0P=this.layout;w0P.panels={};for(var i0P in this.panels){P0P=this.panels[i0P];w0P.panels[P0P.name]={"percent":P0P.percent,"display":P0P.display};}};x3.prototype.savePanels=function(k0P){this.storePanels();if(k0P!==!!0){this.changeOccurred("layout");}};x3.prototype.resolveY=function(j0P){return this.top+j0P;};x3.prototype.resolveX=function(d0P){return this.left+d0P;};x3.prototype.backOutY=function(y0P){d5K.m3();return y0P-this.top;};x3.prototype.backOutX=function(T0P){return T0P-this.left;};x3.prototype.cleanupRemovedStudy=function(I0P){d5K.m3();if(I0P.libraryEntry){if(I0P.libraryEntry.removeFN){I0P.libraryEntry.removeFN(this,I0P);}if(I0P.libraryEntry.feed&&I0P.libraryEntry.quoteFeed){this.detachTagAlongQuoteFeed(I0P.libraryEntry.feed);}}for(var R0P in this.plugins){if(R0P.indexOf(((738.18,3125)>+"362"?"{":(869.75,+"4330")!=("1220"&2147483647,7950)?699!=(726.73,2950)?"N":(+"1.56e+3",7.63e+3):"p")+I0P.id+((258.08,558.09)!=(315.06,2050)?(5225,3349)>=601.11?"}":(8070,895.87)==(3080,84.71)?"0x1d1"-0:(9.24e+2,707.82):0x1533))>-1){delete this.plugins[R0P];}}if(this.layout.studies){delete this.layout.studies[I0P.name];}};x3.prototype.privateDeletePanel=function(z0P){var l0P,P0X,n5P;if(this.layout.studies){l0P=this.layout.studies[z0P.name];if(l0P){this.cleanupRemovedStudy(l0P);}}d5K.r3();delete this.panels[z0P.name];for(var Q0P in a3.Studies.studyPanelMap){if(a3.Studies.studyPanelMap[Q0P].panel==z0P.name){delete a3.Studies.studyPanelMap[Q0P];}}for(var L0P in this.overlays){if(this.overlays[L0P].panel==z0P.name){delete this.layout.studies[L0P];delete this.overlays[L0P];;}}if(z0P.holder){P0X="pane";P0X+="lNam";P0X+="e";this.chart.container.removeChild(z0P.holder);n5P=this.getMarkerArray(P0X,z0P.name);for(var o0P=0;o0P<n5P.length;o0P++){this.removeFromHolder(n5P[o0P]);}}z0P.handle.parentNode.removeChild(z0P.handle);;};x3.prototype.panelClose=function(g5P){var z0X,h5P;z0X="panelClos";z0X+="e";if(!g5P){return;}if(this.runPrepend("panelClose",arguments)){return;}this.cancelTouchSingleClick=!!"1";x3.drawingLine=![];if(g5P.soloing){this.panelSolo(g5P);}if(this.charts[g5P.name]){for(var r5P in this.panels){h5P=this.panels[r5P];if(h5P.chart.name==g5P.name){this.privateDeletePanel(h5P);}}delete this.charts[g5P.name];}else{this.privateDeletePanel(g5P);}this.showCrosshairs();this.createDataSet();this.adjustPanelPositions();this.draw();this.savePanels();this.runAppend(z0X,arguments);};x3.prototype.deleteAllPanels=function(){var D5P;for(var m5P in this.panels){D5P=this.panels[m5P];this.privateDeletePanel(D5P);}this.layout.panels={};this.panels={};};x3.prototype.panelUp=function(N5P){var x5P,a5P,X5P,B5P;this.cancelTouchSingleClick=!!{};x3.drawingLine=!1;this.showCrosshairs();x5P={};a5P=0;for(X5P in this.panels){if(X5P==N5P.name)break;a5P++;}if(!a5P){return;}B5P=0;for(X5P in this.panels){if(B5P==a5P-1){x5P[N5P.name]=N5P;}if(X5P==N5P.name)continue;x5P[X5P]=this.panels[X5P];B5P++;}this.panels=x5P;this.adjustPanelPositions();this.draw();this.savePanels();};x3.prototype.panelDown=function(J5P){var F5P,s5P,e5P,G5P,W5P;this.cancelTouchSingleClick=!"";x3.drawingLine=![];this.showCrosshairs();F5P={};s5P=0;for(e5P in this.panels){if(e5P==J5P.name)break;s5P++;}G5P=0;for(e5P in this.panels){G5P++;}if(s5P==G5P-1){return;}W5P=0;for(e5P in this.panels){if(e5P==J5P.name){W5P++;continue;}F5P[e5P]=this.panels[e5P];if(W5P==s5P+("1"-0)){F5P[J5P.name]=J5P;}W5P++;}this.panels=F5P;this.adjustPanelPositions();this.draw();this.savePanels();};x3.prototype.panelSolo=function(v5P){var A5P;this.cancelTouchSingleClick=!![];x3.drawingLine=!1;this.showCrosshairs();A5P=!0;if(v5P.soloing){A5P=![];v5P.soloing=!1;a3.unappendClassName(v5P.solo,"stx_solo_lit");v5P.percent=v5P.oldPercent;this.panels.chart.percent=this.panels.chart.oldPercent;}else{v5P.soloing=!!{};a3.appendClassName(v5P.solo,"stx_solo_lit");if(v5P.name=="chart"){v5P.oldPercent=v5P.percent;}else{v5P.oldPercent=v5P.percent;this.panels.chart.oldPercent=this.panels.chart.percent;d5K.K4B(83);var L2X=d5K.I8K(13,20,66,19,5);v5P.percent=L2X-this.panels.chart.percent;}}for(var M5P in this.panels){this.panels[M5P].hidden=A5P;}this.panels.chart.hidden=![];v5P.hidden=!{};this.adjustPanelPositions();this.draw();this.savePanels();};x3.prototype.calculatePanelPercent=function(S5P){var K5P;K5P=S5P.bottom-S5P.top;S5P.percent=K5P/this.chart.canvasHeight;};x3.prototype.resizePanels=function(){var H5P,u5P,E5P,c5P;if(!x3.resizingPanel){return;}H5P=!!1;if(x3.crosshairY>this.resolveY(x3.resizingPanel.top)){H5P=![];}d5K.m3();if(H5P){c5P=null;for(u5P in this.panels){if(this.panels[u5P]==x3.resizingPanel)break;if(this.panels[u5P].hidden)continue;c5P=this.panels[u5P];}E5P=this.backOutY(x3.crosshairY);if(E5P<c5P.top+("30"|4)){E5P=c5P.top+30;x3.crosshairY=this.resolveY(E5P);}c5P.bottom=E5P;x3.resizingPanel.top=E5P;this.calculatePanelPercent(c5P);this.calculatePanelPercent(x3.resizingPanel);}else{c5P=null;for(u5P in this.panels){if(this.panels[u5P]==x3.resizingPanel)break;if(this.panels[u5P].hidden)continue;c5P=this.panels[u5P];}E5P=this.backOutY(x3.crosshairY);if(E5P>x3.resizingPanel.bottom-30){d5K.f4B(1);var t2X=d5K.I8K(489,9,510);E5P=x3.resizingPanel.bottom-t2X;x3.crosshairY=this.resolveY(E5P);}c5P.bottom=E5P;x3.resizingPanel.top=E5P;this.calculatePanelPercent(c5P);this.calculatePanelPercent(x3.resizingPanel);}this.adjustPanelPositions();this.draw();this.savePanels();};x3.prototype.adjustPanelPositions=function(){var Q0X,b5P,Y5P,O5P,V5P,q5P,f5P,Z5P,t5P,p5P,C5P,Y0X,y0X,U5P,s0X,w0X;Q0X="adjus";Q0X+="tPanelPositions";if(!this.chart.symbol){return;}if(this.runPrepend(Q0X,arguments)){return;}b5P=0;Y5P=this.chart.canvasHeight;O5P=0;V5P=!!0;d5K.m3();q5P=0;f5P=0;Z5P=!!0;for(t5P in this.panels){p5P=this.panels[t5P];if(isNaN(p5P.percent)||p5P.percent<=0){p5P.percent=0.05;}if(p5P.hidden)continue;q5P+=p5P.percent;f5P++;if(p5P.soloing){Z5P=!0;}}for(t5P in this.panels){C5P=0;p5P=this.panels[t5P];if(p5P.hidden){if(p5P.markerHolder){Y0X="n";Y0X+="o";Y0X+="n";Y0X+="e";p5P.markerHolder.style.display=Y0X;}continue;}if(!V5P){V5P=!!{};p5P.up.style.display="none";}else{if(this.displayIconsUpDown){p5P.up.style.display="";}}if(Z5P){if(p5P.soloing){if(this.displayIconsSolo){p5P.solo.style.display="";}}else{p5P.solo.style.display="none";}}else if(f5P==("1"^0)||f5P==2){p5P.solo.style.display="none";}else{if(this.displayIconsSolo){p5P.solo.style.display="";}}if(f5P==1){y0X="non";y0X+="e";p5P.down.style.display=y0X;}else{if(this.displayIconsUpDown){p5P.down.style.display="";}}if(p5P.editFunction){p5P.edit.style.display="";}else{p5P.edit.style.display="none";}p5P.percent=p5P.percent/q5P;p5P.top=b5P;p5P.bottom=p5P.top+Y5P*p5P.percent;p5P.height=p5P.bottom-p5P.top;if(p5P.chart.name==p5P.name){p5P.chart.top=p5P.top;p5P.chart.bottom=p5P.bottom;p5P.chart.height=p5P.height;}U5P=p5P.yAxis;if(U5P.zoom&&U5P.height>0){C5P=U5P.zoom/U5P.height;}this.adjustYAxisHeightOffset(p5P,U5P);U5P.top=p5P.top+U5P.topOffset;U5P.bottom=p5P.bottom-U5P.bottomOffset;U5P.height=U5P.bottom-U5P.top;if(C5P){U5P.zoom=C5P*U5P.height;if(U5P.zoom>U5P.height){U5P.zoom=0;};}b5P=p5P.bottom;if(!U5P.high&&U5P.high!==0){d5K.f4B(5);U5P.high=d5K.I8K("100",1);U5P.low=0;U5P.shadow=100;}U5P.multiplier=U5P.height/U5P.shadow;if(p5P.holder){s0X="p";s0X+="x";w0X="0p";w0X+="x";p5P.holder.style.right="0px";p5P.holder.style.top=p5P.top+"px";p5P.holder.style.left=w0X;p5P.holder.style.height=p5P.height+"px";p5P.subholder.style.left=p5P.left+"px";p5P.subholder.style.width=p5P.width+s0X;p5P.subholder.style.top="0px";if(U5P.height>="0"<<652402144){p5P.subholder.style.height=U5P.height+"px";}}}if(t5P){this.panels[t5P].down.style.display="none";}if(f5P==2&&!Z5P){this.panels.chart.solo.style.display="";}if(this.controls.chartControls&&this.panels.chart){this.controls.chartControls.style.bottom=this.chart.canvasHeight-this.panels.chart.bottom+ +"22"+"px";}this.clearPixelCache();this.adjustDrawings();this.runAppend("adjustPanelPositions",arguments);};x3.prototype.makeMarkerHelper=function(){this.markerHelper={chartMap:{},classMap:{}};};x3.prototype.addToHolder=function(P5P){var i5P,k5P,w5P;i5P=this.panels[P5P.params.panelName];if(!i5P){return;}if(a3.derivedFrom(P5P.params.node,a3.Marker.NodeCreator)){P5P.stxNodeCreator=P5P.params.node;P5P.node=P5P.stxNodeCreator.node;}else{P5P.node=P5P.params.node;}if(!this.markerHelper){this.makeMarkerHelper();}if(P5P.params.chartContainer){this.container.appendChild(P5P.node);}else if(P5P.params.includeAxis){i5P.holder.appendChild(P5P.node);}else{i5P.subholder.appendChild(P5P.node);}k5P=P5P.params.label;if(!this.markers[k5P]){this.markers[k5P]=[];}this.markers[k5P].push(P5P);P5P.chart=i5P.chart;if(!this.markerHelper.chartMap[P5P.chart.name]){this.markerHelper.chartMap[P5P.chart.name]={dataSetLength:0,markers:[]};}this.markerHelper.chartMap[P5P.chart.name].markers.push(P5P);if(!P5P.className){console.log("Marker objects must have a member className");}w5P=this.markerHelper.classMap[P5P.className];if(!w5P){w5P=this.markerHelper.classMap[P5P.className]={};}if(!w5P[P5P.params.panelName]){w5P[P5P.params.panelName]=[];}w5P[P5P.params.panelName].push(P5P);d5K.r3();this.setMarkerTick(P5P);};x3.prototype.getMarkerArray=function(I5P,R5P){var j5P,j0X,p0X,d5P;j5P=[];d5K.r3();for(var y5P in this.markers){for(var T5P=0;T5P<this.markers[y5P].length;T5P++){j0X="la";j0X+="be";j0X+="l";p0X="panel";p0X+="N";p0X+="ame";d5P=this.markers[y5P][T5P];if(I5P==p0X){if(d5P.params.panelName==R5P){j5P.push(d5P);}}else if(I5P==j0X){if(y5P==R5P){j5P.push(d5P);}}else if(I5P=="all"){j5P.push(d5P);}}}return j5P;};x3.prototype.removeFromHolder=function(L5P){var o5P,l5P,z5P,Q5P,g8i,n8i;o5P=this.panels[L5P.params.panelName];if(o5P){if(L5P.node.parentNode==o5P.holder){o5P.holder.removeChild(L5P.node);}else if(L5P.node.parentNode==o5P.subholder){o5P.subholder.removeChild(L5P.node);}else if(L5P.node.parentNode==this.container){this.container.removeChild(L5P.node);}}l5P=this.markers[L5P.params.label];if(!l5P){return;}for(z5P=0;z5P<l5P.length;z5P++){if(l5P[z5P]===L5P){l5P.splice(z5P,1);break;}}Q5P=this.markerHelper.chartMap[L5P.chart.name];if(Q5P){for(z5P=0;z5P<Q5P.markers.length;z5P++){if(Q5P.markers[z5P]===L5P){Q5P.markers.splice(z5P,1);break;}}}g8i=this.markerHelper.classMap[L5P.className];if(g8i){n8i=g8i[L5P.params.panelName];if(n8i){for(z5P=0;z5P<n8i.length;z5P++){if(n8i[z5P]===L5P){n8i.splice(z5P,1);break;}}}}};x3.prototype.establishMarkerTicks=function(){var m8i,h8i;if(!this.markerHelper){this.makeMarkerHelper();}d5K.m3();m8i=this.markerHelper.chartMap;for(var D8i in m8i){h8i=m8i[D8i];if(h8i.dataSetLength==this.charts[D8i].dataSet.length)continue;for(var r8i=0;r8i<h8i.markers.length;r8i++){this.setMarkerTick(h8i.markers[r8i]);}}};x3.prototype.futureTickIfDisplayed=function(x8i){var X8i,B8i,F8i,s8i,G8i,J8i,a8i,W8i,e8i;X8i=x8i.chart;if(X8i.dataSet.length<1){return;}B8i=X8i.xaxis[X8i.xaxis.length-1].DT;B8i=new Date(B8i.getTime()-this.timeZoneOffset*60000);if(x8i.params.x>B8i){return;}F8i=X8i.maxTicks-X8i.dataSegment.length;s8i=X8i.dataSet.length+F8i;a8i=new Date(X8i.dataSet[X8i.dataSet.length-1].DT);W8i=this.standardMarketIterator(a8i,null,X8i);e8i=x8i.params.x.getTime();for(var N8i=X8i.dataSet.length;N8i<s8i;N8i++){G8i=a8i.getTime();a8i=W8i.next();J8i=a8i.getTime();if(J8i==e8i){x8i.tick=N8i;return;}else if(J8i>e8i&&G8i<e8i){d5K.K4B(7);x8i.tick=Math.max(d5K.I8K(N8i,1),0);return;}}};x3.prototype.setMarkerTick=function(v8i){var m0X,o0X,M8i,E8i,K8i,S8i,c8i,u8i;m0X="d";m0X+="a";m0X+="t";m0X+="e";o0X="ma";o0X+="s";o0X+="ter";M8i=v8i.chart;if(v8i.params.xPositioner==o0X&&v8i.params.x){v8i.tick=Math.floor(v8i.params.x/this.layout.periodicity);return;}else if(v8i.params.xPositioner==m0X&&v8i.params.x){S8i=v8i.params.x.getTime();for(var A8i=0;A8i<M8i.dataSet.length;A8i++){c8i=M8i.dataSet[A8i];K8i=c8i.DT.getTime();E8i=K8i;if(A8i>"0"<<1755895072){E8i=M8i.dataSet[A8i-1].DT.getTime();}if(K8i==S8i){v8i.tick=A8i;return;}else if(K8i>S8i&&E8i<S8i){d5K.f4B(7);v8i.tick=Math.max(d5K.z8K(A8i,1),0);return;}else if(S8i<K8i){v8i.tick=null;return;}}if(M8i.dataSet.length<1){return;}u8i=new Date(M8i.dataSet[A8i-1].DT);if(u8i.getTime()<S8i){v8i.params.future=!!1;}v8i.tick=null;;}};x3.prototype.positionMarkers=function(){var H8i;H8i=this;if(!H8i.markerHelper){return;}if(this.markerDelay||this.markerDelay==="0"-0){if(!this.markerTimeout){this.markerTimeout=setTimeout(p8i,this.markerDelay);}}else{p8i();}function p8i(){var t8i,f8i,U8i,V8i;if(H8i.runPrepend("positionMarkers",arguments)){return;}H8i.markerTimeout=null;for(var Z8i in H8i.markerHelper.classMap){for(var C8i in H8i.markerHelper.classMap[Z8i]){t8i=H8i.markerHelper.classMap[Z8i][C8i];f8i=H8i.panels[C8i];if(t8i.length){U8i={stx:H8i,arr:t8i,panel:f8i};U8i.firstTick=f8i.chart.dataSet.length-f8i.chart.scroll;U8i.lastTick=U8i.firstTick+f8i.chart.dataSegment.length;V8i=t8i[0].constructor.placementFunction;if(V8i){V8i(U8i);}else{H8i.defaultMarkerPlacement(U8i);}}}}d5K.m3();H8i.runAppend("positionMarkers",arguments);}};x3.prototype.addChart=function(q8i,b8i){b8i.name=q8i;this.charts[q8i]=b8i;};x3.prototype.createPanel=function(d8i,y8i,Y8i,O8i){var P8i,w8i,i8i,j8i;if(this.runPrepend("createPanel",arguments)){return;}if(!O8i){O8i="chart";}P8i=this.chart.canvasHeight;if(!Y8i){d5K.K4B(24);Y8i=d5K.z8K(P8i,"0.20");}d5K.K4B(13);w8i=d5K.I8K(Y8i,P8i);d5K.K4B(7);i8i=d5K.I8K(1,w8i);for(var k8i in this.panels){j8i=this.panels[k8i];j8i.percent*=i8i;}this.stackPanel(d8i,y8i,w8i,O8i);this.adjustPanelPositions();d5K.m3();this.savePanels(!{});this.runAppend("createPanel",arguments);};x3.prototype.configurePanelControls=function(T8i){var c0X,K0X,l0X,I8i,U2h,u2h,e2h;c0X=".stx-";c0X+="ico-edit";K0X=".stx-ic";K0X+="o-foc";K0X+="us";l0X=".stx";l0X+="-ico";l0X+="-";l0X+="up";I8i=T8i.name==T8i.chart.name;T8i.icons=B3(".stx-panel-control",T8i.holder);d5K.f4B(9);T8i.close=T8i.icons.children[d5K.z8K(4,"4")];T8i.close=B3(".stx-ico-close",T8i.icons).parentNode;a3.appendClassName(T8i.icons,"stx-show");T8i.title=B3(".stx-panel-title",T8i.icons);T8i.up=B3(l0X,T8i.icons).parentNode;T8i.solo=B3(K0X,T8i.icons).parentNode;T8i.down=B3(".stx-ico-down",T8i.icons).parentNode;T8i.edit=B3(c0X,T8i.icons).parentNode;if(!this.displayIconsUpDown){T8i.up.style.display="none";}if(!this.displayIconsUpDown){T8i.down.style.display="none";}if(!this.displayIconsSolo){T8i.solo.style.display="none";}if(!this.displayIconsClose){U2h=-2028173554;u2h=-1898428362;e2h=2;for(var R2h=1;d5K.c0h(R2h.toString(),R2h.toString().length,80039)!==U2h;R2h++){T8i.close.style.display="none";e2h+=2;}if(d5K.D0h(e2h.toString(),e2h.toString().length,59011)!==u2h){T8i.close.style.display="";}}if(!this.displayPanelResize){T8i.handle.style.display="none";}T8i.title.innerHTML="";T8i.title.appendChild(document.createTextNode(T8i.display));if(I8i){a3.appendClassName(T8i.title,"chart-title");a3.appendClassName(T8i.icons,"stx-chart-panel");}if(!a3.touchDevice||a3.isSurface){T8i.icons.onmouseover=function(R8i){return function(z8i){R8i.hideCrosshairs();};}(this);}if(!a3.touchDevice||a3.isSurface){T8i.icons.onmouseout=function(L8i){return function(o8i){L8i.showCrosshairs();};}(this);}if(!a3.touchDevice||a3.isSurface){T8i.handle.onmouseover=function(l8i){d5K.r3();return function(){l8i.hideCrosshairs();};}(this);}if(!a3.touchDevice||a3.isSurface){T8i.handle.onmouseout=function(Q8i){d5K.r3();return function(){d5K.r3();Q8i.showCrosshairs();};}(this);}if(a3.touchDevice){T8i.handle.ontouchstart=function(n6i,g6i){d5K.m3();return function(h6i){if(n6i.resizingPanel){return;}h6i.preventDefault();n6i.grabHandle(g6i);};}(this,T8i);T8i.handle.ontouchend=function(r6i){d5K.r3();return function(m6i){m6i.preventDefault();d5K.m3();r6i.releaseHandle();};}(this);}d5K.r3();T8i.handle.onmousedown=function(D6i,X6i){return function(N6i){if(!N6i){N6i=event;}D6i.grabHandle(X6i);};}(this,T8i);T8i.handle.onmouseup=function(x6i){return function(a6i){if(!a6i){a6i=event;}d5K.m3();x6i.releaseHandle();};}(this);a3.safeClickTouch(T8i.close,function(B6i,e6i){d5K.m3();return function(){d5K.m3();B6i.panelClose(e6i);};}(this,T8i));a3.safeClickTouch(T8i.up,function(J6i,F6i){return function(){J6i.panelUp(F6i);};}(this,T8i));a3.safeClickTouch(T8i.down,function(s6i,W6i){return function(){d5K.m3();s6i.panelDown(W6i);};}(this,T8i));a3.safeClickTouch(T8i.solo,function(G6i,v6i){return function(){d5K.r3();G6i.panelSolo(v6i);};}(this,T8i));if(T8i.name=="chart"){T8i.close.style.display="none";};};x3.prototype.stackPanel=function(c6i,S6i,p6i,K6i){var L0X,T0X,D0X,M6i,E6i,u6i,A6i,H6i;L0X="cq-pan";L0X+="el-nam";L0X+="e";T0X="di";T0X+="v";D0X="stackPa";D0X+="nel";if(this.runPrepend(D0X,arguments)){return;}if(!K6i){K6i="chart";}M6i=this.charts[K6i];d5K.K4B(84);E6i=d5K.z8K(K6i,S6i);u6i=null;if(E6i){c6i=M6i.symbol;if(M6i.symbolDisplay){c6i=M6i.symbolDisplay;}u6i=M6i.yAxis;}A6i=this.panels[S6i]=new x3.Panel(S6i,u6i);if(!E6i&&M6i.yAxis){A6i.yAxis.width=M6i.yAxis.width;;}A6i.percent=p6i;A6i.chart=M6i;A6i.display=c6i;A6i.holder=a3.newChild(this.container,T0X,"stx-holder");A6i.subholder=a3.newChild(A6i.holder,"div","stx-subholder");A6i.subholder.style.zIndex=1;A6i.holder.setAttribute(L0X,S6i);A6i.subholder.setAttribute("cq-panel-name",S6i);H6i=E6i?"stx-panel-chart":"stx-panel-study";a3.appendClassName(A6i.holder,H6i);A6i.subholder.appendChild(this.controls.iconsTemplate.cloneNode(!!{}));A6i.handle=this.controls.handleTemplate.cloneNode(!!1);this.container.appendChild(A6i.handle);A6i.handle.id=null;A6i.handle.panel=A6i;this.configurePanelControls(A6i);this.resizeCanvas();this.runAppend("stackPanel",arguments);};x3.prototype.setPanelEdit=function(U6i,f6i){U6i.editFunction=f6i;a3.safeClickTouch(U6i.edit,f6i);this.adjustPanelPositions();};x3.prototype.drawPanels=function(){var C6i,r0X,Z0X,t6i,G0X,n0X,I0X,t0X,Z6i,v0X;d5K.m3();if(this.runPrepend("drawPanels",arguments)){return;}C6i=!1;for(var V6i in this.panels){r0X="seg";r0X+="m";r0X+="e";r0X+="nt";Z0X="stx_panel_";Z0X+="bo";Z0X+="rder";t6i=this.panels[V6i];t6i.axisDrawn=![];if(t6i.title.innerHTML!=t6i.display){t6i.title.innerHTML="";t6i.title.appendChild(document.createTextNode(t6i.display));}a3.appendClassName(t6i.icons,"stx-show");if(t6i.hidden){G0X="n";G0X+="o";G0X+="n";G0X+="e";a3.unappendClassName(t6i.icons,"stx-show");t6i.handle.style.display=G0X;t6i.holder.style.display="none";continue;}else{n0X="b";n0X+="loc";n0X+="k";I0X="no";I0X+="n";I0X+="e";t0X="no";t0X+="n";t0X+="e";if(!this.displayIconsUpDown){t6i.up.style.display=t0X;}if(!this.displayIconsUpDown){t6i.down.style.display=I0X;}if(!this.displayIconsSolo){t6i.solo.style.display="none";}t6i.holder.style.display=n0X;}if(!C6i){t6i.handle.style.display="none";C6i=!![];continue;}Z6i=t6i.top;Z6i=Math.round(Z6i)+0.5;this.plotLine(t6i.left,t6i.right,Z6i,Z6i,this.canvasStyle(Z0X),r0X,this.chart.context,!"1",{});if(!this.displayPanelResize){v0X="no";v0X+="n";v0X+="e";t6i.handle.style.display=v0X;}else{t6i.handle.style.display="";}d5K.K4B(66);var n2X=d5K.z8K(17,11,4);t6i.handle.style.top=Z6i-t6i.handle.offsetHeight/n2X+"px";;}this.runAppend("drawPanels",arguments);};x3.prototype.touchSingleClick=function(P6i,b6i,Y6i){var O6i,q6i;O6i=this;q6i=arguments;d5K.r3();return function(){d5K.r3();(function(){var w6i,i6i,k6i;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",q6i)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-1,e1MS:-+"1",s2MS:-1,e2MS:-1};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(b6i<this.left||b6i>this.right||Y6i<this.top||Y6i>this.bottom){return;}w6i=this.backOutY(x3.crosshairY);i6i=this.backOutX(x3.crosshairX);this.currentPanel=this.whichPanel(w6i);if(!this.currentVectorParameters.vectorType||!a3.Drawing[this.currentVectorParameters.vectorType]||!new a3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(!this.drawingClick(this.currentPanel,i6i,w6i)){if(!this.layout.crosshair){x3.crosshairY=0;x3.crosshairX=0;this.cx=this.backOutX(x3.crosshairX);this.cy=this.backOutY(x3.crosshairY);this.findHighlights();x3.crosshairY=Y6i;x3.crosshairX=b6i;k6i=this.container.getBoundingClientRect();this.top=k6i.top;this.left=k6i.left;this.right=this.left+this.width;this.bottom=this.top+this.height;this.cx=this.backOutX(x3.crosshairX);this.cy=this.backOutY(x3.crosshairY);if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));}this.headsUpHR();this.findHighlights(!![]);}}if(!this.currentVectorParameters.vectorType){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:i6i,y:w6i});}}}O6i.cancelTouchSingleClick=!1;d5K.r3();this.runAppend("touchSingleClick",q6i);}.apply(O6i,q6i));};};x3.prototype.touchDoubleClick=function(T6i,d6i,y6i){var E0X,j6i;E0X="t";E0X+="ouchDou";E0X+="bleC";E0X+="lick";if(d6i<this.left||d6i>this.right||y6i<this.panels.chart.top||y6i>this.panels.chart.bottom){return;}if(this.editingAnnotation){return;}if(this.runPrepend(E0X,arguments)){return;}if(x3.drawingLine){this.undo();}else{if(this.anyHighlighted){this.deleteHighlighted();}else{j6i=this.currentPanel.yAxis;if(j6i.scroll==(j6i.initialMarginTop-j6i.initialMarginBottom)/2&&j6i.zoom==j6i.initialMarginTop+j6i.initialMarginBottom){this.home();}else{this.calculateYAxisMargins(this.currentPanel.yAxis);;}this.draw();}}this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-("1"-0)};this.runAppend("touchDoubleClick",arguments);};x3.prototype.touchmove=function(I6i){var B0X,S0X,J0X,R6i,B1i,W1i,v1i,K1i,X1i,N1i,r1i,h1i,a1i,o6i,e1i,x1i,S1i,l6i,Q6i,J1i,n1i,g1i,p1i,F1i,s1i,m1i,G1i,f1i,D1i,E1i,c1i,u1i,H1i,A1i,M1i,L6i,t1i,U1i;B0X="to";B0X+="uchm";B0X+="ove";S0X="tou";S0X+="chmove";J0X="fre";J0X+="eform";if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(x3.ignoreTouch===!!{}){return;}R6i=[];if(I6i&&I6i.touches&&I6i.touches.length==1){if(Math.pow(this.clicks.x-I6i.touches[0].clientX,2)+Math.pow(this.clicks.y-I6i.touches[0].clientY,2)<=16){return;}}if(!this.overYAxis||this.controls&&this.controls.crossX&&this.controls.crossX.style.display!="none"){if(I6i&&I6i.preventDefault&&this.captureTouchEvents){I6i.preventDefault();}if(I6i){I6i.stopPropagation();}}B1i=new Date().getTime();if(this.clicks.s2MS==-1){this.clicks.e1MS=B1i;if(this.clicks.e1MS-this.clicks.s1MS<25){return;}}else{this.clicks.e2MS=B1i;if(this.clicks.e2MS-this.clicks.s2MS<25){return;}}if(a3.isSurface){if(this.mouseMode){return;}if(!I6i.pointerId){I6i.pointerId=this.gesturePointerId;}if((!this.grabbingScreen||x3.resizingPanel)&&!this.overrideGesture){if(I6i.detail==I6i.MSGESTURE_FLAG_INERTIA){this.gesture.stop();return;;}}for(var z6i=0;z6i<this.touches.length;z6i++){if(this.touches[z6i].pointerId==I6i.pointerId){W1i=Math.abs(this.touches[z6i].pageX-I6i.clientX);v1i=Math.abs(this.touches[z6i].pageY-I6i.clientY);d5K.K4B(85);K1i=Math.sqrt(d5K.z8K(W1i,v1i,v1i,W1i));if(!K1i){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS-this.clicks.s1MS<50){return;}if(this.touches[z6i].pageX==I6i.clientX&&this.touches[z6i].pageY==I6i.clientY){return;}this.touches[z6i].pageX=I6i.clientX;this.touches[z6i].pageY=I6i.clientY;break;}}if(z6i==="0"*1){this.movedPrimary=!![];}else{this.movedSecondary=!!1;}if(!this.gestureInEffect&&z6i==this.touches.length){return;}this.changedTouches=[{pointerId:I6i.pointerId,pageX:I6i.clientX,pageY:I6i.clientY}];R6i=this.touches;if(this.gestureInEffect&&!R6i.length){R6i=this.changedTouches;}}else{R6i=I6i.touches;this.changedTouches=I6i.changedTouches;}X1i=this.crosshairXOffset;N1i=this.crosshairYOffset;if(this.activeDrawing&&this.activeDrawing.name==J0X){X1i=0;N1i=0;}if(this.runPrepend(S0X,arguments)){return;}if(x3.resizingPanel){a1i=R6i[+"0"];r1i=a1i.pageX;h1i=a1i.pageY;d5K.K4B(0);this.mousemoveinner(d5K.I8K(r1i,X1i),d5K.z8K(h1i,N1i));return;}if(this.moveB!=-1){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=R6i[+"0"].pageX;if(R6i.length==1){e1i=R6i[0];r1i=e1i.pageX;h1i=e1i.pageY;this.pinchingScreen=+"0";d5K.K4B(0);this.mousemoveinner(d5K.I8K(r1i,X1i),d5K.I8K(h1i,N1i));x1i=this.whichPanel(h1i);this.overXAxis=h1i>=this.top+this.chart.panel.yAxis.bottom&&h1i<=this.top+this.chart.panel.bottom&&x3.insideChart;if(!x1i){this.overYAxis=![];}else{this.overYAxis=(r1i>=x1i.right||r1i<=x1i.left)&&x3.insideChart;}}else if(R6i.length==2&&this.allowZoom){if(!this.displayCrosshairs){return;}S1i=R6i[+"0"];l6i=S1i.pageX;Q6i=S1i.pageY;J1i=R6i[1];n1i=J1i.pageX;g1i=J1i.pageY;d5K.f4B(86);o6i=Math.sqrt(d5K.I8K(g1i,Q6i,g1i,l6i,n1i,l6i,n1i,Q6i));this.pinchingCenter=Math.min(l6i,n1i)+(Math.max(l6i,n1i)-Math.min(l6i,n1i))/2;p1i=Math.round(this.gestureStartDistance-o6i);F1i=!this.layout.crosshair&&!this.currentVectorParameters.vectorType;if(F1i){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen<2){if(a3.isSurface&&(!this.movedPrimary||!this.movedSecondary)){return;}if(l6i<this.pt.x1&&n1i<this.pt.x2||l6i>this.pt.x1&&n1i>this.pt.x2||Q6i<this.pt.y1&&g1i<this.pt.y2||Q6i>this.pt.y1&&g1i>this.pt.y2){d5K.f4B(7);this.pinchingScreen=d5K.z8K("0",0);}else{this.pinchingScreen++;if(this.pinchingScreen<2){return;}}}this.pt={x1:l6i,x2:n1i,y1:Q6i,y2:g1i};if(this.pinchingScreen===0){d5K.f4B(0);this.mousemoveinner(d5K.z8K(l6i,X1i),d5K.z8K(Q6i,N1i));this.gestureStartDistance=o6i;}else{s1i=Math.asin((Math.max(g1i,Q6i)-Math.min(g1i,Q6i))/o6i);if(Math.abs(p1i)<+"12"&&!F1i){this.moveCount++;if(this.moveCount==4){this.pinchingScreen=0;this.moveCount=0;return;}}else{this.moveCount=0;}if(s1i<1||!this.goneVertical&&s1i<1.37){if(!this.currentPanel){return;}m1i=this.currentPanel.chart;this.goneVertical=![];o6i=this.pt.x2-this.pt.x1;G1i=this.grabStartValues.t2-this.grabStartValues.t1;d5K.f4B(15);var r2X=d5K.I8K(78,5,16);f1i=this.grabStartValues.t1+G1i/r2X;d5K.f4B(13);D1i=d5K.z8K(o6i,G1i);if(D1i<this.minimumCandleWidth){D1i=this.minimumCandleWidth;}E1i=this.layout.candleWidth;this.setCandleWidth(D1i,m1i);if(m1i.maxTicks<this.minimumZoomTicks){this.setCandleWidth(E1i,m1i);return;}this.micropixels=0;c1i=this.pixelFromTick(Math.round(f1i),m1i);d5K.K4B(31);var v2X=d5K.I8K(14,10,6);u1i=this.pt.x1-this.left+Math.round(o6i/v2X);d5K.f4B(7);H1i=d5K.z8K(c1i,u1i);d5K.K4B(13);A1i=d5K.z8K(H1i,D1i);M1i=Math.round(A1i);m1i.scroll-=M1i;d5K.f4B(7);this.microscroll=d5K.I8K(M1i,A1i);this.micropixels=D1i*this.microscroll;this.draw();}else{L6i=this.currentPanel.chart.panel.yAxis;this.goneVertical=!"";L6i.zoom=this.grabStartZoom+(this.gestureStartDistance-o6i);if(this.grabStartZoom<L6i.height){if(L6i.zoom>=L6i.height){L6i.zoom=L6i.height-1;}}else{if(L6i.zoom<=L6i.height){d5K.K4B(31);var E2X=d5K.z8K(13,23,10);L6i.zoom=L6i.height+E2X;}}this.draw();;}}}else if(R6i.length==("3"&2147483647)&&x3.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}t1i=R6i[0];U1i=t1i.pageX;o6i=this.grabStartX-U1i;d5K.f4B(87);var J2X=d5K.I8K(3,12,93,8,10);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(o6i/J2X);if(this.grabEndPeriodicity<1){this.grabEndPeriodicity=1;}if(typeof headsUp!="undefined"){headsUp.period.innerHTML=this.grabEndPeriodicity+" "+this.layout.interval;if(this.grabEndPeriodicity>1){headsUp.period.innerHTML+=(+"54",492.01)>(6843,1960)?"3650">>232909440<("553.24"*1,37.78)?0x9f2:("k",792):"s";}}}this.runAppend(B0X,arguments);};x3.prototype.touchstart=function(b1i){var G2h,t2h,I2h,y1i,T1i,O1i,V1i,C1i,Z1i,P1i,M8h,N8h,x8h,Y1i,j1i,l1i,q1i,Q1i,n4i,h0X,R1i,z1i,L1i,d1i,w1i,k1i,I1i,g4i,o1i;if(x3.ignoreTouch){return;}if(a3.isSurface){this.movedPrimary=![];this.movedSecondary=!"1";}else{if(this.touchingEvent){clearTimeout(this.touchingEvent);}G2h=-516214943;t2h=619452813;I2h=+"2";for(var Z2h=+"1";d5K.c0h(Z2h.toString(),Z2h.toString().length,83005)!==G2h;Z2h++){this.touching=!"1";this.touches=b1i.touches;I2h+=2;}if(d5K.D0h(I2h.toString(),I2h.toString().length,+"92900")!==t2h){this.touching=!!"1";this.touches=b1i.touches;}this.changedTouches=b1i.changedTouches;}if(x3.resizingPanel){return;}y1i=this.crosshairXOffset;T1i=this.crosshairYOffset;if(this.runPrepend("touchstart",arguments)){return;}if(this.manageTouchAndMouse&&b1i&&b1i.preventDefault&&this.captureTouchEvents){b1i.preventDefault();}this.hasDragged=!!"";this.doubleFingerMoves=0;this.moveCount=0;this.twoFingerStart=!{};if(this.touches.length==1||this.touches.length==2){if(this.changedTouches.length==1){P1i=Date.now();this.clicks.x=this.changedTouches[0].pageX;d5K.f4B(7);M8h=-d5K.z8K("1808015488",0);N8h=-1706616716;x8h=2;for(var U8h=+"1";d5K.D0h(U8h.toString(),U8h.toString().length,49266)!==M8h;U8h++){this.clicks.y=this.changedTouches[0].pageY;x8h+=2;}if(d5K.D0h(x8h.toString(),x8h.toString().length,72444)!==N8h){this.clicks.y=this.changedTouches[1].pageY;}if(P1i-this.clicks.e1MS<250){this.cancelTouchSingleClick=!!{};this.clicks.s2MS=P1i;}else{this.cancelTouchSingleClick=!{};this.clicks.s1MS=P1i;this.clicks.e1MS=-1;this.clicks.s2MS=-1;this.clicks.e2MS=-+"1";}}this.touchMoveTime=Date.now();this.moveA=this.touches[0].pageX;this.moveB=-1;Y1i=this.touches[0];C1i=Y1i.pageX;Z1i=Y1i.pageY;j1i=this.container.getBoundingClientRect();this.top=j1i.top;this.left=j1i.left;this.right=this.left+this.width;this.bottom=this.top+this.height;if(this.touches.length==("1"^0)){l1i=this.cy=this.backOutY(Z1i);this.currentPanel=this.whichPanel(l1i);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}if(C1i>=this.left&&C1i<=this.right&&Z1i>=this.top&&Z1i<=this.bottom){x3.insideChart=!!"1";this.overXAxis=Z1i>=this.top+this.chart.panel.yAxis.bottom&&Z1i<=this.top+this.chart.panel.bottom;this.overYAxis=C1i>=this.currentPanel.right||C1i<=this.currentPanel.left;for(var i1i=0;i1i<this.drawingObjects.length;i1i++){q1i=this.drawingObjects[i1i];if(q1i.highlighted){Q1i=q1i.highlighted;this.cy=this.backOutY(Z1i);this.cx=this.backOutX(C1i);this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));this.findHighlights(!![]);if(q1i.highlighted){this.repositioningDrawing=q1i;return;}else{this.anyHighlighted=!!{};q1i.highlighted=Q1i;;}}}b1i.stopPropagation();}else{x3.insideChart=!!"";}n4i=this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType!=="";if(!this.layout.crosshair&&!n4i&&x3.insideChart&&!this.touchNoPan){h0X="b";h0X+="aseline";h0X+="_d";h0X+="elta";if((this.layout.chartType==h0X||this.layout.chartType=="baseline_delta_mountain")&&this.chart.baseline.userLevel!==![]){R1i=this.valueFromPixelUntransform(this.cy-5,this.currentPanel);z1i=this.valueFromPixelUntransform(this.cy+("5"<<690673632),this.currentPanel);d5K.K4B(88);var S2X=d5K.z8K(40,10,9,685,19);L1i=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,S2X);if(this.chart.baseline.actualLevel<R1i&&this.chart.baseline.actualLevel>z1i&&this.backOutX(Y1i.pageX)>L1i){this.repositioningBaseline={lastDraw:Date.now()};return;}}for(O1i in this.panels){V1i=this.panels[O1i];if(V1i.highlighted){this.grabHandle(V1i);return;}}this.grabbingScreen=!!1;this.yToleranceBroken=!1;d5K.K4B(0);this.grabStartX=d5K.I8K(C1i,y1i);d5K.K4B(0);this.grabStartY=d5K.I8K(Z1i,T1i);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.swipeStart(this.currentPanel.chart);setTimeout(function(h4i){d5K.r3();return function(){h4i.grabbingHand();};}(this),"100"|96);}else{this.grabbingScreen=!1;if(x3.insideChart){if(a3.Drawing[this.currentVectorParameters.vectorType]&&new a3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.userPointerDown=!!{};x3.crosshairX=C1i;x3.crosshairY=Z1i;if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(x3.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.backOutY(x3.crosshairY),this.currentPanel));}this.drawingClick(this.currentPanel,this.backOutX(C1i),this.backOutY(Z1i));this.headsUpHR();return;}}}}if(this.touches.length==2){this.cancelLongHold=!!1;this.swipe.end=!!{};if(!this.displayCrosshairs&&!this.touchNoPan||!x3.insideChart){return;}d1i=this.touches[1];w1i=d1i.pageX;k1i=d1i.pageY;for(O1i in this.panels){V1i=this.panels[O1i];if(V1i.highlighted){this.grabHandle(V1i);return;}}I1i=this.currentPanel.chart;d5K.K4B(86);this.gestureStartDistance=Math.sqrt(d5K.z8K(k1i,Z1i,k1i,C1i,w1i,C1i,w1i,Z1i));this.pt={x1:C1i,x2:w1i,y1:Z1i,y2:k1i};this.grabbingScreen=!!{};d5K.f4B(0);this.grabStartX=d5K.I8K(C1i,y1i);d5K.f4B(0);this.grabStartY=d5K.z8K(Z1i,T1i);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,this.currentPanel),y2:this.valueFromPixel(this.pt.y2-this.top,this.currentPanel),t1:this.tickFromPixel(this.pt.x1-this.left,I1i),t2:this.tickFromPixel(this.pt.x2-this.left,I1i)};this.twoFingerStart=!!{};setTimeout(function(r4i){d5K.m3();return function(){r4i.grabbingHand();};}(this),100);}else if(this.touches.length==3){if(!this.displayCrosshairs){return;}g4i=this.touches[0];o1i=g4i.pageX;this.grabStartX=o1i;this.grabStartPeriodicity=this.layout.periodicity;}if(this.touches.length==1){this.mouseTimer=Date.now();this.longHoldTookEffect=![];if(this.longHoldTime){this.startLongHoldTimer();}}this.runAppend("touchstart",arguments);};x3.prototype.swipeStart=function(D4i){var m4i;if(this.swipe&&this.swipe.interval){clearInterval(this.swipe.interval);}this.swipe.velocity=0;this.swipe.amplitude=0;this.swipe.frame=D4i.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=this.currentPanel.chart;this.swipe.end=!!"";this.swipe.timeConstant=325;this.swipe.cb=null;m4i=this;requestAnimationFrame(function(){m4i.swipeSample();});};x3.prototype.swipeSample=function(){var X4i,N4i,x4i,a4i,B4i,J4i,F4i,s4i,e4i;X4i=this.swipe;if(X4i.end){return;}d5K.r3();N4i=this;F4i=20;x4i=Date.now();a4i=x4i-X4i.timestamp;if(a4i<F4i){requestAnimationFrame(function(){d5K.r3();N4i.swipeSample();});return;}s4i=a3.touchDevice?0.4:0.8;X4i.timestamp=x4i;B4i=(X4i.chart.scroll-X4i.frame)*this.layout.candleWidth+this.micropixels-X4i.micropixels;X4i.frame=X4i.chart.scroll;X4i.micropixels=this.micropixels;d5K.K4B(89);J4i=d5K.I8K(a4i,B4i,1000,1);e4i=s4i*J4i+0.2*this.swipe.velocity;if(Math.abs(e4i)>Math.abs(X4i.velocity)){X4i.velocity=e4i;}if(Math.abs(B4i)<6){d5K.K4B(5);X4i.velocity=d5K.z8K("0",1);;}requestAnimationFrame(function(){d5K.m3();N4i.swipeSample();});};x3.prototype.swipeRelease=function(){var W4i,G4i;W4i=this.swipe;if(W4i.velocity>"3000"*1){d5K.f4B(39);W4i.velocity=d5K.I8K("3000",743290272);}if(W4i.velocity<-+"3000"){d5K.K4B(33);W4i.velocity=-d5K.I8K("3000",1684486624);}d5K.r3();if(W4i.velocity>10||W4i.velocity<-10){W4i.amplitude=0.8*W4i.velocity;W4i.scroll=W4i.chart.scroll;W4i.target=W4i.amplitude;W4i.timestamp=Date.now();G4i=this;requestAnimationFrame(function(){d5K.m3();G4i.autoscroll();});}};x3.prototype.scrollTo=function(A4i,S4i,K4i){var v4i,M4i;v4i=this.swipe;v4i.end=!!{};v4i.amplitude=v4i.target=(S4i-A4i.scroll)*this.layout.candleWidth;v4i.timeConstant=100;v4i.timestamp=Date.now();v4i.scroll=A4i.scroll;v4i.chart=A4i;v4i.cb=K4i;M4i=this;requestAnimationFrame(function(){d5K.m3();M4i.autoscroll();});};x3.prototype.autoscroll=function(){var u4i,E4i,p4i,c4i,H4i;u4i=this;E4i=this.swipe;if(E4i.amplitude){E4i.elapsed=Date.now()-E4i.timestamp;c4i=-E4i.amplitude*Math.exp(-E4i.elapsed/E4i.timeConstant);if(c4i>0.5||c4i<-0.5){H4i=(E4i.target+c4i)/this.layout.candleWidth;E4i.chart.scroll=E4i.scroll+Math.round(H4i);this.draw();requestAnimationFrame(function(){u4i.autoscroll();});}else{if(E4i.cb){E4i.cb();}}}};x3.prototype.touchend=function(t4i){var D7h,T7h,L7h,a0X,f4i,U4i,I7h,n7h,Z7h,Z4i,C4i;if(x3.ignoreTouch){return;}D7h=393012878;T7h=1953202499;L7h=2;for(var t7h=1;d5K.c0h(t7h.toString(),t7h.toString().length,91900)!==D7h;t7h++){this.swipe.end=![];L7h+=2;}if(d5K.D0h(L7h.toString(),L7h.toString().length,46117)!==T7h){this.swipe.end=!"";}this.swipe.end=!!1;if(a3.isSurface){}else{this.touches=t4i.touches;this.changedTouches=t4i.changedTouches;}if(this.runPrepend("touchend",arguments)){return;}this.cancelLongHold=!![];if(this.touches.length<=("1"|1)){if(this.layout.crosshair||this.currentVectorParameters.vectorType){if(!this.touches.length||!this.twoFingerStart){this.grabbingScreen=![];}}}if(this.touches.length){d5K.K4B(39);this.grabStartX=-d5K.z8K("1",1186165216);this.grabStartY=-1;}if(!this.touches.length){this.touchingEvent=setTimeout(function(V4i){d5K.m3();return function(){V4i.touching=!!"";};}(this),500);if(x3.resizingPanel){this.releaseHandle();return;}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!!"";this.grabbingScreen=!!"";}else{if(x3.resizingPanel){return;}}if(this.changedTouches.length==("1"|1)){if(this.repositioningDrawing){a0X="vec";a0X+="t";a0X+="or";this.changeOccurred(a0X);a3.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.draw();if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType){this.findHighlights(!"1",!![]);}return;}if(this.repositioningBaseline){this.repositioningBaseline=null;this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2;this.draw();return;}f4i=Date.now();d5K.K4B(13);var h2X=d5K.I8K(17,17);U4i=this.touches.length+h2X;if(this.clicks.s2MS==-1){this.clicks.e1MS=f4i;if(!this.currentVectorParameters.vectorType||!a3.Drawing[this.currentVectorParameters.vectorType]||!new a3.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&!this.hasDragged){I7h=-1583827090;n7h=1537942834;d5K.K4B(10);Z7h=d5K.z8K("2",0);for(var v7h=1;d5K.D0h(v7h.toString(),v7h.toString().length,27792)!==I7h;v7h++){setTimeout(this.touchSingleClick(U4i,this.clicks.x,this.clicks.y),+"189");;Z7h+=2;}if(d5K.c0h(Z7h.toString(),Z7h.toString().length,+"11871")!==n7h){setTimeout(this.touchSingleClick(U4i,this.clicks.x,this.clicks.y),"975"^0);;}setTimeout(this.touchSingleClick(U4i,this.clicks.x,this.clicks.y),200);;}else{this.clicks={s1MS:-1,e1MS:-("1"|0),s2MS:-1,e2MS:-1};}}this.userPointerDown=!!0;if(this.activeDrawing&&this.activeDrawing.dragToDraw){Z4i=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset;C4i=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset;this.drawingClick(this.currentPanel,C4i,Z4i);return;}}else{this.clicks.e2MS=f4i;if(this.clicks.e2MS-this.clicks.s2MS<250){this.touchDoubleClick(U4i,this.clicks.x,this.clicks.y);}else{this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};}}if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&U4i==("1"|0)||this.twoFingerStart&&!this.touches.length){this.swipeRelease();}}else{if(this.grabEndPeriodicity!=-1&&!isNaN(this.grabEndPeriodicity)){if(this.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute){this.setPeriodicityV2(this.grabEndPeriodicity);}this.grabEndPeriodicity=-1;}}if(!this.touches.length){this.twoFingerStart=!{};}this.runAppend("touchend",arguments);};x3.prototype.startProxy=function(q4i){var g8X;g8X="m";g8X+="ous";g8X+="e";if(q4i.pointerType==4||q4i.pointerType==g8X){this.mouseMode=!0;}else{this.mouseMode=!!0;}if(this.mouseMode){return;}this.touches[this.touches.length]={pointerId:q4i.pointerId,pageX:q4i.clientX,pageY:q4i.clientY};this.changedTouches=[{pointerId:q4i.pointerId,pageX:q4i.clientX,pageY:q4i.clientY}];if(!this.gestureInEffect&&this.touches.length==1){this.gesturePointerId=q4i.pointerId;this.overrideGesture=!1;if(!this.gesture){return;}this.gesture.addPointer(q4i.pointerId);this.touchstart(q4i);}else{this.gesture.stop();this.touchstart(q4i);}};x3.prototype.moveProxy=function(b4i){if(b4i.pointerType=="4"<<104798880||b4i.pointerType=="mouse"){this.mouseMode=!!{};}else{this.mouseMode=![];}if(this.mouseMode){return;}d5K.r3();if(!this.gestureInEffect){this.touchmove(b4i);}};x3.prototype.endProxy=function(O4i){var P4i;if(this.mouseMode){return;}d5K.m3();P4i=this.touches.length;for(var Y4i=0;Y4i<this.touches.length;Y4i++){if(this.touches[Y4i].pointerId==O4i.pointerId){d5K.f4B(7);this.touches.splice(Y4i,d5K.I8K("1",0));break;}}if(Y4i==P4i){this.touches=[];this.grabbingScreen=!!"";this.touching=!1;return;}this.changedTouches=[{pointerId:O4i.pointerId,pageX:O4i.clientX,pageY:O4i.clientY}];if(!this.gestureInEffect){this.touchend(O4i);}};x3.prototype.msMouseMoveProxy=function(w4i){if(this.touches.length||!this.mouseMode){return;}this.mousemove(w4i);};x3.prototype.msMouseDownProxy=function(i4i){if(!this.mouseMode){return;}this.mousedown(i4i);};x3.prototype.msMouseUpProxy=function(k4i){d5K.r3();if(!this.mouseMode){return;}this.mouseup(k4i);};x3.prototype.iosMouseMoveProxy=function(j4i){d5K.r3();if(this.touching){return;}this.mousemove(j4i);};x3.prototype.iosMouseDownProxy=function(d4i){if(this.touching){this.mouseMode=!1;return;}this.mouseMode=!![];d5K.m3();this.mousedown(d4i);};x3.prototype.iosMouseUpProxy=function(y4i){if(this.touching){return;}this.mouseup(y4i);};x3.prototype.rawWatermark=function(T4i,I4i,R4i,z4i){this.canvasFont("stx_watermark",T4i);T4i.fillStyle=this.defaultColor;T4i.globalAlpha=0.5;this.chart.context.textBaseline="alphabetic";T4i.fillText(z4i,I4i,R4i);T4i.globalAlpha=1;};x3.prototype.watermark=function(n3i,L4i){var H8X,O8X,o4i,l4i,Q4i;H8X="t";H8X+="op";O8X="bot";O8X+="to";O8X+="m";if(L4i&&typeof L4i!="object"){L4i={h:arguments[1],v:arguments[2],text:arguments[3]};}L4i={h:L4i.h||"left",v:L4i.v||O8X,text:L4i.text||"",hOffset:L4i.hOffset||10,vOffset:L4i.vOffset||+"20"};if(!this.chart.context){return;}o4i=this.panels[n3i];if(!o4i||o4i.hidden){return;}l4i=o4i.bottom-L4i.vOffset;if(L4i.v==H8X){l4i=o4i.top+L4i.vOffset;}else if(L4i.v=="middle"){d5K.f4B(7);var a2X=d5K.I8K(32,30);l4i=(o4i.top+o4i.bottom)/a2X;}this.chart.context.save();this.canvasFont("stx_watermark");this.canvasColor("stx_watermark");this.chart.context.textBaseline="alphabetic";Q4i=o4i.left+L4i.hOffset;if(L4i.h=="right"){Q4i=o4i.right-L4i.hOffset;}else if(L4i.h=="center"){d5K.K4B(90);var g5X=d5K.I8K(17,64,554,20,1);Q4i=(o4i.right+o4i.left-this.chart.context.measureText(L4i.text).width)/g5X;}this.chart.context.globalAlpha=0.5;d5K.r3();this.chart.context.fillText(L4i.text,Q4i,l4i);this.chart.context.globalAlpha=1;this.chart.context.restore();};x3[B1L][G1L]=function(M3i,X3i){d5K.i5K=function(w5K){if(d5K)return d5K.j4L(w5K);};d5K.g5K=function(z5K){if(d5K)return d5K.H4L(z5K);};d5K.Y3L=function(Z3L){if(d5K&&Z3L)return d5K.H4L(Z3L);};d5K.V3L=function(P3L){if(d5K)return d5K.j4L(P3L);};d5K.I3L=function(t3L){if(d5K&&t3L)return d5K.H4L(t3L);};var Y1L=d5K.h3L("c91b")?"drawingObjects":"";var j1L=d5K.I3L("7496")?"":"p";var T9L=d5K.V3L("c5f9")?"transformDataSetPost":"";var B9L=d5K.b3L("acef")?"h":"";var J9L=d5K.Q3L("8e75")?"":"aggregationType";var W1L=d5K.K3L("7c86")?"":"";var K9L=d5K.Y3L("d457")?"renko":"";var O9L=d5K.U3L("fdb3")?"":"calculateRangeBars";var j9L="timeUnit";var f2L=d5K.n3L("c3f2")?46:12;var N1L=d5K.k5K("93e3")?"K4B":"";var B3L="push";var c9L="Close";var U1L="activeDrawing";var F1L="round";var h1L="dataSet";var E1L="0";var R1L=d5K.C5K("8674")?"t":"";var z2L=d5K.p5K("5f3b")?0:1;var R9L="en";var q9L=d5K.G5K("eef6")?"market":"";var s1L=d5K.g5K("6527")?"":"charts";var p1L=2147483647;var D9L="consolidatedQuote";var v9L="calculateRenkoBars";var p3L="scrubbed";var l9L=d5K.i5K("3df5")?"":"position";var E9L="iqPrevClose";var Y9L="calculatePointFigure";var f9L="Low";var w1L="et";var M9L="calculateKagi";var z9L="1";var W9L="lockScroll";var A9L="scroll";var X3L="calculateMedianPrice";var Q1L="maxTicks";var y9L="periodicity";var X9L="1000000000";var V9L="kagi";var w9L="adj";var S9L="Open";var s3L="plugins";var n9L="calculateATR";var R2L=5;var h9L="range";var e9L="rangebars";var o9L="O";var l3L="Studies";var M1L="concat";var P9L="calculateHeikinAshi";var e1L="name";var i9L="Adj_Close";var P1L="masterData";var a1L="runPrepend";var T1L="projection";var z1L="cre";var B2L=0;var V1L="runAppend";var t1L="DT";var m9L="High";var g1L="ateDataS";var C9L="isHourAligned";var a3L="calculateFN";var K1L="chart";var H3L="panels";var a9L="spanLock";var H1L="m";var A3L="overlay";var d9L="error:consolidatedQuote returned negative position";var b1L="transformDataSetPre";var t9L="heikenashi";var r9L="week";var C3L="calculateOHLC4";var g9L="layout";var n1L="z8K";var d3L="panel";var O1L=null;var F9L="calculateLineBreak";var H9L="alert";var j3L="n";var k3L="calculateTypicalPrice";var I9L="heikinashi";var x3L="dataSetContainsGaps";var Z9L="pandf";var v1L=0.75;var p9L="mon";var b9L="linebreak";var u9L="quote";var Z1L="hideDrawings";var d1L="length";var W3L="libraryEntry";var e3L="establishMarkerTicks";var G9L="ratio";var D3L="nctio";var r3L="fu";var G3L="adjustDrawings";var N9L="slice";var U9L="maxDataSetSize";var x9L="dontRoll";var q3L="calculateWeightedClose";var s9L="grabStartScrollX";var z3L="studies";var I1L="tickCache";var J3L="cache";var Q9L="priceLines";var L9L="interval";var J1L="renk";var y1L="o";var l2L=20;var u3L="studyLibrary";var k9L="f4B";var E3L="type";var F8X,W3i,e3i,g3i,q8X,s3i,a3i,r3i,U3i,m3i,G3i,v3i,D3i,H3i,J3i,F3i,u3i,k8X,h3i,A8X,c3i,A3i,S3i,V8X,x3i,f3i,N3i,B3i,K3i;F8X=z1L;F8X+=g1L;F8X+=w1L;W3i=[M3i,X3i];function Z3i(){var M2L=1340;var b2L=1443;var v2L=2225;var K2L=2760;var i1L="lesf";var t2L=362;var L1L="e";var A1L="indexOf";var o1L=991.75;var g2L=3;var c1L=885.03;var u1L="referrer";var X1L=3550;var f1L="1970";var l1L="getHostName";var r1L="charAt";var k1L=7570;var S1L="s";var E2L=77;var J2L=285;var m1L=994.96;var D1L="2525";var Y3i,V3i,C3i,q3i,P3i,O3i,w3i;Y3i=i1L;V3i=X1L===(k1L,b2L)?t2L:(E2L,M2L)==v2L?(c1L,o1L):R1L;C3i=S1L;V3i+=(m1L,+f1L)!=K2L?y1L:![];C3i+=L1L;q3i=[];C3i+=Y3i[r1L](B2L);V3i+=(D1L&p1L)!==J2L?j1L:H1L;C3i+=Y3i[r1L](g2L);if(window[V3i]==window[C3i]){return!B2L;}if(q3i[d1L]){P3i=a3[l1L](document[u1L]);O3i=!{};for(var b3i=+E1L;b3i<q3i[d1L];b3i++){w3i=q3i[b3i];if(P3i[A1L](w3i)!=-z2L){O3i=!!{};}}if(!O3i){return!!B2L;}}return!W1L;}if(this[a1L](F8X,W3i)){return;}for(e3i in this[s1L]){q8X=J1L;q8X+=y1L;if(X3i&&X3i[e1L]!=e3i)continue;g3i=this[s1L][e3i];s3i=O1L;if(g3i[h1L]&&g3i[h1L][d1L]){s3i=g3i[h1L][g3i[h1L][d1L]-z2L][t1L];}g3i[h1L]=[];g3i[I1L]={};a3i=g3i[P1L];if(!a3i){a3i=this[P1L];}if(!a3i||!a3i[d1L]){this[V1L](G1L,W3i);return;}r3i=[][M1L](a3i);if(!Z3i()){return;}if(this[b1L]){this[b1L](this,r3i);}U3i=Math[F1L](g3i[Q1L]*v1L);if(!this[K1L][Z1L]){for(m3i=B2L;m3i<this[Y1L][d1L];m3i++){if(this[Y1L][m3i][e1L]==T1L){t3i(this,this[Y1L][m3i]);}}if(this[U1L]&&this[U1L][e1L]==T1L){t3i(this,this[U1L]);}}m3i=B2L;G3i=+E1L;d5K[N1L](f2L);v3i=d5K[n1L](X9L,p1L);d5K[k9L](R2L);D3i=d5K[n1L](E1L,z2L);H3i=g3i[q9L][C9L]();J3i={};F3i=+E1L;u3i=M3i||this[x9L];while(z2L){k8X=p9L;k8X+=R1L;k8X+=B9L;if(D3i>=r3i[d1L])break;h3i={};for(var E3i in r3i[D3i]){h3i[E3i]=r3i[D3i][E3i];}r3i[D3i]=h3i;h3i[G9L]=+z9L;if(this[g9L][w9L]&&h3i[i9L]){h3i[G9L]=h3i[i9L]/h3i[c9L];}if(h3i[G9L]!=z2L){A8X=o9L;A8X+=j1L;A8X+=R9L;if(A8X in h3i){h3i[S9L]=h3i[S9L]*h3i[G9L];}if(c9L in h3i&&h3i[c9L]!==O1L){h3i[c9L]=h3i[c9L]*h3i[G9L];}if(m9L in h3i){h3i[m9L]=h3i[m9L]*h3i[G9L];}if(f9L in h3i){h3i[f9L]=h3i[f9L]*h3i[G9L];}}if(!u3i&&(this[g9L][y9L]>z2L||this[g9L][L9L]==r9L||this[g9L][L9L]==k8X)){J3i=this[D9L](r3i,D3i,this[g9L][y9L],this[g9L][L9L],this[g9L][j9L],M3i,H3i);if(!J3i){a3[H9L](d9L);break;}D3i=J3i[l9L];g3i[h1L][m3i]=J3i[u9L];}else{g3i[h1L][m3i]=r3i[D3i];D3i++;}h3i=g3i[h1L][m3i];if(m3i>(E1L^B2L)){h3i[E9L]=g3i[h1L][m3i-z2L][c9L];}else{h3i[E9L]=h3i[c9L];}if(m9L in h3i&&h3i[m9L]>G3i){G3i=h3i[m9L];}if(f9L in h3i&&h3i[f9L]<v3i){v3i=h3i[f9L];}m3i++;if(s3i&&h3i[t1L]>s3i){F3i++;}}c3i=g3i[A9L]>g3i[Q1L]+z2L||g3i[W9L]||g3i[a9L];if(c3i&&F3i){g3i[A9L]+=F3i;this[s9L]+=F3i;;}if(this[g9L][J9L]==e9L){g3i[h1L]=a3[O9L](this,g3i[h1L],this[g9L][h9L]);}else if(this[g9L][J9L]==t9L||this[g9L][J9L]==I9L){g3i[h1L]=a3[P9L](this,g3i[h1L]);}else if(this[g9L][J9L]==V9L){g3i[h1L]=a3[M9L](this,g3i[h1L],this[g9L][V9L]);}else if(this[g9L][J9L]==b9L){g3i[h1L]=a3[F9L](this,g3i[h1L],this[g9L][Q9L]);}else if(this[g9L][J9L]==q8X){g3i[h1L]=a3[v9L](this,g3i[h1L],this[g9L][K9L]);}else if(this[g9L][J9L]==Z9L){g3i[h1L]=a3[Y9L](this,g3i[h1L],this[g9L][Z9L]);}if(this[T9L]){this[T9L](this,g3i[h1L],v3i,G3i);}if(this[U9L]){g3i[h1L]=g3i[h1L][N9L](-this[U9L]);}this[n9L](g3i,l2L);this[X3L](g3i);this[k3L](g3i);this[q3L](g3i);this[C3L](g3i);if(this[x3L]){g3i[p3L]=[];for(m3i=B2L;m3i<g3i[h1L][d1L];m3i++){A3i=g3i[h1L][m3i];if(A3i[c9L]||A3i[c9L]===B2L){g3i[p3L][B3L](A3i);}}}else{g3i[p3L]=g3i[h1L];}}this[G3L]();S3i=this[g9L][z3L];function t3i(n9i,D9i){var A2L=91;var q1L=9980;var w3L="arr";var o3L="standardMarketIterator";var H2L=19;var c3L="getTime";var C1L=10000;var f3L="inute";var r2L=14;var g3L="r3";var R3L="next";var m2L=7;var i3L="strToDateTime";var y3L="yIntersection";var c2L=4;var m3L="I8K";var x1L=179638;var L3L="yyyymmddhhmmssmmm";var S3L="Date";var k3i,j3i,z3i,m9i,o3i,r9i,I3i,T3i,Q3i,y3i,g9i,l3i,i8X,R3i,i3i,h9i;d5K[g3L]();k3i=D9i[w3L];if(k3i[d1L]>z2L){j3i=k3i[B2L][B2L];for(var d3i=z2L;d3i<k3i[d1L];d3i++){d5K[N1L](m2L);z3i=k3i[d5K[n1L](d3i,z2L)][B2L];m9i=k3i[d3i][B2L];o3i=a3[i3L](z3i);r9i=a3[i3L](m9i)[c3L]();I3i=n9i[o3L](o3i);T3i=B2L;while(o3i[c3L]()<r9i){o3i=I3i[R3L]();T3i+=z2L;}Q3i=a3[i3L](z3i)[c3L]();if(Q3i>a3[i3L](r3i[r3i[d1L]-(z9L|B2L)][S3L])[c3L]()){y3i=r3i[d1L]-z2L;d5K[N1L](R2L);T3i+=d5K[m3L](z9L,z2L);}else{for(y3i=r3i[d1L]-z2L;y3i>=B2L;y3i--){if(Q3i<=a3[i3L](r3i[y3i][S3L])[c3L]())break;}}g9i={"x0":B2L,"x1":T3i,"y0":r3i[y3i][c9L],"y1":k3i[d3i][+z9L]};j3i=a3[i3L](z3i);I3i=n9i[o3L](j3i);l3i=!!W1L;for(var L3i=B2L;L3i<=T3i;L3i++){i8X=H1L;i8X+=f3L;if(!l3i){l3i=!!z2L;}else{j3i=I3i[R3L]();}if(j3i[c3L]()<=r3i[r3i[d1L]-z2L][t1L][c3L]())continue;R3i=a3[y3L](g9i,L3i);if(!R3i){R3i=B2L;}d5K[k9L](A2L);var F5X=d5K[n1L](H2L,c2L,r2L,x1L,q1L);i3i=Math[F1L](R3i*C1L)/F5X;if(i3i===B2L){i3i=k3i[d3i][z2L];}h9i={"Date":a3[L3L](j3i),"DT":j3i,"Open":i3i,"Close":i3i,"High":i3i,"Low":i3i,"Volume":B2L,"Adj_Close":i3i,"Split_Close":i3i,"projection":!!z2L};if(n9i[g9L][L9L]==i8X)if(U3i--<+E1L)break;r3i[r3i[d1L]]=h9i;}}}}for(var p3i in S3i){V8X=r3L;V8X+=D3L;V8X+=j3L;x3i=S3i[p3i];if(typeof x3i==V8X)continue;if(X3i){f3i=this[H3L][x3i[d3L]];if(f3i[K1L][e1L]!=X3i[e1L])continue;;}N3i=a3[l3L][u3L][x3i[E3L]];if(!N3i){N3i={};if(x3i[d3L]==K1L){N3i[A3L]=!W1L;}}x3i[W3L]=N3i;if(N3i[a3L]){N3i[a3L](this,x3i);};}for(B3i in this[s3L]){K3i=this[s3L][B3i];if(K3i[G1L]){K3i[G1L](this,X3i);}}for(e3i in this[s1L]){if(X3i&&X3i[e1L]!=e3i)continue;g3i=this[s1L][e3i];for(B3i=B2L;B3i<g3i[h1L][d1L];B3i++){g3i[h1L][B3i][J3L]={};}}this[e3L]();this[V1L](G1L,W3i);};x3.prototype.preAdjustScroll=function(X9i){if(!X9i){X9i=this.chart;}d5K.r3();this.previousAdjust={chart:X9i,scroll:X9i.scroll,maxTicks:X9i.maxTicks};};x3.prototype.postAdjustScroll=function(){var N9i;if(!this.previousAdjust){return;}N9i=this.previousAdjust.chart;N9i.scroll=this.previousAdjust.scroll+(N9i.maxTicks-this.previousAdjust.maxTicks);if(this.displayInitialized){this.draw();}};x3.prototype.adjustDrawings=function(){var a9i;for(var x9i=0;x9i<this.drawingObjects.length;x9i++){a9i=this.drawingObjects[x9i];if(this.panels[a9i.panelName]){a9i.adjust();}}};x3.prototype.getNextInterval=function(F9i,B9i,e9i){var J9i;if(!B9i){B9i=1;}d5K.r3();if(e9i!==!1){e9i=!![];}J9i=this.standardMarketIterator(F9i,e9i?this.dataZone:this.displayZone);if(B9i<1){d5K.K4B(77);return J9i.previous(d5K.I8K(1,B9i));}return J9i.next(B9i);};x3.prototype.standardMarketIterator=function(M9i,s9i,W9i){var G9i,v9i,A9i;G9i=s9i?s9i:this.dataZone;d5K.r3();v9i=W9i?W9i:this.chart;A9i={'begin':M9i,'interval':this.layout.interval=='tick'?1:this.layout.interval,'periodicity':this.layout.interval=='tick'?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':G9i};return v9i.market.newIterator(A9i);};x3.prototype.zoomOut=function(H9i,E9i){var S9i,u9i,U9i,K9i,c9i,p9i,Z9i,C9i,f9i;if(this.runPrepend("zoomOut",arguments)){return;}this.grabbingScreen=!"1";if(x3.insideChart){a3.unappendClassName(this.container,"stx-drag-chart");}if(this.preferences.zoomOutSpeed){E9i=this.preferences.zoomOutSpeed;}else if(!E9i){E9i=1.1;}if(H9i&&H9i.preventDefault){H9i.preventDefault();}this.cancelTouchSingleClick=!!{};for(var t9i in this.charts){S9i=this.charts[t9i];u9i=!"";if(S9i.scroll<=S9i.maxTicks){u9i=![];}if(a3.ipad&&S9i.maxTicks>x3.ipadMaxTicks){return;}U9i=Math.round(S9i.maxTicks*E9i);K9i=this.chart.width/U9i;if(K9i<this.minimumCandleWidth){K9i=this.minimumCandleWidth;}this.layout.span=null;if(u9i){d5K.K4B(92);var i5X=d5K.I8K(17,502,14,19);Z9i=S9i.scroll-S9i.maxTicks/ i5X;c9i=Math.round(this.chart.width/K9i-0.499);C9i=S9i.scroll-c9i/2;p9i=S9i.scroll+Math.round(Z9i-C9i);}else{c9i=Math.round(this.chart.width/K9i-0.499);f9i=Math.round(this.preferences.whitespace/K9i);d5K.K4B(7);p9i=d5K.z8K(c9i,f9i);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:K9i});}else{this.setCandleWidth(K9i);this.chart.scroll=p9i;}}if(this.runAppend("zoomOut",arguments)){return;}this.draw();this.changeOccurred("layout");};x3.prototype.mouseWheel=function(V9i,i9i){var b9i,q9i,k9i,Y9i,O9i,P9i,s3h,p3h,j3h,w9i,p2h,j2h,o2h;if(!V9i){V9i=event;}V9i.preventDefault();b9i=V9i.deltaX;q9i=V9i.deltaY;k9i=Date.now()-this.lastMouseWheelEvent;if(Math.abs(q9i)>Math.abs(b9i)){b9i=0;}else{q9i=0;}this.lastMouseWheelEvent=Date.now();if(Math.abs(b9i)===0&&Math.abs(q9i)===0){return;}if(this.allowSideswipe&&b9i!==0&&Math.abs(b9i)>Math.abs(q9i)){this.lastMove="horizontal";d5K.K4B(77);delta=d5K.I8K(1,b9i);if(delta>"50"<<499514080){d5K.K4B(10);delta=d5K.I8K("50",0);}if(delta<-50){d5K.K4B(5);delta=-d5K.I8K("50",1);}this.grabbingScreen=!![];this.grabStartX=x3.crosshairX;this.grabStartY=x3.crosshairY;if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.chart.panel.yAxis.scroll;this.mousemoveinner(x3.crosshairX-delta,x3.crosshairY);this.grabbingScreen=!1;return;}this.lastMove="vertical";if(!this.allowZoom){return;}if(!this.displayInitialized){return;}if(this.runPrepend("mouseWheel",arguments)){return;}if(!q9i){if(i9i=="onmousewheel"){d5K.K4B(47);var k5X=d5K.I8K(34,13,15,5);d5K.f4B(15);var q5X=d5K.z8K(480,52,10);q9i=k5X/q5X*V9i.wheelDelta;if(V9i.wheelDeltaX){d5K.f4B(93);var V5X=d5K.z8K(17,17,1);d5K.K4B(94);var b5X=d5K.I8K(247,13,38,20);b9i=V5X/b5X*V9i.wheelDeltaX;}}else{q9i=V9i.detail;}}if(typeof V9i.deltaMode=="undefined"){V9i.deltaMode=V9i.type=="MozMousePixelScroll"?0:+"1";}Y9i=q9i;if(V9i.deltaMode==1){d5K.f4B(5);Y9i*=d5K.I8K("33",1);}O9i=null;P9i=null;if(this.mouseWheelAcceleration){s3h=1532778916;p3h=-2092973541;j3h=2;for(var m3h=1;d5K.D0h(m3h.toString(),m3h.toString().length,28342)!==s3h;m3h++){w9i=Math.max(Math.pow(Math.abs(Y9i),815),+"6");d5K.f4B(95);O9i=d5K.I8K(576,w9i,6);j3h+=2;}if(d5K.c0h(j3h.toString(),j3h.toString().length,5704)!==p3h){w9i=Math.max(Math.pow(Math.abs(Y9i),"0.3"*1),1);d5K.f4B(50);O9i=d5K.I8K(w9i,1,0.1);}d5K.f4B(96);P9i=d5K.I8K("0.2",w9i,1);}if(Y9i>0){p2h=-1582102036;j2h=-1521015866;o2h=2;for(var l2h=1;d5K.D0h(l2h.toString(),l2h.toString().length,24755)!==p2h;l2h++){if(this.reverseMouseWheel){this.zoomOut(1,P9i);}else{this.zoomIn(1,O9i);}o2h+=2;}if(d5K.c0h(o2h.toString(),o2h.toString().length,58091)!==j2h){if(this.reverseMouseWheel){this.zoomOut(null,P9i);}else{this.zoomIn(null,O9i);}}}else if(Y9i<0){if(this.reverseMouseWheel){this.zoomIn(null,O9i);}else{this.zoomOut(null,P9i);}}if(this.runAppend("mouseWheel",arguments)){return;}return![];};x3.prototype.zoomIn=function(z9i,T9i){var M8X,b8X,j9i,R9i,d9i,y9i,I9i,L9i,Q9i,n7i,o9i;M8X="zoo";M8X+="m";M8X+="In";b8X="stx-dr";b8X+="a";b8X+="g-";b8X+="chart";if(this.runPrepend("zoomIn",arguments)){return;}d5K.m3();this.grabbingScreen=!{};if(x3.insideChart){a3.unappendClassName(this.container,b8X);}if(this.preferences.zoomInSpeed){T9i=this.preferences.zoomInSpeed;}else if(!T9i){T9i=0.9;}for(var l9i in this.charts){j9i=this.charts[l9i];R9i=!0;if(j9i.scroll<=j9i.maxTicks){R9i=!!0;}if(z9i&&z9i.preventDefault){z9i.preventDefault();}this.cancelTouchSingleClick=!!1;d9i=Math.round(j9i.maxTicks*T9i);if(j9i.maxTicks-d9i<"2"<<741119680){d5K.K4B(97);var M5X=d5K.z8K(1591660902,20,2387491359,8);d9i=j9i.maxTicks-("2"<<M5X);}if(d9i<this.minimumZoomTicks){d9i=this.minimumZoomTicks;}y9i=this.chart.width/d9i;this.layout.span=null;if(R9i){Q9i=j9i.scroll-j9i.maxTicks/2;I9i=Math.round(this.chart.width/y9i-0.499);d5K.f4B(26);var x5X=d5K.I8K(8,14,70,12);n7i=j9i.scroll-I9i/x5X;L9i=j9i.scroll+Math.round(Q9i-n7i);}else{I9i=Math.round(this.chart.width/y9i-0.499);o9i=Math.round(this.preferences.whitespace/y9i);d5K.K4B(7);L9i=d5K.z8K(I9i,o9i);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:y9i});}else{this.setCandleWidth(y9i);this.chart.scroll=L9i;}}if(this.runAppend(M8X,arguments)){return;}this.draw();this.changeOccurred("layout");};x3.prototype.translateIf=function(g7i){if(this.translationCallback){return this.translationCallback(g7i);}return g7i;};x3.prototype.setTimeZone=function(N7i,x7i){var r7i,h7i,m7i,D7i,X7i;if(typeof e3=="undefined"){this.timeZoneOffset=0;return;}r7i=new Date();h7i=r7i.getTimezoneOffset();m7i=h7i;D7i=h7i;if(N7i){this.dataZone=N7i;}if(this.dataZone){m7i=new e3.Date(r7i,this.dataZone).getTimezoneOffset();}if(x7i){this.displayZone=x7i;}if(this.displayZone){D7i=new e3.Date(r7i,this.displayZone).getTimezoneOffset();}d5K.K4B(98);this.timeZoneOffset=d5K.z8K(h7i,h7i,m7i,D7i);for(var a7i in this.charts){X7i=this.charts[a7i];if(X7i.masterData&&!x3.isDailyInterval(this.layout.interval)){this.setDisplayDates(X7i.masterData);}}this.createDataSet();};x3.prototype.setLocale=function(B7i){var e8X,u8X,U8X,X8X,x8X,N8X;e8X="p";e8X+="ercent";u8X="sh";u8X+="o";u8X+="rt";U8X="n";U8X+="ume";U8X+="r";U8X+="ic";X8X="num";X8X+="e";X8X+="ri";X8X+="c";x8X="nu";x8X+="meric";N8X="nume";N8X+="r";N8X+="ic";if(typeof Intl=="undefined"){return;}if(this.locale!=B7i){this.locale=B7i;}else{return;}this.internationalizer={};this.internationalizer.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hour12:!{}});this.internationalizer.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:N8X,minute:"numeric",second:x8X,hour12:!!0});this.internationalizer.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});this.internationalizer.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"});this.internationalizer.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:X8X});this.internationalizer.yearMonth=new Intl.DateTimeFormat(this.locale,{year:U8X,month:"numeric"});this.internationalizer.month=new Intl.DateTimeFormat(this.locale,{month:u8X});this.internationalizer.numbers=new Intl.NumberFormat(this.locale);this.internationalizer.priceFormatters=[];this.internationalizer.priceFormatters[0]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:+"0",minimumFractionDigits:0});d5K.m3();this.internationalizer.priceFormatters[+"1"]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:"1"|1,minimumFractionDigits:1});this.internationalizer.priceFormatters[2]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:2,minimumFractionDigits:2});this.internationalizer.priceFormatters[3]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:3,minimumFractionDigits:3});this.internationalizer.priceFormatters[4]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:+"4",minimumFractionDigits:4});this.internationalizer.priceFormatters[5]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:5,minimumFractionDigits:5});this.internationalizer.percent=new Intl.NumberFormat(this.locale,{style:e8X,minimumFractionDigits:2,maximumFractionDigits:+"2"});this.internationalizer.percent0=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:+"0"});this.internationalizer.percent1=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1});this.internationalizer.percent2=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:+"2"});this.internationalizer.percent3=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:3,maximumFractionDigits:3});this.internationalizer.percent4=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:"4"^0,maximumFractionDigits:4});a3.createMonthArrays(this,this.internationalizer.month,this.locale);};x3.prototype.importLayout=function(F7i,e7i){var W8X,R8X,C8X,q5h,V5h,b5h,G7i,S7i,s7i,q7i,f7i,v7i,E7i,K7i,W7i,M7i,V7i,p7i,A7i,J7i,c7i,t7i,f8X;W8X="lin";W8X+="e";R8X="u";R8X+="ndefined";C8X="obj";C8X+="e";C8X+="c";C8X+="t";if(typeof e7i!==C8X){q5h=-259645365;V5h=1429715183;b5h=2;for(var N5h="1"-0;d5K.c0h(N5h.toString(),N5h.toString().length,71121)!==q5h;N5h++){e7i={managePeriodicity:arguments[+"4"],preserveTicksAndCandleWidth:arguments[+"7"]};b5h+=2;}if(d5K.c0h(b5h.toString(),b5h.toString().length,58843)!==V5h){e7i={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}}if(!e7i.preserveTicksAndCandleWidth&&e7i.preserveTicksAndCandleWidth!==!!0){e7i.preserveTicksAndCandleWidth=!0;}G7i=a3.shallowClone(this.layout);S7i=this.serializeDrawings();this.abortDrawings();this.currentlyImporting=!!1;this.overlays={};s7i=a3.clone(F7i);for(var C7i in this.layout.studies){q7i=this.layout.studies[C7i];a3.Studies.removeStudy(this,q7i);}if(s7i){f7i=a3.shallowClone(this.panels);this.panels={};v7i=a3.clone(s7i);delete v7i.periodicity;delete v7i.interval;delete v7i.timeUnit;delete v7i.setSpan;a3.dataBindSafeAssignment(this.layout,v7i);this.layout.periodicity=G7i.periodicity;this.layout.interval=G7i.interval;this.layout.timeUnit=G7i.timeUnit;this.layout.setSpan=G7i.setSpan;if(e7i.preserveTicksAndCandleWidth){this.layout.candleWidth=G7i.candleWidth;}else{if(!this.layout.candleWidth){this.layout.candleWidth=8;}}if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}this.setCandleWidth(this.layout.candleWidth);E7i=s7i.panels;this.layout.panels={};for(var U7i in E7i){K7i=E7i[U7i];this.stackPanel(K7i.display,U7i,K7i.percent,K7i.chartName);}if(a3.isEmpty(E7i)){this.stackPanel("chart","chart",1,"chart");}for(var u7i in f7i){W7i=f7i[u7i];M7i=this.panels[u7i];if(M7i){this.container.removeChild(M7i.holder);this.container.removeChild(W7i.handle);V7i={"holder":!!1,"subholder":!!{},"display":!!"1"};for(var H7i in V7i){M7i[H7i]=W7i[H7i];}this.configurePanelControls(M7i);if(W7i.chart.panel==W7i){W7i.chart.panel=M7i;};}else{this.privateDeletePanel(W7i);}}this.adjustPanelPositions();this.storePanels();p7i=a3.clone(this.layout.studies);delete this.layout.studies;for(var Z7i in p7i){A7i=p7i[Z7i];a3.Studies.addStudy(this,A7i.type,A7i.inputs,A7i.outputs,A7i.parameters,A7i.panel);}}if(typeof this.layout.chartType==R8X){this.layout.chartType=W8X;}this.adjustPanelPositions();J7i=this;if(F7i.symbols){if(!this.quoteDriver||!this.quoteDriver.quoteFeed){console.log("WARNING: loading a symbol through 'importLayout' without a QuoteFeed may break data updates");}c7i={};if(e7i.managePeriodicity){if(F7i.symbols[0].setSpan){c7i.span=F7i.symbols[0].setSpan;}if(F7i.symbols[0].interval){c7i.periodicity={interval:F7i.symbols[0].interval,periodicity:F7i.symbols[0].periodicity,timeUnit:F7i.symbols[0].timeUnit};}}t7i=F7i.symbols[0].symbolObject||F7i.symbols[0].symbol;this.newChart(t7i,null,this.chart,function(O7i){if(!O7i){for(var Y7i,b7i=1;b7i<F7i.symbols.length;++b7i){Y7i=F7i.symbols[b7i];J7i.addSeries(Y7i.symbol,Y7i.parameters);}}J7i.reconstructDrawings(S7i);J7i.draw();J7i.currentlyImporting=!1;d5K.m3();J7i.updateListeners("layout");if(e7i.cb){e7i.cb.apply(null,arguments);}},c7i);return;}else{if(s7i&&e7i.managePeriodicity){if(s7i.setSpan&&this.chart.symbol){this.setSpan(s7i.setSpan,function(){var d8X;d8X="lay";d8X+="o";d8X+="ut";J7i.reconstructDrawings(S7i);J7i.draw();J7i.currentlyImporting=!1;J7i.updateListeners(d8X);if(e7i.cb){e7i.cb();}});return;}else{f8X="da";f8X+="y";interval=s7i.interval;periodicity=s7i.periodicity;timeUnit=s7i.timeUnit;if(isNaN(periodicity)){periodicity=+"1";}if(!interval){interval=f8X;}if(interval!=this.layout.interval||periodicity!=this.layout.periodicity){this.setPeriodicityV2(periodicity,interval,timeUnit,function(){var P8X;P8X="lay";P8X+="o";P8X+="ut";d5K.m3();J7i.reconstructDrawings(S7i);J7i.draw();J7i.currentlyImporting=!{};J7i.updateListeners(P8X);if(e7i.cb){e7i.cb();}});return;}else{this.createDataSet();}}}else{this.createDataSet();}}this.reconstructDrawings(S7i);this.draw();if(!e7i.preserveTicksAndCandleWidth){this.home();}this.currentlyImporting=!!0;this.updateListeners("layout");if(e7i.cb){e7i.cb();}};x3.prototype.exportLayout=function(I7i){var P7i,z8X,j7i,d7i,i7i,k7i;P7i={};for(var w7i in this.layout){z8X="s";z8X+="tud";z8X+="ie";z8X+="s";if(w7i!="studies"&&w7i!="panels"){P7i[w7i]=a3.clone(this.layout[w7i]);}else if(w7i==z8X){P7i.studies={};}else if(w7i=="panels"){P7i.panels={};}}for(var y7i in this.panels){j7i=P7i.panels[y7i]={};d7i=this.panels[y7i];j7i.percent=d7i.percent;j7i.display=d7i.display;j7i.chartName=d7i.chart.name;}for(var T7i in this.layout.studies){i7i=P7i.studies[T7i]={};k7i=this.layout.studies[T7i];i7i.type=k7i.type;i7i.inputs=a3.clone(k7i.inputs);i7i.outputs=a3.clone(k7i.outputs);i7i.panel=k7i.panel;i7i.parameters=a3.clone(k7i.parameters);}d5K.m3();if(I7i){P7i.symbols=this.getSymbols("include-parameters");}return P7i;};x3.prototype.doCleanupGaps=function(R7i,g2i){var Q8X,L7i,h2i,o7i,z7i,D2i,r2i,Q7i,n2i,m2i;Q8X="wee";Q8X+="k";if(!this.cleanupGaps){return R7i;}if(this.layout.interval=="tick"){return R7i;}if(R7i&&!R7i.length){return R7i;}if(!g2i){g2i=this.chart;}L7i=this.layout.interval;if(L7i=="month"||L7i==Q8X){if(this.dontRoll){return R7i;}L7i="day";}h2i=function(X2i){var N2i;if(X2i.DT){N2i=X2i.DT;}else{N2i=a3.strToDateTime(X2i.Date);}return N2i;};o7i=[];z7i=R7i[0];o7i.push(R7i[0]);D2i={'begin':h2i(z7i),'interval':L7i,'periodicity':+"1",'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};r2i=g2i.market.newIterator(D2i);for(var l7i="1"-0;l7i<R7i.length;l7i++){Q7i=R7i[l7i];n2i=r2i.next();m2i=h2i(Q7i);while(n2i<m2i){o7i.push({DT:n2i,Open:z7i.Close,High:z7i.Close,Low:z7i.Close,Close:z7i.Close,Volume:+"0",Adj_Close:z7i.Adj_Close});n2i=r2i.next();}o7i.push(Q7i);z7i=Q7i;}return o7i;};x3.Driver=function(x2i,a2i,B2i){this.tagalongs={};this.stx=x2i;this.quoteFeed=a2i;this.behavior=B2i;this.loadingNewChart=!!0;this.intervalTimer=null;this.updatingChart=!!0;this.updateChartLoop();};x3.Driver.prototype.die=function(){d5K.m3();if(this.intervalTimer){window.clearInterval(this.intervalTimer);}};x3.Driver.prototype.updateSubscriptions=function(){if(this.quoteFeed.checkSubscriptions){this.quoteFeed.checkSubscriptions(this.stx);}};x3.Driver.prototype.attachTagAlongQuoteFeed=function(e2i){if(!this.tagalongs[e2i.label]){this.tagalongs[e2i.label]={label:e2i.label,quoteFeed:e2i.quoteFeed,behavior:e2i.behavior?e2i.behavior:{},count:0};}this.tagalongs[e2i.label].count++;};x3.Driver.prototype.detachTagAlongQuoteFeed=function(F2i){var J2i;d5K.m3();J2i=this.tagalongs[F2i.label];J2i.count--;if(!J2i.count){this.tagalongs[F2i.label]=null;}};x3.Driver.prototype.loadDependents=function(M2i){var G2i,A2i,s2i,v2i,S2i,W2i;function c2i(H2i){var T0h,L0h,G0h;for(var u2i=s2i.masterData.length-1;u2i>=+"0";u2i--){if(s2i.masterData[u2i]&&typeof s2i.masterData[u2i][H2i]!="undefined"){return a3.strToDateTime(s2i.masterData[u2i].Date);}}T0h=778239311;L0h=-146810603;G0h=2;for(var I0h=1;d5K.c0h(I0h.toString(),I0h.toString().length,58388)!==T0h;I0h++){d5K.m3();d5K.f4B(7);G0h+=d5K.I8K("2",0);}if(d5K.c0h(G0h.toString(),G0h.toString().length,"86280"^0)!==L0h){d5K.m3();}return M2i.startDate;}A2i={};s2i=M2i.stx;v2i=s2i.chart.series;for(G2i in v2i){if(!v2i[G2i].parameters.data||!v2i[G2i].parameters.data.useDefaultQuoteFeed)continue;A2i[G2i]=!![];}for(var K2i in s2i.panels){if(s2i.panels[K2i].studyQuotes){for(var E2i in s2i.panels[K2i].studyQuotes){A2i[E2i]=!![];}}}S2i=[];for(G2i in A2i){W2i=a3.shallowClone(M2i.originalState);W2i.symbol=G2i;if(v2i[G2i]&&v2i[G2i].parameters.symbolObject){W2i.symbolObject=v2i[G2i].parameters.symbolObject;}if(W2i.update){W2i.startDate=c2i(G2i);}else{if(!W2i.startDate&&s2i.masterData[0]){W2i.startDate=s2i.masterData[0].DT;}if(!W2i.endDate&&s2i.masterData[s2i.masterData.length-1]){W2i.endDate=s2i.masterData[s2i.masterData.length-1].DT;}}S2i.push(W2i);}if(!S2i.length){s2i.createDataSet();if(!M2i.nodraw){s2i.draw();}return;}this.quoteFeed.multiFetch(S2i,function(t2i){var p2i,f2i;for(var U2i=0;U2i<t2i.length;U2i++){p2i=t2i[U2i];if(!p2i.dataCallback.error&&p2i.dataCallback.error!==0){f2i=null;if(s2i.chart.series[p2i.params.symbol]){f2i=s2i.chart.series[p2i.params.symbol].parameters.field;}a3.addMemberToMasterdata(s2i,p2i.params.symbol,p2i.dataCallback.quotes,null,null,f2i);}}s2i.createDataSet();s2i.draw();});};x3.Driver.prototype.executeTagAlongs=function(Y2i){var q2i,V2i,Z2i,C2i;q2i={count:a3.objLength(this.taglongs)};function O2i(w2i,i2i,P2i){return function(j2i){var k2i;P2i.count--;if(!j2i.error&&j2i.error!==0){k2i=w2i.fields;if(!k2i){k2i=null;}a3.addMemberToMasterdata(V2i.stx,i2i.label,j2i.quotes,k2i);}if(P2i.count==-1){V2i.render();}};}V2i=this;d5K.r3();for(var b2i in this.tagalongs){Z2i=this.tagalongs[b2i];C2i=a3.shallowClone(Z2i.behavior);a3.extend(C2i,Y2i,!![]);Z2i.quoteFeed.fetch(C2i,O2i(C2i,Z2i,q2i));}};x3.Driver.prototype.render=function(){d5K.m3();this.stx.createDataSet();this.stx.draw();};x3.Driver.prototype.updateChart=function(){var R2i,T2i,z2i,L2i,d2i,y2i,I2i;if(this.updatingChart){return;}if(this.loadingNewChart){return;}R2i=a3.objLength(this.stx.charts);T2i=0;d5K.r3();z2i=this.stx.layout.interval;function l2i(n0i,Q2i,g0i){if(n0i.behavior.prefetchAction){n0i.behavior.prefetchAction("updateChart");}d5K.r3();return function(h0i){var m0i,r0i;T2i++;if(g0i==Q2i.chart.symbol&&z2i==n0i.stx.layout.interval&&L2i==n0i.stx.layout.timeUnit){if(!h0i.error&&h0i.error!==0){m0i=!1;if(!Q2i.missingBarsCreated){if(Q2i.chart.masterData&&Q2i.chart.masterData.length&&h0i.quotes&&h0i.quotes.length>0){d5K.K4B(21);var X5X=d5K.z8K(5,16,10);r0i=Q2i.chart.masterData[Q2i.chart.masterData.length-X5X];if(h0i.quotes[+"0"].DT&&r0i.DT<h0i.quotes[0].DT||h0i.quotes[0].Date&&r0i.Date<h0i.quotes["0">>1611780256].Date){h0i.quotes.unshift(r0i);m0i=!!{};;}}h0i.quotes=n0i.stx.doCleanupGaps(h0i.quotes,Q2i.chart);if(m0i){h0i.quotes.shift();}}n0i.stx.appendMasterData(h0i.quotes,Q2i.chart,{noCreateDataSet:!!{}});Q2i.chart.attribution=h0i.attribution;}else{n0i.quoteFeed.announceError(Q2i.originalState,h0i);}}else{return;}if(T2i==R2i){n0i.updatingChart=!{};}n0i.executeTagAlongs(Q2i);if(n0i.behavior.callback){n0i.behavior.callback(Q2i);}n0i.loadDependents(Q2i);;};}L2i=this.stx.layout.timeUnit;for(var o2i in this.stx.charts){d2i=this.stx.charts[o2i];if(!d2i.symbol)continue;y2i=this.makeParams(d2i.symbol,d2i.symbolObject,d2i);if(d2i.masterData&&d2i.masterData.length){y2i.startDate=d2i.masterData[d2i.masterData.length-1].DT;}y2i.update=!![];y2i.originalState=a3.shallowClone(y2i);this.updatingChart=!!{};I2i=l2i(this,y2i,d2i.symbol);if(this.stx.isEquationChart(y2i.symbol)){a3.fetchEquationChart(y2i,I2i);}else{this.quoteFeed.fetch(y2i,I2i);}}};x3.Driver.prototype.updateChartLoop=function(){function D0i(X0i){d5K.m3();return function(){if(X0i.behavior.noUpdate){return;}X0i.updateChart();};}if(this.behavior.noUpdate){return;}if(this.behavior.refreshInterval){this.intervalTimer=window.setInterval(D0i(this),this.behavior.refreshInterval*1000);}};x3.Driver.prototype.resetRefreshInterval=function(N0i){d5K.m3();if(this.intervalTimer){window.clearInterval(this.intervalTimer);}this.behavior.refreshInterval=N0i;this.updateChartLoop();;};x3.Driver.prototype.loadAll=function(x0i,a0i){var B0i,e0i;B0i=this;e0i=0;this.checkLoadMore(x0i,!!{},!!{},J0i());function J0i(){return function(F0i){if(F0i){a0i(F0i);}else if(!x0i.moreAvailable){a0i(null);}else if(e0i++>20){a0i("error, moreAvailable not implemented correctly in QuoteFeed");}else{B0i.checkLoadMore(x0i,!!{},!!1,J0i());}};}};x3.Driver.prototype.checkLoadMore=function(s0i,u0i,S0i,G0i,M0i){var E0i,K0i,A0i,W0i,W2h,d2h,f2h,v0i;if(!s0i.moreAvailable){if(G0i){G0i();}return;}E0i=this.stx.layout.interval;K0i=this.stx.layout.timeUnit;A0i=s0i.loadingMore;if(!this.behavior.noLoadMore){if(!this.stx.maxDataSetSize||s0i.dataSet.length<this.stx.maxDataSetSize){if(s0i.dataSet.length>0&&s0i.scroll>=s0i.dataSet.length||u0i){if(!s0i.loadingMore){s0i.initialScroll=s0i.scroll;s0i.loadingMore=!!{};W0i=this.makeParams(s0i.symbol,s0i.symbolObject,s0i);W0i.endDate=s0i.masterData[0].DT;W0i.originalState=a3.shallowClone(W0i);W0i.nodraw=M0i;if(this.stx.fetchMaximumBars[this.stx.layout.aggregationType]){S0i=!!"1";}if(S0i){W0i.fetchMaximumBars=!!1;d5K.K4B(12);W2h=-d5K.z8K("210087828",2147483647);d2h=-2119411842;f2h=2;for(var z2h=+"1";d5K.D0h(z2h.toString(),z2h.toString().length,77978)!==W2h;z2h++){W0i.ticks=Math.max(52555,W0i.ticks);f2h+=2;}if(d5K.c0h(f2h.toString(),f2h.toString().length,19873)!==d2h){W0i.ticks=Math.max(29656,W0i.ticks);}W0i.ticks=Math.max(20000,W0i.ticks);}v0i=c0i(this,W0i);if(this.stx.isEquationChart(W0i.symbol)){a3.fetchEquationChart(W0i,v0i);}else{this.quoteFeed.fetch(W0i,v0i);}A0i=!![];}}}}if(s0i.loadingMore){s0i.initialScroll=s0i.scroll;}function c0i(p0i,H0i){d5K.r3();if(p0i.behavior.prefetchAction){p0i.behavior.prefetchAction("checkLoadMore");}return function(U0i){var f0i;d5K.m3();if(H0i.symbol==H0i.chart.symbol&&E0i==p0i.stx.layout.interval&&K0i==p0i.stx.layout.timeUnit){if(!H0i.loadMore){H0i.chart.loadingMore=![];}if(!U0i.error&&U0i.error!==0){if(!H0i.missingBarsCreated){U0i.quotes.push(H0i.chart.masterData[0]);U0i.quotes=p0i.stx.doCleanupGaps(U0i.quotes,H0i.chart);U0i.quotes.pop();;}H0i.chart.moreAvailable=U0i.moreAvailable;f0i=H0i.loadMoreReplace?U0i.quotes:U0i.quotes.concat(H0i.chart.masterData);p0i.stx.setMasterData(f0i,H0i.chart);p0i.stx.createDataSet();if(!M0i){p0i.stx.draw();}H0i.startDate=H0i.chart.masterData[0].DT;p0i.executeTagAlongs(H0i);if(p0i.behavior.callback){p0i.behavior.callback(H0i);}p0i.loadDependents(H0i);}else{p0i.quoteFeed.announceError(H0i.originalState,U0i);}H0i.chart.loadingMore=!!0;if(G0i){G0i(null);}}else{return;}};}if(!A0i&&G0i){G0i(null);}};x3.Driver.prototype.barsToFetch=function(t0i){var Y8X,Z0i,C0i,y8X,V0i;Y8X="w";Y8X+="e";Y8X+="e";Y8X+="k";if(t0i.isSeries){return t0i.stx.masterData.length;}Z0i=this.stx.layout.interval;C0i=t0i.stx.layout.periodicity;if((Z0i=="month"||Z0i==Y8X)&&!this.stx.dontRoll){y8X="w";y8X+="e";y8X+="e";y8X+="k";C0i*=Z0i==y8X?7:30;}V0i=t0i.stx.chart.maxTicks*C0i;return V0i;};x3.Driver.prototype.makeParams=function(Y0i,P0i,w0i){var s8X,w8X,b0i,O0i,q0i;s8X="dela";s8X+="yed";w8X="w";w8X+="e";w8X+="e";w8X+="k";b0i=this.stx.layout.interval;O0i=this.barsToFetch({stx:this.stx});if((b0i=="month"||b0i==w8X)&&!this.stx.dontRoll){b0i="day";}q0i=a3.shallowClone(this.behavior);d5K.r3();a3.extend(q0i,{stx:this.stx,symbol:Y0i,symbolObject:P0i,chart:w0i,interval:b0i,extended:this.stx.layout.extended,period:1,feed:s8X,ticks:O0i},!!"1");if(!q0i.symbolObject){q0i.symbolObject={symbol:Y0i};}if(!isNaN(q0i.interval)){q0i.period=q0i.interval;q0i.interval=this.stx.layout.timeUnit;if(!q0i.interval){q0i.interval="minute";}}if(q0i.pts){q0i.ticks=Math.max(q0i.ticks,+"1000");}return q0i;};x3.Driver.prototype.newChart=function(j0i,d0i){var i0i,I0i,R0i,z0i,y0i,k0i,T0i;i0i=this.stx;function L0i(l0i,o0i){if(l0i.behavior.prefetchAction){l0i.behavior.prefetchAction("newChart");}return function(Q0i){var H5h,F5h,i5h;if(I0i==o0i.chart.symbol&&R0i==i0i.layout.interval&&z0i==i0i.layout.timeUnit){if(!Q0i.error&&Q0i.error!==0){if(!o0i.missingBarsCreated){Q0i.quotes=i0i.doCleanupGaps(Q0i.quotes,j0i.chart);}i0i.setMasterData(Q0i.quotes,o0i.chart);o0i.chart.moreAvailable=Q0i.moreAvailable;o0i.chart.attribution=Q0i.attribution;i0i.createDataSet();if(j0i.initializeChart){i0i.initializeChart();}if(!o0i.nodraw){i0i.home();};}else{l0i.quoteFeed.announceError(o0i.originalState,Q0i);}}else{H5h=317443094;F5h=-1202944641;d5K.f4B(9);i5h=d5K.I8K(0,"2");for(var k5h=1;d5K.c0h(k5h.toString(),k5h.toString().length,88596)!==H5h;k5h++){if(d0i){d0i("orphaned");}i5h+=2;}if(d5K.D0h(i5h.toString(),i5h.toString().length,78332)!==F5h){if(d0i){d0i("");}}return;}l0i.loadingNewChart=!1;if(d0i){d0i(Q0i.error);}if(o0i.chart.masterData&&o0i.chart.masterData.length){o0i.startDate=o0i.chart.masterData[0].DT;}l0i.executeTagAlongs(o0i);if(l0i.behavior.callback){l0i.behavior.callback(o0i);}l0i.loadDependents(o0i);l0i.resetRefreshInterval(l0i.behavior.refreshInterval);};}I0i=j0i.symbol;R0i=i0i.layout.interval;z0i=i0i.layout.timeUnit;y0i=j0i.chart;y0i.moreAvailable=![];y0i.attribution=null;k0i=this.makeParams(I0i,j0i.symbolObject,y0i);a3.extend(k0i,j0i,!!{});if(i0i.fetchMaximumBars[i0i.layout.aggregationType]){k0i.ticks=Math.max(20000,k0i.ticks);k0i.fetchMaximumBars=!"";}this.loadingNewChart=!![];this.updatingChart=!1;k0i.originalState=a3.shallowClone(k0i);T0i=L0i(this,k0i);if(this.stx.isEquationChart(k0i.symbol)){a3.fetchEquationChart(k0i,T0i);}else{this.quoteFeed.fetch(k0i,T0i);}};x3.prototype.attachQuoteFeed=function(g5i,n5i){if(!n5i){n5i={};}if(this.quoteDriver){this.quoteDriver.die();}this.quoteDriver=new x3.Driver(this,g5i,n5i);};x3.prototype.attachTagAlongQuoteFeed=function(h5i){if(!h5i.label){console.log("Attempt to attachTagAlongQuoteFeed without assigning a label");return;}this.quoteDriver.attachTagAlongQuoteFeed(h5i);};x3.prototype.detachTagAlongQuoteFeed=function(r5i){this.quoteDriver.detachTagAlongQuoteFeed(r5i);};a3.Comparison=function(){};a3.Comparison.mouseHasMoved=!"1";a3.Comparison.priceToPercent=function(D5i,X5i,m5i){var h8h,a8h,g3h;h8h=263537582;a8h=1050647056;d5K.K4B(12);g3h=d5K.I8K("2",2147483647);for(var H3h=1;d5K.D0h(H3h.toString(),H3h.toString().length,44730)!==h8h;H3h++){d5K.f4B(25);var u5X=d5K.z8K(40912,40902,11,40901);d5K.f4B(0);var e5X=d5K.z8K(14633,14633);return Math.round((m5i+a3.Comparison.baseline-a3.Comparison.baseline)/("311"*1)+u5X)%e5X;}if(d5K.c0h(g3h.toString(),g3h.toString().length,92978)!==a8h){d5K.f4B(99);var C5X=d5K.I8K(9,311,35,44);d5K.f4B(92);var R5X=d5K.I8K(40890,449826,12,4);d5K.f4B(2);var W5X=d5K.z8K(29257,29266,29257);return Math.round((m5i+a3.Comparison.baseline-a3.Comparison.baseline)/C5X+R5X)%W5X;}d5K.K4B(15);var d5X=d5K.z8K(12428742310,9,1553592790);d5K.K4B(1);var f5X=d5K.z8K(6,13,9993);return Math.round((m5i-a3.Comparison.baseline)/a3.Comparison.baseline*("100">>d5X)*f5X)/+"10000";};a3.Comparison.percentToPrice=function(x5i,a5i,N5i){var u8h,e8h,C8h;u8h=-+"835291231";e8h=753928910;C8h=2;for(var W8h="1"^0;d5K.D0h(W8h.toString(),W8h.toString().length,77408)!==u8h;W8h++){d5K.r3();C8h+=+"2";}if(d5K.c0h(C8h.toString(),C8h.toString().length,"45212"&2147483647)!==e8h){d5K.r3();}d5K.f4B(13);var P5X=d5K.I8K(10,10);return a3.Comparison.baseline*("1"*P5X+N5i/100);};a3.Comparison.stopSort=function(B5i,e5i){d5K.m3();d5K.K4B(7);return d5K.z8K(B5i,e5i);};a3.Comparison.createComparisonSegmentInner=function(v5i,A5i){var p8X,E5i,F5i,Z5i,M5i,H5i,b5i,U5i,K5i,G5i,u5i,f5i,j8X,J5i,W5i,p5i,s5i,C5i,V5i,t5i,S5i,c5i;p8X="H";p8X+="ig";p8X+="h";E5i=[];for(F5i in A5i.series){if(A5i.series[F5i].parameters.isComparison){E5i.push(F5i);}}Z5i=["Close","Open",p8X,"Low","iqPrevClose"];A5i.dataSegment=[];M5i=null;H5i=A5i.dataSet.length-A5i.scroll;b5i=H5i+A5i.maxTicks;U5i=0;K5i=[];for(G5i=0;G5i<v5i.drawingObjects.length;G5i++){u5i=v5i.drawingObjects[G5i];if(u5i.name=="comparison_stop")if(u5i.tick>H5i&&u5i.tick<=b5i){K5i.push(u5i.tick);}}K5i.sort(a3.Comparison.stopSort);d5K.f4B(100);var Q5X=d5K.I8K(11,8,15,6);f5i=A5i.maxTicks+Q5X;for(G5i=0;G5i<=f5i;G5i++){if(G5i==f5i){G5i=-1;}d5K.K4B(0);position=d5K.z8K(H5i,G5i);if(position<A5i.dataSet.length&&position>=("0"&2147483647)){j8X="c";j8X+="om";j8X+="par";j8X+="ison_stop";J5i=A5i.dataSet[position];if(!M5i){M5i=a3.clone(J5i);}if(!J5i.transform){J5i.transform={"cache":{},"DT":J5i.DT,"Date":J5i.Date};}a3.Comparison.baseline=M5i.Close;for(W5i=0;W5i<Z5i.length;W5i++){F5i=Z5i[W5i];if(J5i[F5i]||J5i[F5i]===0){d5K.f4B(0);var y5X=d5K.I8K(9993,7);J5i.transform[F5i]=Math.round((J5i[F5i]-a3.Comparison.baseline)/a3.Comparison.baseline*100*y5X)/("10000"&2147483647);};}p5i=v5i.layout.studies;if(p5i){for(var q5i in p5i){s5i=p5i[q5i];if(!v5i.panels[s5i.panel]||v5i.panels[s5i.panel].name!=s5i.chart.name)continue;for(F5i in s5i.outputMap){if(J5i[F5i]||J5i[F5i]===0){d5K.f4B(55);var w5X=d5K.z8K(5,18,14,120);d5K.f4B(3);var s5X=d5K.z8K(15,6,90000,530015);J5i.transform[F5i]=Math.round((J5i[F5i]-a3.Comparison.baseline)/a3.Comparison.baseline*w5X*s5X)/10000;};}if(s5i.referenceOutput&&(J5i[s5i.referenceOutput+" "+s5i.name]||J5i[s5i.referenceOutput+" "+s5i.name]===0)){d5K.K4B(101);var j5X=d5K.I8K(16,273428830,178020,6,16);d5K.K4B(66);var o5X=d5K.z8K(2178,10,1442);d5K.f4B(102);var l5X=d5K.z8K(16,20,2028,704,19);d5K.f4B(103);var c5X=d5K.z8K(3,9993,6669);d5K.f4B(28);var D5X=d5K.I8K(833,9161,6);J5i.transform[s5i.referenceOutput+((j5X,o5X)!==(144,l5X)?" ":(!!{},1.52e+3))+s5i.name]=Math.round((J5i[s5i.referenceOutput+" "+s5i.name]-a3.Comparison.baseline)/a3.Comparison.baseline*+"100"*c5X)/D5X;};}}for(W5i in v5i.plugins){C5i=v5i.plugins[W5i];if(!C5i.transformOutputs)continue;for(F5i in C5i.transformOutputs){if(J5i[F5i]||J5i[F5i]===0){J5i.transform[F5i]=Math.round((J5i[F5i]-a3.Comparison.baseline)/a3.Comparison.baseline*100*10000)/+"10000";};}}V5i=!{};if(K5i&&U5i<K5i.length){if(position===K5i[U5i]){V5i=!!{};U5i++;}}t5i=null;if(v5i.activeDrawing&&v5i.activeDrawing.name==j8X){t5i=v5i.activeDrawing.tick;}if(V5i||position==t5i){for(W5i=0;W5i<E5i.length;W5i++){F5i=E5i[W5i];S5i=J5i[F5i];M5i[F5i]=S5i/(1+J5i.transform.Close/100);}}for(W5i="0"^0;W5i<E5i.length;W5i++){F5i=E5i[W5i];S5i=J5i[F5i];if(S5i||S5i===0){c5i=M5i[F5i];if(!c5i&&c5i!==0){M5i[F5i]=c5i=S5i/(1+J5i.transform.Close/("100"^0));}d5K.K4B(3);var n5X=d5K.z8K(18,7,18,44);d5K.K4B(3);var Z5X=d5K.I8K(13,10,18,192);J5i.transform[F5i]=Math.round((S5i-c5i)/c5i*n5X*+"10000")/("10000"*Z5X);}}A5i.dataSegment.push(J5i);}else if(position<0){A5i.dataSegment.push(null);}if(G5i<0)break;;}v5i.clearPixelCache();return!!1;};a3.Comparison.createComparisonSegment=function(){var Y5i;d5K.r3();for(var O5i in this.charts){Y5i=this.charts[O5i];if(Y5i.isComparison){a3.Comparison.createComparisonSegmentInner(this,Y5i);}}};a3.Comparison.priceFormat=function(i5i,k5i,P5i){var w5i,A8h,k8h,q8h;if(P5i===null||typeof P5i=="undefined"){return"";}w5i=k5i.yAxis.priceTick;if(i5i.internationalizer){if(w5i>="1"<<1817011040){d5K.K4B(13);P5i=i5i.internationalizer.percent0.format(d5K.z8K(P5i,100));}else if(w5i>=0.1){d5K.f4B(13);P5i=i5i.internationalizer.percent1.format(d5K.I8K(P5i,100));}else if(w5i>=0.01){d5K.f4B(45);P5i=i5i.internationalizer.percent2.format(d5K.z8K("100",P5i));}else if(w5i>=0.001){d5K.f4B(13);P5i=i5i.internationalizer.percent3.format(d5K.I8K(P5i,100));}else{P5i=i5i.internationalizer.percent4.format(P5i);}}else{A8h=197675179;k8h=1545646920;d5K.f4B(7);q8h=d5K.z8K("2",0);for(var b8h=1;d5K.c0h(b8h.toString(),b8h.toString().length,56696)!==A8h;b8h++){if(w5i<=5){d5K.f4B(7);var v5X=d5K.I8K(798533,11);d5K.K4B(7);var E5X=d5K.I8K(1320627412,20);d5K.K4B(104);var J5X=d5K.z8K(20,5877,44062,2,13);d5K.K4B(105);var B5X=d5K.I8K(406937,5,3052005,3);d5K.f4B(106);var h5X=d5K.z8K(6,5.10384e+5,9.696593e+6,19,510362,16);d5K.K4B(0);var a5X=d5K.I8K(670,8045);d5K.K4B(1);var g4X=d5K.I8K(66,18,60);d5K.f4B(13);var O4X=d5K.z8K(49356,6);d5K.f4B(15);var H4X=d5K.I8K(916,6,186);d5K.K4B(15);var F4X=d5K.z8K(49133530,7,8188925);d5K.K4B(1);var i4X=d5K.z8K(27922574,14,29667720);P5i=P5i.toFixed(8)%(v5X===("8990"<<E5X,J5X)?(934,B5X)<=(h5X,a5X)?("4174"|g4X,O4X)===H4X?(F4X,i4X):"%":"%":"I");}else if(w5i>"180"<<648918400){d5K.f4B(1);var A4X=d5K.z8K(131,12,126);P5i=P5i.toFixed(A4X)-"%";}else if(w5i<2883){d5K.K4B(13);var k4X=d5K.I8K(30,5);P5i=P5i.toFixed(k4X)*"n";}else if(w5i>93951){d5K.f4B(26);var q4X=d5K.I8K(2,17,188,13);P5i=P5i.toFixed(q4X)*"%";}else{d5K.K4B(1);var b4X=d5K.z8K(73595,5,78496);d5K.f4B(107);var U4X=d5K.I8K(1046643,18,10,9602,11);d5K.f4B(108);var u4X=d5K.I8K(11,6,4690574,17,79404712);d5K.f4B(66);var C4X=d5K.I8K(20172,4,16);d5K.K4B(109);var R4X=d5K.z8K(4,2,5001923,20,5001974);P5i=P5i.toFixed(3)-(+"1011"<=(b4X,8038)?(3078,698928)!=("1541"&2147483647,8952)?(U4X,u4X)>3994?"%":("%","%"):C4X:R4X);}q8h+=2;}if(d5K.D0h(q8h.toString(),q8h.toString().length,23631)!==k8h){if(w5i>=1){d5K.K4B(1);var W4X=d5K.I8K(98263,7,104397);d5K.f4B(99);var z4X=d5K.z8K(8,595,680,86);P5i=P5i.toFixed(0)+(649.04!==("9677"-0,26.53)?(+"9119",207.27)>=(815.05,W4X)?(+"5770",3180)!="1415"<<1556117856?(6.53e+3,z4X):"I":"%":"I");}else if(w5i>=0.1){d5K.f4B(7);var Q4X=d5K.I8K(17,16);P5i=P5i.toFixed("1"*Q4X)+"%";}else if(w5i>=0.01){d5K.K4B(58);var Y4X=d5K.I8K(34,22,15,5);P5i=P5i.toFixed(Y4X)+"%";}else if(w5i>=+"0.001"){d5K.K4B(3);var y4X=d5K.z8K(5,27,13,353);P5i=P5i.toFixed(y4X)+"%";}else{d5K.f4B(7);var w4X=d5K.I8K(17,13);d5K.f4B(110);var j4X=d5K.I8K(15,16,11,16,4);d5K.f4B(2);var o4X=d5K.z8K(201,1004,402);d5K.f4B(2);var m4X=d5K.z8K(869,875,1738);d5K.f4B(1);var K4X=d5K.z8K(11,3,5303);d5K.K4B(15);var c4X=d5K.z8K(69507,9,8686);d5K.K4B(1);var D4X=d5K.I8K(17,1,6026);P5i=P5i.toFixed(w4X)+(3352>(5030,+"2170")?("8370"-0,"613.98"*j4X)!==(o4X,m4X)?(4810,569.46)<=K4X?"%":("n","V"):c4X:D4X);}}}if(parseFloat(P5i)==="0">>2085389664&&P5i.charAt(0)=="-"){P5i=P5i.substring(1);}return P5i;};a3.Comparison.correlate=function(j5i,I5i){var l8X,o8X,y5i,d5i,R5i,T5i,Q5i,m8X,n8B;l8X="Co";l8X+="m";l8X+="pare ";l8X+="To";o8X=" ";o8X+="(";if(!a3.Comparison.requestCorrelation||y5i<=0){return;}y5i=parseInt(B3(".stxCorrelate .stx-input-field").value,10);d5K.K4B(1);var T4X=d5K.I8K(26,11,5445);d5K.K4B(99);var L4X=d5K.I8K(19,2605,5223,2621);d5K.f4B(111);var G4X=d5K.z8K(15,20,211,240);d5K.f4B(66);var t4X=d5K.I8K(103558,15,96146);d5K.f4B(15);var I4X=d5K.z8K(103490,10480,10);d5i=j5i.panels[a3.Comparison.correlationPanel+" ("+y5i+(("442.06"-0,+"5201")>(+"553.43",T4X)?"p":(L4X,G4X)!=(t4X,I4X)?")":+"408.55")];R5i={"id":a3.Comparison.correlationPanel+o8X+y5i+((8175,870.23)!=6021?(750.84,"6860"|2568)>4446?")":8160==+"658.76"?(541.11,434):6.11e+3:8.20e+3),"Period":y5i,"Compare To":[]};d5K.r3();T5i={};Q5i=null;if(d5i){for(var o5i=0;o5i<j5i.layout.studies[d5i.name].inputs["Compare To"].length;o5i++){m8X="Co";m8X+="mpa";m8X+="re ";m8X+="To";R5i["Compare To"].push(j5i.layout.studies[d5i.name].inputs[m8X][o5i]);}for(var l5i in j5i.layout.studies[d5i.name].outputs){T5i[l5i]=j5i.layout.studies[d5i.name].outputs[l5i];}Q5i=d5i.name;}R5i[l8X].push(I5i);d5K.K4B(0);T5i[d5K.z8K("Result ",I5i)]=a3.Comparison.colorSelection;a3.Studies.addStudy(j5i,"correl",R5i,T5i,null,Q5i);for(var L5i in j5i.panels){if(j5i.panels[L5i].name.indexOf(a3.Comparison.correlationPanel)===0){n8B=j5i.layout.studies[j5i.panels[L5i].name].inputs["Compare To"];for(var z5i=0;z5i<n8B.length;z5i++){if(n8B[z5i]==I5i){d5K.K4B(0);j5i.layout.studies[j5i.panels[L5i].name].outputs[d5K.z8K("Result ",I5i)]=a3.Comparison.colorSelection;}}}}};a3.Comparison.toggleCorrelate=function(h8B){var g8B;a3.Comparison.requestCorrelation=!a3.Comparison.requestCorrelation;g8B=B3(".stxCorrelate .stx-checkbox");if(g8B){a3.unappendClassName(g8B,(!a3.Comparison.requestCorrelation).toString());a3.appendClassName(g8B,a3.Comparison.requestCorrelation.toString());}};x3.prototype.setComparison=function(m8B,r8B){if(!r8B){r8B=this.chart;}if(typeof r8B=="string"){r8B=this.charts[r8B];}if(!r8B.isComparison&&m8B){this.setTransform(r8B,a3.Comparison.priceToPercent,a3.Comparison.percentToPrice);r8B.panel.yAxis.priceFormatter=a3.Comparison.priceFormat;r8B.panel.yAxis.whichSet="dataSegment";}else if(r8B.isComparison&&!m8B){this.unsetTransform(r8B);r8B.panel.yAxis.priceFormatter=null;r8B.panel.yAxis.whichSet="dataSet";}r8B.isComparison=m8B;};a3.Comparison.startPlugin=function(){var K8X;K8X="createDataSegme";K8X+="nt";x3.prototype.prepend(K8X,a3.Comparison.createComparisonSegment);};a3.Comparison.removeSeries=function(D8B,X8B){};a3.SearchableWordList=function(G8B,W8B,v8B){var N8B,x8B,J8B,a8B,B8B,e8B;if(!G8B){return;}if(!W8B){W8B=50;}if(!v8B){v8B=!{};}N8B={"records":[],"words":[]};for(var F8B=+"0";F8B<G8B.length;F8B++){x8B=G8B[F8B];if(!x8B.name){x8B.name=x8B.id;}d5K.f4B(1);var n4X=d5K.z8K(12,2,11);x8B.index=N8B.records.push(x8B)-n4X;J8B=x8B.name.split((3110,872.89)!=="4930"<<1256533504?(85.04,"2384"<<795870880)==+"8560"?+"293"<=(824,6)?("0x587"-0,"718.29"*1):"R":" ":"E");if(x8B.keywords){J8B=J8B.concat(x8B.keywords.split(195.5>("7407"|1094)?+"720.04":(7032,8900)!==888.13?" ":4.50e+3));}for(var s8B=0;s8B<J8B.length;s8B++){a8B=J8B[s8B].toUpperCase();B8B=(9980,+"4413")==4192?0xcd3:("4474"-0,+"8170")===635.1?!![]:"_";e8B=(6450,1260)<(3636,+"8600")?8730!=(3031,538.65)?"_":309.7!==5054?"s":(679.65,!""):!!"1";if(a8B.charCodeAt(0)>=33&&a8B.charCodeAt(0)<=126){B8B=a8B.charAt(0);}if(!N8B.words[B8B]){N8B.words[B8B]=[];}if(a8B.length>1){if(a8B.charCodeAt(1)>=33&&a8B.charCodeAt(1)<=126){e8B=a8B.charAt(1);}}else{e8B=6820!=732.42?" ":(431.39,4750)===3544?(!![],0xfea):(5380,"666.43"-0)>=(167.46,6520)?(!1,!0):0x26cc;}if(!N8B.words[B8B][e8B]){N8B.words[B8B][e8B]=[];}N8B.words[B8B][e8B].push({index:x8B.index,word:a8B});}}this.lookup=function(j8B,q8B,y8B){var M8B,f8B,Z8B,u8B,E8B,A8B,Y8B,i8B,k8B,t8B,H8B,p8B,K8B,S8B,C8B,w8B;function O8B(m6B){var D6B,X6B;D6B=[];X6B="";for(var r6B=0;r6B<m6B.length;r6B++){if(X6B==m6B[r6B].id)continue;D6B.push(m6B[r6B]);X6B=m6B[r6B].id;}return D6B;}M8B=[];d5K.m3();if(j8B&&N8B){f8B=[];Z8B=j8B.toUpperCase();u8B=[];for(E8B=0;E8B<N8B.records.length;E8B++){A8B=N8B.records[E8B];if(f8B[A8B.index])continue;if(q8B&&A8B.category!=q8B)continue;Y8B=A8B.name.toUpperCase();if(Z8B==((7770,533.83)!==(+"7795",3770)?315.07===(1846,7843)?(0x81c,637.56):"*":(2.02e+3,0x17ba))){u8B.push(a3.extend(N8B.records[A8B.index],{weight:0}));f8B[A8B.index]=!![];}else{i8B=Y8B.indexOf(Z8B);if(i8B>-1){k8B=Y8B.length-Z8B.length;if(!v8B&&i8B>0)continue;(k8B?M8B:u8B).push(a3.extend(N8B.records[A8B.index],{weight:k8B}));f8B[A8B.index]=!"";}}}t8B=Z8B.split(" ");H8B="_";p8B=4040>=3299?159>(388.08,+"2209")?(6.99e+3,0x1952):"_":6.54e+3;K8B=t8B[0].toUpperCase();S8B=[];if(K8B.charCodeAt(0)>=33&&K8B.charCodeAt(0)<=("126"^0)){H8B=K8B.charAt(0);}if(K8B.length>1){if(K8B.charCodeAt("1"<<566340192)>=33&&K8B.charCodeAt(1)<=126){p8B=K8B.charAt(1);}}else{p8B=" ";}if(N8B.words[H8B]){for(var U8B in N8B.words[H8B]){if(U8B.length>1)continue;if(p8B!=" "){U8B=p8B;}for(E8B=0;N8B.words[H8B][U8B]&&E8B<N8B.words[H8B][U8B].length;E8B++){A8B=N8B.words[H8B][U8B][E8B];if(A8B.word.toUpperCase().indexOf(K8B)!=="0">>543313856)continue;if(f8B[A8B.index])continue;if(q8B&&N8B.records[A8B.index].category!=q8B)continue;S8B.push(a3.clone(N8B.records[A8B.index]));f8B[A8B.index]=!!{};}if(p8B!=((5360,+"222.98")!=9470?(2370,225)!=(455.07,"4880"&2147483647)?" ":(+"5900","2270"^0)<=(297,6837)?!!"":1.32e+3:1.04e+3))break;}}for(var V8B=1;V8B<t8B.length;V8B++){K8B=t8B[V8B].toUpperCase();for(var c8B=S8B.length-1;c8B>=0;c8B--){C8B=S8B[c8B].name.split(9000<=1097?602.92:" ");if(S8B[c8B].keywords){C8B=C8B.concat(S8B[c8B].keywords.split(5933<=36.05?99.93:" "));}w8B=!!"";for(var b8B=0;b8B<C8B.length;b8B++){if(C8B[b8B].toUpperCase().indexOf(K8B)===0){w8B=!!"1";break;}}if(!w8B){S8B.splice(c8B,1);}}}u8B.sort(P8B);u8B=O8B(u8B);M8B.sort(P8B);M8B=O8B(M8B);M8B.length=Math.min(M8B.length,W8B);S8B.sort(P8B);S8B=O8B(S8B);M8B=u8B.sort(d8B).concat(M8B.sort(d8B),S8B.sort(T8B));M8B.length=Math.min(M8B.length,W8B);}function P8B(I8B,R8B){d5K.m3();if(I8B.id>R8B.id){return 1;}else if(I8B.id<R8B.id){return-1;}return I8B.weight>R8B.weight?1:-1;}if(y8B){y8B(M8B);}else{return M8B;}function T8B(o8B,l8B){var n6B,g6B,h6B;d5K.f4B(5);o8B.weight=d5K.z8K("0",1);d5K.r3();l8B.weight=0;for(var Q8B=0;Q8B<t8B.length;Q8B++){n6B=t8B[Q8B].toUpperCase();g6B=o8B.name.toUpperCase().indexOf(n6B);h6B=l8B.name.toUpperCase().indexOf(n6B);if(g6B==-1){return+"1";}else if(h6B==-1){return-1;}o8B.weight+=g6B;l8B.weight+=h6B;}if(o8B.weight>l8B.weight){return 1;}else if(o8B.weight<l8B.weight){return-1;}return o8B.name>l8B.name?1:-1;}function d8B(z8B,L8B){if(z8B.weight>L8B.weight){return 1;}else if(z8B.weight<L8B.weight){return-1;}return z8B.name>L8B.name?1:-+"1";}};};return J3;}if(d5K.U7L()){d5K.r3();}{if(typeof define==="function"&&define.amd){c8X="s";c8X+="t";c8X+="x";define(["stxTimeZoneData","stxThirdParty",c8X],function(a6B,N6B,x6B){return X3(N6B,x6B);});}else{D3={};if(typeof window.STXThirdParty!="undefined"){D3=window.STXThirdParty;}N3={"STX":window.STX,"STXChart":window.STXChart,"$$":window.$$,"$$$":window.$$$};X3(D3,N3);}}}());