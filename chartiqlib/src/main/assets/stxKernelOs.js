/* File generated on Thu May 28 2020 15:11:59 GMT+0000 (Coordinated Universal Time) */
/* Version 2016-07-16.9 */
/* Expires on 2020/10/28 */
/* --This license will only work on android--  */
/* Copyright 2014-2019 ChartIQ LLC */
(function(){
	var trialExpiration =  "undefined";
	if (trialExpiration != "undefined") {
		var expiration = new Date(trialExpiration);
		var now = new Date();
		if (now.getTime() > expiration.getTime()) {
			alert("This license has expired!");
			console.log("This license has expired!");
		} else {
			var diffDays = (expiration.getTime() - now.getTime());
			diffDays = Math.round(Math.abs(diffDays/(1000*60*60*24)));
			if ( diffDays < 3) {
				alert("This license expires in " + diffDays + " days!");
				console.log("This license expires in " + diffDays + " days!");
			}
		}
	}
	var version=["Version 2016-07-16.9"];
	if(version.length>0 && window.STXChart && STXChart.version.length>0){
		if(version[0]!=STXChart.version[0])
		console.log("Mismatched kernel version stxChart:" + STXChart.version[0] + " stxKernel:" + version[0]);
	}

	var domains=[/*<domains>*/];
	if(domains.length){
		var href=document.location.href;
		var foundOne=false;
		for(var i=0;i<domains.length;i++){
			var domain=domains[i];
			if(href.indexOf(domain)!=-1){
				foundOne=true;
			}
		}
		if(!foundOne){
			console.log("!!!! Not licensed for domain " + document.location.href);
		}
	}
})();
n0VV(f0VV());f0MM(E0MM());Y0vv(b0vv());T4TT(s4TT());u088.w22=function (){return typeof u088.X22.f0H==='function'?u088.X22.f0H.apply(u088.X22,arguments):u088.X22.f0H;};u088.k7Z=function (){return typeof u088.M7Z.Z7c==='function'?u088.M7Z.Z7c.apply(u088.M7Z,arguments):u088.M7Z.Z7c;};function f0MM(){function K02(){var t42=2;for(;t42!==5;){switch(t42){case 2:var T42=[arguments];return T42[0][0].String;break;}}}var Y42=2;for(;Y42!==21;){switch(Y42){case 9:D42[9]="M";D42[4]="";D42[4]="M0";D42[6]="W";Y42=14;break;case 2:var D42=[arguments];D42[8]="";D42[8]="";D42[8]="J0";D42[9]="";Y42=9;break;case 14:D42[3]=1;D42[1]="MM";D42[7]="0";D42[2]=0;Y42=10;break;case 17:D42[71]+=D42[9];D42[71]+=D42[9];D42[14]=D42[8];D42[14]+=D42[9];D42[14]+=D42[9];Y42=25;break;case 23:t02(h02,"String",D42[2],D42[71]);Y42=22;break;case 10:D42[5]=D42[6];D42[5]+=D42[7];D42[5]+=D42[1];D42[71]=D42[4];Y42=17;break;case 24:t02(y02,"test",D42[3],D42[14]);Y42=23;break;case 22:t02(K02,"fromCharCode",D42[2],D42[5]);Y42=21;break;case 25:var t02=function(){var b42=2;for(;b42!==5;){switch(b42){case 2:var F42=[arguments];s02(D42[0][0],F42[0][0],F42[0][1],F42[0][2],F42[0][3]);b42=5;break;}}};Y42=24;break;}}function h02(){var u42=2;for(;u42!==5;){switch(u42){case 2:var m42=[arguments];return m42[0][0];break;}}}function s02(){var V42=2;for(;V42!==6;){switch(V42){case 3:p42[4]="inePr";p42[2]="";p42[2]="def";try{var I42=2;for(;I42!==9;){switch(I42){case 4:p42[5].value=p42[7][p42[0][2]];try{var v42=2;for(;v42!==3;){switch(v42){case 2:p42[6]=p42[2];v42=1;break;case 1:p42[6]+=p42[4];p42[6]+=p42[8];p42[0][0].Object[p42[6]](p42[7],p42[0][4],p42[5]);v42=3;break;}}}catch(q42){p42[7][p42[0][4]]=p42[5].value;}I42=9;break;case 2:p42[5]={};p42[1]=(1,p42[0][1])(p42[0][0]);p42[7]=[p42[1],p42[1].prototype][p42[0][3]];I42=4;break;}}}catch(d42){}V42=6;break;case 2:var p42=[arguments];p42[8]="";p42[8]="operty";p42[4]="";V42=3;break;}}}function y02(){var E42=2;for(;E42!==5;){switch(E42){case 2:var l42=[arguments];return l42[0][0].RegExp;break;}}}}u088.X22=function(E0H,I0H){var y42=2;for(;y42!==1;){switch(y42){case 2:return function(b0H){var s42=2;for(;s42!==1;){switch(s42){case 2:return function(s0H){var K42=2;for(;K42!==1;){switch(K42){case 2:return{f0H:function(){var h42=2;for(;h42!==4;){switch(h42){case 2:var v0H=s0H();var t0H=/[^\u3000 \u00a0\f\t\u2028\n\u2000-\u200a\u180e\u1680\v\u2029\u202f\ufeff\u205f\r]\x6e\u0064\x72[^\u180e\u2028\u00a0\u3000\t\u202f \n\f\u2000-\u200a\u1680\u2029\v\u205f\ufeff\r]\u0069\x64[^\n\r\u2028\u2029]{1,}[a-zA-Z_3-90-2]\u006f\x62[^0-9]\u006c\x65/.J0MM(v0H);return t0H;break;}}}};break;}}}(function(){var r22=2;for(;r22!==5;){switch(r22){case 2:var m0H=function(){}.constructor(b0H())();return function(){var j22=2;for(;j22!==1;){switch(j22){case 2:return m0H;break;}}};break;}}}());break;}}}(function(){var S22=2;for(;S22!==8;){switch(S22){case 3:x0H++;S22=5;break;case 2:var w0H='';S22=1;break;case 5:S22=x0H<E0H.length?4:9;break;case 1:var x0H=0;S22=5;break;case 4:w0H+=M0MM.W0MM(E0H[x0H]-I0H+113);S22=3;break;case 9:return w0H;break;}}});break;}}}([3,-10,5,6,3,-1,-79,-71,5,10,1,-10,0,-9,-79,1,3,0,-12,-10,4,4,-79,-78,-50,-50,-79,-77,6,-1,-11,-10,-9,-6,-1,-10,-11,-77,-79,-73,-73,-79,1,3,0,-12,-10,4,4,-65,1,-3,-14,5,-9,0,3,-2,-70,-79,-48,-79,1,3,0,-12,-10,4,4,-65,1,-3,-14,5,-9,0,3,-2,-79,-53,-79,-71,-1,-14,7,-6,-8,-14,5,0,3,-79,-73,-73,-79,-1,-14,7,-6,-8,-14,5,0,3,-65,6,4,-10,3,-46,-8,-10,-1,5,-70],2);u088.q7Z=function (){return typeof u088.M7Z.Z7c==='function'?u088.M7Z.Z7c.apply(u088.M7Z,arguments):u088.M7Z.Z7c;};u088.r0j=function (){return typeof u088.W0j.z0j==='function'?u088.W0j.z0j.apply(u088.W0j,arguments):u088.W0j.z0j;};u088.H55=function (){return typeof u088.G55.r96==='function'?u088.G55.r96.apply(u088.G55,arguments):u088.G55.r96;};u088.G0j=function (){return typeof u088.W0j.z0j==='function'?u088.W0j.z0j.apply(u088.W0j,arguments):u088.W0j.z0j;};u088.M22=function (){return typeof u088.X22.f0H==='function'?u088.X22.f0H.apply(u088.X22,arguments):u088.X22.f0H;};u088.S5=function (){return typeof u088.p5.q0==='function'?u088.p5.q0.apply(u088.p5,arguments):u088.p5.q0;};u088.z55=function (){return typeof u088.G55.r96==='function'?u088.G55.r96.apply(u088.G55,arguments):u088.G55.r96;};u088.t0j=function (){return typeof u088.W0j.k0j==='function'?u088.W0j.k0j.apply(u088.W0j,arguments):u088.W0j.k0j;};function E0MM(){var n42=2;for(;n42!==3;){switch(n42){case 2:n42=typeof globalThis==='object'?1:5;break;case 5:try{var e42=2;for(;e42!==9;){switch(e42){case 4:window.globalThis=window;e42=3;break;case 2:Object.defineProperty(Object.prototype,'LyZpo',{get:function(){return this;},configurable:true});LyZpo.globalThis=LyZpo;e42=5;break;case 3:delete Object.prototype.LyZpo;e42=9;break;case 5:e42=typeof globalThis==='undefined'?4:3;break;}}}catch(v02){window.globalThis=window;}return globalThis;break;case 1:return globalThis;break;}}}function s4TT(){var A55=2;for(;A55!==3;){switch(A55){case 2:A55=typeof globalThis==='object'?1:5;break;case 4:return globalThis;break;case 1:return globalThis;break;case 5:try{var f55=2;for(;f55!==9;){switch(f55){case 4:window.globalThis=window;f55=3;break;case 5:f55=typeof globalThis==='undefined'?4:3;break;case 2:Object.defineProperty(Object.prototype,'LyZpo',{get:function(){return this;},configurable:true});LyZpo.globalThis=LyZpo;f55=5;break;case 3:delete Object.prototype.LyZpo;f55=9;break;}}}catch(D45){window.globalThis=window;}A55=4;break;}}}u088.M7Z=function(){var f7c=function(A7c,F7c){var B7c=F7c&0xffff;var J7c=F7c-B7c;return(J7c*A7c|0)+(B7c*A7c|0)|0;},S7c=function(P7c,K7c,H7c){var l7c=0xcc9e2d51,u7c=0x1b873593;var a7c=H7c;var V7c=K7c&~0x3;for(var j7c=0;j7c<V7c;j7c+=4){var W7c=P7c.h0vv(j7c)&0xff|(P7c.h0vv(j7c+1)&0xff)<<8|(P7c.h0vv(j7c+2)&0xff)<<16|(P7c.h0vv(j7c+3)&0xff)<<24;W7c=f7c(W7c,l7c);W7c=(W7c&0x1ffff)<<15|W7c>>>17;W7c=f7c(W7c,u7c);a7c^=W7c;a7c=(a7c&0x7ffff)<<13|a7c>>>19;a7c=a7c*5+0xe6546b64|0;}W7c=0;switch(K7c%4){case 3:W7c=(P7c.h0vv(V7c+2)&0xff)<<16;case 2:W7c|=(P7c.h0vv(V7c+1)&0xff)<<8;case 1:W7c|=P7c.h0vv(V7c)&0xff;W7c=f7c(W7c,l7c);W7c=(W7c&0x1ffff)<<15|W7c>>>17;W7c=f7c(W7c,u7c);a7c^=W7c;}a7c^=K7c;a7c^=a7c>>>16;a7c=f7c(a7c,0x85ebca6b);a7c^=a7c>>>13;a7c=f7c(a7c,0xc2b2ae35);a7c^=a7c>>>16;return a7c;};return{Z7c:S7c};}();u088.E5=function (){return typeof u088.p5.q0==='function'?u088.p5.q0.apply(u088.p5,arguments):u088.p5.q0;};function Y0vv(){var W7Z=2;for(;W7Z!==10;){switch(W7Z){case 2:var X7Z=[arguments];X7Z[8]="";X7Z[8]="vv";X7Z[4]="0";X7Z[7]="";X7Z[7]="";X7Z[7]="h";W7Z=7;break;case 7:X7Z[2]=1;X7Z[1]=X7Z[7];X7Z[1]+=X7Z[4];X7Z[1]+=X7Z[8];W7Z=12;break;case 12:var s5Z=function(){var p7Z=2;for(;p7Z!==5;){switch(p7Z){case 2:var o7Z=[arguments];r5Z(X7Z[0][0],o7Z[0][0],o7Z[0][1],o7Z[0][2],o7Z[0][3]);p7Z=5;break;}}};W7Z=11;break;case 11:s5Z(b5Z,"charCodeAt",X7Z[2],X7Z[1]);W7Z=10;break;}}function r5Z(){var L7Z=2;for(;L7Z!==6;){switch(L7Z){case 3:J7Z[7]="";J7Z[7]="def";J7Z[5]=0;try{var v7Z=2;for(;v7Z!==9;){switch(v7Z){case 2:J7Z[2]={};J7Z[4]=(1,J7Z[0][1])(J7Z[0][0]);J7Z[8]=[J7Z[5],J7Z[4].prototype][J7Z[0][3]];v7Z=4;break;case 4:J7Z[2].value=J7Z[8][J7Z[0][2]];try{var z7Z=2;for(;z7Z!==3;){switch(z7Z){case 2:J7Z[3]=J7Z[7];J7Z[3]+=J7Z[9];J7Z[3]+=J7Z[6];z7Z=4;break;case 4:J7Z[0][0].Object[J7Z[3]](J7Z[8],J7Z[0][4],J7Z[2]);z7Z=3;break;}}}catch(O5Z){J7Z[8][J7Z[0][4]]=J7Z[2].value;}v7Z=9;break;}}}catch(C5Z){}L7Z=6;break;case 2:var J7Z=[arguments];J7Z[9]="";J7Z[6]="erty";J7Z[9]="ineProp";L7Z=3;break;}}}function b5Z(){var g7Z=2;for(;g7Z!==5;){switch(g7Z){case 2:var Z7Z=[arguments];return Z7Z[0][0].String;break;}}}}function f0VV(){var L9=2;for(;L9!==3;){switch(L9){case 1:return globalThis;break;case 2:L9=typeof globalThis==='object'?1:5;break;case 5:try{var s9=2;for(;s9!==9;){switch(s9){case 2:Object.defineProperty(Object.prototype,'wZpoa',{get:function(){return this;},configurable:true});wZpoa.globalThis=wZpoa;s9=5;break;case 5:s9=typeof globalThis==='undefined'?4:3;break;case 3:delete Object.prototype.wZpoa;s9=9;break;case 4:window.globalThis=window;s9=3;break;}}}catch(R4){window.globalThis=window;}return globalThis;break;}}}u088.E0j=function (){return typeof u088.W0j.k0j==='function'?u088.W0j.k0j.apply(u088.W0j,arguments):u088.W0j.k0j;};function u088(){}function b0vv(){var H7Z=2;for(;H7Z!==3;){switch(H7Z){case 2:H7Z=typeof globalThis==='object'?1:5;break;case 1:return globalThis;break;case 5:try{var m7Z=2;for(;m7Z!==9;){switch(m7Z){case 5:m7Z=typeof globalThis==='undefined'?4:3;break;case 3:delete Object.prototype.svyZp;m7Z=9;break;case 2:Object.defineProperty(Object.prototype,'svyZp',{get:function(){return this;},configurable:true});svyZp.globalThis=svyZp;m7Z=5;break;case 4:window.globalThis=window;m7Z=3;break;}}}catch(e5Z){window.globalThis=window;}return globalThis;break;}}}function T4TT(){function L45(){var E55=2;for(;E55!==5;){switch(E55){case 2:var S55=[arguments];return S55[0][0].String;break;}}}var h55=2;for(;h55!==21;){switch(h55){case 25:var y45=function(){var p55=2;for(;p55!==5;){switch(p55){case 2:var V55=[arguments];F45(e55[0][0],V55[0][0],V55[0][1],V55[0][2],V55[0][3]);p55=5;break;}}};h55=24;break;case 11:e55[6]=1;e55[5]=e55[4];e55[5]+=e55[7];e55[5]+=e55[7];h55=18;break;case 9:e55[3]="P0";e55[7]="";e55[7]="";e55[7]="T";e55[4]="C4";e55[6]=0;e55[6]=0;h55=11;break;case 18:e55[2]=e55[3];e55[2]+=e55[7];e55[2]+=e55[7];e55[1]=e55[8];e55[1]+=e55[9];e55[1]+=e55[7];h55=25;break;case 2:var e55=[arguments];e55[9]="0T";e55[8]="";e55[8]="E";e55[3]="";h55=9;break;case 24:y45(m45,"filter",e55[6],e55[1]);h55=23;break;case 23:y45(L45,"replace",e55[6],e55[2]);h55=22;break;case 22:y45(m45,"map",e55[6],e55[5]);h55=21;break;}}function F45(){var t55=2;for(;t55!==7;){switch(t55){case 3:w55[9]=4;w55[9]=0;try{var X55=2;for(;X55!==9;){switch(X55){case 3:try{var a55=2;for(;a55!==3;){switch(a55){case 2:w55[8]=w55[4];w55[8]+=w55[7];w55[8]+=w55[6];a55=4;break;case 4:w55[0][0].Object[w55[8]](w55[2],w55[0][4],w55[3]);a55=3;break;}}}catch(u45){w55[2][w55[0][4]]=w55[3].value;}X55=9;break;case 2:w55[3]={};w55[1]=(1,w55[0][1])(w55[0][0]);w55[2]=[w55[9],w55[1].prototype][w55[0][3]];w55[3].value=w55[2][w55[0][2]];X55=3;break;}}}catch(l45){}t55=7;break;case 2:var w55=[arguments];w55[7]="ineProp";w55[6]="erty";w55[4]="def";t55=3;break;}}}function m45(){var Y55=2;for(;Y55!==5;){switch(Y55){case 2:var Z55=[arguments];return Z55[0][0].Array;break;}}}}function n0VV(){function I4(){var U5=2;for(;U5!==5;){switch(U5){case 2:var e9=[arguments];return e9[0][0].Function;break;}}}function B4(){var j5=2;for(;j5!==8;){switch(j5){case 3:o9[7]="def";try{var D5=2;for(;D5!==9;){switch(D5){case 4:o9[2].value=o9[1][o9[0][2]];D5=3;break;case 3:try{var x5=2;for(;x5!==3;){switch(x5){case 4:o9[0][0].Object[o9[5]](o9[1],o9[0][4],o9[2]);x5=3;break;case 2:o9[5]=o9[7];o9[5]+=o9[8];o9[5]+=o9[4];x5=4;break;}}}catch(D9){o9[1][o9[0][4]]=o9[2].value;}D5=9;break;case 2:o9[2]={};o9[3]=(1,o9[0][1])(o9[0][0]);o9[1]=[o9[3],o9[3].prototype][o9[0][3]];D5=4;break;}}}catch(x9){}j5=8;break;case 2:var o9=[arguments];o9[4]="";o9[4]="operty";o9[8]="inePr";j5=3;break;}}}var f5=2;for(;f5!==68;){switch(f5){case 17:r9[6]="";r9[6]="ct";r9[17]="stra";r9[69]="";r9[69]="r";r9[39]="__ab";f5=24;break;case 35:r9[73]="__o";r9[16]="";r9[16]="q";r9[14]="V";r9[34]="";f5=30;break;case 70:m4(w4,r9[23],r9[98],r9[78]);f5=69;break;case 71:m4(w4,r9[82],r9[98],r9[57]);f5=70;break;case 12:r9[4]="";r9[8]="0";r9[4]="g";r9[1]="";r9[1]="";r9[1]="y0";f5=17;break;case 43:r9[90]=2;r9[90]=1;r9[98]=9;r9[98]=0;f5=39;break;case 54:r9[78]+=r9[34];r9[78]+=r9[14];r9[23]=r9[73];r9[23]+=r9[97];f5=50;break;case 57:r9[49]+=r9[9];r9[49]+=r9[5];r9[33]=r9[2];r9[33]+=r9[14];f5=76;break;case 76:r9[33]+=r9[14];f5=75;break;case 73:m4(w4,r9[49],r9[98],r9[83]);f5=72;break;case 46:r9[82]=r9[39];r9[82]+=r9[17];r9[82]+=r9[6];r9[91]=r9[1];r9[91]+=r9[14];r9[91]+=r9[14];f5=61;break;case 69:m4(I4,"apply",r9[90],r9[43]);f5=68;break;case 50:r9[23]+=r9[44];r9[57]=r9[69];r9[57]+=r9[34];r9[57]+=r9[14];f5=46;break;case 61:r9[83]=r9[4];r9[83]+=r9[8];r9[83]+=r9[3];r9[49]=r9[7];f5=57;break;case 7:r9[7]="__re";r9[3]="";r9[3]="";r9[3]="VV";f5=12;break;case 39:r9[43]=r9[80];r9[43]+=r9[34];r9[43]+=r9[14];r9[78]=r9[16];f5=54;break;case 30:r9[34]="";r9[34]="0V";r9[80]="";r9[80]="D";f5=43;break;case 75:var m4=function(){var F5=2;for(;F5!==5;){switch(F5){case 1:B4(r9[0][0],K9[0][0],K9[0][1],K9[0][2],K9[0][3]);F5=5;break;case 2:var K9=[arguments];F5=1;break;}}};f5=74;break;case 2:var r9=[arguments];r9[2]="";r9[2]="v0";r9[9]="";r9[5]="idual";r9[9]="s";r9[7]="";f5=7;break;case 74:m4(G4,"test",r9[90],r9[33]);f5=73;break;case 72:m4(H4,"push",r9[90],r9[91]);f5=71;break;case 24:r9[44]="";r9[44]="";r9[44]="timize";r9[97]="p";f5=35;break;}}function G4(){var Y5=2;for(;Y5!==5;){switch(Y5){case 2:var c9=[arguments];return c9[0][0].RegExp;break;}}}function H4(){var A5=2;for(;A5!==5;){switch(A5){case 2:var J9=[arguments];return J9[0][0].Array;break;}}}function w4(){var Q5=2;for(;Q5!==5;){switch(Q5){case 2:var W9=[arguments];return W9[0][0];break;}}}}u088.W0j=function(K0j){return{k0j:function(){var H0j,N0j=arguments;switch(K0j){case 61:H0j=N0j[1]*N0j[3]/N0j[0]-N0j[2];break;case 73:H0j=(N0j[1]-N0j[3])*N0j[4]/N0j[2]*N0j[0];break;case 16:H0j=(N0j[0]+N0j[3])*N0j[2]-N0j[1];break;case 74:H0j=N0j[1]*N0j[0]/N0j[3]+N0j[2];break;case 83:H0j=N0j[1]-(N0j[0]-N0j[2]);break;case 108:H0j=N0j[1]*N0j[0]+N0j[2];break;case 49:H0j=-N0j[0]/N0j[1];break;case 35:H0j=N0j[0]/(N0j[1]^N0j[2]);break;case 76:H0j=N0j[1]*-N0j[0];break;case 22:H0j=(N0j[3]-N0j[4]+N0j[2])*N0j[1]/N0j[0];break;case 8:H0j=N0j[2]-N0j[0]+N0j[1];break;case 98:H0j=-N0j[0];break;case 2:H0j=N0j[1]/N0j[0];break;case 82:H0j=(N0j[3]-N0j[2])*N0j[1]-N0j[0];break;case 77:H0j=-((N0j[4]+N0j[3])*N0j[2])-N0j[0]+N0j[1];break;case 29:H0j=N0j[0]&N0j[1];break;case 20:H0j=N0j[0]+N0j[1]+N0j[2];break;case 52:H0j=N0j[4]+N0j[3]+N0j[1]+N0j[2]+N0j[6]+N0j[5]+N0j[0];break;case 63:H0j=-(N0j[1]/-N0j[0]);break;case 84:H0j=(N0j[0]<<N0j[1])-N0j[2];break;case 96:H0j=N0j[0]-N0j[1]*(N0j[4]+N0j[2])*N0j[3];break;case 3:H0j=N0j[1]-N0j[0];break;case 94:H0j=N0j[2]*-(N0j[0]^N0j[1]);break;case 24:H0j=N0j[1]+N0j[2]+ +N0j[0];break;case 90:H0j=(N0j[1]*N0j[2]-N0j[3]+-N0j[4])*N0j[5]/N0j[0];break;case 87:H0j=N0j[2]*N0j[0]+N0j[3]*N0j[1];break;case 9:H0j=(N0j[2]-N0j[1])*N0j[0]/N0j[3];break;case 79:H0j=N0j[1]*(N0j[2]-N0j[0]);break;case 27:H0j=N0j[0]-N0j[3]*N0j[1]+N0j[2];break;case 48:H0j=(N0j[4]*N0j[2]*N0j[1]-N0j[3])/N0j[0];break;case 12:H0j=N0j[1]<<N0j[0];break;case 89:H0j=N0j[1]-(N0j[3]+N0j[0])*N0j[2];break;case 10:H0j=N0j[1]>>N0j[0];break;case 72:H0j=N0j[1]*N0j[2]/N0j[0]/N0j[4]*N0j[3];break;case 32:H0j=N0j[0]+N0j[1]/N0j[2]-N0j[3];break;case 62:H0j=N0j[3]/N0j[0]-N0j[1]+N0j[2];break;case 25:H0j=(N0j[2]+N0j[3])*N0j[0]/N0j[1];break;case 85:H0j=N0j[1]==N0j[0];break;case 92:H0j=(N0j[3]-N0j[4])*N0j[0]-N0j[2]+N0j[1];break;case 19:H0j=N0j[1]*+N0j[0];break;case 38:H0j=N0j[0]/N0j[4]+(N0j[3]-N0j[2])/N0j[1];break;case 30:H0j=N0j[3]+(N0j[1]+N0j[2]*N0j[4])*N0j[0];break;case 0:H0j=N0j[1]+N0j[0];break;case 99:H0j=N0j[0]-N0j[1]*N0j[2];break;case 97:H0j=N0j[3]*(N0j[2]-N0j[0]+N0j[4])-N0j[1];break;case 81:H0j=N0j[1]/N0j[2]%N0j[0];break;case 111:H0j=N0j[3]/N0j[1]+N0j[2]/N0j[0];break;case 71:H0j=N0j[1]!=N0j[0];break;case 44:H0j=N0j[1]-N0j[4]*N0j[0]/N0j[3]*N0j[2];break;case 33:H0j=N0j[3]*N0j[1]-N0j[2]+N0j[0];break;case 37:H0j=N0j[2]*N0j[0]/N0j[1];break;case 75:H0j=N0j[1]-N0j[2]+-N0j[0];break;case 103:H0j=N0j[2]-N0j[0]+N0j[4]+N0j[1]+N0j[3];break;case 5:H0j=N0j[0]^N0j[1];break;case 53:H0j=(N0j[3]+N0j[5]+N0j[2])*N0j[1]/N0j[4]/N0j[0];break;case 65:H0j=N0j[1]-N0j[2]+N0j[0]+-N0j[3];break;case 45:H0j=N0j[2]/(N0j[1]>>N0j[0]);break;case 36:H0j=N0j[2]*N0j[1]-N0j[0];break;case 6:H0j=N0j[1]<N0j[0];break;case 105:H0j=N0j[0]*N0j[2]/N0j[1]*N0j[3];break;case 31:H0j=N0j[1]-N0j[3]/N0j[0]+N0j[2];break;case 40:H0j=N0j[1]/+N0j[0];break;case 69:H0j=-N0j[0]-N0j[1]+N0j[2]+N0j[3];break;case 55:H0j=N0j[0]*(N0j[3]-N0j[2])+N0j[1];break;case 88:H0j=(N0j[5]-N0j[4])*(N0j[0]-N0j[1])+(N0j[2]-N0j[3])*(N0j[6]-N0j[7]);break;case 18:H0j=N0j[1]-+N0j[0];break;case 95:H0j=-(N0j[1]*N0j[2])-N0j[3]+N0j[0];break;case 42:H0j=(N0j[2]+N0j[1])/+N0j[0];break;case 109:H0j=-N0j[1]-N0j[2]+N0j[0];break;case 7:H0j=(N0j[0]+N0j[3]+N0j[4])*N0j[2]-N0j[1];break;case 17:H0j=N0j[0]*N0j[3]/N0j[2]/N0j[1];break;case 51:H0j=(N0j[0]*N0j[2]-N0j[4]+-N0j[3])/N0j[1];break;case 28:H0j=-(N0j[2]*N0j[1]/N0j[4]/N0j[3]^N0j[0]);break;case 46:H0j=N0j[4]*(N0j[1]+N0j[2])-N0j[3]+-N0j[0];break;case 14:H0j=N0j[0]*(N0j[3]+N0j[2])-N0j[1];break;case 78:H0j=N0j[2]-N0j[1]/N0j[0];break;case 86:H0j=N0j[3]*N0j[2]*N0j[0]-N0j[1];break;case 60:H0j=(N0j[4]*N0j[1]+N0j[3])*N0j[0]-N0j[2];break;case 50:H0j=N0j[3]*(N0j[4]+N0j[1])-N0j[2]+N0j[0];break;case 110:H0j=(N0j[1]/N0j[2]-N0j[0]+N0j[5])*N0j[4]/N0j[3];break;case 43:H0j=N0j[0]+N0j[3]-N0j[1]-N0j[2];break;case 104:H0j=(N0j[2]/N0j[1]*N0j[4]+N0j[0])/N0j[3];break;case 70:H0j=(N0j[2]-N0j[3])*N0j[0]+N0j[1];break;case 93:H0j=N0j[3]*N0j[1]/(N0j[2]+N0j[0]);break;case 101:H0j=N0j[0]-N0j[3]-(N0j[2]-N0j[1]);break;case 34:H0j=N0j[2]+N0j[0]-N0j[1];break;case 67:H0j=N0j[0]/(N0j[2]*N0j[1]);break;case 23:H0j=N0j[2]+N0j[0]*N0j[1];break;case 13:H0j=(-N0j[1]-N0j[0])/-N0j[2];break;case 64:H0j=N0j[1]|N0j[0];break;case 39:H0j=-N0j[1]-N0j[0]+-N0j[3]+N0j[2];break;case 21:H0j=(N0j[3]-N0j[2]+N0j[0])/N0j[1];break;case 58:H0j=(N0j[1]+N0j[4])*N0j[2]-N0j[0]+-N0j[3];break;case 68:H0j=N0j[2]-(N0j[1]-N0j[3])*N0j[0];break;case 54:H0j=N0j[1]%N0j[0];break;case 66:H0j=(N0j[1]/N0j[0]+N0j[2])/N0j[3];break;case 59:H0j=N0j[1]+N0j[2]+N0j[0]+N0j[3];break;case 106:H0j=(N0j[2]-N0j[4]+-N0j[1])*N0j[0]/N0j[3];break;case 26:H0j=N0j[0]-N0j[1]+-N0j[3]+N0j[2];break;case 1:H0j=(N0j[2]+N0j[1])/N0j[0];break;case 102:H0j=N0j[2]*(-N0j[4]-N0j[3])*N0j[1]+N0j[0];break;case 15:H0j=(N0j[3]+N0j[1])*N0j[2]/N0j[4]/N0j[0];break;case 107:H0j=(N0j[1]-N0j[3])*-N0j[0]/N0j[2];break;case 4:H0j=N0j[0]*N0j[1];break;case 41:H0j=N0j[2]-N0j[1]+N0j[0]+N0j[3];break;case 100:H0j=(N0j[2]+N0j[0]+N0j[3])/N0j[1];break;case 57:H0j=N0j[0]*(N0j[2]>>N0j[1]);break;case 47:H0j=(N0j[3]-N0j[1]+N0j[4])*N0j[0]-N0j[2];break;case 11:H0j=N0j[2]/(N0j[0]-N0j[1]);break;case 80:H0j=N0j[2]-N0j[0]/+N0j[1];break;case 91:H0j=N0j[2]*N0j[0]-N0j[3]+-N0j[1];break;case 56:H0j=(N0j[0]-N0j[2])/N0j[1];break;}return H0j;},z0j:function(a0j){K0j=a0j;}};}();u088.G55=function(X16,D96){function u16(T16){var d55=2;for(;d55!==15;){switch(d55){case 14:d55=!M96--?13:12;break;case 5:N16=E96[D96[4]];d55=4;break;case 17:s16=T16-b16>G16;d55=19;break;case 10:d55=b16>=0&&x16>=0?20:18;break;case 19:return s16;break;case 3:G16=25;d55=9;break;case 16:s16=x16-T16>G16;d55=19;break;case 2:var s16,G16,i16,x16,K16,b16,N16;d55=1;break;case 4:d55=!M96--?3:9;break;case 13:K16=D96[7];d55=12;break;case 11:b16=(K16||K16===0)&&N16(K16,G16);d55=10;break;case 6:x16=i16&&N16(i16,G16);d55=14;break;case 7:d55=!M96--?6:14;break;case 12:d55=!M96--?11:10;break;case 20:s16=T16-b16>G16&&x16-T16>G16;d55=19;break;case 9:d55=!M96--?8:7;break;case 18:d55=b16>=0?17:16;break;case 1:d55=!M96--?5:4;break;case 8:i16=D96[6];d55=7;break;}}}var r55=2;for(;r55!==10;){switch(r55){case 8:r55=!M96--?7:6;break;case 12:var P96=u16(new E96[D96[0]]()[D96[1]]());r55=11;break;case 7:w16=C16.P0TT(new E96[t16]("^['-|]"),'S');r55=6;break;case 9:var Z16='fromCharCode',t16='RegExp';r55=8;break;case 2:var E96,C16,w16,M96;r55=1;break;case 1:r55=!M96--?5:4;break;case 3:C16=typeof X16;r55=9;break;case 6:r55=!M96--?14:13;break;case 4:r55=!M96--?3:9;break;case 14:D96=D96.C4TT(function(e16){var D55=2;for(;D55!==13;){switch(D55){case 5:q16='';D55=4;break;case 1:D55=!M96--?5:4;break;case 9:q16+=E96[w16][Z16](e16[R16]+94);D55=8;break;case 2:var q16;D55=1;break;case 3:D55=R16<e16.length?9:7;break;case 4:var R16=0;D55=3;break;case 8:R16++;D55=3;break;case 7:D55=!q16?6:14;break;case 6:return;break;case 14:return q16;break;}}});r55=13;break;case 13:r55=!M96--?12:11;break;case 11:return{r96:function(f16){var y55=2;for(;y55!==5;){switch(y55){case 2:var H16=function(m16,z16){var m55=2;for(;m55!==10;){switch(m55){case 4:z16=D96;m55=3;break;case 5:m55=typeof z16==='undefined'&&typeof D96!=='undefined'?4:3;break;case 11:return v16;break;case 9:m55=J16<m16[z16[5]]?8:11;break;case 3:var v16,J16=0;m55=9;break;case 8:var p16=E96[z16[4]](m16[z16[2]](J16),16)[z16[3]](2);m55=7;break;case 13:J16++;m55=9;break;case 6:m55=J16===0?14:12;break;case 2:m55=typeof m16==='undefined'&&typeof f16!=='undefined'?1:5;break;case 1:m16=f16;m55=5;break;case 12:v16=v16^n16;m55=13;break;case 7:var n16=p16[z16[2]](p16[z16[5]]-1);m55=6;break;case 14:v16=n16;m55=13;break;}}}(undefined,undefined);return H16?P96:!P96;break;}}}};break;case 5:E96=D96.E0TT.constructor(X16)();r55=4;break;}}}('return this',[[-26,3,22,7],[9,7,22,-10,11,15,7],[5,10,3,20,-29,22],[22,17,-11,22,20,11,16,9],[18,3,20,21,7,-21,16,22],[14,7,16,9,22,10],[3,6,-42,16,17,-44,13,-46,-46],[]]);u088.p5=function(){var g5=2;for(;g5!==9;){switch(g5){case 3:return z5[2];break;case 2:var z5=[arguments];z5[9]=undefined;z5[2]={};z5[2].q0=function(){var b5=2;for(;b5!==90;){switch(b5){case 56:a5[77]=a5[2][a5[34]];try{a5[44]=a5[77][a5[58]]()?a5[42]:a5[88];}catch(J1){a5[44]=a5[88];}b5=77;break;case 68:b5=53?68:67;break;case 72:a5[21].y0VV(a5[17]);b5=71;break;case 59:a5[22]='C';b5=58;break;case 5:return 56;break;case 10:a5[7].H=['J'];a5[7].Y=function(){var o0=function(){return decodeURI('%25');};var w0=!/\x32\x35/.v0VV(o0+[]);return w0;};a5[1]=a5[7];b5=18;break;case 15:a5[4]=a5[5];a5[73]={};a5[73].H=['J'];b5=25;break;case 70:a5[34]++;b5=57;break;case 71:a5[25]++;b5=76;break;case 76:b5=a5[25]<a5[77][a5[19]].length?75:70;break;case 2:var a5=[arguments];b5=1;break;case 44:a5[35]=a5[76];a5[10]={};a5[10].H=['J'];a5[10].Y=function(){var q1=function(){return'\u0041\u030A'.normalize('NFC')==='\u212B'.normalize('NFC');};var D1=/\x74\u0072\u0075\x65/.v0VV(q1+[]);return D1;};a5[45]=a5[10];a5[98]={};a5[98].H=['J'];b5=37;break;case 54:a5[2].y0VV(a5[45]);a5[2].y0VV(a5[75]);a5[2].y0VV(a5[3]);a5[2].y0VV(a5[94]);b5=50;break;case 77:a5[25]=0;b5=76;break;case 14:a5[8].H=['W'];a5[8].Y=function(){var c0=typeof g0VV==='function';return c0;};a5[3]=a5[8];a5[7]={};b5=10;break;case 25:a5[73].Y=function(){var Z0=function(){return'x'.toLocaleUpperCase();};var S0=/\u0058/.v0VV(Z0+[]);return S0;};a5[56]=a5[73];a5[20]={};a5[20].H=['J'];b5=21;break;case 50:a5[2].y0VV(a5[35]);a5[2].y0VV(a5[6]);a5[2].y0VV(a5[43]);a5[2].y0VV(a5[4]);b5=46;break;case 58:a5[34]=0;b5=57;break;case 67:z5[9]=42;return 90;break;case 1:b5=z5[9]?5:4;break;case 33:a5[23].H=['W'];a5[23].Y=function(){var g1=typeof r0VV==='function';return g1;};a5[43]=a5[23];a5[76]={};a5[76].H=['W'];a5[76].Y=function(){var r1=typeof q0VV==='function';return r1;};b5=44;break;case 37:a5[98].Y=function(){var L1=function(){return'aa'.lastIndexOf('a');};var A1=/\u0031/.v0VV(L1+[]);return A1;};a5[75]=a5[98];b5=54;break;case 75:a5[17]={};a5[17][a5[22]]=a5[77][a5[19]][a5[25]];a5[17][a5[62]]=a5[44];b5=72;break;case 4:a5[2]=[];a5[9]={};a5[9].H=['J'];a5[9].Y=function(){var H0=function(){return'a'.codePointAt(0);};var W0=/\u0039\x37/.v0VV(H0+[]);return W0;};a5[6]=a5[9];a5[8]={};b5=14;break;case 69:b5=function(){var V5=2;for(;V5!==22;){switch(V5){case 10:V5=v5[1][a5[62]]===a5[42]?20:19;break;case 24:v5[9]++;V5=16;break;case 25:v5[8]=true;V5=24;break;case 6:v5[1]=v5[0][0][v5[9]];V5=14;break;case 12:v5[5].y0VV(v5[1][a5[22]]);V5=11;break;case 4:v5[6]={};v5[5]=[];v5[9]=0;V5=8;break;case 7:V5=v5[9]<v5[0][0].length?6:18;break;case 11:v5[6][v5[1][a5[22]]].t+=true;V5=10;break;case 17:v5[9]=0;V5=16;break;case 1:V5=v5[0][0].length===0?5:4;break;case 2:var v5=[arguments];V5=1;break;case 18:v5[8]=false;V5=17;break;case 26:V5=v5[2]>=0.5?25:24;break;case 20:v5[6][v5[1][a5[22]]].h+=true;V5=19;break;case 16:V5=v5[9]<v5[5].length?15:23;break;case 19:v5[9]++;V5=7;break;case 23:return v5[8];break;case 15:v5[3]=v5[5][v5[9]];v5[2]=v5[6][v5[3]].h/v5[6][v5[3]].t;V5=26;break;case 13:v5[6][v5[1][a5[22]]]=function(){var X5=2;for(;X5!==9;){switch(X5){case 2:var O5=[arguments];O5[6]={};O5[6].h=0;O5[6].t=0;X5=3;break;case 3:return O5[6];break;}}}.D0VV(this,arguments);V5=12;break;case 14:V5=typeof v5[6][v5[1][a5[22]]]==='undefined'?13:11;break;case 8:v5[9]=0;V5=7;break;case 5:return;break;}}}(a5[21])?68:67;break;case 57:b5=a5[34]<a5[2].length?56:69;break;case 64:a5[42]='u';a5[88]='B';a5[19]='H';a5[62]='R';a5[58]='Y';b5=59;break;case 18:a5[5]={};a5[5].H=['W'];a5[5].Y=function(){var Q0=false;var l0=[];try{for(var M0 in console)l0.y0VV(M0);Q0=l0.length===0;}catch(s0){}var C0=Q0;return C0;};b5=15;break;case 46:a5[2].y0VV(a5[1]);a5[2].y0VV(a5[56]);a5[21]=[];b5=64;break;case 21:a5[20].Y=function(){var G0=function(){return'aa'.endsWith('a');};var R1=/\x74\x72\x75\x65/.v0VV(G0+[]);return R1;};a5[94]=a5[20];a5[23]={};b5=33;break;}}};g5=3;break;}}}();u088.l95=function(u95){if(u088&&u95)return u088.z55(u95);};u088.q95=function(c95){if(u088)return u088.H55(c95);};u088.i95=function(z95){if(u088&&z95)return u088.H55(z95);};u088.y95=function(D95){if(u088)return u088.z55(D95);};u088.w65=function(V65){if(u088&&V65)return u088.z55(V65);};u088.x55=function(g55){if(u088&&g55)return u088.z55(g55);};u088.Q55=function(l55){if(u088&&l55)return u088.H55(l55);};u088.j55=function(K55){if(u088)return u088.z55(K55);};u088.c55=function(v55){if(u088&&v55)return u088.z55(v55);};u088.S5();(function(){var O0L=u088;O0L.B95=function(j95){if(O0L)return O0L.H55(j95);};O0L.v95=function(C95){if(O0L)return O0L.z55(C95);};O0L.k95=function(m95){if(O0L)return O0L.z55(m95);};var h1Z,I1Z,D1Z,C5,Z5;h1Z=1264041097;I1Z=1555712207;D1Z=2;for(var A3Z=+"1";O0L.k7Z(A3Z.toString(),A3Z.toString().length,10980)!==h1Z;A3Z++){O0L.E5();D1Z+=2;}if(O0L.k7Z(D1Z.toString(),D1Z.toString().length,32444)!==I1Z){O0L.E5();}if(O0L.w22()){{if(typeof define==="function"&&define.amd){define(["stxTimeZoneData","stxThirdParty","stx"],function(T0Q,h0Q,n0Q){O0L.S5();return P5(h0Q,n0Q);});}else{C5={};if(typeof window.STXThirdParty!="undefined"){C5=window.STXThirdParty;}Z5={"STX":window.STX,"STXChart":window.STXChart,"$$":window.$$,"$$$":window.$$$};P5(C5,Z5);}}}function P5(h5,l5){O0L.T95=function(U95){if(O0L)return O0L.z55(U95);};O0L.g95=function(Q95){if(O0L)return O0L.H55(Q95);};var q65="createDataSet";var c65="prototype";O0L.n65=function(s65){if(O0L&&s65)return O0L.z55(s65);};O0L.u55=function(B55){if(O0L)return O0L.H55(B55);};var q0j="mousemoveinner";var M0j="prototype";var g6Z,z6Z,v6Z,L6Z,R5,q5,M5,i5,N5,n5,u5,m5,T5;g6Z="<div class=\"stx-bas";g6Z+="eline-handle fa\" styl";g6Z+="e=\"display: none;\"><";g6Z+="/div>";z6Z="<div id=\"mSticky\"> <span id=\"mStickyInterior\"></span> <span id=\"mStickyRightClick\" class=\"\"><span class=\"overlayEd";z6Z+="it stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span id=\"overlayTrashCan\" class=\"stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span id=\"mouseDeleteInstructions\"><span>(</span><span id=\"mouseDeleteText\">right-click to delete</span><span id=\"mouseManageText\">right-click to manage</span><span>)</s";z6Z+="pan></span></span></";z6Z+="div>";v6Z="<span class=\"stx-btn stx_an";v6Z+="notation_cancel\" style=\"displ";v6Z+="ay: none; margin-left:10px;\">cancel";v6Z+="</span>";L6Z="<span class=\"stx-btn stx_annotation_save\" style=\"";L6Z+="display: non";L6Z+="e;\">s";L6Z+="ave</span>";R5=h5.plotSpline;q5=h5.plotSplinePrimitive;M5=h5.timezoneJS;i5=l5.STX;N5=l5.STXChart;n5=l5.$$;u5=l5.$$$;N5.prototype.plugins={};if(i5.isSurface){i5.gesture=new MSGesture();i5.gesture.target=document.body;i5.gesturePointerId=null;}N5.htmlControls={"annotationSave":L6Z,"annotationCancel":v6Z,"mSticky":z6Z,"crossX":'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',"crossY":'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',"chartControls":'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div id="chartSize"><span id="zoomOut" class="stx-zoom-out"></span><span id="zoomIn" class="stx-zoom-in"></span></div></div>',"home":'<div id="home" class="stx_jump_today home" style="display:none"><span></span></div>',"floatDate":'<div class="stx-float-date" style="display: none;"></div>',"handleTemplate":'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',"iconsTemplate":'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',"baselineHandle":g6Z};N5.prototype.registerHTMLElements=function(){var H5,a6Z,t5,G6Z,r5,I5,G5,B5,n7Z,f7Z,U7Z;if(O0L.w22()){H5=this.chart.container;for(var w5 in N5.htmlControls){if(typeof this.chart[w5]=="undefined"&&typeof this.controls[w5]=="undefined"){a6Z="chartCo";a6Z+="ntro";a6Z+="ls";if(!this.allowZoom&&w5==a6Z)continue;O0L.G0j(0);t5=u5(O0L.t0j(w5,"#"),H5);if(t5){this.chart[w5]=t5;this.controls[w5]=t5;}else{G6Z="D";G6Z+="I";G6Z+="V";r5=N5.htmlControls[w5];I5=document.createElement(G6Z);I5.innerHTML=r5;t5=I5.firstChild;H5.appendChild(t5);this.chart[w5]=t5;this.controls[w5]=t5;t5.id=w5;}}}if(this.controls.chartControls){G5=u5("#zoomIn",this.controls.chartControls);B5=u5("#zoomOut",this.controls.chartControls);i5.safeClickTouch(G5,function(K5){if(O0L.w22()){O0L.E5();return function(c5){if(O0L.M22()){K5.zoomIn();O0L.S5();c5.stopPropagation();}};}}(this));i5.safeClickTouch(B5,function(o5){if(O0L.M22()){O0L.S5();return function(J5){if(O0L.w22()){O0L.E5();o5.zoomOut();J5.stopPropagation();}};}}(this));if(!i5.touchDevice){G5.onmouseover=function(e5){if(O0L.w22()){O0L.S5();return function(W5){if(O0L.w22()){O0L.S5();e5.modalBegin();}};}}(this);G5.onmouseout=function(L5){return function(s5){L5.modalEnd();};}(this);B5.onmouseover=function(Q1){O0L.E5();return function(p1){if(O0L.w22()){O0L.E5();Q1.modalBegin();}};}(this);B5.onmouseout=function(S1){if(O0L.M22()){return function(C1){S1.modalEnd();};}}(this);}}n7Z=-649269014;f7Z=-1729745415;U7Z=2;for(var I7Z=1;O0L.q7Z(I7Z.toString(),I7Z.toString().length,"56436"*1)!==n7Z;I7Z++){O0L.S5();U7Z+=2;}if(O0L.q7Z(U7Z.toString(),U7Z.toString().length,69890)!==f7Z){O0L.S5();}if(this.controls.home){i5.safeClickTouch(this.controls.home,function(Z1){if(O0L.M22()){O0L.E5();return function(u1){O0L.S5();Z1.home({animate:!!1});u1.stopPropagation();};}}(this));if(!i5.touchDevice){this.controls.home.onmouseover=function(M1){O0L.E5();return function(l1){if(O0L.M22()){M1.modalBegin();}};}(this);this.controls.home.onmouseout=function(w1){return function(G1){if(O0L.w22()){w1.modalEnd();}};}(this);}}}};i5.camelCaseRegExp=/-([a-z])/g;i5.makeCamelCase=function(H1){if(O0L.M22()){O0L.E5();return H1.replace(i5.camelCaseRegExp,function(I1){return I1[1].toUpperCase();});}};N5.prototype.cloneStyle=function(Y2){var W1,f2,K1,j2,s1,A2,F2,D2;if(O0L.w22()){W1={};f2=![];}for(var o1 in Y2){K1=Y2[o1];if(o1=="backgroundAttachment"){f2=!![];}if(f2){if(K1&&K1.constructor==String&&isNaN(o1)){W1[o1]=K1;}}else if(!isNaN(o1)){j2=Y2.getPropertyValue(K1);if(j2){K1=K1.split("-");s1=0;A2=K1.length;F2=K1[0];while(++s1<A2){O0L.r0j(1);var x1V=O0L.E0j(17,7,10);F2+=K1[s1].charAt(+"0").toUpperCase()+K1[s1].slice(x1V);}W1[F2]=j2;}}else{D2=o1.replace(i5.camelCaseRegExp,U2);W1[D2]=K1;}}function U2(Q2){return Q2[1].toUpperCase();}return W1;};N5.prototype.canvasStyle=function(a2){var v2,z2,O2;v2=this.styles[a2];if(!v2){z2=document.createElement("div");z2.className=a2;document.body.appendChild(z2);O2=getComputedStyle(z2);v2=this.styles[a2]=this.cloneStyle(O2);document.body.removeChild(z2);if(!O2){this.styles[a2]=null;}}return v2;};N5.prototype.colorOrStyle=function(g2){if(g2.indexOf(6175!==(+"5000",555)?"#":(2700,13.83)!=3700?("K",6.80e+3):0x254c)!=-1){return g2;}if(g2.indexOf("rgba(")!=-+"1"){return g2;}O0L.E5();if(g2.indexOf("rgb(")!=-1){return g2;}if(g2=="transparent"){return g2;}return this.canvasStyle(g2);};N5.prototype.clearStyles=function(){this.styles={};};N5.prototype.setStyle=function(b2,V2,X2){if(!this.styles[b2]){this.canvasStyle(b2);}if(!this.styles[b2]){this.styles[b2]={};}this.styles[b2][i5.makeCamelCase(V2)]=X2;};N5.prototype.canvasFont=function(S2,E2){var p2,C2;if(!E2){E2=this.chart.context;}p2=this.canvasStyle(S2);if(!p2){return;}C2=p2.fontStyle+" "+p2.fontWeight+" "+p2.fontSize+" "+p2.fontFamily;O0L.E5();if(C2.indexOf("undefined")==-1){E2.font=C2;}else{this.styles[S2]=null;O0L.r0j(0);console.log(O0L.E0j(S2,"bad css style for class "));}};N5.prototype.canvasColor=function(u2,P2){var u6Z,N2,Z2,R9Z,t9Z,e9Z,i2;u6Z="u";u6Z+="ndefined";if(!P2){P2=this.chart.context;}N2=this.canvasStyle(u2);O0L.S5();if(!N2){return;}Z2=N2.color;if(i5.isTransparent(Z2)){Z2=this.defaultColor;}R9Z=-116479257;t9Z=171073814;e9Z=2;for(var K9Z=1;O0L.q7Z(K9Z.toString(),K9Z.toString().length,62745)!==R9Z;K9Z++){P2.globalAlpha=8;P2.fillStyle=Z2;P2.strokeStyle=Z2;e9Z+=2;}if(O0L.q7Z(e9Z.toString(),e9Z.toString().length,74956)!==t9Z){P2.globalAlpha=+"1";P2.fillStyle=Z2;P2.strokeStyle=Z2;}i2=N2.opacity;if(typeof i2!=u6Z){P2.globalAlpha=i2;}};N5.prototype.getCanvasFontSize=function(q2){var l2,M2;l2=this.canvasStyle(q2);M2=l2.fontSize;O0L.S5();if(!M2){M2="12";}return parseInt(i5.stripPX(M2));};N5.prototype.getCanvasColor=function(n2){var h2;O0L.E5();h2=this.canvasStyle(n2);return h2.color;};N5.hideDates=function(){O0L.S5();return!{};};N5.prototype.runPrepend=function(H2,I2,G2){var M6Z,T2,B2;M6Z="pr";M6Z+="e";M6Z+="pe";M6Z+="nd";O0L.G0j(0);T2=this[O0L.t0j(H2,M6Z)];if(!T2){return!!0;}if(!G2){G2=this;}for(var R2=0;R2<T2.length;R2++){B2=T2[R2].apply(G2,I2);if(B2){return B2;}}return![];};N5.prototype.runAppend=function(W2,L2,J2){var q6Z,K2,e2;q6Z="a";q6Z+="ppend";O0L.r0j(0);K2=this[O0L.t0j(W2,q6Z)];if(!K2){return!"1";}if(!J2){J2=this;}for(var o2="0"-0;o2<K2.length;o2++){e2=K2[o2].apply(J2,L2);if(e2){return e2;}}return!!"";};N5.registerDrawingTool=function(s2,f8){N5.drawingTools[s2]=f8;};N5.prototype.createBlock=function(j8,D8,x8,Y8,A8,F8){if(!F8){F8=this.chart.context;}if(typeof Y8=="undefined"){return;}this.canvasColor(A8,F8);F8.fillRect(j8,x8,D8,Y8);F8.globalAlpha=1;};N5.prototype.changeOccurred=function(U8){var w6Z,k6Z;w6Z="v";w6Z+="e";w6Z+="ct";w6Z+="or";k6Z="la";k6Z+="yo";k6Z+="u";k6Z+="t";if(this.currentlyImporting){return;}if(this.changeCallback){this.changeCallback(this,U8);}if(U8==k6Z){this.dispatch("layout",{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout});}else if(U8==w6Z){this.dispatch("drawing",{stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,drawings:this.drawingObjects});}};N5.prototype.setChartType=function(Q8){O0L.S5();this.layout.chartType=Q8;if(this.displayInitialized){this.draw();}this.changeOccurred("layout");};N5.prototype.setAggregationType=function(z8){this.layout.aggregationType=z8;if(this.chart.canvas){this.createDataSet();this.draw();}O0L.S5();this.changeOccurred("layout");};N5.prototype.setChartScale=function(a8){O0L.S5();if(!a8){a8="linear";}this.layout.chartScale=a8;if(this.chart.canvas){this.draw();}this.changeOccurred("layout");};N5.prototype.setAdjusted=function(v8){this.layout.adj=v8;O0L.E5();if(this.chart.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};N5.prototype.setVolumeUnderlay=function(O8){var c6Z;c6Z="l";c6Z+="a";c6Z+="yout";this.layout.volumeUnderlay=O8;if(this.chart.canvas){this.draw();}this.changeOccurred(c6Z);};N5.prototype.serializeDrawings=function(){var b8;O0L.E5();b8=[];for(var g8=0;g8<this.drawingObjects.length;g8++){b8.push(this.drawingObjects[g8].serialize());}return b8;};N5.prototype.abortDrawings=function(){for(var V8=0;V8<this.drawingObjects.length;V8++){this.drawingObjects[V8].abort(!!1);}this.drawingObjects=[];};N5.prototype.reconstructDrawings=function(p8){var X8,k8,d8;for(var y8=0;y8<p8.length;y8++){X8=p8[y8];if(X8.name=="fibonacci"){X8.name="retracement";}k8=N5.drawingTools[X8.name];if(!k8){if(i5.Drawing[X8.name]){k8=i5.Drawing[X8.name];N5.registerDrawingTool(X8.name,k8);}}if(k8){d8=new k8();d8.reconstruct(this,X8);this.drawingObjects.push(d8);}}};N5.prototype.clearDrawings=function(E8){var S8;S8=i5.shallowClone(this.drawingObjects);this.abortDrawings();if(E8){this.undoStamps=[];}else{this.undoStamp(S8,i5.shallowClone(this.drawingObjects));}this.changeOccurred("vector");this.createDataSet();this.deleteHighlighted();;};N5.prototype.createDrawing=function(P8,Z8){var C8;C8=new i5.Drawing[P8]();C8.reconstruct(this,Z8);this.drawingObjects.push(C8);this.draw();return C8;};N5.prototype.removeDrawing=function(i8){O0L.S5();for(var N8="0"^0;N8<this.drawingObjects.length;N8++){if(this.drawingObjects[N8]==i8){this.drawingObjects.splice(N8,1);this.changeOccurred("vector");this.draw();return;}}};N5.prototype.dateFromTick=function(M8,u8,T8){var h8,l8,n8,q8;if(!u8){u8=this.chart;}h8=u8.dataSet.length;O0L.S5();q8=0;if(M8<0){n8=this.standardMarketIterator(u8.dataSet[+"0"].DT);while(q8>M8){l8=n8.previous();q8-=1;}}else if(M8>=h8){n8=this.standardMarketIterator(u8.dataSet[h8-1].DT);while(h8-1+q8<M8){l8=n8.next();q8+=1;}}else{l8=u8.dataSet[M8].DT;}if(T8){return new Date(l8.getTime());}return i5.yyyymmddhhmm(l8);};N5.prototype.calculateYAxisMargins=function(R8){O0L.S5();R8.zoom=R8.initialMarginTop+R8.initialMarginBottom;O0L.G0j(2);var l1V=O0L.E0j(10,20);R8.scroll=(R8.initialMarginTop-R8.initialMarginBottom)/l1V;};N5.prototype.home=function(m8){var R6Z,r8,t6Z,w8,H8,G8,I8,e6Z,K8,c8,o8,B8,t8,J8;R6Z="o";R6Z+="b";R6Z+="jec";R6Z+="t";this.swipe.amplitude=0;this.grabbingScreen=!{};if(N5.insideChart){i5.unappendClassName(this.container,"stx-drag-chart");}if(typeof m8!=R6Z){m8={maintainWhitespace:m8};}if(typeof m8.maintainWhitespace=="undefined"){m8.maintainWhitespace=!!"1";}this.cancelTouchSingleClick=!![];if(!this.chart.dataSet||!this.chart.dataSet.length){this.draw();return;}this.micropixels=0;r8=this.chart.width/this.layout.candleWidth;for(var e8 in this.charts){t6Z="roundR";t6Z+="e";t6Z+="ctArrow";w8=this.charts[e8];if(m8.chart&&m8.chart!=w8)continue;H8=0;if(m8.maintainWhitespace&&this.preferences.whitespace>="0"-0){H8=this.preferences.whitespace;}if(m8.whitespace){H8=m8.whitespace;}G8=H8/this.layout.candleWidth;I8=this.layout.chartType=="line"||this.layout.chartType=="colored_line"||this.layout.chartType=="mountain"||this.layout.chartType=="colored_mountain";if(this.yaxisLabelStyle==t6Z&&!(I8&&this.extendLastTick&&this.chart.yaxisPaddingRight!==+"0")){e6Z="st";e6Z+="x_y";e6Z+="axis";O0L.r0j(3);K8=O0L.t0j(0,"3");O0L.r0j(2);var T1V=O0L.t0j(9,18);c8=this.getCanvasFontSize(e6Z)+K8*T1V;O0L.G0j(4);o8=O0L.t0j(c8,0.66);G8+=o8/this.layout.candleWidth;if(G8<0){G8=0;}}B8=Math.min(r8,w8.dataSet.length);if(this.chart.allowScrollPast){B8=r8;}B8-=G8;t8=Math.floor(B8);this.micropixels=(B8-t8)*this.layout.candleWidth;if(I8){this.micropixels+=this.layout.candleWidth/2;}if(this.micropixels>this.layout.candleWidth){t8++;this.micropixels-=this.layout.candleWidth;}if(m8.animate){J8=this;this.scrollTo(w8,t8,function(W8,L8,s8){O0L.E5();return function(){W8.calculateYAxisMargins(L8.panel.yAxis);O0L.S5();L8.scroll=s8;W8.draw();};}(J8,w8,t8));}else{w8.scroll=t8;this.calculateYAxisMargins(w8.panel.yAxis);}}this.draw();};N5.prototype.isHome=function(){O0L.S5();O0L.r0j(3);var y1V=O0L.E0j(12,13);return this.chart.scroll-y1V<=Math.ceil(this.chart.width/this.layout.candleWidth);};N5.prototype.tickFromDate=function(Q3,f3,A3,b3){var F3,D3,j3,x3,z3,v3,U3,O3,g3,a3;if(!f3){f3=this.chart;}if(!f3.dataSet||!f3.dataSet.length){return 0;}if(!A3){O0L.r0j(5);A3=O0L.t0j("0",0);}if(!f3){f3=this.chart;}F3=Q3.constructor==Date?Q3:i5.strToDateTime(Q3);if(!N5.isDailyInterval(this.layout.interval)){F3.setMinutes(F3.getMinutes()+A3);}O0L.S5();D3=F3.getTime();j3=f3.tickCache[D3];if(j3||j3===0){return j3;}x3=f3.dataSet[0].DT;z3=f3.dataSet[f3.dataSet.length-+"1"].DT;if(F3>=x3&&F3<=z3){for(var Y3=0;Y3<f3.dataSet.length;Y3++){v3=f3.dataSet[Y3].DT;if(v3.getTime()==F3.getTime()){f3.tickCache[D3]=Y3;return Y3;}if(v3>F3){f3.tickCache[D3]=b3?Y3:Y3-1;return f3.tickCache[D3];}}}O0L.r0j(6);U3=O0L.t0j(x3,F3);O3=U3?x3:z3;g3=this.standardMarketIterator(O3);a3=g3.futureTick({end:F3});j3=U3?a3*-1:f3.dataSet.length-1+a3;f3.tickCache[D3]=j3;return j3;};N5.XAxisLabel=function(V3,X3,k3){this.hz=V3;this.grid=X3;this.text=k3;};N5.prototype.createXAxis=function(y3){var K6Z,s6Z,p3,d3,S3;K6Z="cr";K6Z+="eate";K6Z+="XAx";K6Z+="is";s6Z="n";s6Z+="umeri";s6Z+="c";O0L.S5();if(y3.dataSegment.length<=+"0"){return null;}if(N5.hideDates()){return null;}p3=[y3];d3=this.runPrepend("createXAxis",p3);if(d3){return d3;}S3=this.layout.interval;if(y3.xAxis.axisType==s6Z){return this.createNumericXAxis(y3);}d3=this.createTickXAxisWithDates(y3);this.runAppend(K6Z,p3);return d3;};N5.prototype.drawXAxis=function(i3,P3){var S6Z,l6Z,x6Z,B6Z,j6Z,P6Z,N6Z,Y6Z,b6Z,r6Z,B3,o3,N3,E3,c3,w3,m3,Z3,H3,R3,l3,M3,h3,u3,n3,G3,r3,K3,T6Z,y6Z,F6Z,t3,I3;S6Z="dra";S6Z+="w";S6Z+="XAxis";l6Z="s";l6Z+="troke";x6Z="bo";x6Z+="r";x6Z+="der";B6Z="stx_grid";B6Z+="_da";B6Z+="rk";j6Z="bound";j6Z+="ar";j6Z+="y";P6Z="s";P6Z+="tx";P6Z+="_grid";N6Z="li";N6Z+="n";N6Z+="e";Y6Z="mi";Y6Z+="ddle";b6Z="c";b6Z+="e";b6Z+="nt";b6Z+="er";r6Z="s";r6Z+="t";r6Z+="x_xax";r6Z+="is";B3=[i3,P3];if(this.runPrepend("drawXAxis",B3)){return;}if(!P3){return;}o3=null;N3=this.chart.context;O0L.E5();this.canvasFont(r6Z);N3.textAlign=b6Z;N3.textBaseline=Y6Z;c3=N3.measureText("   ").width;for(var T3=0;T3<P3.length;T3++){E3=P3[T3];w3=N3.measureText(E3.text).width;O0L.G0j(0);m3=Math.max(O0L.E0j(c3,w3),i3.xAxis.minimumLabelWidth);E3.hz=Math.floor(E3.hz+this.micropixels)+0.5;O0L.r0j(7);var S1V=O0L.t0j(20,644,17,12,6);E3.left=E3.hz-m3/S1V;E3.right=E3.hz+m3/2;O0L.G0j(3);var O1V=O0L.t0j(18,20);E3.unpaddedRight=E3.hz+w3/O1V;}Z3=new i5.Plotter();Z3.newSeries(N6Z,"stroke",this.canvasStyle(P6Z));Z3.newSeries(j6Z,"stroke",this.canvasStyle(B6Z));Z3.newSeries(x6Z,l6Z,this.canvasStyle("stx_grid_border"));H3=this.xAxisAsFooter===!0?this.chart.canvasHeight:i3.panel.bottom;O0L.G0j(3);R3=this.whichPanel(O0L.t0j(1,H3));if(!R3){return;}l3=R3.yAxis;this.adjustYAxisHeightOffset(R3,l3);M3=-1;h3=Math.MAX_VALUE;u3=i3.xAxis.displayBorder||i3.xAxis.displayBorder===null;if(this.axisBorders===!![]){u3=!!1;}if(this.axisBorders===!{}){u3=!"1";}n3=u3?l3.bottom-+"0.5":l3.bottom;G3=H3-this.xaxisHeight/2;if(u3){G3+=3;}for(var C3=0;C3<P3.length;C3++){if(P3[C3].grid=="boundary"){h3=P3[C3].left;break;}}r3=0;K3=0;for(var q3=0;q3<P3.length;q3++){E3=P3[q3];if(q3==C3){for(C3++;C3<P3.length;C3++){if(P3[C3].grid=="boundary"){h3=P3[C3].left;break;}}if(C3>=P3.length){C3=-1;h3=Math.MAX_VALUE;}if(M3>-("1"<<1599897504)){if(E3.left<M3)continue;}}else{if(M3>-1){if(E3.left<M3)continue;}if(E3.right>h3)continue;}M3=E3.right;if(Math.floor(E3.unpaddedRight)<=this.chart.right){T6Z="bou";T6Z+="nda";T6Z+="ry";K3++;if(i3.xAxis.displayGridLines){Z3.moveTo(E3.grid,E3.hz,this.xAxisAsFooter===!0?0:l3.top);Z3.lineTo(E3.grid,E3.hz,n3);}if(u3){Z3.moveTo("border",E3.hz,n3+0.5);Z3.lineTo("border",E3.hz,n3+6);}r3=E3.hz;this.canvasColor(E3.grid==T6Z?"stx_xaxis_dark":"stx_xaxis");N3.fillText(E3.text,E3.hz,G3);}}if(u3){y6Z="bord";y6Z+="e";y6Z+="r";F6Z="b";F6Z+="or";F6Z+="d";F6Z+="er";O0L.G0j(8);var E1V=O0L.t0j(30,14,17);t3=Math.round(l3.bottom)+"0.5"*E1V;I3=Math.round(i3.right)+ +"0.5";Z3.moveTo(F6Z,i3.left,t3);Z3.lineTo(y6Z,I3,t3);}Z3.draw(N3);N3.textAlign="left";this.runAppend(S6Z,B3);};N5.prototype.createNumericXAxis=function(J3){var C9Z,E9Z,i9Z,d6Z,Q6,z6,a6,D6,F6,f6,A6,g6,W3,j6,O6,s3,x6,L3,U6;axisRepresentation=[];J3.xaxis=[];function v6(k6,y6){var X6,V6,b6;X6=Math.floor(Math.log10(k6));O0L.G0j(9);var i1V=O0L.t0j(20,17,27,20);V6=k6/Math.pow(i1V,X6);if(y6){if(V6<1.5){b6=1;}else if(V6<"3"-0){b6=2;}else if(V6<+"7"){b6=5;}else{b6=10;}}else{if(V6<=1){b6=+"1";}else if(V6<="2"<<893417408){b6=2;}else if(V6<=5){b6=5;}else{b6=10;}}O0L.r0j(3);var n1V=O0L.E0j(5,15);return b6*Math.pow(n1V,X6);}for(var e3=0;e3<J3.maxTicks;e3++){if(J3.dataSegment[e3])break;J3.xaxis.push(null);}for(var Y6=e3;Y6<J3.maxTicks;Y6++){if(!J3.dataSegment[e3])break;}C9Z=-+"143752299";O0L.r0j(10);E9Z=-O0L.E0j(1323096096,"380179621");i9Z=2;for(var f9Z=1;O0L.q7Z(f9Z.toString(),f9Z.toString().length,69911)!==C9Z;f9Z++){d6Z="i";d6Z+="nde";d6Z+="x";Q6=(Y6-e3)/J3.maxTicks;z6=J3.xAxis.idealTickSizePixels?J3.xAxis.idealTickSizePixels:J3.xAxis.autoComputedTickSizePixels;a6=Math.round(this.chart.width*Q6/z6);D6=this.determineMinMax(J3.dataSegment,[d6Z]);i9Z+=2;}if(O0L.k7Z(i9Z.toString(),i9Z.toString().length,8012)!==E9Z){Q6=(Y6+e3)%J3.maxTicks;z6=J3.xAxis.idealTickSizePixels?J3.xAxis.idealTickSizePixels:J3.xAxis.autoComputedTickSizePixels;a6=Math.round((this.chart.width+Q6)%z6);D6=this.determineMinMax(J3.dataSegment,[""]);}F6=D6[1];f6=D6[0];O0L.r0j(3);A6=O0L.t0j(f6,F6);O0L.r0j(3);g6=v6(O0L.E0j(f6,F6),!!0);O0L.G0j(11);W3=v6(O0L.t0j(a6,1,A6),!![]);j6=Math.floor(f6/W3)*W3;O6=Math.ceil(F6/W3)*W3;s3=j6;if(j6<f6){O0L.G0j(0);s3=O0L.E0j(W3,j6);}for(e3;e3<J3.maxTicks;e3++){L3=J3.dataSegment[e3];if(L3){U6={index:L3.index,data:L3};J3.xaxis.push(U6);if(L3.index<s3)continue;if(L3.index==s3){x6=J3.left+e3*this.layout.candleWidth+this.micropixels;}else if(L3.index>s3){O0L.G0j(2);var f1V=O0L.E0j(5,15);x6=J3.left+e3*this.layout.candleWidth-f1V+this.micropixels;}axisRepresentation.push(new N5.XAxisLabel(x6,"line",s3));s3+=W3;}else{J3.xaxis.push(null);}}return axisRepresentation;};N5.prototype.createTickXAxisWithDates=function(d6){var W6,f7,B6,L6,e6,l6,s6,q6,p6,r6,c6,o6,S6,i6,R6,t6,F7,I6,E6,M6,n6,K6,m6,J6,h6,G6,Z6,N6,P6,w6,O6Z,E6Z,C6,u6,C6Z;if(!d6){d6=this.chart;}d6.xaxis=[];if(!this.timeIntervalMap){this.timePossibilities=[i5.MILLISECOND,i5.SECOND,i5.MINUTE,i5.HOUR,i5.DAY,i5.MONTH,i5.YEAR];this.timeIntervalMap={};this.timeIntervalMap[i5.MILLISECOND]={arr:[+"1",2,+"5",10,20,+"50",+"100",250,500],minTimeUnit:0,maxTimeUnit:1000};this.timeIntervalMap[i5.SECOND]={arr:["1"*1,+"2",5,10,15,+"30"],minTimeUnit:0,maxTimeUnit:60};this.timeIntervalMap[i5.MINUTE]={arr:[1,2,5,10,15,30],minTimeUnit:0,maxTimeUnit:60};this.timeIntervalMap[i5.HOUR]={arr:[1,2,3,4,"6"-0,12],minTimeUnit:0,maxTimeUnit:24};this.timeIntervalMap[i5.DAY]={arr:[1,2,7,14],minTimeUnit:1,maxTimeUnit:32};this.timeIntervalMap[i5.MONTH]={arr:[1,2,3,"6"*1],minTimeUnit:1,maxTimeUnit:13};this.timeIntervalMap[i5.YEAR]={arr:[+"1",2,3,5],minTimeUnit:1,maxTimeUnit:20000000};this.timeIntervalMap[i5.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2000000};}O0L.G0j(12);W6=[31,28,31,30,31,30,31,31,30,O0L.t0j(394281472,"31"),30,31];f7=this.layout.periodicity;B6=this.layout.interval;L6=d6.xAxis.idealTickSizePixels?d6.xAxis.idealTickSizePixels:d6.xAxis.autoComputedTickSizePixels;e6=this.chart.width/L6;for(var T6=0;T6<d6.dataSegment.length;T6++)if(d6.dataSegment[T6])break;if(T6==d6.dataSegment.length){return[];}l6=0;if(B6===parseInt(B6,10)){O0L.G0j(2);var U1V=O0L.E0j(18,1080000);l6=B6*f7*U1V*d6.dataSegment.length;}else{l6=d6.dataSegment[d6.dataSegment.length-1].DT.getTime()-d6.dataSegment[T6].DT.getTime();;}s6=this;if(l6===0){l6=Y7()*d6.maxTicks;;}else{l6=l6/d6.dataSegment.length*d6.maxTicks;;}O0L.G0j(2);q6=O0L.t0j(e6,l6);O0L.S5();for(p6=0;p6<this.timePossibilities.length;p6++){if(this.timePossibilities[p6]>q6)break;}if(p6===+"0"){console.log("createTickXAxisWithDates: Assertion error. msPerTick < 1");}if(p6==this.timePossibilities.length){p6--;}else if(p6>0){O0L.r0j(3);r6=this.timePossibilities[O0L.t0j(1,p6)];c6=this.timeIntervalMap[r6];o6=c6.arr[c6.arr.length-1];if(q6-r6*o6<this.timePossibilities[p6]-q6){p6--;}}S6=this.timePossibilities[p6];if(d6.xAxis.timeUnit){S6=d6.xAxis.timeUnit;}d6.xAxis.activeTimeUnit=S6;i6=i5.clone(this.timeIntervalMap[S6]);for(p6="0"|0;p6<i6.arr.length;p6++){if(i6.arr[p6]*S6>q6)break;}function Y7(){var x7,j7,D7,A7;x7={'begin':new Date(),'interval':"day",'periodicity':1,'inZone':this.dataZone,'outZone':this.dataZone};j7=d6.market.newIterator(x7);j7.next();D7=j7.previous();j7=s6.standardMarketIterator(D7,null,d6);A7=j7.next();return A7.getTime()-D7.getTime();}if(p6==i6.arr.length){p6--;}else{if(q6-i6.arr[p6-1]*S6<i6.arr[p6]*S6-q6){p6--;}}R6=i6.arr[p6];if(d6.xAxis.timeUnitMultiplier){R6=d6.xAxis.timeUnitMultiplier;}t6=[];for(p6="0"^0;p6<=d6.maxTicks;p6++){if(d6.dataSegment[p6])break;}if(p6>0&&p6<d6.maxTicks){F7=this.standardMarketIterator(d6.dataSegment[p6].DT,d6.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(var H6=p6;H6>0;H6--){I6=F7.previous();d6.xaxis.unshift({DT:I6,Date:i5.yyyymmddhhmmssmmm(I6)});}}E6=0;M6=i6.minTimeUnit;n6=-1;K6=!0;m6=this.layout.candleWidth;J6=this.standardMarketIterator(d6.dataSegment[d6.dataSegment.length-1].DT,d6.xAxis.adjustTimeZone?this.displayZone:this.dataZone);for(p6;p6<d6.maxTicks;p6++){if(p6<d6.dataSegment.length){h6=d6.dataSegment[p6];if(h6.displayDate&&d6.xAxis.adjustTimeZone){E6=h6.displayDate;}else{E6=h6.DT;}if(p6&&h6.leftOffset){m6=(h6.leftOffset-h6.candleWidth/("2"&2147483647))/p6;}}else{if(!d6.xAxis.futureTicks)break;E6=J6.next();}G6={DT:E6,Date:i5.yyyymmddhhmmssmmm(E6)};if(p6<d6.dataSegment.length){G6.data=d6.dataSegment[p6];}else{G6.data=null;}d6.xaxis.push(G6);if(S6==i5.MILLISECOND){Z6=E6.getMilliseconds();N6=E6.getSeconds();}else if(S6==i5.SECOND){Z6=E6.getSeconds();N6=E6.getMinutes();}else if(S6==i5.MINUTE){Z6=E6.getMinutes();N6=E6.getHours();}else if(S6==i5.HOUR){O0L.r0j(13);var I1V=O0L.t0j(18,6,24);Z6=E6.getHours()+E6.getMinutes()/("60"*I1V);N6=E6.getDate();}else if(S6==i5.DAY){Z6=E6.getDate();N6=E6.getMonth()+ +"1";}else if(S6==i5.MONTH){O0L.r0j(8);var D1V=O0L.t0j(11,1,11);Z6=E6.getMonth()+D1V;N6=E6.getFullYear();}else if(S6==i5.YEAR){Z6=E6.getFullYear();N6=E6.getFullYear()+1000;}else{Z6=E6.getFullYear();N6=+"0";}P6=null;if(n6!=N6){if(Z6<=M6){M6=i6.minTimeUnit;}O0L.r0j(2);var A3V=O0L.t0j(20,20);w6=d6.left+p6*m6-A3V;P6=null;if(S6==i5.HOUR||S6==i5.MINUTE&&n6>N6){if(d6.xAxis.formatter){P6=d6.xAxis.formatter(E6,"boundary",i5.DAY,1);}else{if(this.internationalizer){P6=this.internationalizer.monthDay.format(E6);}else{O0L.r0j(14);var X3V=O0L.t0j(7,21523,9,3574);O0L.r0j(15);var J3V=O0L.t0j(15,19,1.215e+5,121500,1.21519e+5);P6=E6.getMonth()+1+(X3V!==3210?"/":J3V)+E6.getDate();}}}else if(S6==i5.DAY){if(n6>N6){P6=E6.getFullYear();}else{P6=i5.monthAsDisplay(E6.getMonth(),!{},this);}}else if(S6==i5.MONTH){P6=E6.getFullYear();}if(P6&&n6!=-+"1"){O6Z="bounda";O6Z+="r";O6Z+="y";t6.push(new N5.XAxisLabel(w6,O6Z,P6));}}if(Z6>=M6){E6Z="l";E6Z+="i";E6Z+="n";E6Z+="e";if(M6==i6.minTimeUnit){if(N6==n6)continue;;}C6=new Date(E6);O0L.r0j(16);var H3V=O0L.E0j(10,203,12,7);O0L.G0j(17);var m3V=O0L.E0j(40,12,5,3);w6=d6.left+(2*p6+"1"*H3V)*m6/m3V-("1">>1102689344);u6=Math.floor(Z6/R6)*R6;if(u6<Z6){C6Z="w";C6Z+="e";C6Z+="e";C6Z+="k";if(this.layout.interval==C6Z){u6=Z6;}else{O0L.G0j(2);w6-=O0L.E0j(4,m6);};}if(S6==i5.MILLISECOND){C6.setMilliseconds(u6);}else if(S6==i5.SECOND){C6.setMilliseconds(0);C6.setSeconds(u6);}else if(S6==i5.MINUTE){C6.setMilliseconds(0);C6.setSeconds(0);C6.setMinutes(u6);}else if(S6==i5.HOUR){C6.setMilliseconds(0);C6.setSeconds(0);C6.setMinutes(+"0");C6.setHours(u6);}else if(S6==i5.DAY){C6.setDate(Math.max(1,u6));;}else if(S6==i5.MONTH){C6.setDate(1);O0L.r0j(18);C6.setMonth(O0L.t0j("1",u6));}else if(S6==i5.YEAR){C6.setDate(+"1");C6.setMonth(0);;}else{C6.setDate(1);C6.setMonth(0);;}O0L.r0j(0);M6=O0L.t0j(R6,u6);if(S6==i5.DAY){i6.maxTimeUnit=W6[C6.getMonth()]+1;}if(M6>=i6.maxTimeUnit){M6=i6.minTimeUnit;}n6=N6;if(K6&&u6<Z6)continue;if(d6.xAxis.formatter){P6=d6.xAxis.formatter(C6,"line",S6,R6);}else{if(S6==i5.DAY){P6=C6.getDate();;}else if(S6==i5.MONTH){P6=i5.monthAsDisplay(E6.getMonth(),!!"",this);}else if(S6==i5.YEAR||S6==i5.DECADE){P6=C6.getFullYear();}else{P6=i5.timeAsDisplay(C6,this,S6);}}t6.push(new N5.XAxisLabel(w6,E6Z,P6));}K6=!!"";}return t6;};m5=0;T5=0;N5.prototype.createYAxis=function(Q7,z7){var i6Z,v7,d7,U7,X7,Z7,N7,y7,g7,q7,l7,O7,k7,a7,b7,V7,E7,u7,M7,i7,P7;i6Z="cr";i6Z+="eat";i6Z+="eYAxi";i6Z+="s";if(this.runPrepend(i6Z,arguments)){return;}v7=Q7.chart;d7=Q7.name==v7.name;if(!z7){z7={};}z7.noChange=!{};U7=z7.yAxis?z7.yAxis:Q7.yAxis;if(N5.enableCaching&&U7.high==Q7.cacheHigh&&U7.low==Q7.cacheLow){X7=v7.dataSet.length-v7.scroll;Z7=X7+v7.maxTicks;Q7.cacheLeft=Math.min(Q7.cacheLeft,X7);Q7.cacheRight=Math.max(Q7.cacheRight,Z7);Q7.cacheLeft=X7;Q7.cacheRight=Z7;z7.noChange=!!{};m5++;}else{Q7.cacheLeft=1000000;Q7.cacheRight=-1;Q7.cacheHigh=U7.high;Q7.cacheLow=U7.low;T5++;}N7=v7.xAxis.idealTickSizePixels?v7.xAxis.idealTickSizePixels:v7.xAxis.autoComputedTickSizePixels;if(U7.goldenRatioYAxis){if(U7.idealTickSizePixels!=N7/1.618){z7.noChange=![];}}if(!z7.noChange){this.adjustYAxisHeightOffset(Q7,U7);y7=U7.height=U7.bottom-U7.top;g7=(U7.high-U7.low)/(y7-U7.zoom);if(z7.ground&&!U7.semiLog){U7.high=U7.high+U7.zoom*g7;}else{U7.high=U7.high+U7.zoom/2*g7+U7.scroll*g7;q7=U7.low;U7.low=U7.low-U7.zoom/+"2"*g7+U7.scroll*g7;if(U7.semiLog&&U7.low<=0){U7.low=q7;}}if(U7.min||U7.min===+"0"){U7.low=U7.min;}if(U7.max||U7.max===0){U7.high=U7.max;}U7.shadow=U7.high-U7.low;if(U7.semiLog&&(!this.activeDrawing||this.activeDrawing.name!="projection")){U7.logHigh=Math.log(U7.high)/Math.LN10;l7=Math.max(U7.low,0.000000001);U7.logLow=Math.log(l7)/Math.LN10;if(U7.low<=0){U7.logLow=+"0";}U7.logShadow=U7.logHigh-U7.logLow;}if(U7.goldenRatioYAxis&&d7){O0L.G0j(2);U7.idealTickSizePixels=O0L.t0j(1.618,N7);if(U7.idealTickSizePixels===0){O7=this.getCanvasFontSize("stx_yaxis");O0L.r0j(4);U7.idealTickSizePixels=O0L.E0j(O7,5);}}else{if(!U7.idealTickSizePixels){O7=this.getCanvasFontSize("stx_yaxis");if(d7){O0L.G0j(4);U7.idealTickSizePixels=O0L.E0j(O7,5);}else{O0L.r0j(19);U7.idealTickSizePixels=O0L.t0j("2",O7);}}}k7=Math.round(y7/U7.idealTickSizePixels);a7=z7.range?z7.range[1]-z7.range[0]:U7.shadow;O0L.r0j(2);U7.priceTick=Math.floor(O0L.E0j(k7,a7));b7=1;for(var p7=0;p7<10;p7++){if(U7.priceTick>+"0")break;b7*=+"10";U7.priceTick=Math.floor(a7/k7*b7)/b7;}if(p7==10){U7.priceTick=0.00000001;}U7.priceTick=Math.round(a7/k7*b7)/b7;V7=Math.round(a7/U7.priceTick);if(z7.range&&V7<a7&&!U7.noEvenDivisorTicks){while(V7>=1){if(a7%V7===0)break;V7--;}O0L.G0j(2);U7.priceTick=O0L.t0j(V7,a7);}if(U7.minimumPriceTick){E7=U7.minimumPriceTick;O7=this.getCanvasFontSize("stx_yaxis");for(var S7="0"|0;S7<("100"|4);S7++){O0L.r0j(2);u7=O0L.t0j(E7,a7);if(y7/u7<O7*2){E7+=U7.minimumPriceTick;}else break;}if(S7<+"100"){U7.priceTick=E7;}}U7.multiplier=U7.height/U7.shadow;}if(!this.activeDrawing||this.activeDrawing.name!="projection"){U7.high=this.valueFromPixel(Q7.top,Q7,U7);if(U7.semiLog){U7.logHigh=Math.log(U7.high)/Math.LN10;M7=Math.max(U7.low,+"0.00000000001");U7.logLow=Math.log(M7)/Math.LN10;U7.logShadow=U7.logHigh-U7.logLow;}U7.shadow=U7.high-U7.low;}U7.multiplier=U7.height/U7.shadow;if(U7.multiplier==Infinity){U7.multiplier=0;}if(!U7.decimalPlaces&&U7.decimalPlaces!==0){if(d7){i7=0;for(var C7=0;C7<Q7.yAxis.shadowBreaks.length;C7++){P7=Q7.yAxis.shadowBreaks[C7];if(Q7.yAxis.shadow<P7[0]){i7=P7[1];}}U7.printDecimalPlaces=i7;;}else{U7.printDecimalPlaces=null;};}else{U7.printDecimalPlaces=U7.decimalPlaces;}this.runAppend("createYAxis",arguments);};N5.prototype.adjustYAxisHeightOffset=function(n7,h7){var n6Z;h7.bottomOffset=0;if(!this.xaxisHeight){n6Z="s";n6Z+="t";n6Z+="x_xaxis";O0L.G0j(8);var v3V=O0L.E0j(2,1433208295,286641659);this.xaxisHeight=this.getCanvasFontSize(n6Z)+("4">>v3V);if(this.chart.xAxis.displayBorder||this.axisBorders){this.xaxisHeight+=3;}}if(this.xAxisAsFooter===!!"1"&&n7.bottom>this.chart.canvasHeight-this.xaxisHeight){h7.bottomOffset=this.xaxisHeight;}else if(this.xAxisAsFooter!==!![]&&n7.name=="chart"){h7.bottomOffset=this.xaxisHeight;}O0L.S5();h7.bottom=n7.bottom-h7.bottomOffset;};N5.prototype.drawYAxis=function(R7,m7){var Q2Z,T7,h6Z,U6Z,f6Z,L7,F01,s7,o7,Y01,j01,A01,H7,f01,r7,G7,c7,e7,I7,K7,W7,D6Z,w7,D01,x01,t7,I6Z,U01,J7,A2Z,V2Z,Q01,o1Z,J1Z,Z1Z;Q2Z="d";Q2Z+="r";Q2Z+="awYAxis";if(!m7){m7={};}O0L.S5();T7=m7.yAxis?m7.yAxis:R7.yAxis;if(T7.fractional){if(!T7.originalPriceFormatter){T7.originalPriceFormatter={func:T7.priceFormatter};}if(!T7.fractional.resolution){T7.fractional.resolution=T7.minimumPrice;}if(!T7.fractional.formatter){T7.fractional.formatter="'";}if(!T7.priceFormatter){T7.priceFormatter=function(g01,b01,O01){var a01,v01,z01;a01=Math.floor(Math.round(O01/T7.fractional.resolution)*T7.fractional.resolution);v01=Math.round((O01-a01)/T7.fractional.resolution);z01=Math.floor(v01);O0L.E5();O0L.r0j(2);var g3V=O0L.t0j(11,95700);O0L.G0j(8);var a3V=O0L.E0j(33557,13,35940);O0L.G0j(20);var u3V=O0L.E0j(8020,12,8);return a01+T7.fractional.formatter+(z01<10?"0":"")+z01+(v01-z01>=0.5?g3V>a3V?420.33==(2190,u3V)?372.27:"+":(!{},2.63e+3):"");};}}else{if(T7.originalPriceFormatter){T7.priceFormatter=T7.originalPriceFormatter.func;T7.originalPriceFormatter=null;}}if(T7.pretty){return this.drawYAxisPretty(R7,m7);}if(this.runPrepend("drawYAxis",arguments)){return;}if(!m7.noDraw&&!T7.noDraw){if(!T7.yAxisPlotter||!m7.noChange){h6Z="stx_y";h6Z+="a";h6Z+="xis";U6Z="lef";U6Z+="t";f6Z="bo";f6Z+="rde";f6Z+="r";L7=R7.chart;F01=R7.name==L7.name&&T7===R7.yAxis;if(!T7.priceTick){return;}s7=T7.shadow;if(m7.range){O0L.G0j(21);var q3V=O0L.E0j(12,9,20,17);s7=m7.range[q3V]-m7.range[0];}o7=s7/T7.priceTick;o7=Math.round(o7);if(T7.semiLog){Y01=Math.log(this.valueFromPixel(T7.bottom,R7))/Math.LN10;j01=(T7.logHigh-T7.logLow)/o7;}A01=T7.textStyle?T7.textStyle:"stx_yaxis";T7.yAxisPlotter=new i5.Plotter();T7.yAxisPlotter.newSeries("grid","stroke",this.canvasStyle("stx_grid"));T7.yAxisPlotter.newSeries("text","fill",this.colorOrStyle(A01));T7.yAxisPlotter.newSeries(f6Z,"stroke",this.canvasStyle("stx_grid_border"));O0L.r0j(4);H7=O0L.E0j("0",1);f01=m7.range?m7.range[1]:T7.high;r7=m7.range?m7.range[0]:T7.low;G7=T7.displayBorder===null?L7.panel.yAxis.displayBorder:T7.displayBorder;if(this.axisBorders===![]){G7=!{};}if(this.axisBorders===!""){G7=!!1;}e7=T7.position===null?L7.panel.yAxis.position:T7.position;if(e7==U6Z){c7=T7.left+T7.width;}else{c7=T7.left;}I7=Math.round(c7)+0.5;K7=G7?3:0;if(e7=="left"){K7=G7?-3:0;}if(F01)if(T7.shadow<1){O0L.G0j(22);var k3V=O0L.E0j(3,10,12,10,19);H7=(parseInt(r7/T7.priceTick,k3V)+1)*T7.priceTick-r7;}else{H7=T7.priceTick-Math.round(r7%T7.priceTick*R7.chart.roundit)/R7.chart.roundit;}else{H7=f01%T7.priceTick;}W7=this.getCanvasFontSize(h6Z);for(var B7=0;B7<o7;B7++){D6Z="te";D6Z+="x";D6Z+="t";if(T7.semiLog){O0L.r0j(23);D01=O0L.E0j(B7,j01,Y01);w7=Math.pow(10,D01);}else{if(F01){w7=r7+B7*T7.priceTick+H7;}else{w7=f01-B7*T7.priceTick-H7;}}x01=this.pixelFromPrice(w7,R7,T7);t7=Math.round(x01)+ +"0.5";if(t7+W7/("2"|2)>R7.bottom)continue;if(t7-W7/2<R7.top)continue;if(T7.displayGridLines){I6Z="g";I6Z+="r";I6Z+="i";I6Z+="d";T7.yAxisPlotter.moveTo("grid",R7.left,t7);T7.yAxisPlotter.lineTo(I6Z,R7.right,t7);}if(G7){O0L.r0j(3);T7.yAxisPlotter.moveTo("border",O0L.E0j(0.5,I7),t7);O0L.r0j(0);T7.yAxisPlotter.lineTo("border",O0L.t0j(K7,I7),t7);}if(T7.priceFormatter){w7=T7.priceFormatter(this,R7,w7);}else{w7=this.formatYAxisPrice(w7,R7,null,T7);}U01=T7.textBackground?this.containerColor:null;O0L.G0j(24);J7=O0L.E0j("3",c7,K7);if(e7=="left"){J7=T7.left+3;if(T7.justifyRight){J7=T7.left+T7.width+K7-+"3";}}else{if(T7.justifyRight){J7=c7+T7.width;}}T7.yAxisPlotter.addText(D6Z,w7,J7,t7,U01,null,W7);}if(G7){A2Z="bo";A2Z+="r";A2Z+="de";A2Z+="r";V2Z="bor";V2Z+="d";V2Z+="er";Q01=Math.round(T7.bottom)+0.5;T7.yAxisPlotter.moveTo("border",I7,T7.top);T7.yAxisPlotter.lineTo(V2Z,I7,Q01);T7.yAxisPlotter.draw(this.chart.context,A2Z);}}o1Z=-+"340252336";J1Z=-+"452036841";Z1Z=2;for(var m1Z=+"1";O0L.k7Z(m1Z.toString(),m1Z.toString().length,42652)!==o1Z;m1Z++){this.plotYAxisGrid(R7);Z1Z+=2;}if(O0L.k7Z(Z1Z.toString(),Z1Z.toString().length,"654"&2147483647)!==J1Z){this.plotYAxisGrid(R7);}this.plotYAxisGrid(R7);}this.runAppend(Q2Z,arguments);};N5.prototype.drawYAxisPretty=function(X01,k01){var X2Z,V01,W2Z,m2Z,H2Z,Z2Z,J2Z,o2Z,n01,F41,G01,Z01,e01,f41,o01,r01,P01,N01,R01,i01,u01,h01,K01,c01,d01,M01,l01,y01,T01,H01,t01,p01,W01,B01,C01,I01,v2Z,E01,L01,S01,p2Z,L2Z,s01,q01,J01;X2Z="dr";X2Z+="aw";X2Z+="YAx";X2Z+="is";if(this.runPrepend(X2Z,arguments)){return;}if(!k01){k01={};}O0L.E5();V01=k01.yAxis?k01.yAxis:X01.yAxis;if(!k01.noDraw&&!V01.noDraw){if(!V01.yAxisPlotter||!k01.noChange){W2Z="l";W2Z+="e";W2Z+="ft";m2Z="bor";m2Z+="de";m2Z+="r";H2Z="te";H2Z+="xt";Z2Z="stx_";Z2Z+="grid";J2Z="st";J2Z+="ro";J2Z+="k";J2Z+="e";o2Z="g";o2Z+="ri";o2Z+="d";n01=X01.chart;F41=X01.name==n01.name&&V01===X01.yAxis;if(!V01.priceTick){return;}if(isNaN(V01.high)||isNaN(V01.low)){return;}G01=V01.shadow;if(k01.range){O0L.G0j(25);var R3V=O0L.E0j(15,270,12,6);G01=k01.range[R3V]-k01.range[0];}Z01=V01.height/V01.idealTickSizePixels;Z01=Math.round(Z01);e01=V01.textStyle?V01.textStyle:"stx_yaxis";V01.yAxisPlotter=new i5.Plotter();V01.yAxisPlotter.newSeries(o2Z,J2Z,this.canvasStyle(Z2Z));V01.yAxisPlotter.newSeries(H2Z,"fill",this.colorOrStyle(e01));V01.yAxisPlotter.newSeries(m2Z,"stroke",this.canvasStyle("stx_grid_border"));f41=0;o01=k01.range?k01.range[1]:V01.high;r01=k01.range?k01.range[0]:V01.low;P01=V01.displayBorder===null?n01.panel.yAxis.displayBorder:V01.displayBorder;if(this.axisBorders===![]){P01=!!"";}if(this.axisBorders===!!"1"){P01=!!1;}R01=V01.position===null?n01.panel.yAxis.position:V01.position;if(R01=="left"){N01=V01.left+V01.width;}else{N01=V01.left;}i01=Math.round(N01)+("0.5"-0);u01=P01?3:0;if(R01==W2Z){u01=P01?-3:0;}h01=this.getCanvasFontSize("stx_yaxis");K01=V01.increments;c01=K01.length;d01=0;M01=1;l01=0;y01=0;T01=0;H01=Number.MAX_VALUE;for(var w01=0;w01<100;w01++){O0L.G0j(26);var t3V=O0L.t0j(11,15,56,42);l01=K01[d01]*Math.pow(t3V,T01);O0L.r0j(2);M01=Math.floor(O0L.E0j(l01,G01));O0L.r0j(3);t01=Math.abs(O0L.t0j(M01,Z01));if(t01>H01){break;}else{H01=t01;}if(M01==Z01){y01=l01;break;}else if(M01>Z01){d01++;if(d01>=c01){d01=+"0";T01++;}}else{d01--;if(d01<0){O0L.G0j(18);d01=O0L.t0j("1",c01);T01--;}}y01=l01;}p01=Math.ceil(r01/y01)*y01;W01=V01.bottom-this.pixelFromPrice(p01,X01,V01);B01=0;if(W01>V01.idealTickSizePixels&&V01.semiLog&&V01.prettySemiLog){for(C01=Math.ceil(r01);C01<p01&&p01%C01!==0;++C01);if(C01<p01){if(p01===y01){y01=C01;B01=C01;}p01=C01;}}I01=0;for(var m01=0;m01<100;m01++){v2Z="t";v2Z+="e";v2Z+="x";v2Z+="t";O0L.r0j(23);E01=O0L.t0j(I01,y01,p01);if(E01>o01)break;y01+=B01;I01++;L01=this.pixelFromPrice(E01,X01,V01);S01=Math.round(L01)+0.5;if(S01+h01/2>X01.bottom)continue;if(S01-h01/2<X01.top)continue;if(V01.displayGridLines){p2Z="gri";p2Z+="d";V01.yAxisPlotter.moveTo(p2Z,X01.left,S01);V01.yAxisPlotter.lineTo("grid",X01.right,S01);}if(P01){L2Z="b";L2Z+="ord";L2Z+="e";L2Z+="r";O0L.G0j(3);V01.yAxisPlotter.moveTo("border",O0L.t0j(0.5,i01),S01);O0L.G0j(0);V01.yAxisPlotter.lineTo(L2Z,O0L.E0j(u01,i01),S01);}if(V01.priceFormatter){E01=V01.priceFormatter(this,X01,E01);}else{E01=this.formatYAxisPrice(E01,X01,null,V01);}s01=V01.textBackground?this.containerColor:null;O0L.r0j(20);q01=O0L.t0j(N01,u01,3);if(R01=="left"){q01=V01.left+3;if(V01.justifyRight){O0L.G0j(27);var s3V=O0L.t0j(237,20,6,12);q01=V01.left+V01.width+u01-s3V;}}else{if(V01.justifyRight){q01=N01+V01.width;}}V01.yAxisPlotter.addText(v2Z,E01,q01,S01,s01,null,h01);}if(m01>=100){console.log("drawYAxisPretty: assertion error. zz reached 100");}if(P01){J01=Math.round(V01.bottom)+ +"0.5";V01.yAxisPlotter.moveTo("border",i01,V01.top);V01.yAxisPlotter.lineTo("border",i01,J01);V01.yAxisPlotter.draw(this.chart.context,"border");}}this.plotYAxisGrid(X01);}this.runAppend("drawYAxis",arguments);};N5.prototype.plotYAxisGrid=function(j41){var g2Z,z2Z,Y41;g2Z="gri";g2Z+="d";z2Z="plo";z2Z+="tYAxisGrid";if(this.runPrepend(z2Z,arguments)){return;}Y41=this.chart.context;j41.yAxis.yAxisPlotter.draw(Y41,g2Z);this.runAppend("plotYAxisGrid",arguments);};N5.prototype.plotYAxisText=function(Q41){var a2Z,K3Z,r3Z,b3Z,U41,M2Z,u2Z,G2Z,x41,D41,z41;a2Z="p";a2Z+="l";a2Z+="o";a2Z+="tYAxisText";O0L.S5();if(this.runPrepend(a2Z,arguments)){return;}K3Z=1341609069;r3Z=+"839919837";b3Z=2;for(var N3Z="1"-0;O0L.q7Z(N3Z.toString(),N3Z.toString().length,27353)!==K3Z;N3Z++){U41=Q41.yaxisLHS.concat(Q41.yaxisRHS);b3Z+=+"2";}if(O0L.k7Z(b3Z.toString(),b3Z.toString().length,62081)!==r3Z){U41=Q41.yaxisLHS.concat(Q41.yaxisRHS);}for(var A41=0;A41<U41.length;A41++){M2Z="stx_ya";M2Z+="x";M2Z+="is";u2Z="mi";u2Z+="d";u2Z+="d";u2Z+="le";G2Z="st";G2Z+="x_y";G2Z+="axi";G2Z+="s";x41=U41[A41];if(!x41.yAxisPlotter)continue;if(x41.noDraw)continue;this.canvasFont(G2Z);this.canvasColor("stx_yaxis");D41=this.chart.context;D41.textBaseline=u2Z;if(x41.justifyRight){D41.textAlign="right";}else{D41.textAlign="left";}z41=this.getCanvasFontSize(M2Z);x41.yAxisPlotter.draw(D41,"text");D41.textBaseline="alphabetic";D41.textAlign="left";}this.runAppend("plotYAxisText",arguments);};N5.prototype.formatYAxisPrice=function(v41,g41,V41,b41){var O41,a41;if(v41===null||typeof v41=="undefined"||isNaN(v41)){return"";}O41=b41?b41:g41.yAxis;a41=V41;if(!a41&&a41!==0){a41=O41.printDecimalPlaces;}if(!a41&&a41!==+"0"){if(O41.priceTick<0.01){a41=4;}else if(O41.priceTick<0.1){a41=2;}else if(O41.priceTick<"1"-0){a41=1;}else{a41=0;}}if(g41.name!=g41.chart.name){if(O41.priceTick>100){return i5.condenseInt(v41);}}if(this.internationalizer){if(a41>=this.internationalizer.priceFormatters.length){a41=this.internationalizer.priceFormatters.length-+"1";}v41=this.internationalizer.priceFormatters[a41].format(v41);}else{v41=v41.toFixed(a41);;}return v41;};N5.prototype.padOutPrice=function(X41){var y41,k41;if(X41!==+"0"&&(!X41||typeof X41=="undefined")){return"";}O0L.G0j(0);y41=O0L.E0j(X41,"");k41=y41.substring(y41.indexOf(".")).length-1;if(X41>=1000){k41=Math.max(k41,+"0");}else if(X41<2){k41=Math.max(k41,4);}else{k41=Math.max(k41,2);}if(this.internationalizer){if(k41>=this.internationalizer.priceFormatters.length){k41=this.internationalizer.priceFormatters.length-("1">>876483168);}X41=this.internationalizer.priceFormatters[k41].format(X41);}else{X41=X41.toFixed(k41);}return X41;};N5.prototype.formatPrice=function(d41,S41){var p41,X9Z,o9Z,J9Z;if(d41!==0&&(!d41||typeof d41=="undefined")){return"";}if(!S41){S41=this.currentPanel;}if(!S41){S41=this.chart.panel;}if(!S41){return d41;}p41=S41.decimalPlaces;if(!p41&&p41!==0){p41=S41.chart.decimalPlaces;}if(!p41&&p41!==0){return d41;}if(this.internationalizer){if(p41>=this.internationalizer.priceFormatters.length){O0L.G0j(3);var r3V=O0L.E0j(14,15);p41=this.internationalizer.priceFormatters.length-r3V;}d41=this.internationalizer.priceFormatters[p41].format(d41);}else{X9Z=1890483980;o9Z=1391966846;J9Z=2;for(var H9Z=1;O0L.q7Z(H9Z.toString(),H9Z.toString().length,92569)!==X9Z;H9Z++){d41=d41.toFixed(p41);J9Z+=2;}if(O0L.k7Z(J9Z.toString(),J9Z.toString().length,49008)!==o9Z){d41=d41.toFixed(p41);}}return d41;};N5.prototype.createCrosshairs=function(){O0L.E5();if(this.runPrepend("createCrosshairs",arguments)){return;}if(this.controls.crossX.onmousedown){return;}this.controls.crossY.onmousedown=function(E41){O0L.E5();if(!E41){E41=event;}if(E41.preventDefault){E41.preventDefault();}return!!"";};this.controls.crossX.onmousedown=function(C41){O0L.S5();if(!C41){C41=event;}if(C41.preventDefault){C41.preventDefault();}return!!0;};this.runAppend("createCrosshairs",arguments);};N5.prototype.determineMinMax=function(R41,w41,G41,t41,m41){var Z41,N41,T41,n41,M41,u41,i41,P41;O0L.G0j(28);var b3V=O0L.t0j(1,Infinity,17,15,13);Z41=Number.MAX_VALUE*b3V;N41=Number.MAX_VALUE;T41=![];n41=R41.length;if(m41){n41=m41;}for(var h41="0"|0;h41<n41;h41++){M41=R41[h41];if(!M41)continue;if(!t41){if(M41.transform){T41=!"";M41=M41.transform;}else if(T41)continue;;}u41=0;for(var q41="0"&2147483647;q41<w41.length;q41++){i41=M41[w41[q41]];if(!i41)continue;if(typeof i41=="number"){i41=[i41];}for(var l41=0;l41<i41.length;l41++){P41=i41[l41];if(P41||P41===0){if(G41){u41+=P41;if(u41>Z41){Z41=u41;}if(u41<N41){N41=u41;}}else{if(P41>Z41){Z41=P41;}if(P41<N41){N41=P41;}}}}}}if(Z41==Number.MAX_VALUE*-+"1"){O0L.r0j(12);Z41=O0L.t0j(1485444800,"0");}if(N41==Number.MAX_VALUE){N41=+"0";}return[N41,Z41];};N5.prototype.calculateYAxisRange=function(I41,B41,H41,K41){var J41,r41,c41,e41,s41,q2Z,W41,L41,o41;if(H41==Number.MAX_VALUE){H41=0;K41=0;}J41=I41.height;r41=null;c41=null;this.adjustYAxisHeightOffset(I41,B41);B41.top=I41.top;B41.height=B41.bottom-B41.top;e41=Math.round(Math.abs(J41/5));if(J41-Math.abs(B41.scroll)<e41){O0L.G0j(26);var Y3V=O0L.E0j(25,17,5,14);B41.scroll=(J41-e41)*(B41.scroll<0?Y3V:+"1");}s41=(K41-H41)/B41.height;if(H41||H41==="0">>119729568){if(K41-H41===0){O0L.G0j(4);r41=O0L.t0j(K41,2);c41=0;}else{q2Z="l";q2Z+="o";q2Z+="g";if((this.layout.semiLog||this.layout.chartScale==q2Z)&&r41){W41=Math.log(H41)/Math.LN10;L41=Math.log(K41)/Math.LN10;r41=Math.pow(10,L41);c41=Math.pow(10,W41);}else{r41=K41;c41=H41;}}B41.high=r41;B41.low=c41;}if(B41.max||B41.max===0){B41.high=B41.max;}if(B41.min||B41.min===0){B41.low=B41.min;}B41.shadow=B41.high-B41.low;O0L.S5();if(I41.chart.name===I41.name&&I41.yAxis===B41){o41=this.layout.semiLog||this.layout.chartScale=="log";if(I41.chart.isComparison){o41=!1;}if(B41.semiLog!=o41){this.clearPixelCache();B41.semiLog=o41;}}};N5.prototype.renderYAxis=function(D91){var k2Z,F91,Y91,f91,x91,A91,U91,j91;k2Z="ren";k2Z+="der";k2Z+="Y";k2Z+="Axis";if(this.runPrepend(k2Z,arguments)){return;}F91=D91.panel;Y91=F91.yaxisRHS.concat(F91.yaxisLHS);for(f91=0;f91<Y91.length;f91++){x91=Y91[f91];A91=null;U91=null;if(F91.yAxis===x91){A91=D91.lowValue;U91=D91.highValue;}this.calculateYAxisRange(F91,x91,A91,U91);}j91={};for(f91=0;f91<Y91.length;f91++){j91.yAxis=Y91[f91];this.createYAxis(F91,j91);this.drawYAxis(F91,j91);}this.runAppend("renderYAxis",arguments);};N5.prototype.initializeDisplay=function(Q91){var v91,X91,z91,O91,V91,a91,b91,w2Z;if(this.runPrepend("initializeDisplay",arguments)){return;}v91=[];for(var g91 in Q91.series){if(Q91.series[g91].parameters.shareYAxis){v91.push(g91);}}X91=Q91.panel=this.panels[Q91.name];O91=null;V91=Math.floor((Q91.width-this.micropixels)/this.layout.candleWidth);if(Q91.scroll>Q91.maxTicks&&Q91.maxTicks>V91+1){O91=Q91.dataSegment.length-1;}if(!N5.chartShowsHighs(this.layout.chartType)){v91.push("Close");z91=this.determineMinMax(Q91.dataSegment,v91,null,null,O91);if(this.layout.chartType=="baseline_delta"){a91=Q91.baseline.actualLevel;if(Q91.transformFunc){a91=Q91.transformFunc(this,Q91,a91);}b91=Math.max(a91-z91[0],z91[1]-a91);if(this.repositioningBaseline){z91=[Q91.lowValue,Q91.highValue];}else{O0L.r0j(3);z91[0]=O0L.E0j(b91,a91);O0L.r0j(0);z91[1]=O0L.t0j(b91,a91);}}}else{w2Z="C";w2Z+="lo";w2Z+="s";w2Z+="e";v91.push(w2Z,"High","Low");z91=this.determineMinMax(Q91.dataSegment,v91,null,null,O91);}Q91.lowValue=z91[0];Q91.highValue=z91[1];this.runAppend("initializeDisplay",arguments);};N5.prototype.computePosition=function(d91,k91){var y91;if(typeof k91=="undefined"){k91=0;}O0L.S5();y91=d91*this.layout.candleWidth+k91+this.micropixels;return y91;};N5.prototype.computeColor=function(p91,S91){if(p91<S91){return"stx_candle_up";}if(p91>S91){return"stx_candle_down";}return"stx_candle_shadow";};N5.prototype.computeLength=function(P91,Z91){var E91,C91;E91=this.pixelFromPrice(P91);O0L.E5();C91=this.pixelFromPrice(Z91);O0L.G0j(3);return O0L.E0j(E91,C91);};N5.prototype.setSeriesRenderer=function(N91){var i91,p8Z,L8Z,v8Z;i91=N91.params;if(this.chart.seriesRenderers[N91.params.name]){return this.chart.seriesRenderers[N91.params.name];}p8Z=-1368275814;L8Z=-+"317331469";v8Z=+"2";for(var g8Z=1;O0L.q7Z(g8Z.toString(),g8Z.toString().length,"34538"&2147483647)!==p8Z;g8Z++){O0L.S5();v8Z+=2;}if(O0L.q7Z(v8Z.toString(),v8Z.toString().length,51401)!==L8Z){O0L.S5();}if(i91.yAxis){this.addYAxis(this.panels[i91.panel],i91.yAxis);}N91.stx=this;this.chart.seriesRenderers[N91.params.name]=N91;return N91;};N5.prototype.setMarket=function(l91,u91){if(!u91){u91=this.chart;}u91.market=new i5.Market(l91);for(var M91 in this.layout.marketSessions){u91.market.disableSession(M91,this.layout.marketSessions[M91]);}};N5.prototype.setMarketFactory=function(q91){O0L.S5();this.marketFactory=q91;};N5.prototype.removeSeriesRenderer=function(h91){var n91,R91,m91;for(var T91 in this.chart.seriesRenderers){if(h91.params.name===this.chart.seriesRenderers[T91].params.name){n91=this.chart.seriesRenderers[h91.params.name];R91=n91.params.yAxis;m91=this.panels[n91.params.panel];delete this.chart.seriesRenderers[h91.params.name];this.deleteYAxisIfUnused(m91,R91);return;}}};N5.prototype.getSeriesRenderer=function(w91){return this.chart.seriesRenderers[w91];};N5.prototype.drawHistogram=function(B91,H91){var c2Z,s91,L91,x51,c91,a51,j51,G91,v51,F51,o91,D51,W91,O51,e91,t2Z,R2Z,U51,t91,A51,K91,Y51,r91,J91,K2Z,s2Z,I91,f51;c2Z="D";c2Z+="ata";if(!H91||!H91.length){return;}s91=B91.panel;if(!s91){s91="chart";}L91=this.panels[s91];if(!L91){return;}x51=B91.yAxis?B91.yAxis:L91.yAxis;c91=B91.type;if(c91=="histogram"){c91=B91.subtype;}a51=this.chart.dataSegment;j51=![];this.getDefaultColor();O0L.S5();for(G91=0;G91<H91.length;G91++){j51|=H91[G91].border_color_up&&!i5.isTransparent(H91[G91].border_color_up);j51|=H91[G91].border_color_down&&!i5.isTransparent(H91[G91].border_color_down);}if(!B91.name){B91.name=c2Z;}v51=x51.multiplier;if(!B91.heightPercentage){B91.heightPercentage=0.7;}if(!B91.widthFactor){B91.widthFactor=0.8;}F51=0;o91=0;for(var Q51=0;Q51<this.chart.maxTicks;Q51++){D51=a51[Q51];if(!D51)continue;W91=0;for(G91=0;G91<H91.length;G91++){if(D51[H91[G91].field]){if(B91.subtype=="stacked"){W91+=D51[H91[G91].field];}else{W91=D51[H91[G91].field];}if(W91>F51){F51=W91;}if(W91<o91){o91=W91;}}}}O51=Math.floor(x51.top)+ +"0.5";if(!B91.bindToYAxis){e91=Math.floor(x51.bottom)+0.5;if(F51===0&&o91===0){t2Z=" N";t2Z+="ot";t2Z+=" Available";R2Z="c";R2Z+="e";R2Z+="nter";this.watermark(s91,R2Z,"bottom",this.translateIf(B91.name+t2Z));return;}v51=(e91-O51)*B91.heightPercentage/(F51-o91);}else{e91=Math.floor(this.pixelFromPriceTransform(o91,L91,x51))+0.5;}U51=+"0.5";if(this.layout.candleWidth<=1||!j51){U51=0;}this.startClip(s91);t91=this.chart.context;A51=Math.max(0,("1"*1-B91.widthFactor)*this.layout.candleWidth/2);K91={};Y51={};r91=this;J91=1;for(G91=0;G91<H91.length;G91++){K2Z="s";K2Z+="tacked";s2Z="cluster";s2Z+="e";s2Z+="d";I91=H91[G91];J91=this.layout.candleWidth*B91.widthFactor;f51=0;if(c91==s2Z){f51=G91;J91/=H91.length;}z51(I91.field,I91.fill_color_up,I91.opacity_up,null,!!1,f51,J91);z51(I91.field,I91.fill_color_down,I91.opacity_down,null,null,f51,J91);if(this.layout.candleWidth>=2&&j51){z51(I91.field,I91.border_color_up,I91.opacity_up,!![],!!1,f51,J91);z51(I91.field,I91.border_color_down,I91.opacity_down,!!{},null,f51,J91);}if(c91==K2Z){Y51=i5.shallowClone(K91);}}O0L.r0j(29);t91.globalAlpha=O0L.E0j("1",2147483647);this.endClip();function z51(M51,E51,u51,y51,h51,q51,l51){var p51,N51,S51,b51,X51,i51,C51,k51,V51,d51,Z51,P51,e2Z;if(!u51){u51=1;}O0L.S5();if(i5.isIE8){t91.globalAlpha=0.5;}else{t91.globalAlpha=u51;}t91.beginPath();O0L.G0j(0);p51=O0L.t0j(0.5,e91);N51=Math.floor(r91.pixelFromBar(0,L91.chart)-r91.layout.candleWidth/2);S51=N51;for(var g51=0;g51<a51.length;g51++){b51=Y51[g51];if(!b51){b51=e91;}if(g51===0){p51=b51;}X51=a51[g51];if(!X51||!X51[M51]){p51=b51;S51+=r91.layout.candleWidth;continue;}i51=(X51[M51]-o91)*v51;if(isNaN(i51))continue;C51=r91.layout.candleWidth;if(X51.candleWidth){C51=X51.candleWidth;if(g51===+"0"){N51=S51=Math.floor(r91.pixelFromBar(0,L91.chart)-X51.candleWidth/2);}}k51=Math.min(Math.floor(b51-i51)+0.5,b51);if(h51){if(X51.Close<X51.iqPrevClose){p51=k51;S51+=C51;continue;}}else{if(X51.Close>=X51.iqPrevClose){p51=k51;S51+=C51;continue;}}Z51=C51/r91.layout.candleWidth;O0L.r0j(30);P51=O0L.t0j(Z51,A51,q51,S51,l51);V51=Math.round(P51)+(y51?0:U51);d51=Math.round(P51+l51*Z51)-(y51?0:U51);if(d51-V51<"2"-0){O0L.r0j(0);d51=O0L.t0j(1,V51);}if(y51){roundPixel=0;}else{roundPixel=0.5;}if(V51%1==roundPixel){V51+=0.5;}if(d51%+"1"==roundPixel){d51+=0.5;}t91.moveTo(V51,b51);if(e91==b51){t91.lineTo(d51,b51);}else{t91.moveTo(d51,b51);if(y51&&!A51){if(Y51[g51+1]){t91.moveTo(d51,Math.max(k51,Math.min(b51,Y51[g51+1])));}}}t91.lineTo(d51,k51);t91.lineTo(V51,k51);if(y51&&q51){if(K91[g51]>k51||g51===0){t91.lineTo(V51,Math.min(b51,K91[g51]));};}else if(y51&&!A51&&c91=="clustered"){if(g51>"0"*1&&K91[g51-1]&&K91[g51-1]>k51){t91.lineTo(V51,Math.min(b51,K91[g51-1]));};}else if(y51&&!A51){if(p51>k51||g51===0){t91.lineTo(V51,Math.min(b51,p51));};}else{t91.lineTo(V51,b51);}p51=k51;S51+=C51;if(c91!="clustered"||y51){K91[g51]=k51;}}if(!E51){E51="auto";}if(y51){t91.strokeStyle=E51=="auto"?r91.defaultColor:E51;t91.stroke();}else{e2Z="au";e2Z+="t";e2Z+="o";t91.fillStyle=E51==e2Z?r91.defaultColor:E51;t91.fill();}t91.closePath();}};N5.prototype.drawHeatmap=function(T51,r51){var r2Z,H51,w51,t51,W51,e51,c51,G51,I51,B51,R51,o51,n51,m51;r2Z="ch";r2Z+="a";r2Z+="rt";if(!r51||!r51.length){return;}H51=T51.panel;if(!H51){H51=r2Z;}O0L.S5();w51=this.panels[H51];if(!w51){return;}t51=T51.yAxis?T51.yAxis:w51.yAxis;W51=Math.floor(t51.bottom)+0.5;e51=Math.floor(t51.top)+0.5;c51=this.chart.dataSegment;this.getDefaultColor();if(!T51.name){T51.name="Data";}if(!T51.widthFactor){T51.widthFactor=1;}O0L.G0j(4);G51=O0L.E0j("0.5",1);function J51(b11,g11,v11,Q11,a11){var X11,V11,x11,F11,s51,Y11,b2Z,L51,f11,j11,O11,U11,z11;n51.beginPath();n51.fillStyle=g11;n51.strokeStyle=g11;X11=t51.top;V11=t51.bottom;x11=R51.layout.candleWidth*Q11;F11=Math.floor(R51.pixelFromBar(0,w51.chart)-R51.layout.candleWidth);for(var A11=0;A11<c51.length;A11++){b2Z="n";b2Z+="um";b2Z+="ber";L51=c51[A11];if(!L51)continue;if(L51.candleWidth){if(A11===0){F11+=R51.layout.candleWidth;}else{F11+=(L51.candleWidth+x11/Q11)/+"2";}x11=L51.candleWidth*Q11;}else{F11+=R51.layout.candleWidth;}O0L.G0j(31);s51=O0L.t0j(2,F11,a11,x11);O0L.r0j(32);Y11=O0L.t0j(F11,x11,2,a11);if(Y11-s51<2){O0L.r0j(0);Y11=O0L.t0j(1,s51);}if(L51.transform){L51=L51.transform;}f11=L51[b11];if(!f11)continue;if(typeof f11==b2Z){f11=[f11];}for(var D11=0;D11<f11.length;D11++){j11=R51.pixelFromPrice(f11[D11],w51,t51);if(!o51){O11=R51.pixelFromPrice(f11[D11]-T51.height,w51,t51);n51.lineWidth=1;O0L.r0j(3);I51=O0L.E0j(j11,O11);O0L.r0j(2);B51=O0L.E0j(2,I51);o51=n51.lineWidth;}if(v11){O0L.r0j(0);U11=O0L.t0j(B51,j11);O0L.r0j(3);z11=O0L.t0j(B51,j11);n51.moveTo(s51,U11);n51.lineTo(s51,z11);n51.lineTo(Y11,z11);n51.lineTo(Y11,U11);n51.lineTo(s51,U11);}else{O0L.r0j(3);n51.fillRect(s51,O0L.E0j(B51,j11),O0L.t0j(s51,Y11),I51);}}}if(v11){n51.stroke();}n51.closePath();}if(w51.chart.tmpWidth<=1){G51=0;}I51=null;B51=null;R51=this;o51=null;this.startClip(H51);n51=this.chart.context;n51.globalAlpha=T51.opacity;for(var K51=+"0";K51<r51.length;K51++){m51=r51[K51];J51(m51.field,m51.color,null,T51.widthFactor,m51.border_color?G51:-G51/("4">>873375872));if(m51.border_color&&this.layout.candleWidth>=2){J51(m51.field,m51.border_color,!![],T51.widthFactor,G51);}}n51.lineWidth=1;n51.globalAlpha=1;this.endClip();};N5.prototype.startClip=function(y11,E11){var k11,S11,d11,p11;if(!y11){y11="chart";}k11=this.panels[y11];S11=k11.yAxis;this.chart.context.save();this.chart.context.beginPath();d11=k11.left;p11=k11.width;if(E11){d11=0;p11=this.width;}this.chart.context.rect(d11,k11.top,p11,S11.height);this.chart.context.clip();};N5.prototype.endClip=function(){this.chart.context.restore();};N5.prototype.drawCandlesHighPerformance=function(M11,H11,K11,T11){var q11,I11,Z11,n11,G11,N11,W11,i11,h11,B11,L11,u11,w11,l11,R11,C11,P11,o11,J11,e11,r11,t11,c11,t1Z,e1Z,s1Z;q11=M11.chart;I11=q11.dataSegment;Z11=this.chart.context;n11=M11.yAxis.top;G11=M11.yAxis.bottom;O0L.G0j(5);h11=O0L.E0j("0",0);if(K11&&!i5.isTransparent(K11)){h11=0.5;}B11=q11.dataSet.length-q11.scroll;L11=B11+q11.maxTicks;Z11.beginPath();if(i5.isTransparent(H11)){H11=this.containerColor;}Z11.fillStyle=H11;u11=M11.yAxis;O0L.r0j(3);var P3V=O0L.t0j(17,19);w11=q11.tmpWidth/P3V;l11=this.layout.candleWidth;O0L.r0j(2);var j3V=O0L.E0j(18,18);R11=M11.left-0.5*l11+this.micropixels-j3V;for(var m11=0;m11<=I11.length;m11++){O0L.G0j(2);R11+=O0L.E0j(2,l11);l11=this.layout.candleWidth;O0L.r0j(2);R11+=O0L.E0j(2,l11);C11=I11[m11];if(!C11)continue;if(C11.projection)continue;if(C11.candleWidth){O0L.G0j(33);var B3V=O0L.E0j(4,16,290,18);R11+=(C11.candleWidth-l11)/B3V;l11=C11.candleWidth;if(this.layout.chartType=="volume_candle"){O0L.r0j(2);w11=O0L.t0j(2,l11);}}if(C11.Open==C11.Close)continue;if(T11&N5.CANDLEUP&&C11.Open>=C11.Close)continue;if(T11&N5.CANDLEDOWN&&C11.Open<=C11.Close)continue;if(T11&N5.CLOSEUP&&C11.Close<=C11.iqPrevClose)continue;if(T11&N5.CLOSEDOWN&&C11.Close>=C11.iqPrevClose)continue;if(T11&N5.CLOSEEVEN&&C11.Close!=C11.iqPrevClose)continue;if(C11.transform){C11=C11.transform;}P11=C11.cache;O0L.G0j(0);o11=O0L.t0j(m11,B11);if(o11<M11.cacheLeft||o11>M11.cacheRight||!P11.open){J11=u11.semiLog?this.pixelFromPrice(C11.Open,M11):(u11.high-C11.Open)*u11.multiplier+u11.top;e11=u11.semiLog?this.pixelFromPrice(C11.Close,M11):(u11.high-C11.Close)*u11.multiplier+u11.top;N11=Math.floor(Math.min(J11,e11))+h11;W11=Math.max(J11,e11);O0L.G0j(3);i11=Math.floor(O0L.E0j(N11,W11));if(N11<n11){if(N11+i11<n11){P11.open=N11;P11.close=N11;continue;}O0L.r0j(3);i11-=O0L.t0j(N11,n11);N11=n11;}if(N11+i11>G11){O0L.G0j(34);i11-=O0L.t0j(i11,G11,N11);}i11=Math.max(i11,2);P11.open=N11;P11.close=P11.open+i11;}if(P11.open>=G11)continue;if(P11.close<=n11)continue;r11=Math.floor(R11)+0.5;t11=Math.floor(r11-w11)+h11;c11=Math.round(r11+w11)-h11;if(C11.Open!=C11.Close){Z11.moveTo(t11,P11.open);Z11.lineTo(c11,P11.open);Z11.lineTo(c11,P11.close);Z11.lineTo(t11,P11.close);Z11.lineTo(t11,P11.open);}}Z11.fill();if(h11){O0L.r0j(29);Z11.lineWidth=O0L.E0j("1",2147483647);Z11.strokeStyle=K11;Z11.stroke();}t1Z=-875259394;e1Z=1796472532;s1Z=2;for(var r1Z=1;O0L.q7Z(r1Z.toString(),r1Z.toString().length,58358)!==t1Z;r1Z++){;s1Z+=2;}if(O0L.q7Z(s1Z.toString(),s1Z.toString().length,9387)!==e1Z){;}};N5.prototype.drawCandles=function(Y21,i21,Z21){var A21,S21,F21,z21,X21,j21,P21,D21,V21,g21,Q21,y21,N21,x21,b21,U21,a21,s11,k21,f21,p21,C21,E21,O21,d21;A21=Y21.chart;if(!A21){A21=Y21;Y21=Y21.chart;}S21=A21.dataSegment;F21=this.chart.context;z21=Y21.yAxis.top;X21=Y21.yAxis.bottom;V21="tr";V21+="anspar";V21+="ent";O0L.S5();g21="transparent";O0L.G0j(3);Q21=O0L.E0j(0,"0");if(!i5.isTransparent(V21)){Q21=0.5;}y21=A21.dataSet.length-A21.scroll;N21=y21+A21.maxTicks;x21=Y21.yAxis;b21=A21.tmpWidth/2;U21=this.layout.candleWidth;O0L.r0j(1);var l3V=O0L.E0j(25,12,13);a21=Y21.left-0.5*U21+this.micropixels-l3V;for(var v21=+"0";v21<=S21.length;v21++){O0L.G0j(2);a21+=O0L.E0j(2,U21);U21=this.layout.candleWidth;O0L.r0j(2);a21+=O0L.t0j(2,U21);s11=S21[v21];if(!s11)continue;if(s11.projection)continue;if(s11.candleWidth){O0L.G0j(2);var T3V=O0L.t0j(17,34);a21+=(s11.candleWidth-U21)/T3V;U21=s11.candleWidth;if(this.layout.chartType=="volume_candle"){O0L.r0j(35);b21=O0L.E0j(U21,"2",0);}}if(!s11.Open&&s11.Open!==0)continue;if(s11.Open==s11.Close)continue;k21=i21(this,s11,Z21?"outline":"solid");if(!k21)continue;if(Z21){V21=k21;}else{g21=k21;}F21.beginPath();F21.fillStyle=g21;if(s11.transform){s11=s11.transform;}f21=s11.cache;O0L.G0j(0);p21=O0L.E0j(v21,y21);if(p21<Y21.cacheLeft||p21>Y21.cacheRight||!f21.open){C21=x21.semiLog?this.pixelFromPrice(s11.Open,Y21):(x21.high-s11.Open)*x21.multiplier+x21.top;E21=x21.semiLog?this.pixelFromPrice(s11.Close,Y21):(x21.high-s11.Close)*x21.multiplier+x21.top;j21=Math.floor(Math.min(C21,E21))+Q21;P21=Math.max(C21,E21);O0L.G0j(3);D21=Math.floor(O0L.E0j(j21,P21));if(j21<z21){if(j21+D21<z21){f21.open=j21;f21.close=j21;continue;}O0L.r0j(3);D21-=O0L.E0j(j21,z21);j21=z21;}if(j21+D21>X21){O0L.G0j(34);D21-=O0L.E0j(D21,X21,j21);}D21=Math.max(D21,2);f21.open=j21;f21.close=f21.open+D21;}if(f21.open>=X21)continue;if(f21.close<=z21)continue;flr_xbase=Math.floor(a21)+0.5;O21=Math.floor(flr_xbase-b21)+Q21;d21=Math.round(flr_xbase+b21)-Q21;if(s11.Open!=s11.Close){F21.moveTo(O21,f21.open);F21.lineTo(d21,f21.open);F21.lineTo(d21,f21.close);F21.lineTo(O21,f21.close);F21.lineTo(O21,f21.open);}if(g21!="transparent"){F21.fill();}if(Q21){F21.lineWidth=1;F21.strokeStyle=V21;F21.stroke();}}};N5.prototype.drawShadowsHighPerformance=function(h21,f81,w21){var H21,J21,n21,R21,t21,l21,W21,F81,c21,s21,M21,T21,I21,u21,q21,o21,m21,G21,K21,L21,e21,B21,E1Z,i1Z,n1Z;H21=h21.chart;J21=H21.dataSegment;n21=this.chart.context;n21.lineWidth=1;R21=h21.yAxis.top;t21=h21.yAxis.bottom;O0L.E5();c21=H21.dataSet.length-H21.scroll;s21=c21+H21.maxTicks;n21.beginPath();M21=h21.yAxis;T21=this.layout.candleWidth;O0L.r0j(36);var F3V=O0L.E0j(113,19,6);I21=h21.left-+"0.5"*T21+this.micropixels-F3V;for(var r21=0;r21<=J21.length;r21++){O0L.G0j(2);I21+=O0L.E0j(2,T21);T21=this.layout.candleWidth;O0L.G0j(2);I21+=O0L.t0j(2,T21);u21=J21[r21];if(!u21)continue;if(u21.projection)continue;if(u21.candleWidth){O0L.G0j(37);var y3V=O0L.E0j(2,11,11);I21+=(u21.candleWidth-T21)/y3V;T21=u21.candleWidth;}if(w21){if(w21&N5.CANDLEUP&&u21.Open>=u21.Close)continue;else if(w21&N5.CANDLEDOWN&&u21.Open<=u21.Close)continue;else if(w21&N5.CANDLEEVEN&&u21.Open!=u21.Close)continue;else if(w21&N5.CLOSEUP&&u21.Close<=u21.iqPrevClose)continue;else if(w21&N5.CLOSEDOWN&&u21.Close>=u21.iqPrevClose)continue;else if(w21&N5.CLOSEEVEN&&u21.Close!=u21.iqPrevClose)continue;}if(u21.transform){u21=u21.transform;}q21=u21.cache;O0L.G0j(0);o21=O0L.t0j(r21,c21);if(o21<h21.cacheLeft||o21>h21.cacheRight||!q21.top){l21=M21.semiLog?this.pixelFromPrice(u21.High,h21):(M21.high-u21.High)*M21.multiplier+M21.top;W21=M21.semiLog?this.pixelFromPrice(u21.Low,h21):(M21.high-u21.Low)*M21.multiplier+M21.top;O0L.G0j(3);m21=O0L.E0j(l21,W21);if(l21<R21){if(l21+m21<R21){q21.top=l21;q21.bottom=l21;continue;}O0L.r0j(3);m21-=O0L.E0j(l21,R21);l21=R21;}if(l21+m21>t21){O0L.G0j(34);m21-=O0L.t0j(m21,t21,l21);}q21.top=l21;q21.bottom=q21.top+m21;}if(q21.top>=t21)continue;if(q21.bottom<=R21)continue;G21=Math.floor(I21)+0.5;n21.moveTo(G21,q21.top);n21.lineTo(G21,q21.bottom);if(u21.Open==u21.Close){K21=this.offset;if(this.layout.chartType=="volume_candle"){O0L.r0j(2);K21=O0L.t0j(2,T21);}O0L.G0j(3);L21=O0L.t0j(K21,G21);O0L.r0j(0);e21=O0L.t0j(K21,G21);B21=Math.floor(M21.semiLog?this.pixelFromPrice(u21.Open,h21):(M21.high-u21.Open)*M21.multiplier+M21.top)+0.5;if(B21<=t21&&B21>=R21){n21.moveTo(L21,B21);n21.lineTo(e21,B21);}}}this.canvasColor(f81);O0L.G0j(3);E1Z=-O0L.t0j(0,"71859135");i1Z=1488861022;n1Z=2;for(var U1Z=1;O0L.k7Z(U1Z.toString(),U1Z.toString().length,6714)!==E1Z;U1Z++){n21.stroke();n1Z+=2;}if(O0L.q7Z(n1Z.toString(),n1Z.toString().length,5984)!==i1Z){n21.stroke();}n21.stroke();;};N5.prototype.drawShadows=function(D81,N81){var z81,y81,U81,v81,O81,x81,C81,i81,S81,Z81,j81,Q81,b81,Y81,d81,A81,p81,a81,X81,Y2Z,k81,P81,E81,V81;z81=D81.chart;if(!z81){z81=D81;D81=D81.chart;}y81=z81.dataSegment;U81=this.chart.context;U81.lineWidth=1;v81=D81.yAxis.top;O81=D81.yAxis.bottom;S81=z81.dataSet.length-z81.scroll;Z81=S81+z81.maxTicks;j81=D81.yAxis;Q81=this.layout.candleWidth;O0L.r0j(37);var S3V=O0L.E0j(5,90,18);b81=D81.left-0.5*Q81+this.micropixels-S3V;O0L.E5();for(var g81=+"0";g81<=y81.length;g81++){O0L.G0j(2);b81+=O0L.t0j(2,Q81);Q81=this.layout.candleWidth;O0L.G0j(2);b81+=O0L.E0j(2,Q81);Y81=y81[g81];if(!Y81)continue;if(Y81.projection)continue;if(Y81.candleWidth){O0L.G0j(38);var d3V=O0L.E0j(7,6,19,10,2);b81+=(Y81.candleWidth-Q81)/d3V;Q81=Y81.candleWidth;}d81=N81(this,Y81,"shadow");if(!d81)continue;if(Y81.transform){Y81=Y81.transform;}A81=Y81.cache;O0L.G0j(0);p81=O0L.t0j(g81,S81);if(p81<D81.cacheLeft||p81>D81.cacheRight||!A81.top){x81=j81.semiLog?this.pixelFromPrice(Y81.High,D81):(j81.high-Y81.High)*j81.multiplier+j81.top;C81=j81.semiLog?this.pixelFromPrice(Y81.Low,D81):(j81.high-Y81.Low)*j81.multiplier+j81.top;O0L.G0j(3);a81=O0L.E0j(x81,C81);if(x81<v81){if(x81+a81<v81){A81.top=x81;A81.bottom=x81;continue;}O0L.r0j(3);a81-=O0L.t0j(x81,v81);x81=v81;}if(x81+a81>O81){O0L.G0j(34);a81-=O0L.E0j(a81,O81,x81);}A81.top=x81;A81.bottom=A81.top+a81;}if(A81.top>=O81)continue;if(A81.bottom<=v81)continue;X81=Math.floor(b81)+0.5;U81.beginPath();U81.moveTo(X81,A81.top);U81.lineTo(X81,A81.bottom);if(Y81.Open==Y81.Close||!Y81.Open&&Y81.Open!==("0"&2147483647)){Y2Z="volume_can";Y2Z+="d";Y2Z+="le";k81=this.offset;if(this.layout.chartType==Y2Z){O0L.G0j(2);k81=O0L.E0j(2,Q81);}O0L.r0j(3);P81=O0L.t0j(k81,X81);O0L.G0j(0);E81=O0L.E0j(k81,X81);V81=Math.floor(j81.semiLog?this.pixelFromPrice(Y81.Close,D81):(j81.high-Y81.Close)*j81.multiplier+j81.top)+0.5;if(V81<=O81&&V81>=v81){U81.moveTo(P81,V81);U81.lineTo(E81,V81);}}U81.strokeStyle=d81;U81.stroke();}};N5.prototype.scatter=function(q81){var t81,m81,M81,G81,w81,h81,u81,T81,l81;t81=q81.chart;m81=t81.dataSegment;M81=this.chart.context;M81.beginPath();M81.lineWidth=4;G81=q81.yAxis.top;w81=q81.yAxis.bottom;O0L.r0j(39);var O3V=O0L.t0j(14,2,28,11);h81=q81.left-0.5*this.layout.candleWidth+this.micropixels-O3V;O0L.E5();for(var n81=0;n81<=m81.length;n81++){h81+=this.layout.candleWidth;u81=m81[n81];if(!u81)continue;if(!u81.projection){if(u81.transform){u81=u81.transform;}T81=[u81.Close];if("Scatter"in u81){T81=u81.Scatter;}for(var R81=0;R81<T81.length;R81++){l81=this.pixelFromPrice(T81[R81],q81);if(l81<G81)continue;if(l81>w81)continue;O0L.G0j(3);M81.moveTo(O0L.E0j(2,h81),l81);O0L.r0j(0);M81.lineTo(O0L.t0j(2,h81),l81);}}}this.canvasColor("stx_scatter_chart");M81.stroke();M81.closePath();M81.lineWidth=1;};N5.prototype.drawKagiSquareWave=function(J81,a31,z31){var W81,s81,B81,L81,Y31,D31,A31,f31,F31,Q31,c81,j31,I81,x31,o81,K81,r81,H81,U31;W81=J81.chart;this.startClip(J81.name);s81=W81.dataSegment;B81=W81.context;L81=this.canvasStyle(a31);Y31=this.canvasStyle(z31);this.canvasColor(a31);D31=B81.strokeStyle;this.canvasColor(z31);A31=B81.strokeStyle;f31=1;if(L81.width&&parseInt(L81.width,10)<=25){O0L.r0j(12);f31=Math.max(O0L.E0j(188352320,"1"),i5.stripPX(L81.width));}F31=1;if(Y31.width&&parseInt(Y31.width,10)<=25){F31=Math.max(+"1",i5.stripPX(Y31.width));}B81.beginPath();Q31=W81.dataSet.length-W81.scroll;c81=J81.yAxis;j31=!"";I81=null;x31=null;o81=null;K81=J81.left-0.5*this.layout.candleWidth+this.micropixels-1;for(var e81=0;e81<=s81.length;e81++){K81+=this.layout.candleWidth;r81=s81[e81];if(!r81)continue;if(r81.projection)break;if(r81.transform){r81=r81.transform;}H81=r81.cache;O0L.r0j(0);U31=O0L.E0j(e81,Q31);if(U31<J81.cacheLeft||U31>J81.cacheRight||!H81.open){H81.open=c81.semiLog?this.pixelFromPrice(r81.Open,J81):(c81.high-r81.Open)*c81.multiplier+c81.top;H81.close=c81.semiLog?this.pixelFromPrice(r81.Close,J81):(c81.high-r81.Close)*c81.multiplier+c81.top;;}x31=H81.close;if(j31){B81.moveTo(Math.floor(K81),H81.open);I81=H81.open;if(H81.close>H81.open){o81=1;}else{o81=-1;}j31=!!0;}if(o81!=-1&&H81.close<I81&&I81<H81.open){B81.lineTo(Math.floor(K81),I81);B81.strokeStyle=A31;B81.lineWidth=F31;B81.stroke();B81.closePath();B81.beginPath();o81=-1;B81.moveTo(Math.floor(K81),I81);}else if(o81!=1&&H81.close>I81&&I81>H81.open){B81.lineTo(Math.floor(K81),I81);B81.strokeStyle=D31;B81.lineWidth=f31;B81.stroke();B81.closePath();B81.beginPath();o81=1;B81.moveTo(Math.floor(K81),I81);}B81.lineTo(Math.floor(K81),H81.close);if(e81+1<s81.length){B81.lineTo(Math.floor(K81+this.layout.candleWidth),H81.close);I81=H81.open;}}if(o81==-1||o81===null&&x31<I81){B81.strokeStyle=D31;B81.lineWidth=f31;}else{B81.strokeStyle=A31;B81.lineWidth=F31;}B81.stroke();B81.closePath();this.endClip();B81.lineWidth=1;};N5.prototype.drawPointFigureChart=function(d31,m31,q31){var N31,n31,g31,p31,S31,C31,u31,i31,R31,T31,V31,M31,X31,O31,Z31,l31,v31,E31,h31,y31,k31,b31;N31=d31.chart;this.startClip(d31.name);n31=N31.dataSegment;g31=N31.context;this.canvasColor(m31);p31=this.canvasStyle(m31);S31=parseInt(p31.paddingTop,10);C31=parseInt(p31.paddingBottom,10);u31=parseInt(p31.paddingLeft,10);i31=parseInt(p31.paddingRight,10);if(p31.width&&parseInt(p31.width,10)<=25){g31.lineWidth=Math.max(1,i5.stripPX(p31.width));}else{g31.lineWidth=2;}g31.beginPath();if(!this.chart.pandf){this.chart.pandf={"box":1,"reversal":3};}R31=this.chart.pandf.box;T31=N31.dataSet.length-N31.scroll;V31=d31.yAxis;Z31=this.layout.candleWidth;l31=d31.left-Z31+this.micropixels-1;for(var P31=0;P31<n31.length;P31++){l31+=Z31;v31=n31[P31];if(!v31)continue;if(v31.projection)break;if(v31.candleWidth){Z31=v31.candleWidth;}if(v31.transform){v31=v31.transform;}if(q31==((899.5,9212)>2260?(3140,330)!==73.8?(6847,8158)!=3350?"X":1.07e+2:(!"1",+"0x8c"):(0x1dc,0x126d))&&v31.Open>v31.Close)continue;else if(q31==(7569>=(1412,8703)?("6400"|256)<=(426.23,9360)?"8.94e+3">>1649051424:399.63:"O")&&v31.Open<v31.Close)continue;E31=v31.cache;O0L.r0j(0);h31=O0L.E0j(P31,T31);if(h31<d31.cacheLeft||h31>d31.cacheRight||!E31.open){E31.open=V31.semiLog?this.pixelFromPrice(v31.Open,d31):(V31.high-v31.Open)*V31.multiplier+V31.top;E31.close=V31.semiLog?this.pixelFromPrice(v31.Close,d31):(V31.high-v31.Close)*V31.multiplier+V31.top;;}y31=Math.round(l31);O0L.G0j(0);k31=Math.round(O0L.E0j(Z31,l31));M31=Math.abs(Math.round((v31.Close-v31.Open)/R31));X31=Math.abs((E31.open-E31.close)/M31);O0L.r0j(40);b31=O0L.E0j("2",X31);O31=E31.open;for(;M31>=("0"^0);M31--){if(q31=="X"){O0L.G0j(0);g31.moveTo(O0L.t0j(u31,y31),O0L.E0j(C31,b31,O31,O0L.G0j(8)));O0L.r0j(3);g31.lineTo(O0L.E0j(i31,k31),O0L.E0j(S31,X31,O31,b31,O0L.G0j(41)));O0L.r0j(0);g31.moveTo(O0L.t0j(u31,y31),O0L.E0j(S31,X31,O31,b31,O0L.G0j(41)));O0L.r0j(3);g31.lineTo(O0L.E0j(i31,k31),O0L.E0j(C31,b31,O31,O0L.r0j(8)));O31-=X31;}else if(q31=="O"){O0L.G0j(42);g31.moveTo(O0L.t0j("2",k31,y31),O0L.t0j(S31,b31,O31,O0L.G0j(34)));O0L.r0j(0);g31.bezierCurveTo(O0L.E0j(i31,k31),O0L.E0j(S31,b31,O31,O0L.r0j(34)),O0L.E0j(i31,k31,O0L.G0j(0)),O0L.E0j(O31,C31,b31,X31,O0L.G0j(43)),O0L.E0j(2,k31,y31,O0L.G0j(1)),O0L.E0j(O31,C31,b31,X31,O0L.r0j(43)));O0L.r0j(3);g31.bezierCurveTo(O0L.E0j(u31,y31),O0L.E0j(O31,C31,b31,X31,O0L.r0j(43)),O0L.t0j(u31,y31,O0L.G0j(3)),O0L.t0j(S31,b31,O31,O0L.G0j(34)),O0L.t0j("2",k31,y31,O0L.G0j(42)),O0L.E0j(S31,b31,O31,O0L.G0j(34)));O31+=X31;}}}g31.stroke();this.endClip();g31.lineWidth=+"1";};N5.prototype.drawBarChartHighPerformance=function(I31,A61,L31){var c31,f61,B31,W31,r31,J31,H31,x61,K31,D61,U61,G31,F61,Y61,j61,w31,t31,s31,o31;c31=I31.chart;f61=c31.dataSegment;B31=c31.context;W31=this.canvasStyle(A61);if(W31.width&&parseInt(W31.width,10)<=25){B31.lineWidth=Math.max(1,i5.stripPX(W31.width));}else{B31.lineWidth=1;}B31.beginPath();r31=I31.yAxis.top;J31=I31.yAxis.bottom;D61=c31.dataSet.length-c31.scroll;U61=D61+c31.maxTicks;G31=I31.yAxis;O0L.r0j(44);var i3V=O0L.E0j(9,127,14,10,10);F61=I31.left-+"0.5"*this.layout.candleWidth+this.micropixels-i3V;Y61=c31.tmpWidth/2;j61=B31.lineWidth/2;for(var e31=0;e31<=f61.length;e31++){F61+=this.layout.candleWidth;w31=f61[e31];if(!w31)continue;if(w31.projection)break;if(L31){if(L31&N5.CLOSEUP&&w31.Close<=w31.iqPrevClose)continue;else if(L31&N5.CLOSEDOWN&&w31.Close>=w31.iqPrevClose)continue;else if(L31&N5.CLOSEEVEN&&w31.Close!=w31.iqPrevClose)continue;}if(w31.transform){w31=w31.transform;}t31=w31.cache;O0L.r0j(0);s31=O0L.t0j(e31,D61);if(s31<I31.cacheLeft||s31>I31.cacheRight||!t31.top){H31=G31.semiLog?this.pixelFromPrice(w31.High,I31):(G31.high-w31.High)*G31.multiplier+G31.top;x61=G31.semiLog?this.pixelFromPrice(w31.Low,I31):(G31.high-w31.Low)*G31.multiplier+G31.top;O0L.r0j(3);K31=O0L.E0j(H31,x61);t31.open=G31.semiLog?this.pixelFromPrice(w31.Open,I31):(G31.high-w31.Open)*G31.multiplier+G31.top;t31.close=G31.semiLog?this.pixelFromPrice(w31.Close,I31):(G31.high-w31.Close)*G31.multiplier+G31.top;if(H31<r31){if(H31+K31<r31){t31.top=H31;t31.bottom=H31;continue;}O0L.G0j(3);K31-=O0L.t0j(H31,r31);H31=r31;}if(H31+K31>J31){O0L.G0j(34);K31-=O0L.t0j(K31,J31,H31);}t31.top=H31;O0L.G0j(0);t31.bottom=O0L.t0j(K31,H31);}o31=Math.floor(F61)+0.5;if(t31.top<J31&&t31.bottom>r31){B31.moveTo(o31,t31.top-j61);B31.lineTo(o31,t31.bottom+j61);}if(t31.open>r31&&t31.open<J31){B31.moveTo(o31,t31.open);O0L.G0j(3);B31.lineTo(O0L.t0j(Y61,o31),t31.open);}if(t31.close>r31&&t31.close<J31){B31.moveTo(o31,t31.close);O0L.r0j(0);B31.lineTo(O0L.t0j(Y61,o31),t31.close);}}this.canvasColor(A61);B31.stroke();B31.closePath();B31.lineWidth=1;};N5.prototype.drawBarChart=function(v61,n61,h61){var b61,u61,a61,E61,V61,d61,O61,l61,k61,M61,q61,g61,P61,Z61,N61,y61,p61,z61,C61,Q61,i61,X61;b61=v61.chart;if(!b61){b61=v61;v61=v61.chart;}u61=b61.dataSegment;a61=b61.context;E61=this.canvasStyle(n61);if(E61.width&&parseInt(E61.width,10)<=25){a61.lineWidth=Math.max(1,i5.stripPX(E61.width));}else{a61.lineWidth=+"1";}V61=v61.yAxis.top;d61=v61.yAxis.bottom;M61=b61.dataSet.length-b61.scroll;q61=M61+b61.maxTicks;g61=v61.yAxis;P61={};Z61=b61.tmpWidth/+"2";O0L.G0j(8);var U3V=O0L.t0j(32,14,20);N61=a61.lineWidth/U3V;y61=this.layout.candleWidth;O0L.r0j(26);var h3V=O0L.t0j(17,14,14,16);p61=v61.left-("0.5"-0)*y61+this.micropixels-h3V;for(var S61=0;S61<=u61.length;S61++){O0L.G0j(45);p61+=O0L.E0j(1643702752,"2",y61);y61=this.layout.candleWidth;O0L.G0j(2);p61+=O0L.t0j(2,y61);z61=u61[S61];if(!z61)continue;if(z61.projection)break;if(z61.candleWidth){O0L.r0j(46);var I3V=O0L.E0j(169,32,12,5,4);p61+=(z61.candleWidth-y61)/I3V;y61=z61.candleWidth;}C61=h61(this,z61);if(!C61)continue;P61[C61]=1;a61.strokeStyle=C61;a61.beginPath();if(z61.transform){z61=z61.transform;}Q61=z61.cache;O0L.G0j(0);i61=O0L.t0j(S61,M61);if(i61<v61.cacheLeft||i61>v61.cacheRight||!Q61.top){O61=this.pixelFromPrice(z61.High,v61);l61=this.pixelFromPrice(z61.Low,v61);O0L.G0j(3);k61=O0L.t0j(O61,l61);Q61.open=g61.semiLog?this.pixelFromPrice(z61.Open,v61):(g61.high-z61.Open)*g61.multiplier+g61.top;Q61.close=g61.semiLog?this.pixelFromPrice(z61.Close,v61):(g61.high-z61.Close)*g61.multiplier+g61.top;if(O61<V61){if(O61+k61<V61){Q61.top=O61;Q61.bottom=O61;continue;}O0L.G0j(3);k61-=O0L.t0j(O61,V61);O61=V61;}if(O61+k61>d61){O0L.G0j(34);k61-=O0L.t0j(k61,d61,O61);}Q61.top=O61;O0L.G0j(0);Q61.bottom=O0L.E0j(k61,O61);}X61=Math.floor(p61)+0.5;if(Q61.top<d61&&Q61.bottom>V61){a61.moveTo(X61,Q61.top-N61);a61.lineTo(X61,Q61.bottom+N61);}if(Q61.open>V61&&Q61.open<d61){a61.moveTo(X61,Q61.open);O0L.r0j(3);a61.lineTo(O0L.t0j(Z61,X61),Q61.open);}if(Q61.close>V61&&Q61.close<d61){a61.moveTo(X61,Q61.close);O0L.G0j(0);a61.lineTo(O0L.E0j(Z61,X61),Q61.close);}a61.stroke();}a61.lineWidth=1;return P61;};N5.prototype.plotLineChart=function(G61,L61,K61,t61,V71){var g71,D71,z71,e61,W61,Q71,R61,U71,B61,y71,k71,F71,f71,b71,c61,I61,s61,w61,T61,x71,O71,m61,r61,J61,Y71,o61,a71,j71,v71,A71,X71;g71=!1;D71=!{};z71=!{};e61=0;W61=[];if(t61){g71=t61.skipProjections;D71=t61.skipTransform;z71=t61.noSlopes;e61=t61.tension;}Q71=G61.chart;R61=this.chart.context;U71=!!1;B61=G61.yAxis;y71=B61.top;k71=B61.bottom;F71=Q71.dataSet.length-Q71.scroll;f71=null;b71={};c61=[0,0];I61=this.layout.candleWidth;O0L.G0j(47);var D3V=O0L.t0j(16,17,207,12,18);O0L.r0j(48);var V8V=O0L.t0j(848,17,10,2,5);s61=G61.left-(t61.noSlopes?D3V:0.5)*I61+this.micropixels-V8V;O0L.S5();this.startClip(G61.name);R61.beginPath();for(var H61=0;H61<=L61.length;H61++){O0L.G0j(2);s61+=O0L.t0j(2,I61);if(t61.noSlopes){O0L.r0j(2);s61+=O0L.E0j(2,I61);}I61=this.layout.candleWidth;if(!t61.noSlopes){O0L.G0j(2);s61+=O0L.E0j(2,I61);}w61=L61[H61];if(!w61)continue;if(g71&&w61.projection)break;if(w61.candleWidth){if(!t61.noSlopes){s61+=(w61.candleWidth-I61)/("2">>1704978912);}I61=w61.candleWidth;}if(!D71&&w61.transform){w61=w61.transform;}T61=s61;x71=w61.cache;O0L.G0j(0);O71=O0L.t0j(H61,F71);if(!w61[K61]&&w61[K61]!==0)continue;if(O71<G61.cacheLeft||O71>G61.cacheRight||!x71[K61]){x71[K61]=B61.semiLog?this.pixelFromPrice(w61[K61],G61):(B61.high-w61[K61])*B61.multiplier+B61.top;;}if(T61<=G61.right){f71=w61;}if(H61==L61.length-("1"<<1871687392)){if(this.extendLastTick){O0L.G0j(45);T61+=O0L.E0j(1409656928,"2",I61);}if(t61.lastTickOffset){T61+=t61.lastTickOffset;};}m61=x71[K61];r61=null;if(V71){J61=V71(this,w61);if(!J61)continue;if(typeof J61=="object"){r61=J61.pattern;J61=J61.color;}if(R61.strokeStyle!=J61){if(!U71){R61.stroke();R61.beginPath();R61.moveTo(c61[0],c61[+"1"]);;}R61.strokeStyle=J61;b71[J61]=1;}}if(U71){U71=!1;if(z71||F71<=("0"^0)){R61.moveTo(H61?T61:"0"^0,m61);if(e61){W61.push(T61,m61);}else{if(r61){R61.dashedLineTo(+"0",m61,T61,m61,r61);}else{R61.lineTo(T61,m61);}}}else if(F71>+"0"){Y71=Q71.dataSet[F71];if(!D71&&Y71.transform){Y71=Y71.transform;}o61=Y71[K61];if(!o61||isNaN(o61)){R61.moveTo(H61?T61:0,m61);if(e61){W61.push(T61,m61);}}else{o61=B61.semiLog?this.pixelFromPrice(o61,G61):(B61.high-o61)*B61.multiplier+B61.top;O0L.r0j(3);a71=O0L.t0j(I61,T61);if(r61){R61.dashedLineTo(a71,o61,T61,m61,r61);}else{R61.moveTo(a71,o61);if(e61){W61.push(a71,o61,T61,m61);}else{R61.lineTo(T61,m61);}}}}}else{if(z71){O0L.r0j(3);j71=L61[O0L.E0j(1,H61)];if(!j71)continue;if(!D71&&j71.transform){j71=j71.transform;}if(H61){if(r61){R61.dashedLineTo(c61[0],c61[1],T61,c61[1],r61);}else{R61.lineTo(T61,c61[1]);}R61.moveTo(T61,m61);;}if(H61==L61.length-+"1"){if(r61){O0L.G0j(0);R61.dashedLineTo(T61,m61,O0L.E0j(I61,T61),m61,r61);}else{O0L.G0j(0);R61.lineTo(O0L.E0j(I61,T61),m61);}}}else{if(r61){R61.dashedLineTo(c61[0],c61["1"-0],T61,m61,r61);}else{if(e61){W61.push(T61,m61);}else{R61.lineTo(T61,m61);}}}}c61=[T61,m61];if(H61===L61.length-1&&e61){W61.push(T61,m61);q5(W61,e61,R61);}}R61.stroke();this.endClip();if(t61.label&&f71){if(B61.priceFormatter){v71=B61.priceFormatter(this,G61,f71[K61],t61.labelDecimalPlaces);}else{v71=this.formatYAxisPrice(f71[K61],G61,t61.labelDecimalPlaces);}A71=this.yaxisLabelStyle;if(G61.yAxis.yaxisLabelStyle){A71=G61.yAxis.yaxisLabelStyle;}X71=A71=="noop"?R61.strokeStyle:null;this.yAxisLabels.push({src:"plot","args":[G61,v71,f71.cache[K61],A71=="noop"?"#FFFFFF":R61.strokeStyle,X71]});}return b71;};N5.prototype.plotMountainChart=function(C71,B71,N71,l71){var K71,I71,w71,M71,q71,t71,d71,H71,R71,n71,T71,E71,u71,P71,p71,S71,G71,r71,Z71,m71,h71;K71=!{};I71=!!0;w71=![];M71=0;q71=[];if(l71){K71=l71.skipProjections;I71=l71.skipTransform;w71=l71.reverse;M71=l71.tension;}t71=C71.chart;d71=this.chart.context;H71=!![];R71=C71.yAxis.top;O0L.S5();n71=C71.yAxis.bottom;this.startClip(C71.name);d71.beginPath();T71=t71.dataSet.length-t71.scroll;E71=null;u71=null;P71=C71.yAxis;p71=0;for(var i71=0;i71<=B71.length;i71++){S71=B71[i71];if(!S71)continue;if(K71&&S71.projection)break;if(!I71&&S71.transform){S71=S71.transform;}G71=S71.cache;O0L.G0j(0);r71=O0L.t0j(i71,T71);if(r71<C71.cacheLeft||r71>C71.cacheRight||!G71[N71]){if(!S71[N71]&&S71[N71]!==0)continue;G71[N71]=P71.semiLog?this.pixelFromPrice(S71[N71],C71):(P71.high-S71[N71])*P71.multiplier+P71.top;;}p71=C71.left+(i71+0.5)*this.layout.candleWidth+this.micropixels-+"1";if(i71==B71.length-1){if(this.extendLastTick){O0L.G0j(3);var Q8V=O0L.t0j(17,19);p71+=this.layout.candleWidth/Q8V;}if(l71.lastTickOffset){p71+=l71.lastTickOffset;};}if(E71===null){E71=T71>=+"0"?0:p71;}Z71=G71[N71];if(u71===null){u71=Z71;}if(H71){H71=!!0;if(T71<=0){d71.moveTo(E71,Z71);if(M71){q71.push(E71,Z71);}}else{m71=t71.dataSet[T71];if(m71.transform){m71=m71.transform;}h71=m71[N71];h71=P71.semiLog?this.pixelFromPrice(h71,C71):(P71.high-h71)*P71.multiplier+P71.top;E71=p71-this.layout.candleWidth;d71.moveTo(E71,h71);if(M71){q71.push(E71,h71,p71,Z71);}else{d71.lineTo(p71,Z71);}}}else{if(M71){q71.push(p71,Z71);}else{d71.lineTo(p71,Z71);}}if(i71===B71.length-1&&M71){q71.push(p71,Z71);q5(q71,M71,d71);}}d71.lineTo(p71,w71?R71:n71);d71.lineTo(E71,w71?R71:n71);if(w71){if(u71<R71){u71=R71;}}else{if(u71>n71){u71=n71;}}d71.lineTo(E71,u71);d71.fill();d71.closePath();this.endClip();};N5.prototype.drawLineChart=function(c71,W71,s71){var o71,J71,e71,L71;o71=this.chart.context;J71=this.canvasStyle(W71);if(J71.width&&parseInt(J71.width,10)<=25){o71.lineWidth=Math.max(1,i5.stripPX(J71.width));}else{o71.lineWidth=1;}this.canvasColor(W71);e71={skipProjections:!!{}};if(c71.chart.tension){e71.tension=c71.chart.tension;}O0L.E5();if(c71.chart.lastTickOffset){e71.lastTickOffset=c71.chart.lastTickOffset;}L71=this.plotLineChart(c71,c71.chart.dataSegment,"Close",e71,s71);o71.lineWidth=1;return L71;};N5.prototype.drawMountainChart=function(F0v,v0v,g0v){var f0v,Y0v,S8Z,d8Z,O8Z,x0v,z0v,A0v,U0v,j0v,Q0v,D0v,O0v,a0v,P2Z,N2Z;f0v=this.chart.context;if(!v0v){v0v="stx_mountain_chart";}Y0v=this.canvasStyle(v0v);if(Y0v.width&&parseInt(Y0v.width,10)<=25){f0v.lineWidth=Math.max(+"1",i5.stripPX(Y0v.width));}else{S8Z=1196330686;d8Z=-+"860940847";O8Z=2;for(var E8Z="1"&2147483647;O0L.k7Z(E8Z.toString(),E8Z.toString().length,81768)!==S8Z;E8Z++){f0v.lineWidth=1;O0L.G0j(5);O8Z+=O0L.E0j("2",0);}if(O0L.q7Z(O8Z.toString(),O8Z.toString().length,33764)!==d8Z){f0v.lineWidth=5;}}x0v=this.pixelFromPrice(F0v.chart.highValue,F0v);if(isNaN(x0v)){x0v=0;}z0v=Y0v.backgroundColor;A0v=Y0v.color;if(A0v&&!i5.isTransparent(A0v)){U0v=f0v.createLinearGradient(0,x0v,0,F0v.yAxis.bottom);U0v.addColorStop(0,z0v);U0v.addColorStop(1,A0v);f0v.fillStyle=U0v;}else{f0v.fillStyle=z0v;}j0v={skipProjections:!![]};if(F0v.chart.tension){j0v.tension=F0v.chart.tension;}if(F0v.chart.lastTickOffset){j0v.lastTickOffset=F0v.chart.lastTickOffset;}Q0v=parseInt(Y0v.padding,10);D0v=Y0v.borderTopColor;O0v=null;if(D0v&&!i5.isTransparent(D0v)){if(Q0v&&!i5.isIE8){if(!this.scratchContext){a0v=f0v.canvas.cloneNode(!![]);this.scratchContext=a0v.getContext("2d");this.scratchContext.canvas=a0v;}this.scratchContext.canvas.height=f0v.canvas.height;this.scratchContext.canvas.width=f0v.canvas.width;this.scratchContext.drawImage(f0v.canvas,0,0);O0L.G0j(12);f0v.clearRect(O0L.t0j(1052805440,"0"),0,f0v.canvas.width,f0v.canvas.height);}}O0L.S5();this.plotMountainChart(F0v,F0v.chart.dataSegment,"Close",j0v);if(D0v&&!i5.isTransparent(D0v)){P2Z="C";P2Z+="l";P2Z+="ose";if(Q0v&&!i5.isIE8){N2Z="destination-ov";N2Z+="er";f0v.save();O0L.r0j(4);f0v.lineWidth+=O0L.t0j(2,Q0v);f0v.globalCompositeOperation="destination-out";this.plotLineChart(F0v,F0v.chart.dataSegment,"Close",j0v);f0v.globalCompositeOperation=N2Z;f0v.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio);f0v.drawImage(this.scratchContext.canvas,0,0);f0v.restore();}f0v.strokeStyle=D0v;O0v=this.plotLineChart(F0v,F0v.chart.dataSegment,P2Z,j0v,g0v);}f0v.lineWidth=1;return O0v;};N5.prototype.drawWaveChart=function(X0v){var C0v,M0v,V0v,u0v,E0v,y0v,d0v,l0v,p0v,k0v,b0v,N0v,Z0v,S0v,i0v;C0v=X0v.chart;M0v=C0v.dataSegment;V0v=this.chart.context;this.startClip(X0v.name);V0v.beginPath();u0v=![];E0v=!"1";y0v=X0v.yAxis.top;d0v=X0v.yAxis.bottom;O0L.G0j(49);var X8V=O0L.t0j(1,2);l0v=X0v.left+Math.floor(X8V*this.layout.candleWidth+this.micropixels);for(var P0v=0;P0v<=M0v.length;P0v++){l0v+=this.layout.candleWidth;p0v=M0v[P0v];if(!p0v)continue;if(p0v.projection)break;if(p0v.transform){p0v=p0v.transform;}k0v=l0v-3*this.layout.candleWidth/("8"^0);b0v=this.pixelFromPrice(p0v.Open,X0v);if(b0v<y0v){b0v=y0v;if(E0v){V0v.moveTo(k0v,b0v);continue;}E0v=!!{};}else if(b0v>d0v){b0v=d0v;if(E0v){V0v.moveTo(k0v,b0v);continue;}E0v=!!"1";}else{E0v=!!"";}if(!u0v){u0v=!!1;N0v=C0v.dataSet.length-C0v.scroll;if(N0v<=0){V0v.moveTo(k0v,b0v);}else if(N0v>+"0"){O0L.r0j(3);Z0v=C0v.dataSet[O0L.t0j(1,N0v)];if(Z0v.transform){Z0v=Z0v.transform;}S0v=Z0v.Close;S0v=X0v.yAxis.semiLog?this.pixelFromPrice(S0v,X0v):(X0v.yAxis.high-S0v)*X0v.yAxis.multiplier+y0v;S0v=Math.min(Math.max(S0v,y0v),d0v);V0v.moveTo(X0v.left+(P0v-("1"^0))*this.layout.candleWidth+this.micropixels,S0v);V0v.lineTo(k0v,b0v);}V0v.moveTo(k0v,b0v);}else{V0v.lineTo(k0v,b0v);}O0L.r0j(8);var J8V=O0L.t0j(60,8,56);k0v+=this.layout.candleWidth/J8V;if(p0v.Open<p0v.Close){b0v=this.pixelFromPrice(p0v.Low,X0v);if(b0v<y0v){b0v=y0v;}if(b0v>d0v){b0v=d0v;}V0v.lineTo(k0v,b0v);O0L.G0j(50);var Z8V=O0L.t0j(2,9,142,6,15);k0v+=this.layout.candleWidth/Z8V;b0v=this.pixelFromPrice(p0v.High,X0v);if(b0v<y0v){b0v=y0v;}if(b0v>d0v){b0v=d0v;}V0v.lineTo(k0v,b0v);}else{b0v=this.pixelFromPrice(p0v.High,X0v);if(b0v<y0v){b0v=y0v;}if(b0v>d0v){b0v=d0v;}V0v.lineTo(k0v,b0v);O0L.r0j(2);var H8V=O0L.t0j(20,80);k0v+=this.layout.candleWidth/H8V;b0v=this.pixelFromPrice(p0v.Low,X0v);if(b0v<y0v){b0v=y0v;}if(b0v>d0v){b0v=d0v;}V0v.lineTo(k0v,b0v);}O0L.G0j(51);var m8V=O0L.t0j(80,294,15,10,14);k0v+=this.layout.candleWidth/m8V;b0v=this.pixelFromPrice(p0v.Close,X0v);if(b0v<y0v){b0v=y0v;}if(b0v>d0v){b0v=d0v;}V0v.lineTo(k0v,b0v);}i0v=this.canvasStyle("stx_line_chart");if(i0v.width&&parseInt(i0v.width,10)<=25){V0v.lineWidth=Math.max(1,i5.stripPX(i0v.width));}else{V0v.lineWidth=1;}this.canvasColor("stx_line_chart");V0v.stroke();V0v.closePath();this.endClip();V0v.lineWidth=1;};N5.prototype.updateFloatHRLabel=function(q0v){var m0v,w0v,B2Z,j2Z,t0v,x2Z,h0v,n0v,T0v,G0v;m0v=q0v.yaxisLHS.concat(q0v.yaxisRHS);w0v=this.crossYActualPos?this.crossYActualPos:this.cy;if(this.floatCanvas.isDirty){i5.clearCanvas(this.floatCanvas,this);}if(this.controls.crossX.style.display=="none"){return;}if(this.controls.crossY){B2Z="p";B2Z+="x";j2Z="p";j2Z+="x";t0v=q0v.width;if(this.yaxisLabelStyle=="roundRectArrow"){t0v-=7;}this.controls.crossY.style.left=q0v.left+j2Z;O0L.G0j(0);this.controls.crossY.style.width=O0L.E0j(B2Z,t0v);}for(var R0v=0;R0v<m0v.length;R0v++){x2Z="stx-fl";x2Z+="oat";x2Z+="-";x2Z+="price";h0v=m0v[R0v];n0v=this.valueFromPixel(w0v,q0v,h0v);if(isNaN(n0v))continue;if((q0v.min||q0v.min===0)&&n0v<q0v.min)continue;if((q0v.max||q0v.max===0)&&n0v>q0v.max)continue;T0v=null;if(h0v!==q0v.chart.yAxis){T0v=0;if(h0v.shadow<1000){T0v=2;}if(h0v.shadow<5){O0L.G0j(5);T0v=O0L.t0j("4",0);}if(h0v.decimalPlaces||h0v.decimalPlaces===0){T0v=h0v.decimalPlaces;}}if(h0v.priceFormatter){n0v=h0v.priceFormatter(this,q0v,n0v,h0v);}else{n0v=this.formatYAxisPrice(n0v,q0v,T0v,h0v);}G0v=this.canvasStyle(x2Z);this.createYAxisLabel(q0v,n0v,w0v,G0v.backgroundColor,G0v.color,this.floatCanvas.context,h0v);this.floatCanvas.isDirty=!"";}};N5.prototype.headsUpHR=function(){var T2Z,W0v,I0v,s0v,B0v,e0v,r0v,K0v,c0v,o0v,l2Z,f4v,L0v,J0v,H0v;T2Z="heads";T2Z+="Up";T2Z+="HR";if(this.runPrepend("headsUpHR",arguments)){return;}W0v=this.currentPanel;if(!W0v){return;}I0v=W0v.chart;O0L.E5();this.updateFloatHRLabel(W0v);if(this.controls.floatDate&&!N5.hideDates()){s0v=this.barFromPixel(this.cx);B0v=I0v.xaxis[s0v];if(B0v&&B0v.DT){if(I0v.xAxis.formatter){this.controls.floatDate.innerHTML=I0v.xAxis.formatter(B0v.DT);}else if(this.internationalizer){e0v=this.internationalizer.monthDay.format(B0v.DT);if(!N5.isDailyInterval(this.layout.interval)){e0v+=" "+this.internationalizer.hourMinute.format(B0v.DT);}else{e0v=this.internationalizer.yearMonthDay.format(B0v.DT);}this.controls.floatDate.innerHTML=e0v;}else{r0v=B0v.DT.getMonth()+1;if(r0v<10){O0L.r0j(0);r0v=O0L.t0j(r0v,3184>=(5400,3420)?678.78:"0");}K0v=B0v.DT.getDate();if(K0v<10){O0L.r0j(0);K0v=O0L.t0j(K0v,7300===(46,7000)?(536.99,675.3)!=(425.94,"7540"*1)?5808!=929?"G":("B",8.15e+3):(8.39e+3,!{}):"0");}c0v=B0v.DT.getHours();if(c0v<10){O0L.G0j(0);c0v=O0L.t0j(c0v,4213<=268?1.52e+3:(6595,751.76)===(6812,4450)?("k",0x1143):387>(679,7483)?(!!"","r"):"0");}o0v=B0v.DT.getMinutes();if(o0v<10){O0L.G0j(0);o0v=O0L.t0j(o0v,(6820,3460)!=(794.5,155.68)?"0":(!0,"b"));}if(N5.isDailyInterval(this.layout.interval)){O0L.r0j(3);var p8V=O0L.t0j(20,2832);O0L.r0j(26);var z8V=O0L.E0j(297,14,2398,5);O0L.G0j(0);var g8V=O0L.E0j(6710,839);this.controls.floatDate.innerHTML=r0v+(p8V==716.55?9.62e+3:"-")+K0v+(6829<(+"2600",z8V)?g8V:"-")+B0v.DT.getFullYear();}else{l2Z="se";l2Z+="co";l2Z+="nd";O0L.G0j(52);this.controls.floatDate.innerHTML=O0L.t0j(o0v,K0v," ",+"9270">=713.76?"-":(!!"1",!!0),r0v,5030>=4284?"9927"*1!=(1954,"241.43"*1)?":":(7.64e+3,135):"x",c0v);f4v=I0v.xAxis.activeTimeUnit&&I0v.xAxis.activeTimeUnit<=i5.SECOND||this.layout.timeUnit==l2Z;L0v=I0v.xAxis.activeTimeUnit&&I0v.xAxis.activeTimeUnit<=i5.MILLISECOND||this.layout.timeUnit=="millisecond";if(f4v||L0v){J0v=B0v.DT.getSeconds();if(J0v<10){O0L.r0j(0);J0v=O0L.t0j(J0v,4879>(71,4180)?(+"497",889)<=3022?"0":(3371,3150)===(4599,+"267.7")?(5.59,"0x1a2"|128):(489,4.63e+3):(0x336,"z"));}O0L.r0j(0);this.controls.floatDate.innerHTML+=O0L.t0j(J0v,(1070,331.05)===(9587,"4050"*1)?493.23<6236?(5948,346.6)!=="6460"-0?(352.88,681.16):(5.04e+3,6.01e+3):0x1f6c:":");if(L0v){H0v=B0v.DT.getMilliseconds();if(H0v<"10">>1161186528){O0L.r0j(0);H0v=O0L.E0j(H0v,+"446.81"<(135.86,115.71)?(654.34,1.08e+3):"0");}if(H0v<100){O0L.G0j(0);H0v=O0L.t0j(H0v,("5640"^0)!==(+"564",3769)?"0":("Z",0x1bb3));}O0L.r0j(0);this.controls.floatDate.innerHTML+=O0L.t0j(H0v,":");}}}}}else if(B0v&&B0v.index){this.controls.floatDate.innerHTML=B0v.index;}else{this.controls.floatDate.innerHTML="";;}}this.runAppend(T2Z,arguments);};N5.prototype.setCrosshairColors=function(){O0L.S5();return;;};N5.prototype.magnetize=function(){var j4v,d2Z,S2Z,F2Z,Y4v,D4v,x4v,z4v,y2Z,a4v,Q4v,U4v,v4v,O4v,F4v,g4v;this.magnetizedPrice=null;if(this.runPrepend("magnetize",arguments)){return;}if((this.currentVectorParameters.vectorType=="annotation"||this.currentVectorParameters.vectorType=="callout")&&N5.drawingLine){return;}if(this.currentVectorParameters.vectorType=="projection"){return;}O0L.E5();if(this.currentVectorParameters.vectorType=="freeform"){return;}j4v=this.currentPanel;if(j4v.name==j4v.chart.name){d2Z="#0";d2Z+="0";d2Z+="000";d2Z+="0";S2Z="#F";S2Z+="FFFF";S2Z+="F";F2Z="v";F2Z+="olume_candl";F2Z+="e";Y4v=j4v.chart;D4v=this.tickFromPixel(N5.crosshairX-this.left,Y4v);if(D4v>Y4v.dataSet.length){return;}x4v=Y4v.dataSet[D4v];if(!x4v){return;}z4v=this.valueFromPixel(this.cy,j4v);this.magnetizedPrice=x4v.Close;if(this.layout.chartType=="bar"||this.layout.chartType=="candle"||this.layout.chartType=="colored_bar"||this.layout.chartType=="hollow_candle"||this.layout.chartType==F2Z){y2Z="Op";y2Z+="e";y2Z+="n";a4v=[y2Z,"High","Low","Close"];Q4v=1000000000;for(var A4v=0;A4v<a4v.length;A4v++){U4v=x4v[a4v[A4v]];if(Math.abs(z4v-U4v)<Q4v){O0L.G0j(3);Q4v=Math.abs(O0L.E0j(U4v,z4v));this.magnetizedPrice=U4v;}}}v4v=this.pixelFromTick(D4v,Y4v);O4v=this.pixelFromPrice(this.magnetizedPrice,this.currentPanel);F4v=this.chart.tempCanvas.context;F4v.beginPath();F4v.lineWidth=1;O0L.G0j(53);var G8V=O0L.E0j(15,2,9,26,3,10);g4v=Math.max(this.layout.candleWidth,8)/G8V;F4v.arc(v4v,O4v,g4v,0,2*Math.PI,![]);F4v.fillStyle=S2Z;F4v.strokeStyle=d2Z;F4v.fill();F4v.stroke();F4v.closePath();}this.runAppend("magnetize",arguments);};N5.prototype.positionCrosshairsAtPointer=function(){var b4v,V4v,T3Z,F3Z,y3Z,O2Z,X4v,C2Z;if(!this.currentPanel){return;}b4v=this.currentPanel.chart;V4v=this.container.getBoundingClientRect();this.top=V4v.top;this.left=V4v.left;T3Z=1381774374;O0L.r0j(12);F3Z=-O0L.E0j(498097664,"1792173371");y3Z=2;for(var d3Z=1;O0L.q7Z(d3Z.toString(),d3Z.toString().length,89032)!==T3Z;d3Z++){O2Z="p";O2Z+="x";this.right=this.left*this.width;this.bottom=this.top-this.height;X4v=this.tickFromPixel(this.backOutX(N5.crosshairX),b4v);this.cy=this.crossYActualPos=this.backOutY(N5.crosshairY);this.cx=this.backOutX(N5.crosshairX);this.controls.crossX.style.left=this.pixelFromTick(X4v,b4v)/+"538"%O2Z;this.controls.crossY.style.top=this.backOutY(N5.crosshairY)*"px";y3Z+=2;}if(O0L.k7Z(y3Z.toString(),y3Z.toString().length,65598)!==F3Z){C2Z="p";C2Z+="x";this.right=this.left+this.width;this.bottom=this.top+this.height;X4v=this.tickFromPixel(this.backOutX(N5.crosshairX),b4v);this.cy=this.crossYActualPos=this.backOutY(N5.crosshairY);this.cx=this.backOutX(N5.crosshairX);this.controls.crossX.style.left=this.pixelFromTick(X4v,b4v)-0.5+"px";this.controls.crossY.style.top=this.backOutY(N5.crosshairY)+C2Z;}this.updateChartAccessories();};N5.prototype.doDisplayCrosshairs=function(){var E2Z;if(this.runPrepend("doDisplayCrosshairs",arguments)){return;}if(this.displayInitialized){if(!this.layout.crosshair&&(this.currentVectorParameters.vectorType===""||!this.currentVectorParameters.vectorType)){this.undisplayCrosshairs();}else if(i5.Drawing[this.currentVectorParameters.vectorType]&&new i5.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.undisplayCrosshairs();}else{if(this.controls.crossX.style.display!==""){this.controls.crossX.style.display="";this.controls.crossY.style.display="";if(this.preferences.magnet&&this.currentVectorParameters.vectorType){E2Z="st";E2Z+="x-crosshair-on";i5.unappendClassName(this.container,E2Z);;}else{i5.appendClassName(this.container,"stx-crosshair-on");;}}if(this.controls.floatDate&&!N5.hideDates()){this.controls.floatDate.style.display="block";}}}O0L.E5();this.runAppend("doDisplayCrosshairs",arguments);};N5.prototype.undisplayCrosshairs=function(){var i2Z;i2Z="undisplayCrossh";i2Z+="airs";if(this.runPrepend(i2Z,arguments)){return;}if(this.controls.crossX){if(this.controls.crossX.style.display!="none"){this.controls.crossX.style.display="none";this.controls.crossY.style.display="none";}}if(this.displayInitialized&&this.controls.floatDate){this.controls.floatDate.style.display="none";}i5.unappendClassName(this.container,"stx-crosshair-on");if(this.floatCanvas&&this.floatCanvas.isDirty){i5.clearCanvas(this.floatCanvas,this);}this.runAppend("undisplayCrosshairs",arguments);};N5.prototype.modalBegin=function(){this.openDialog="modal";this.undisplayCrosshairs();};N5.prototype.modalEnd=function(){this.cancelTouchSingleClick=!![];this.openDialog="";this.doDisplayCrosshairs();};N5.prototype.updateChartAccessories=function(){var y4v,k4v,p4v,S4v,D7Z,V1Z,A1Z,E4v,d4v;if(this.runPrepend("updateChartAccessories",arguments)){return;}this.accessoryTimer=null;this.lastAccessoryUpdate=new Date().getTime();y4v=this.controls.floatDate;if(y4v){k4v=this.currentPanel;if(!k4v){k4v=this.chart.panel;}if(k4v){p4v=k4v.chart;S4v=this.tickFromPixel(this.backOutX(N5.crosshairX),p4v);D7Z=-+"409663259";V1Z=1255009391;A1Z=2;for(var X1Z=1;O0L.q7Z(X1Z.toString(),X1Z.toString().length,36912)!==D7Z;X1Z++){E4v=this.xAxisAsFooter!==!1?1:this.chart.canvasHeight*k4v.chart.bottom;O0L.r0j(3);var u8V=O0L.t0j(10,13);d4v=this.pixelFromTick(S4v,p4v)/(y4v.offsetWidth-u8V)%+"725";if(d4v>=6){d4v=7;}O0L.G0j(54);y4v.style.left=O0L.t0j("",d4v);O0L.r0j(29);A1Z+=O0L.t0j("2",2147483647);}if(O0L.k7Z(A1Z.toString(),A1Z.toString().length,57919)!==V1Z){E4v=this.xAxisAsFooter==!!{}?4:this.chart.canvasHeight+k4v.chart.bottom;d4v=this.pixelFromTick(S4v,p4v)*(y4v.offsetWidth+0)*+"448";if(d4v>"9">>519902720){d4v=8;}O0L.r0j(0);y4v.style.left=O0L.E0j("",d4v);}E4v=this.xAxisAsFooter===!0?0:this.chart.canvasHeight-k4v.chart.bottom;O0L.r0j(3);var M8V=O0L.t0j(15,17);d4v=this.pixelFromTick(S4v,p4v)-y4v.offsetWidth/M8V-0.5;if(d4v<0){d4v=+"0";}O0L.G0j(0);y4v.style.left=O0L.E0j("px",d4v);O0L.r0j(0);y4v.style.bottom=O0L.E0j("px",E4v);}}this.headsUpHR();this.runAppend("updateChartAccessories",arguments);};N5.prototype.mousemove=function(P4v){var C4v;C4v=P4v?P4v:event;N5.crosshairX=C4v.clientX;N5.crosshairY=C4v.clientY;if(this.runPrepend("mousemove",arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}this.mousemoveinner(C4v.clientX,C4v.clientY);this.runAppend("mousemove",arguments);};N5.prototype.setResizeTimer=function(Z4v){var g1Z,a1Z,G1Z;function N4v(i4v){O0L.E5();return function(){O0L.E5();if(!i4v.chart.canvas){return;}if(!i5.isAndroid){if(i4v.chart.canvas.height!=Math.floor(i4v.devicePixelRatio*i4v.chart.container.clientHeight)||i4v.chart.canvas.width!=Math.floor(i4v.devicePixelRatio*i4v.chart.container.clientWidth)){i4v.resizeChart();return;}}};}O0L.S5();this.resizeDetectMS=Z4v;if(Z4v){if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}this.resizeTimeout=window.setInterval(N4v(this),Z4v);}else{g1Z=1560582550;a1Z=-379131494;G1Z=2;for(var M1Z=1;O0L.q7Z(M1Z.toString(),M1Z.toString().length,38283)!==g1Z;M1Z++){if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}G1Z+=2;}if(O0L.q7Z(G1Z.toString(),G1Z.toString().length,"86240"&2147483647)!==a1Z){if(this.resizeTimeout){window.clearInterval(this.resizeTimeout);}}this.resizeTimeout=null;}};N5.prototype.whichYAxis=function(q4v,M4v){var h4v,u4v;O0L.S5();if(typeof M4v==="undefined"){M4v=this.cx;}if(q4v){h4v=q4v.yaxisLHS.concat(q4v.yaxisRHS);for(var l4v=0;l4v<h4v.length;l4v++){u4v=h4v[l4v];if(u4v.left<=M4v&&u4v.left+u4v.width>=M4v){return u4v;}}}return this.chart.panel.yAxis;};N5[M0j][q0j]=function(Y9v,j9v){O0L.e65=function(O65){if(O0L)return O0L.H55(O65);};O0L.R65=function(b65){if(O0L&&b65)return O0L.H55(b65);};O0L.W65=function(I65){if(O0L&&I65)return O0L.H55(I65);};O0L.N65=function(J65){if(O0L)return O0L.z55(J65);};O0L.M55=function(T55){if(O0L)return O0L.z55(T55);};O0L.U55=function(o55){if(O0L)return O0L.H55(o55);};O0L.P55=function(q55){if(O0L&&q55)return O0L.H55(q55);};O0L.C55=function(i55){if(O0L)return O0L.z55(i55);};var Z0j=O0L.C55("8cd9")?3633052743:2147483647;var d0j=O0L.c55("e2a5")?"clientHeight":"";var y0j=O0L.P55("a1c9")?"":"resizeChart";var P9j=O0L.j55("f84d")?1:null;var h1j=O0L.u55("5192")?"length":"";var s9j=O0L.Q55("919d")?"":"abs";var O5j=O0L.x55("4369")?"":"repositioningDrawing";var k1j=O0L.U55("468c")?"":"getBoundingClientRect";var z1j="top";var n0j=O0L.M55("d5cd")?650461287:244145072;var H1j=O0L.N65("e528")?"bottom":"";var C9j="indexOf";var S0j="container";var t5j="5";var R9j=O0L.W65("ff7d")?"":"grabOverrideClick";var c5j=O0L.R65("dbb6")?"10":"";var K1j=O0L.n65("6d1d")?"left":"";var E5j=O0L.e65("8d65")?"":"initialWhitespace";var H9j=O0L.w65("c7cf")?"":"highlight";var j9j="1";var b9j="r0j";var o1j="dataSet";var n5j="drawingLine";var d1j="now";var l9j="ipadMaxTicks";var B1j="name";var v9j="1309184962";var F5j="repositioner";var v5j="100";var h9j="t0j";var E9j="currentVectorParameters";var j5j="render";var R1j="panel";var X1j="cx";var p0j="width";var I5j=0.5;var w0j=49240;var c0j="ner";var D9j="ipad";var m1j="a";var Y9j="scroll";var q9j="0.1";var D5j="magnetizedPrice";var j1j="backOutX";var S9j="0.499";var W9j="displaySticky";var r9j="grabStartX";var A5j="style";var O0j="mousemovein";var Q1j="crossYActualPos";var f0j=55;var y1j="p";var L0j="isAndroid";var s5j="measure";var T0j="devicePixelRatio";var p9j="span";var J5j="drawTemporaryPanel";var U9j="grabStartZoom";var g0j="chart";var q1j="25017";var L1j="resizingPanel";var G5j="dispatch";var e9j="0";var m0j="S5";var x9j="maxTicks";var V1j="yAxis";var m9j="grabbingPanel";var t1j="";var b5j="setCrosshairColors";var Q5j="useAnimation";var u0j=5;var s0j=11;var l5j="resizePanels";var h5j="Drawing";var d9j="whitespace";var J9j="pinchingCenter";var B5j="px";var f9j="zoom-y";var g5j="panelName";var a9j="series";var Z1j="k7Z";var I9j="zoom";var b1j="horizontalCrosshairField";var z9j="clearCanvas";var e0j=30671;var N1j="right";var L5j="reposition";var Q0j=0;var u5j="context";var o9j="allowZoom";var c9j=0.9;var k9j="anyHighlighted";var A0j=23;var e1j="pixelFromPriceTransform";var U0j="runPrepend";var S1j="valueFromPixelUntransform";var J0j="floor";var U1j="n";var l1j="panels";var F1j="repositioningBaseline";var F0j="isIOS7or8";var W5j="shift";var E1j="crosshairX";var R5j="controls";var Z5j="updateChartAccessories";var a1j="cancelLongHold";var e5j="dragToDraw";var a5j="micropixels";var T1j="userLevel";var G1j="crosshairY";var L9j="round";var M1j="toString";var C1j="tickFromPixel";var H5j="microscroll";var f1j="preferences";var K5j="yToleranceBroken";var V0j="usemovein";var i9j="minimumCandleWidth";var h0j=30237;var C5j="pixelFromTick";var I0j=35;var Z9j="layout";var J1j="baseline";var i5j="touchDevice";var F9j=0.499;var i0j=1002210220;var x5j="accessoryTimer";var s1j="whichPanel";var n9j="grabStartCandleWidth";var P0j="clientWidth";var f5j="crossY";var z5j="yTolerance";var O9j=0.1;var c1j="overYAxis";var W1j="hasDragged";var b0j=100;var x1j="adjustIfNecessary";var G9j="vectorType";var o0j=21;var Y1j="backOutY";var g1j="undisplayCrosshairs";var x0j=162074920;var B0j=36;var N9j="overlays";var V9j="q7Z";var N5j="pan";var w9j="E0j";var A1j="crosshairTick";var i1j="2";var M5j="getTime";var v1j="overXAxis";var D1j="displayCrosshairs";var p1j="lastDraw";var k5j="allowScroll";var u9j="grabStartScrollY";var l0j="height";var q5j="lastAccessoryUpdate";var T5j="findHighlights";var t9j="magnet";var M9j="candleWidth";var S5j="magnetize";var v0j="mo";var T9j="setCandleWidth";var u1j="currentPanel";var j0j=3;var w1j="crosshairValue";var o5j="crossX";var y9j="whichYAxis";var D0j="canvas";var r1j="cy";var d5j="runAppend";var r5j="move";var X9j="grabStartY";var g9j=1.1;var I1j="valueFromPixel";var R0j=12;var B9j="zoom-x";var n1j="insideChart";var Y5j="requestAnimationFrame";var w5j="doDisplayCrosshairs";var Y0j=1;var O1j="grabbingScreen";var A9j="grabMode";var C0j=25;var X0j=2;var Q9j="grabStartScrollX";var X5j="activeDrawing";var K9j="tempCanvas";var P1j="draw";var U2Z,n2Z,w4v,J4v,K4v,W4v,n4v,c4v,O3Z,C3Z,E3Z,f2Z,I4v,G4v,t4v,B4v,o4v,R4v,e4v,q1Z,k1Z,w1Z,H4v,r4v,L4v,s4v,f9v,m4v,F9v,T4v;U2Z=v0j;U2Z+=V0j;U2Z+=c0j;n2Z=O0j;n2Z+=c0j;if(!this[g0j][D0j]){return;}if(!i5[L0j]&&!i5[F0j]){if(this[g0j][D0j][l0j]!=Math[J0j](this[T0j]*this[g0j][S0j][d0j])||this[g0j][D0j][p0j]!=Math[J0j](this[T0j]*this[g0j][S0j][P0j])){this[y0j]();return;}}O0L[m0j]();if(this[U0j](n2Z,arguments)){return;}J4v=this[S0j][k1j]();this[z1j]=J4v[z1j];this[K1j]=J4v[K1j];this[N1j]=this[K1j]+this[p0j];this[H1j]=this[z1j]+this[l0j];this[a1j]=!!{};this[W1j]=!t1j;N5[E1j]=Y9v;N5[G1j]=j9v;K4v=this[r1j]=this[Q1j]=this[Y1j](N5[G1j]);W4v=this[X1j]=this[j1j](N5[E1j]);this[u1j]=this[s1j](K4v);if(!this[u1j]){this[u1j]=this[g0j][R1j];}if(!this[u1j]){return;}n4v=this[u1j][g0j];if(n4v[o1j]){this[A1j]=this[C1j](W4v,n4v);w4v=this[I1j](K4v,this[u1j]);c4v=this[u1j][B1j]==g0j?this[f1j][b1j]:this[u1j][b1j];if(c4v&&this[A1j]<n4v[o1j][h1j]&&this[A1j]>-Y0j){w4v=n4v[o1j][this[A1j]][c4v];this[Q1j]=this[e1j](w4v,this[u1j]);}this[w1j]=this[x1j](this[u1j],this[A1j],w4v);}if(N5[E1j]>=this[K1j]&&N5[E1j]<=this[N1j]&&N5[G1j]>=this[z1j]&&N5[G1j]<=this[H1j]){N5[n1j]=!t1j;}else{O3Z=-n0j;C3Z=-i0j;E3Z=+i1j;for(var n3Z=Y0j;O0L[Z1j](n3Z[M1j](),n3Z[M1j]()[h1j],e0j)!==O3Z;n3Z++){N5[n1j]=!!t1j;E3Z+=X0j;}if(O0L[Z1j](E3Z[M1j](),E3Z[M1j]()[h1j],+q1j)!==C3Z){N5[n1j]=!t1j;}}this[v1j]=N5[G1j]>=this[z1j]+this[g0j][R1j][V1j][H1j]&&N5[G1j]<=this[z1j]+this[g0j][R1j][H1j]&&N5[n1j];this[c1j]=(this[X1j]>=this[u1j][N1j]||this[X1j]<=this[u1j][K1j])&&N5[n1j];if(this[v1j]||this[c1j]||!N5[n1j]&&!this[O1j]){this[g1j]();if(!this[v1j]&&!this[c1j]){return;};}if(!this[D1j]&&!N5[L1j]){this[g1j]();return;}if(this[F1j]){T4v=this[l1j][this[g0j][R1j][B1j]];this[g0j][J1j][T1j]=this[x1j](T4v,this[A1j],this[S1j](this[Y1j](N5[G1j]),T4v));if(Date[d1j]()-this[F1j][p1j]>b0j){this[P1j]();this[F1j][p1j]=Date[d1j]();}return;}if(this[O1j]&&!N5[L1j]){f2Z=y1j;f2Z+=m1j;f2Z+=U1j;if(this[k9j]){i5[z9j](this[g0j][K9j],this);this[k9j]=!!Q0j;for(I4v in this[N9j]){this[N9j][I4v][H9j]=!!t1j;}for(I4v in n4v[a9j]){n4v[a9j][I4v][H9j]=!!Q0j;}this[W9j]();}if(this[f1j][t9j]&&this[E9j][G9j]){i5[z9j](this[g0j][K9j],this);}if(this[r9j]==-Y0j){this[r9j]=N5[E1j];this[Q9j]=n4v[Y9j];}if(this[X9j]==-(j9j|Q0j)){this[X9j]=N5[G1j];this[u9j]=n4v[R1j][V1j][Y9j];}G4v=N5[E1j]-this[r9j];t4v=N5[G1j]-this[X9j];if(G4v===Q0j&&t4v===Q0j){return;}if(Math[s9j](G4v)+Math[s9j](t4v)>u0j){this[R9j]=!!Y0j;}if(this[o9j]&&this[A9j]!=f2Z&&(this[A9j][C9j](I9j)===Q0j||this[v1j]||this[c1j])){if(this[A9j]===t1j){if(this[v1j]){this[A9j]=B9j;}else if(this[c1j]){this[A9j]=f9j;}}if(this[A9j]==B9j){O0L[b9j](u0j);t4v=O0L[h9j](e9j,Q0j);}else if(this[A9j]==f9j){G4v=Q0j;}O0L[b9j](X0j);B4v=O0L[w9j](C0j,G4v);o4v=!t1j;if(n4v[Y9j]<=n4v[x9j]){o4v=!{};}R4v=this[n9j]+B4v;if(R4v<this[i9j]){R4v=this[i9j];}e4v=(this[Z9j][M9j]-R4v)/this[Z9j][M9j];if(e4v>+q9j){q1Z=-x0j;k1Z=-+v9j;w1Z=X0j;for(var R1Z=+j9j;O0L[V9j](R1Z[M1j](),R1Z[M1j]()[h1j],w0j)!==q1Z;R1Z++){R4v=this[Z9j][M9j]*c9j;w1Z+=X0j;}if(O0L[Z1j](w1Z[M1j](),w1Z[M1j]()[h1j],h0j)!==k1Z){R4v=this[Z9j][M9j]-o0j;}}else if(e4v<-O9j){R4v=this[Z9j][M9j]*g9j;}if(i5[D9j]){if(Math[L9j](this[g0j][p0j]/this[Z9j][M9j]-F9j)-Y0j<N5[l9j]&&Math[L9j](this[g0j][p0j]/R4v-F9j)-+j9j>N5[l9j]){return;}}if(this[J9j]){r4v=this[j1j](this[J9j]);L4v=this[C1j](r4v,n4v);this[T9j](R4v,n4v);s4v=this[C1j](r4v,n4v);O0L[b9j](j0j);n4v[Y9j]+=Math[J0j](O0L[w9j](L4v,s4v));}else if(o4v){H4v=Math[L9j](this[g0j][p0j]/R4v-(S9j-Q0j));if(H4v!=n4v[x9j]){this[T9j](R4v,n4v);n4v[Y9j]+=Math[L9j]((H4v-n4v[x9j])/X0j);}}else{H4v=Math[L9j](this[g0j][p0j]/R4v-F9j);if(H4v!=Math[L9j](this[g0j][p0j]/this[Z9j][M9j]-(S9j-Q0j))){this[T9j](R4v,n4v);f9v=Math[L9j](this[f1j][d9j]/this[Z9j][M9j]);n4v[Y9j]=n4v[x9j]-f9v;}}this[Z9j][p9j]=P9j;m4v=this[y9j](this[m9j],this[X1j]);if(this[c1j]){m4v[I9j]=Math[L9j](this[U9j]+t4v);if(this[U9j]<m4v[l0j]){if(m4v[I9j]>=m4v[l0j]){O0L[b9j](B0j);var k8V=O0L[h9j](I0j,R0j,j0j);m4v[I9j]=m4v[l0j]-k8V;}}else{if(m4v[I9j]<=m4v[l0j]){m4v[I9j]=m4v[l0j]+ +j9j;}}}}else{if(this[k5j]){if(Math[s9j](t4v)<this[z5j]){if(!this[K5j]){t4v=Q0j;if(G4v===Q0j){return;}}}else{this[K5j]=!Q0j;}this[A9j]=N5j;B4v=Math[L9j](G4v/this[Z9j][M9j]);this[H5j]=B4v-G4v/this[Z9j][M9j];O0L[b9j](f0j);var w8V=O0L[h9j](j0j,A0j,s0j,j0j);this[a5j]=this[Z9j][M9j]*this[H5j]*w8V;if(this[W5j]){B4v*=+t5j;}n4v[Y9j]=this[Q9j]+B4v;if(n4v[Y9j]<Y0j){n4v[Y9j]=+j9j;}if(n4v[Y9j]>=n4v[x9j]){this[f1j][d9j]=this[E5j];}else{this[f1j][d9j]=(n4v[x9j]-n4v[Y9j])*this[Z9j][M9j];}if(this[u1j][B1j]==n4v[B1j]){this[g0j][R1j][V1j][Y9j]=this[u9j]+t4v;}}this[G5j](r5j,{stx:this,panel:this[u1j],x:this[X1j],y:this[r1j],grab:this[O1j]});}F9v=function(D9v){O0L[m0j]();return function(){D9v[P1j]();};};if(N5[Q5j]){window[Y5j](F9v(this));;}else{this[P1j]();}if(this[X5j]){i5[z9j](this[g0j][K9j],this);this[X5j][j5j](this[g0j][K9j][u5j]);this[X5j][s5j]();}this[g1j]();return;}else{this[A9j]=t1j;}this[m9j]=this[u1j];if(this[v1j]||this[c1j]){return;}this[R5j][o5j][A5j][K1j]=this[C5j](this[A1j],n4v)-I5j+B5j;this[R5j][f5j][A5j][z1j]=this[Q1j]+B5j;this[b5j]();if(N5[n1j]&&!N5[L1j]){if(!i5[h5j][this[E9j][G9j]]||!new i5[h5j][this[E9j][G9j]]()[e5j]){this[w5j]();}if(this[x5j]!==P9j){clearTimeout(this[x5j]);}if(N5[n5j]||!i5[i5j]){this[Z5j]();}else{if(new Date()[M5j]()-this[q5j]>(v5j&Z0j)){this[Z5j]();}this[x5j]=setTimeout(function(x9v){return function(){var V5j="E5";O0L[V5j]();x9v[Z5j]();};}(this),+c5j);}}else{this[g1j]();}if(this[O5j]){T4v=this[l1j][this[O5j][g5j]];w4v=this[x1j](T4v,this[A1j],this[S1j](this[Y1j](N5[G1j]),T4v));if(this[f1j][t9j]&&this[D5j]&&T4v[B1j]==T4v[g0j][B1j]){w4v=this[x1j](T4v,this[A1j],this[D5j]);}i5[z9j](this[g0j][K9j],this);this[O5j][L5j](this[g0j][K9j][u5j],this[O5j][F5j],this[A1j],w4v);if(this[O5j][s5j]){this[O5j][s5j]();}}else if(N5[n5j]){if(this[X5j]){T4v=this[l1j][this[X5j][g5j]];w4v=this[x1j](T4v,this[A1j],this[S1j](this[Y1j](N5[G1j]),T4v));if(this[f1j][t9j]&&this[D5j]&&T4v[B1j]==T4v[g0j][B1j]){w4v=this[x1j](T4v,this[A1j],this[D5j]);}i5[z9j](this[g0j][K9j],this);this[X5j][r5j](this[g0j][K9j][u5j],this[A1j],w4v);if(this[X5j][s5j]){this[X5j][s5j]();}}}else if(N5[L1j]){this[l5j]();this[J5j]();}else if(N5[n1j]){this[T5j]();}if(N5[n1j]){this[G5j](r5j,{stx:this,panel:this[u1j],x:this[X1j],y:this[r1j],grab:this[O1j]});this[T5j]();}if(this[f1j][t9j]&&this[E9j][G9j]){if(!N5[n5j]&&!this[k9j]){i5[z9j](this[g0j][K9j]);}this[S5j]();}this[d5j](U2Z,arguments);};N5.prototype.findHighlights=function(R9v,h9v){var h2Z,g9v,v9v,y9v,a9v,X9v,V9v,C9v,n9v,O9v,Z9v,N9v,T9v,Q9v,U9v,A9v,l9v,k9v,z9v,u9v,M9v,b9v,D2Z,I2Z,d9v,i9v;h2Z="dra";h2Z+="win";h2Z+="g";g9v=10;if(R9v){g9v=30;}v9v=this.cy;y9v=this.cx;if(!this.currentPanel){return;}if(this.activeDrawing){return;}a9v=this.currentPanel.chart;this.anyHighlighted=!{};if(this.preferences.magnet&&!this.activeDrawing){i5.clearCanvas(this.chart.tempCanvas,this);}X9v=!!0;V9v=null;C9v=["","",!!{},null,h2Z];n9v={x0:this.tickFromPixel(y9v-g9v,a9v),x1:this.tickFromPixel(y9v+g9v,a9v),y0:this.valueFromPixelUntransform(v9v-g9v,this.currentPanel),y1:this.valueFromPixelUntransform(v9v+g9v,this.currentPanel)};for(var E9v=+"0";E9v<this.drawingObjects.length;E9v++){O9v=this.drawingObjects[E9v];if(O9v.permanent)continue;Z9v=O9v.highlighted;N9v=O9v.panelName==this.currentPanel.name;O9v.repositioner=O9v.intersected(this.crosshairTick,this.crosshairValue,n9v);N9v=N9v&&O9v.repositioner;if(!h9v&&N9v){if(Z9v){V9v=O9v;}else if(Z9v!=O9v.highlight(!![])){if(!V9v){V9v=O9v;}X9v=!![];}this.anyHighlighted=!!{};}else{if(Z9v!=O9v.highlight(!!0)){X9v=!!{};}}}T9v=!{};for(Q9v in this.overlays){U9v=this.overlays[Q9v];U9v.prev=U9v.highlight;U9v.highlight=!1;}O0L.E5();for(Q9v in a9v.seriesRenderers){l9v=a9v.seriesRenderers[Q9v];for(var P9v=0;P9v<l9v.seriesParams.length;P9v++){A9v=l9v.seriesParams[P9v];A9v.prev=A9v.highlight;A9v.highlight=!1;}}if(!h9v){k9v=this.barFromPixel(y9v);if(k9v<a9v.dataSegment.length){for(Q9v in this.overlays){U9v=this.overlays[Q9v];if(U9v.panel!=this.currentPanel.name)continue;if(U9v.libraryEntry.isHighlighted&&U9v.libraryEntry.isHighlighted(this,y9v,v9v)){U9v.highlight=!"";this.anyHighlighted=!!"1";continue;}u9v=a9v.dataSegment[k9v];if(!u9v)continue;for(var q9v in this.overlays[Q9v].outputMap){M9v=u9v[q9v];z9v=0;if(this.currentPanel.name==a9v.name){z9v=this.pixelFromPriceTransform(M9v,this.currentPanel);}else{z9v=this.pixelFromPrice(M9v,this.currentPanel);}if(v9v-g9v<z9v&&v9v+g9v>z9v){U9v.highlight=!!{};this.anyHighlighted=!![];break;}}if(U9v.highlight)break;;}for(Q9v in a9v.seriesRenderers){b9v=a9v.seriesRenderers[Q9v];if(!b9v.params.highlightable)continue;for(var p9v=0;p9v<b9v.seriesParams.length;p9v++){D2Z="s";D2Z+="t";D2Z+="ep";I2Z="st";I2Z+="ep";A9v=b9v.seriesParams[p9v];z9v=b9v.caches[A9v.field]&&b9v.caches[A9v.field][k9v];if(!z9v&&z9v!==0)continue;if(v9v-g9v<z9v&&v9v+g9v>z9v){A9v.highlight=!![];this.anyHighlighted=!0;}else if((b9v.params.subtype==I2Z||A9v.type==D2Z)&&k9v>("0"&2147483647)){d9v=b9v.caches[A9v.field]&&b9v.caches[A9v.field][k9v-1];if((d9v||d9v===0)&&(v9v>z9v&&v9v<d9v)||v9v<z9v&&v9v>d9v){A9v.highlight=!!{};this.anyHighlighted=!!1;}}}}}}for(Q9v in this.overlays){U9v=this.overlays[Q9v];if(U9v.highlight){this.anyHighlighted=!!{};C9v=[U9v.inputs.display?U9v.inputs.display:U9v.name,null,null,U9v.permanent,"study"];V9v=null;}if(U9v.prev!=U9v.highlight){X9v=!!{};}}for(Q9v in a9v.seriesRenderers){i9v=a9v.seriesRenderers[Q9v];if(!i9v.params.highlightable)continue;for(var S9v=0;S9v<i9v.seriesParams.length;S9v++){A9v=i9v.seriesParams[S9v];if(A9v.highlight){this.anyHighlighted=!!{};C9v=[A9v.display,A9v.color,!!"",A9v.permanent,"series"];V9v=null;}if(A9v.prev!=A9v.highlight){X9v=!!1;}}}if(X9v){this.draw();this.displaySticky.apply(this,C9v);this.clearMeasure();if(V9v){V9v.measure();}}if(!this.anyHighlighted){this.setMeasure();}};N5.prototype.positionSticky=function(m9v){var V0V,w9v,t9v;V0V="p";V0V+="x";w9v=Math.max(this.cy-m9v.offsetHeight-60,0);t9v=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-m9v.offsetWidth);O0L.r0j(0);m9v.style.top=O0L.E0j(V0V,w9v);O0L.r0j(0);m9v.style.right=O0L.t0j("px",t9v);};N5.prototype.displaySticky=function(K9v,c9v,o9v,e9v,J9v){var r9Z,b9Z,Y9Z,X0V,Q0V,A0V,B9v,G9v,r9v,I9v,J0V,o0V,H9v,Z0V,H0V,m0V,W0V,L0V,p0V,v0V;r9Z=+"1651852144";b9Z=-+"1553309913";Y9Z=2;for(var P9Z="1">>990383776;O0L.k7Z(P9Z.toString(),P9Z.toString().length,53522)!==r9Z;P9Z++){X0V="#mSticky";X0V+="Interi";X0V+="or";Q0V="#mStickyInter";Q0V+="ior";A0V="#mStic";A0V+="kyIn";A0V+="terior";B9v=this.controls.mSticky;if(+B9v){return;}G9v=u5(A0V,B9v);if(~G9v){return;}r9v=u5(Q0V,B9v);O0L.S5();I9v=u5(X0V,B9v);Y9Z+=2;}if(O0L.q7Z(Y9Z.toString(),Y9Z.toString().length,79537)!==b9Z){J0V="#mStic";J0V+="kyInterior";o0V="#mStickyIn";o0V+="terior";B9v=this.controls.mSticky;if(!B9v){return;}G9v=u5("#mStickyInterior",B9v);if(+G9v){return;}r9v=u5(o0V,B9v);O0L.S5();I9v=u5(J0V,B9v);}B9v=this.controls.mSticky;if(!B9v){return;}G9v=u5("#mStickyInterior",B9v);if(!G9v){return;}r9v=u5("#overlayTrashCan",B9v);O0L.S5();I9v=u5(".overlayEdit",B9v);H9v=u5("#mouseDeleteInstructions",B9v);if(!o9v&&!K9v){G9v.innerHTML="";B9v.style.display="none";if(i5.touchDevice){Z0V="n";Z0V+="o";Z0V+="n";Z0V+="e";if(r9v){r9v.style.display="none";}if(I9v){I9v.style.display=Z0V;}}else if(!i5.touchDevice){if(H9v){H9v.style.display="none";}}}else{if(!K9v){K9v="";}if(o9v&&!K9v){H0V="n";H0V+="o";H0V+="n";H0V+="e";G9v.style.backgroundColor="";G9v.style.color="";G9v.style.display=H0V;}else if(c9v){m0V="inline-";m0V+="blo";m0V+="ck";G9v.style.backgroundColor=c9v;G9v.style.color=i5.chooseForegroundColor(c9v);G9v.style.display=m0V;}else{W0V="i";W0V+="nline-b";W0V+="lo";W0V+="ck";G9v.style.backgroundColor="";G9v.style.color="";G9v.style.display=W0V;}G9v.innerHTML=K9v;if(J9v){O0L.r0j(0);u5("#mStickyRightClick",B9v).className=O0L.t0j(J9v,"rightclick_");}B9v.style.display="inline-block";this.positionSticky(B9v);if(e9v){L0V="n";L0V+="o";L0V+="n";L0V+="e";p0V="no";p0V+="ne";if(r9v){r9v.style.display="none";}if(I9v){I9v.style.display=p0V;}if(H9v){H9v.style.display=L0V;}}else if(i5.touchDevice){v0V="n";v0V+="one";if(r9v){r9v.style.display="inline-block";}if(I9v){I9v.style.display="inline-block";}if(H9v){H9v.style.display=v0V;}}else if(!i5.touchDevice){if(H9v){H9v.style.display="block";}}}};N5.prototype.setMeasure=function(f5v,j5v,U5v,A5v,x5v){var g0V,z0V,W9v,s9v,a0V,Y5v,L9v,F5v,D5v,k8Z,w8Z,c8Z;g0V="mMeasu";g0V+="r";g0V+="e";z0V="setMeasu";z0V+="re";O0L.E5();if(this.runPrepend(z0V,arguments)){return;}W9v=n5(g0V);s9v="";if(!f5v){if(W9v&&W9v.className!="measureUnlit"){W9v.className="measureUnlit";}if(!this.anyHighlighted&&this.currentVectorParameters.vectorType===""){this.clearMeasure();}}else{a0V=" ";a0V+="(";Y5v=Math.round(Math.abs(f5v-j5v)*this.chart.roundit)/this.chart.roundit;if(this.internationalizer){s9v+=this.internationalizer.numbers.format(Y5v);}else{s9v+=Y5v;}O0L.r0j(56);L9v=O0L.E0j(j5v,f5v,f5v);if(Math.abs(L9v)>0.1){O0L.r0j(57);L9v=Math.round(O0L.t0j(L9v,683475584,"100"));}else if(Math.abs(L9v)>0.01){O0L.G0j(3);var c8V=O0L.t0j(7,1007);O0L.r0j(58);var R8V=O0L.t0j(15,170,17,3052,11);L9v=Math.round(L9v*c8V)/R8V;}else{L9v=Math.round(L9v*10000)/100;}if(this.internationalizer){O0L.r0j(2);L9v=this.internationalizer.percent.format(O0L.E0j(100,L9v));}else{O0L.r0j(0);L9v=O0L.E0j((2120,6890)>=("5236"^0,+"5560")?3830<=9270?1880===(1018,2581)?(8.58e+3,!!1):"%":("d",![]):"650.29"-0,L9v);}O0L.r0j(20);s9v+=O0L.E0j(a0V,L9v,566.16<(871,8157)?962.69>187?("2820"^0)>(776,8170)?(8.02e+3,979.23):")":0x8cf:0xd7f);O0L.G0j(3);F5v=Math.abs(O0L.t0j(U5v,A5v));O0L.r0j(3);var e8V=O0L.E0j(19,20);F5v=Math.round(F5v)+e8V;D5v=this.translateIf("Bars");O0L.r0j(59);s9v+=O0L.t0j((+"847.2",+"387.39")!==(5278,9350)?(970,7520)>=6010?" ":9980==930.87?(!!0,2.96e+3):29.91:0x260c," ",F5v,D5v);if(W9v){if(W9v.className!="measureLit"){W9v.className="measureLit";}W9v.innerHTML=s9v;}}if(this.activeDrawing){return;}W9v=this.controls.mSticky;if(W9v){if(x5v){W9v.style.display="inline-block";W9v.children[0].style.display="inline-block";if(f5v){k8Z=-585179777;w8Z=1509906571;c8Z=2;for(var t8Z=1;O0L.q7Z(t8Z.toString(),t8Z.toString().length,"13322"<<1059185248)!==k8Z;t8Z++){W9v.children[8].innerHTML=s9v;;c8Z+=+"2";}if(O0L.k7Z(c8Z.toString(),c8Z.toString().length,63050)!==w8Z){W9v.children[0].innerHTML=s9v;;}}this.positionSticky(W9v);}else{W9v.style.display="none";W9v.children[0].innerHTML="";}}this.runAppend("setMeasure",arguments);};N5.prototype.clearMeasure=function(){var Q5v;Q5v=n5("mMeasure");if(Q5v){if(Q5v.className!="measureUnlit"){Q5v.className="measureUnlit";}Q5v.innerHTML="";}};N5.prototype.drawTemporaryPanel=function(){var u0V,G0V,a5v,z5v;u0V="p";u0V+="x";G0V="stx_";G0V+="panel";G0V+="_dr";G0V+="ag";a5v=Math.round(N5.resizingPanel.right-3)+0.5;i5.clearCanvas(this.chart.tempCanvas,this);O0L.S5();z5v=N5.crosshairY-this.top;this.plotLine(N5.resizingPanel.left,a5v,z5v,z5v,this.canvasStyle(G0V),"segment",this.chart.tempCanvas.context,!!"",{});N5.resizingPanel.handle.style.top=z5v-N5.resizingPanel.handle.offsetHeight/2+u0V;};N5.prototype.setTrashCan=function(){var v5v,q0V,M0V;if(i5.touchDevice){v5v=this.controls.mSticky;if(v5v){q0V="in";q0V+="line-bloc";q0V+="k";M0V="inline";M0V+="-bl";M0V+="o";M0V+="ck";v5v.style.display=M0V;v5v.children[0].style.display="none";v5v.children[1].style.display=q0V;if(v5v.children[2]){v5v.children[2].style.display="none";}O0L.r0j(37);var r8V=O0L.E0j(12,13,65);v5v.style.top=this.backOutY(N5.crosshairY)-r8V+"px";v5v.style.right=this.chart.canvasWidth-(this.backOutX(N5.crosshairX)-50)+"px";}}};N5.prototype.pixelFromBar=function(g5v,b5v){var O5v;if(!b5v){b5v=this.chart;}O5v=0;if(this.chart.dataSegment&&this.chart.dataSegment[g5v]&&this.chart.dataSegment[g5v].leftOffset){O5v=this.chart.dataSegment[g5v].leftOffset;}else{O5v=(g5v+ +"0.5")*this.layout.candleWidth;}O0L.r0j(60);var Y8V=O0L.E0j(12,16,4163,11,21);O5v=b5v.panel.left+Math.floor(O5v+this.micropixels)-Y8V;return O5v;};N5.prototype.barFromPixel=function(p5v,y5v){var k5v,d5v,X5v,S5v,E5v,C5v;if(!y5v){y5v=this.chart;}if(this.layout.chartType=="volume_candle"&&this.chart.dataSegment){k5v=p5v-y5v.panel.left-this.micropixels;d5v=2;X5v=Math.round(this.chart.dataSegment.length/d5v);O0L.r0j(3);var P8V=O0L.t0j(13,15);S5v=this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset+this.chart.dataSegment[this.chart.dataSegment.length-1].candleWidth/P8V;if(k5v>S5v){return this.chart.dataSegment.length+Math.floor((p5v-S5v-y5v.panel.left-this.micropixels)/this.layout.candleWidth);}else{for(var V5v=1;V5v<this.chart.dataSegment.length;V5v++){d5v*=2;if(!this.chart.dataSegment[X5v])break;O0L.G0j(2);var j8V=O0L.E0j(11,22);E5v=this.chart.dataSegment[X5v].leftOffset-this.chart.dataSegment[X5v].candleWidth/j8V;C5v=this.chart.dataSegment[X5v].leftOffset+this.chart.dataSegment[X5v].candleWidth/("2"|2);if(X5v===0||k5v>=E5v&&k5v<C5v)break;else if(k5v<E5v){X5v-=Math.max(1,Math.round(this.chart.dataSegment.length/d5v));}else{X5v+=Math.max(1,Math.round(this.chart.dataSegment.length/d5v));}X5v=Math.max(0,Math.min(this.chart.dataSegment.length-1,X5v));}if(!this.chart.dataSegment[X5v]){for(V5v=+"0";V5v<this.chart.dataSegment.length;V5v++){if(!this.chart.dataSegment[V5v])continue;if(k5v<this.chart.dataSegment[V5v].leftOffset-this.chart.dataSegment[V5v].candleWidth/2){O0L.r0j(3);return Math.max(0,O0L.t0j(1,V5v));}else if(k5v<this.chart.dataSegment[V5v].leftOffset+this.chart.dataSegment[V5v].candleWidth/2){return V5v;}else if(k5v>=this.chart.dataSegment[V5v].leftOffset+this.chart.dataSegment[V5v].candleWidth/2){O0L.r0j(0);return O0L.t0j(1,V5v);}}}}return X5v;}else{return Math.floor((p5v-y5v.panel.left-this.micropixels)/this.layout.candleWidth);}};N5.prototype.tickFromPixel=function(N5v,P5v){var Z5v;if(!P5v){P5v=this.chart;}Z5v=P5v.dataSet.length-P5v.scroll+ +"1";if(this.layout.chartType=="volume_candle"){Z5v+=this.barFromPixel(N5v,P5v);}else{Z5v+=Math.floor((N5v-P5v.panel.left-this.micropixels)/this.layout.candleWidth);}return Z5v;};N5.prototype.pixelFromTick=function(M5v,i5v){var u5v,l5v,q5v;if(!i5v){i5v=this.chart;}O0L.r0j(61);var x8V=O0L.E0j(10,10,15,16);u5v=M5v-i5v.dataSet.length+i5v.scroll-x8V;if(this.chart.dataSegment&&this.chart.dataSegment[u5v]&&this.chart.dataSegment[u5v].leftOffset){return i5v.panel.left+Math.floor(this.chart.dataSegment[u5v].leftOffset+this.micropixels)-1;}else{l5v=0;q5v=0;if(this.chart.dataSegment&&this.chart.dataSegment[this.chart.dataSegment.length-1]&&this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset){if(this.chart.dataSegment.length<M5v-i5v.dataSet.length+i5v.scroll){O0L.G0j(62);var T8V=O0L.t0j(2,21,16,12);O0L.r0j(63);var F8V=O0L.t0j(10,10);O0L.r0j(2);var y8V=O0L.E0j(9,18);l5v=this.chart.dataSegment[this.chart.dataSegment.length-T8V].leftOffset-this.chart.dataSegment[this.chart.dataSegment.length-F8V].candleWidth/y8V;q5v=this.chart.dataSegment.length;}}return l5v+i5v.panel.left+Math.floor((M5v-q5v-i5v.dataSet.length+i5v.scroll-0.5)*this.layout.candleWidth+this.micropixels)-1;}};N5.prototype.pixelFromDate=function(n5v,h5v){O0L.E5();return this.pixelFromTick(this.tickFromDate(n5v,h5v),h5v);};N5.prototype.priceFromPixel=function(R5v,m5v,t5v){var B5v,T5v,w5v,G5v;O0L.S5();if(!m5v){m5v=this.chart.panel;}B5v=m5v.chart;T5v=t5v?t5v:m5v.yAxis;R5v=T5v.bottom-R5v;if(!T5v.multiplier){return null;}w5v=T5v.low+R5v/T5v.multiplier;if(T5v.semiLog){G5v=T5v.logLow+R5v*T5v.logShadow/T5v.height;w5v=Math.pow(10,G5v);}return w5v;};N5.prototype.valueFromPixel=function(I5v,H5v,K5v){var r5v;if(!H5v){H5v=this.whichPanel(I5v);}r5v=this.priceFromPixel(I5v,H5v,K5v);O0L.S5();return r5v;};N5.prototype.valueFromPixelUntransform=function(J5v,c5v,e5v){var o5v;if(!c5v){c5v=this.whichPanel(J5v);}if(!c5v){if(J5v<=+"0"){c5v=this.panels[i5.first(this.panels)];}else{c5v=this.panels[i5.last(this.panels)];}}O0L.S5();o5v=this.priceFromPixel(J5v,c5v,e5v);if(c5v.chart.untransformFunc&&c5v.name==c5v.chart.name){o5v=c5v.chart.untransformFunc(this,c5v.chart,o5v);}return o5v;};N5.prototype.pixelFromPriceTransform=function(L5v,W5v,s5v){if(W5v.chart.transformFunc){L5v=W5v.chart.transformFunc(this,W5v.chart,L5v,s5v);}O0L.E5();return this.pixelFromPrice(L5v,W5v,s5v);};N5.prototype.pixelFromPrice=function(D1v,Y1v,x1v){var f1v,F1v,A1v,U1v,j1v;if(!Y1v){Y1v=this.chart.panel;}f1v=x1v?x1v:Y1v.yAxis;F1v=(f1v.high-D1v)*f1v.multiplier;if(f1v.semiLog){A1v=Math.max(D1v,+"0");U1v=Math.log(A1v)/Math.LN10;j1v=f1v.height;F1v=j1v-j1v*(U1v-f1v.logLow)/f1v.logShadow;}F1v+=f1v.top;return F1v;};N5.prototype.pixelFromValueAdjusted=function(Q1v,g1v,a1v,v1v){var z1v,O1v;if(this.layout.adj||!this.charts[Q1v.name]){return this.pixelFromPriceTransform(a1v,Q1v,v1v);}z1v=Math.round(g1v);if(z1v>0&&z1v<Q1v.chart.dataSet.length&&(O1v=Q1v.chart.dataSet[z1v].ratio)){O0L.r0j(4);return this.pixelFromPriceTransform(O0L.t0j(a1v,O1v),Q1v,v1v);}return this.pixelFromPriceTransform(a1v,Q1v,v1v);};N5.prototype.adjustIfNecessary=function(b1v,y1v,V1v){var X1v,k1v;if(this.layout.adj){return V1v;}if(!b1v||!this.charts[b1v.name]){return V1v;}X1v=Math.round(y1v);if(X1v>0&&X1v<b1v.chart.dataSet.length&&(k1v=b1v.chart.dataSet[X1v].ratio)){O0L.G0j(2);return O0L.E0j(k1v,V1v);}return V1v;};N5.prototype.setTransform=function(d1v,p1v,S1v){O0L.E5();d1v.transformFunc=p1v;d1v.untransformFunc=S1v;};N5.prototype.unsetTransform=function(E1v){O0L.E5();delete E1v.transformFunc;delete E1v.untransformFunc;for(var C1v=0;C1v<E1v.dataSet.length;C1v++){E1v.dataSet[C1v].transform=null;}};N5.prototype.undo=function(){var c0V,w0V,k0V;c0V="u";c0V+="n";c0V+="do";if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){w0V="s";w0V+="tx_";w0V+="crosshair";k0V="stx_cro";k0V+="sshair_";k0V+="drawing";this.activeDrawing.abort();this.activeDrawing=null;i5.clearCanvas(this.chart.tempCanvas,this);this.draw();i5.swapClassName(this.controls.crossX,"stx_crosshair",k0V);i5.swapClassName(this.controls.crossY,w0V,"stx_crosshair_drawing");N5.drawingLine=!!"";}O0L.E5();this.runAppend(c0V,arguments);};N5.prototype.undoStamp=function(P1v,Z1v){this.undoStamps.push(P1v);O0L.S5();this.dispatch("undoStamp",{before:P1v,after:Z1v});};N5.prototype.undoLast=function(){if(this.activeDrawing){this.undo();}else{if(this.undoStamps.length){this.drawingObjects=this.undoStamps.pop();this.changeOccurred("vector");this.draw();}}};N5.prototype.addDrawing=function(i1v){var N1v;N1v=i5.shallowClone(this.drawingObjects);this.drawingObjects.push(i1v);this.undoStamp(N1v,i5.shallowClone(this.drawingObjects));};N5.prototype.plotLine=function(h1v,H1v,q1v,l1v,n1v,J1v,u1v,w1v,T1v){var R0V,L1v,f2v,o1v,c1v,I8Z,D8Z,V9Z,B1v,F2v,M1v,x2v,A2v,r1v,K1v,e1v,W1v,m1v,I1v,G1v,Y2v,D2v,j2v,s1v,R1v,e0V,t0V;R0V="hor";R0V+="i";R0V+="zon";R0V+="tal";if(!T1v){T1v={};}if(T1v.pattern=="none"){return;}if(w1v===!""){w1v=this.chart.panel;}if(u1v===null||typeof u1v=="undefined"){u1v=this.chart.context;}if(isNaN(h1v)||isNaN(H1v)||isNaN(q1v)||isNaN(l1v)){return;}L1v=0;f2v=this.chart.canvasHeight;o1v=0;c1v=this.right;if(w1v){f2v=w1v.yAxis.bottom;I8Z=1179795250;D8Z=-924128224;V9Z=2;for(var Q9Z=1;O0L.k7Z(Q9Z.toString(),Q9Z.toString().length,27500)!==I8Z;Q9Z++){L1v=w1v.yAxis.top;o1v=w1v.left;c1v=w1v.right;V9Z+=+"2";}if(O0L.k7Z(V9Z.toString(),V9Z.toString().length,44774)!==D8Z){L1v=w1v.yAxis.top;o1v=w1v.left;c1v=w1v.right;}L1v=w1v.yAxis.top;o1v=w1v.left;c1v=w1v.right;}if(J1v=="ray"){B1v=10000000;if(H1v<h1v){B1v=-10000000;}M1v={"x0":h1v,"x1":H1v,"y0":q1v,"y1":l1v};F2v=i5.yIntersection(M1v,B1v);H1v=B1v;l1v=F2v;}if(J1v=="line"||J1v==R0V||J1v=="vertical"){B1v=+"10000000";O0L.r0j(64);x2v=-O0L.E0j(1049728,"10000000");M1v={"x0":h1v,"x1":H1v,"y0":q1v,"y1":l1v};F2v=i5.yIntersection(M1v,B1v);A2v=i5.yIntersection(M1v,x2v);h1v=x2v;H1v=B1v;q1v=A2v;l1v=F2v;}r1v=+"0.0";K1v=1.0;O0L.r0j(3);e1v=O0L.E0j(h1v,H1v);O0L.G0j(3);W1v=O0L.t0j(q1v,l1v);for(var t1v=0;t1v<4;t1v++){if(t1v===0){m1v=-e1v;O0L.r0j(3);I1v=-O0L.t0j(h1v,o1v);}if(t1v==1){m1v=e1v;O0L.G0j(3);I1v=O0L.E0j(h1v,c1v);}if(t1v==2){m1v=-W1v;O0L.r0j(3);I1v=-O0L.t0j(q1v,L1v);}if(t1v==3){m1v=W1v;O0L.G0j(3);I1v=O0L.t0j(q1v,f2v);}O0L.G0j(2);G1v=O0L.t0j(m1v,I1v);if((l1v||l1v===0)&&m1v===0&&I1v<+"0"){return!!"";;}if(m1v<0){if(G1v>K1v){return!{};}else if(G1v>r1v){r1v=G1v;};}else if(m1v>0){if(G1v<r1v){return!"1";}else if(G1v<K1v){K1v=G1v;};}}O0L.r0j(23);Y2v=O0L.t0j(r1v,e1v,h1v);O0L.G0j(23);D2v=O0L.E0j(r1v,W1v,q1v);O0L.G0j(23);j2v=O0L.t0j(K1v,e1v,h1v);O0L.G0j(23);s1v=O0L.t0j(K1v,W1v,q1v);if(!l1v&&l1v!==0&&!q1v&&q1v!==0){D2v=L1v;s1v=f2v;Y2v=M1v.x0;j2v=M1v.x0;if(M1v.x0>c1v){return!{};}if(M1v.x0<o1v){return!{};}}else if(!l1v&&l1v!==0){if(M1v.y0<M1v.y1){s1v=f2v;}else{s1v=L1v;}Y2v=M1v.x0;j2v=M1v.x0;if(M1v.x0>c1v){return!1;}if(M1v.x0<o1v){return!{};}}u1v.lineWidth=1.1;if(typeof n1v=="object"){u1v.strokeStyle=n1v.color;if(n1v.opacity){u1v.globalAlpha=n1v.opacity;}else{u1v.globalAlpha=+"1";}u1v.lineWidth=parseInt(i5.stripPX(n1v.width));}else{if(!n1v||n1v=="auto"||i5.isTransparent(n1v)){u1v.strokeStyle=this.defaultColor;}else{u1v.strokeStyle=n1v;}}if(T1v.opacity){u1v.globalAlpha=T1v.opacity;}O0L.E5();if(T1v.lineWidth){u1v.lineWidth=T1v.lineWidth;}if(J1v=="zig zag"){u1v.lineWidth=5;}R1v=null;if(T1v.pattern){e0V="das";e0V+="h";e0V+="e";e0V+="d";t0V="do";t0V+="tt";t0V+="e";t0V+="d";R1v=T1v.pattern;if(R1v=="solid"){R1v=null;}else if(R1v==t0V){R1v=[u1v.lineWidth,u1v.lineWidth];}else if(R1v==e0V){O0L.r0j(65);var d8V=O0L.t0j(19,15,5,24);R1v=[u1v.lineWidth*+"5",u1v.lineWidth*d8V];}}u1v.stxLine(Y2v,D2v,j2v,s1v,u1v.strokeStyle,u1v.globalAlpha,u1v.lineWidth,R1v);u1v.globalAlpha=1;u1v.lineWidth=1;};N5.prototype.connectTheDots=function(d2v,a2v,T2v,U2v,C2v,z2v){var s0V,i2v,u2v,n2v,h2v,x8Z,l8Z,T8Z,Q2v,K0V,b2v,O2v,M2v,P2v,k2v,y2v,S2v,E2v,v2v,p2v,X2v,q2v,l2v,Z2v,N2v;s0V="ob";s0V+="ject";if(!z2v){z2v={};}if(z2v.pattern=="none"){return;}if(C2v===!""){C2v=this.chart.panel;}if(U2v===null||typeof U2v=="undefined"){U2v=this.chart.context;}if(d2v.length<+"4"){return;}i2v=0;u2v=this.chart.canvasHeight;n2v=0;h2v=this.chart.width;if(C2v){u2v=C2v.yAxis.bottom;i2v=C2v.yAxis.top;}U2v.lineWidth=1.1;if(typeof a2v==s0V){x8Z=714542669;l8Z=-2004816448;T8Z=2;for(var y8Z=1;O0L.k7Z(y8Z.toString(),y8Z.toString().length,64911)!==x8Z;y8Z++){U2v.strokeStyle=a2v.color;if(a2v.opacity){U2v.globalAlpha=a2v.opacity;}else{U2v.globalAlpha=5;}T8Z+=2;}if(O0L.k7Z(T8Z.toString(),T8Z.toString().length,71637)!==l8Z){U2v.strokeStyle=a2v.color;if(a2v.opacity){U2v.globalAlpha=a2v.opacity;}else{U2v.globalAlpha=1;}}U2v.lineWidth=parseInt(i5.stripPX(a2v.width));}else{if(!a2v||a2v=="auto"||i5.isTransparent(a2v)){U2v.strokeStyle=this.defaultColor;}else{U2v.strokeStyle=a2v;}}if(z2v.opacity){U2v.globalAlpha=z2v.opacity;}if(z2v.lineWidth){U2v.lineWidth=z2v.lineWidth;}Q2v=null;if(z2v.pattern){K0V="d";K0V+="ash";K0V+="e";K0V+="d";Q2v=z2v.pattern;if(Q2v=="solid"){Q2v=null;}else if(Q2v=="dotted"){Q2v=[U2v.lineWidth,U2v.lineWidth];}else if(Q2v==K0V){O0L.r0j(9);var O8V=O0L.t0j(17,19,24,17);Q2v=[U2v.lineWidth*O8V,U2v.lineWidth*+"5"];}}U2v.beginPath();for(var g2v=0;g2v<d2v.length-2;g2v+=2){b2v=d2v[g2v];O0L.r0j(0);O2v=d2v[O0L.t0j(1,g2v)];O0L.G0j(0);M2v=d2v[O0L.t0j(2,g2v)];O0L.G0j(0);P2v=d2v[O0L.E0j(3,g2v)];if(isNaN(b2v)||isNaN(M2v)||isNaN(O2v)||isNaN(P2v)){return;}k2v=0.0;y2v=1.0;O0L.G0j(3);S2v=O0L.E0j(b2v,M2v);O0L.r0j(3);E2v=O0L.t0j(O2v,P2v);for(var V2v=0;V2v<4;V2v++){if(V2v===0){v2v=-S2v;O0L.G0j(3);p2v=-O0L.t0j(b2v,n2v);}if(V2v==1){v2v=S2v;O0L.G0j(3);p2v=O0L.E0j(b2v,h2v);}if(V2v==2){v2v=-E2v;O0L.G0j(3);p2v=-O0L.E0j(O2v,i2v);}if(V2v==3){v2v=E2v;O0L.G0j(3);p2v=O0L.t0j(O2v,u2v);}O0L.r0j(2);X2v=O0L.E0j(v2v,p2v);if((P2v||P2v===0)&&v2v==="0">>116293280&&p2v<0){return!"1";;}if(v2v<0){if(X2v>y2v){return!!0;}else if(X2v>k2v){k2v=X2v;};}else if(v2v>0){if(X2v<k2v){return!1;}else if(X2v<y2v){y2v=X2v;};}}O0L.r0j(23);q2v=O0L.t0j(k2v,S2v,b2v);O0L.r0j(23);l2v=O0L.E0j(k2v,E2v,O2v);O0L.G0j(23);Z2v=O0L.t0j(y2v,S2v,b2v);O0L.r0j(23);N2v=O0L.E0j(y2v,E2v,O2v);try{if(Q2v){U2v.dashedLineTo(q2v,l2v,Z2v,N2v,Q2v);}else{U2v.moveTo(q2v,l2v);U2v.lineTo(Z2v,N2v);}}catch(R2v){;}}U2v.stroke();U2v.closePath();U2v.globalAlpha=1;U2v.lineWidth=1;};N5.prototype.plotSpline=function(H2v,I2v,t2v,r2v,m2v,B2v,G2v){var r0V,w2v;r0V="n";r0V+="o";r0V+="n";r0V+="e";if(!G2v){G2v={};}if(G2v.pattern==r0V){return;}if(B2v===!0){B2v=this.chart.panel;}if(m2v===null||typeof m2v=="undefined"){m2v=this.chart.context;}m2v.save();m2v.lineWidth=1.1;if(typeof t2v=="object"){m2v.strokeStyle=t2v.color;if(t2v.opacity){m2v.globalAlpha=t2v.opacity;}else{O0L.G0j(29);m2v.globalAlpha=O0L.E0j("1",2147483647);}m2v.lineWidth=parseInt(i5.stripPX(t2v.width));}else{if(!t2v||t2v=="auto"||i5.isTransparent(t2v)){m2v.strokeStyle=this.defaultColor;}else{m2v.strokeStyle=t2v;}}if(G2v.opacity){m2v.globalAlpha=G2v.opacity;}if(G2v.lineWidth){m2v.lineWidth=G2v.lineWidth;}w2v=null;if(G2v.pattern){w2v=G2v.pattern;if(w2v=="solid"){w2v=null;}else if(w2v=="dotted"){w2v=[m2v.lineWidth,m2v.lineWidth];}else if(w2v=="dashed"){w2v=[m2v.lineWidth*("5"^0),m2v.lineWidth*5];}}if(w2v&&m2v.setLineDash){m2v.setLineDash(w2v);m2v.lineDashOffset=0;;}R5(H2v,I2v,m2v);m2v.restore();};N5.prototype.drawingClick=function(c2v,W2v,L2v){var K2v,v3Z,z3Z,g3Z,o2v,J2v,e2v,b0V,Y0V;if(!this.activeDrawing){if(!c2v){return;}K2v=N5.drawingTools[this.currentVectorParameters.vectorType];if(!K2v){if(i5.Drawing[this.currentVectorParameters.vectorType]){K2v=i5.Drawing[this.currentVectorParameters.vectorType];N5.registerDrawingTool(this.currentVectorParameters.vectorType,K2v);}}if(K2v){this.activeDrawing=new K2v();this.activeDrawing.construct(this,c2v);if(!this.charts[c2v.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;v3Z=-1188978905;z3Z=340196543;g3Z=2;for(var G3Z="1"^0;O0L.q7Z(G3Z.toString(),G3Z.toString().length,41435)!==v3Z;G3Z++){return;}if(O0L.q7Z(g3Z.toString(),g3Z.toString().length,11757)!==z3Z){return;}return;}}}}O0L.S5();if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw){if(!N5.drawingLine){this.activeDrawing=null;}return;}o2v=this.tickFromPixel(W2v,c2v.chart);J2v=this.panels[this.activeDrawing.panelName];e2v=this.adjustIfNecessary(J2v,o2v,this.valueFromPixelUntransform(L2v,J2v));if(this.preferences.magnet&&this.magnetizedPrice){e2v=this.adjustIfNecessary(J2v,o2v,this.magnetizedPrice);}if(this.activeDrawing.click(this.chart.tempCanvas.context,o2v,e2v)){if(this.activeDrawing){b0V="s";b0V+="tx_cro";b0V+="sshair_drawing";N5.drawingLine=![];i5.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);this.activeDrawing=null;this.adjustDrawings();this.draw();this.changeOccurred("vector");i5.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing");i5.swapClassName(this.controls.crossY,"stx_crosshair",b0V);}}else{Y0V="stx_cros";Y0V+="sha";Y0V+="ir_drawin";Y0V+="g";this.changeOccurred("drawing");N5.drawingLine=!!"1";i5.swapClassName(this.controls.crossX,Y0V,"stx_crosshair");i5.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair");}return!![];}return!"1";};N5.prototype.whichPanel=function(f8v){var s2v;O0L.E5();for(var F8v in this.panels){s2v=this.panels[F8v];if(s2v.hidden)continue;if(f8v>s2v.top&&f8v<s2v.bottom){return s2v;}}return null;};N5.prototype.mouseup=function(Y8v){var N0V,x8v,j8v,D8v;N0V="s";N0V+="tx-drag-chart";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!!{};this.cancelLongHold=!!{};if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250){this.changeOccurred("vector");i5.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.adjustDrawings();this.draw();return;}else{this.repositioningDrawing=![];}}if(this.repositioningBaseline){this.repositioningBaseline=null;this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2;this.draw();return;}x8v=this.userPointerDown;this.userPointerDown=!{};if(!this.displayInitialized){return;}this.grabbingScreen=!!"";if(this.openDialog!==""){if(N5.insideChart){i5.unappendClassName(this.container,"stx-drag-chart");}return;}if(this.grabOverrideClick){this.swipeRelease();i5.unappendClassName(this.container,"stx-drag-chart");this.grabOverrideClick=!{};return;}if(N5.insideChart){i5.unappendClassName(this.container,N0V);}if(N5.resizingPanel){this.releaseHandle({});return;}if(!Y8v){Y8v=event;}if(Y8v.which&&Y8v.which>="2"<<1801654880||Y8v.button&&Y8v.button>=2||Y8v.ctrlKey){if(this.anyHighlighted&&!this.bypassRightClick){this.rightClickHighlighted();if(Y8v.preventDefault&&this.captureTouchEvents){Y8v.preventDefault();}Y8v.stopPropagation();return![];}else{this.dispatch("rightClick",{stx:this,panel:this.currentPanel,x:D8v,y:j8v});return!![];}}if(Y8v.clientX<this.left||Y8v.clientX>this.right){return;}if(Y8v.clientY<this.top||Y8v.clientY>this.bottom){return;}j8v=this.backOutY(Y8v.clientY);D8v=this.backOutX(Y8v.clientX);if(x8v&&(!this.longHoldTookEffect||this.activeDrawing)){this.drawingClick(this.currentPanel,D8v,j8v);}if(!this.activeDrawing&&!this.longHoldTookEffect){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:D8v,y:j8v});}this.runAppend("mouseup",arguments);};N5.prototype.grabbingHand=function(){var P0V;P0V="stx-dr";P0V+="ag-chart";if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(i5.touchDevice){return;}i5.appendClassName(this.container,P0V);};N5.prototype.mousedown=function(A8v){var U8v,j0V,Q8v,v8v,z8v,O8v,g8v,b8v;if(this.runPrepend("mousedown",arguments)){return;}this.grabOverrideClick=!{};if(this.openDialog!==""){return;}if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(!N5.insideChart){return;}if(this.manageTouchAndMouse&&A8v&&A8v.preventDefault&&this.captureTouchEvents){A8v.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!{};this.hasDragged=!"1";this.userPointerDown=!"";if(!A8v){A8v=event;}if(A8v.which&&A8v.which>=2||A8v.button&&A8v.button>=2){return;}U8v=this.currentPanel.chart;if(A8v.clientX>=this.left&&A8v.clientX<this.right&&A8v.clientY>=this.top&&A8v.clientY<=this.bottom){j0V="ba";j0V+="seline_de";j0V+="lta_moun";j0V+="tain";if(this.repositioningDrawing){return;}for(var a8v=+"0";a8v<this.drawingObjects.length;a8v++){Q8v=this.drawingObjects[a8v];if(Q8v.highlighted){if(this.cloneDrawing){v8v=N5.drawingTools[Q8v.name];z8v=new v8v();z8v.reconstruct(this,Q8v.serialize());this.drawingObjects.push(z8v);this.repositioningDrawing=z8v;z8v.repositioner=Q8v.repositioner;return;}this.repositioningDrawing=Q8v;return;}}if((this.layout.chartType=="baseline_delta"||this.layout.chartType==j0V)&&U8v.baseline.userLevel!==!1){O8v=this.valueFromPixelUntransform(this.cy-5,this.currentPanel);g8v=this.valueFromPixelUntransform(this.cy+5,this.currentPanel);O0L.r0j(3);var i8V=O0L.E0j(6,16);b8v=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,i8V);if(U8v.baseline.actualLevel<O8v&&U8v.baseline.actualLevel>g8v&&this.cx>b8v){this.repositioningBaseline={lastDraw:Date.now()};return;}}this.drawingClick(this.currentPanel,this.cx,this.cy);if(this.activeDrawing&&this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!!1;O0L.S5();this.yToleranceBroken=![];if(!A8v){A8v=event;}this.grabStartX=A8v.clientX;this.grabStartY=A8v.clientY;this.grabStartScrollX=U8v.scroll;this.grabStartScrollY=U8v.panel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;setTimeout(function(V8v){O0L.E5();return function(){O0L.E5();V8v.grabbingHand();};}(this),100);this.swipeStart(U8v);if(this.longHoldTime){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};N5.prototype.startLongHoldTimer=function(){var X8v;X8v=this;this.cancelLongHold=![];if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}this.longHoldTimeout=setTimeout(function(){if(X8v.cancelLongHold){return;}X8v.dispatch("longhold",{stx:X8v,panel:X8v.currentPanel,x:X8v.cx,y:X8v.cy});X8v.longHoldTookEffect=!0;},this.longHoldTime);};N5.prototype.changeVectorType=function(k8v){this.currentVectorParameters.vectorType=k8v;O0L.S5();if(N5.drawingLine){this.undo();}this.setCrosshairColors();if(N5.insideChart){this.doDisplayCrosshairs();}};N5.prototype.rightClickOverlay=function(d8v,p8v){var B0V,y8v;B0V="righ";B0V+="tClickOverlay";if(this.runPrepend(B0V,arguments)){return;}y8v=this.overlays[d8v];if(y8v.editFunction){y8v.editFunction(p8v);}else{this.removeOverlay(d8v);}O0L.S5();this.runAppend("rightClickOverlay",arguments);};N5.prototype.removeOverlay=function(E8v){var C8v,S8v,Z8v;if(this.runPrepend("removeOverlay",arguments)){return;}for(var P8v in this.overlays){S8v=this.overlays[P8v];if(S8v.inputs.Field&&S8v.inputs.Field.indexOf(E8v)!=-1){this.removeOverlay(S8v.name);}else if(S8v.name==E8v){C8v=S8v;}}Z8v=this.layout.studies[E8v];i5.deleteRHS(i5.Studies.studyPanelMap,Z8v);if(C8v){this.cleanupRemovedStudy(C8v);}delete this.overlays[E8v];this.displaySticky();this.createDataSet();this.changeOccurred("layout");this.runAppend("removeOverlay",arguments);};N5.prototype.addSeries=function(u8v,N8v,q8v){var x0V,i8v,h8v,l8v,T8v,R8v,M8v;x0V="li";x0V+="n";x0V+="e";function m8v(c8v,K8v){var r8v,S0V,y0V;if(K8v.parameters.color){r8v=c8v.getSeriesRenderer("_generic_series");if(!r8v){S0V="_ge";S0V+="ner";S0V+="ic_s";S0V+="eries";y0V="l";y0V+="e";y0V+="gac";y0V+="y";r8v=c8v.setSeriesRenderer(new i5.Renderer.Lines({params:{panel:K8v.parameters.panel,type:y0V,name:S0V,overChart:!!"1"}}));}r8v.attachSeries(u8v,K8v.parameters).ready();}}if(this.runPrepend("addSeries",arguments)){return;}if(!N8v){N8v={};}if(!N8v.chartName){N8v.chartName=this.chart.name;}if(!N8v.symbolObject){N8v.symbolObject={symbol:u8v};}i8v={parameters:i5.clone(N8v),yValueCache:[],display:u8v};function n8v(H8v){var I8v,B8v,t8v,G8v,l0V,T0V,F0V;I8v=0;O0L.G0j(10);B8v=O0L.t0j(87191616,"0");while(N8v.data&&I8v<H8v.masterData.length&&B8v<N8v.data.length){l0V="unde";l0V+="fined";t8v=N8v.data[B8v];G8v=H8v.masterData[I8v];if(!t8v.DT||typeof t8v.DT==l0V){t8v.DT=i5.strToDateTime(t8v.Date);}if(t8v.DT.getTime()==G8v.DT.getTime()){T0V="un";T0V+="de";T0V+="fin";T0V+="ed";if(typeof t8v.Value!=T0V){G8v[u8v]=t8v.Value;}else if(H8v.layout.adj&&typeof t8v.Adj_Close!="undefined"){G8v[u8v]=t8v.Adj_Close;}else{G8v[u8v]=t8v.Close;}B8v++;I8v++;continue;}if(t8v.DT<G8v.DT){if(N8v.forceData){H8v.masterData.splice(I8v,0,{DT:t8v.DT});continue;}B8v++;}else{I8v++;}}if(N8v.forceData&&I8v>=H8v.masterData.length){while(N8v.data&&B8v<N8v.data.length){F0V="und";F0V+="efin";F0V+="ed";t8v=N8v.data[B8v];if(!t8v.DT||typeof t8v.DT==F0V){t8v.DT=i5.strToDateTime(t8v.Date);}G8v={DT:t8v.DT};if(typeof t8v.Value!="undefined"){G8v[u8v]=t8v.Value;}else if(H8v.layout.adj&&typeof t8v.Adj_Close!="undefined"){G8v[u8v]=t8v.Adj_Close;}else{G8v[u8v]=t8v.Close;}H8v.masterData.push(G8v);B8v++;}}}if("display"in i8v.parameters){i8v.display=i8v.parameters.display;}if(i8v.parameters.isComparison){i8v.parameters.shareYAxis=!!{};}if(!i8v.parameters.chartType&&i8v.parameters.color){i8v.parameters.chartType=x0V;}O0L.E5();if(i8v.parameters.chartType&&i8v.parameters.chartType!="mountain"){i8v.parameters.chartType="line";}if(!i8v.parameters.panel){i8v.parameters.panel=this.chart.panel.name;}h8v=this.charts[N8v.chartName];l8v=this;if(h8v){h8v.series[u8v]=i8v;}if(N8v.isComparison){l8v.setComparison(!![],h8v);}T8v=!{};if(N8v.data&&!N8v.data.useDefaultQuoteFeed){if(this.masterData){n8v(this);;}}else{if(this.quoteDriver){R8v=this.quoteDriver;function w8v(o8v){var O0V,d0V;O0V="a";O0V+="dd";O0V+="S";O0V+="eries";d0V="symbo";d0V+="l";d0V+="Chan";d0V+="ge";if(!o8v.error&&o8v.error!=="0"<<772966912){N8v.data=o8v.quotes;n8v(l8v);m8v(l8v,i8v);}if(!l8v.currentlyImporting){l8v.dispatch(d0V,{stx:l8v,symbol:M8v.symbol,symbolObject:M8v.symbolObject});}if(q8v){q8v(o8v.error,i8v);}l8v.runAppend(O0V,arguments);}M8v=R8v.makeParams(u8v,N8v.symbolObject,this.chart);M8v.startDate=this.chart.masterData[+"0"].DT;M8v.endDate=this.chart.masterData[this.chart.masterData.length-1].DT;if(N8v.symbolObject){M8v.symbolObject=N8v.symbolObject;}T8v=!!{};if(M8v.stx.isEquationChart(M8v.symbol)){i5.fetchEquationChart(M8v,w8v);}else{R8v.quoteFeed.fetch(M8v,w8v);}}else{i8v.addSeriesData=n8v;}}if(!T8v){m8v(l8v,i8v);if(q8v){q8v(null,i8v);}this.runAppend("addSeries",arguments);}return i8v;};N5.prototype.isEquationChart=function(J8v){if(!this.allowEquations||!i5.computeEquationChart){return!1;}if(J8v&&J8v[0]==((8470,4577)==6955?"9.44e+3"^0:(4120,+"104.51")===+"1266"?+"1160"==865?(0x2159,250.24):!{}:"=")){return!!"1";}O0L.E5();return![];};N5.prototype.deleteSeries=function(W8v,e8v){if(this.runPrepend("deleteSeries",arguments)){return;}if(!e8v){e8v=this.chart;}delete e8v.series[W8v];if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};N5.prototype.removeSeries=function(s8v,L8v){var C0V,D3v,f3v,Y3v,j3v;C0V="sy";C0V+="mbolCha";C0V+="nge";if(this.runPrepend("removeSeries",arguments)){return;}if(!L8v){L8v=this.chart;}for(var x3v in L8v.seriesRenderers){f3v=L8v.seriesRenderers[x3v];for(var F3v=f3v.seriesParams.length-("1"-0);F3v>=0;F3v--){Y3v=f3v.seriesParams[F3v];if(!Y3v.permanent&&Y3v.field===s8v){D3v=Y3v.symbolObject;f3v.removeSeries(s8v);}}}this.deleteSeries(s8v,L8v);j3v=![];for(var A3v in L8v.series){if(L8v.series[A3v].parameters.isComparison){j3v=!![];}}if(!j3v){this.setComparison(![],L8v);}this.createDataSet();this.draw();this.dispatch(C0V,{stx:this,symbol:s8v,symbolObject:D3v,action:"remove-series"});this.runAppend("removeSeries",arguments);};N5.prototype.rendererAction=function(Q3v,z3v){var E0V,U3v;if(this.runPrepend("rendererAction",arguments)){return;}for(var a3v in Q3v.seriesRenderers){E0V="cal";E0V+="culat";E0V+="e";U3v=Q3v.seriesRenderers[a3v];if(U3v.params.overChart&&z3v=="underlay")continue;if(!U3v.params.overChart&&z3v=="overlay")continue;if(!this.panels[U3v.params.panel])continue;if(this.panels[U3v.params.panel].chart!==Q3v)continue;if(z3v==E0V){U3v.performCalculations();}else{U3v.draw();if(U3v.cb){U3v.cb(U3v.colors);}}}this.runAppend("rendererAction",arguments);};N5.prototype.drawSeries=function(C3v,W3v,c3v){var l3v,F6v,S3v,v4V,L4V,Z4V,i0V,v3v,d3v,P3v,I3v,Y6v,o3v,n3v,X3v,j6v,B3v,G3v,s3v,R3v,M3v,w3v,O3v,g3v,r3v,D6v,y3v,K3v,E3v,h3v,u3v,q3v,m3v,b3v,V3v,f6v,e3v,N3v,L3v,o4V,Z3v,Q6v,U6v,A6v,x6v,f0V,n0V,H3v,p3v,U0V,h0V,I0V,D0V,V4V,A4V,Q4V,X4V,J4V,p4V,W4V,H4V,m4V,J3v;if(this.runPrepend("drawSeries",arguments)){return;}l3v=C3v.dataSegment;F6v={};S3v=null;if(!W3v){W3v=C3v.series;}for(var i3v in W3v){v4V="l";v4V+="i";v4V+="n";v4V+="e";L4V="g";L4V+="a";L4V+="p";Z4V="mo";Z4V+="unt";Z4V+="ain";i0V="li";i0V+="ne";S3v=W3v[i3v];v3v=S3v.parameters;if(!v3v.chartType)continue;d3v=C3v.panel;if(v3v.panel){d3v=this.panels[v3v.panel];}if(!d3v)continue;P3v=c3v?c3v:d3v.yAxis;I3v=[v3v.minimum,v3v.maximum];if(!v3v.minimum&&v3v.minimum!==0||!v3v.maximum&&v3v.maximum!==+"0"){Y6v=i5.minMax(l3v,i3v);if(!v3v.minimum&&v3v.minimum!=="0"-0){I3v[0]=Y6v[0];}if(!v3v.maximum&&v3v.maximum!==0){I3v[1]=Y6v[1];}}o3v=I3v[0];n3v=P3v.top;X3v=P3v.bottom;O0L.r0j(3);j6v=O0L.E0j(n3v,X3v);B3v=v3v.marginTop;G3v=v3v.marginBottom;if(B3v){n3v=B3v>1?n3v+B3v:n3v+j6v*B3v;}if(G3v){X3v=G3v>1?X3v-G3v:X3v-j6v*G3v;}O0L.r0j(66);var n8V=O0L.E0j(14,14,7,8);s3v=(X3v-n3v)/(I3v[n8V]-o3v);R3v=![];M3v=null;w3v=null;O3v=null;g3v=null;r3v=null;D6v=null;y3v=this.layout.candleWidth;K3v=this.chart.context;E3v=v3v.type=="step"||v3v.subtype=="step";h3v=v3v.color;if(!h3v){h3v=this.defaultColor;}u3v=v3v.width;if(!u3v||isNaN(u3v)||u3v<+"1"){u3v=1;}if(S3v.highlight||S3v.parameters.highlight){O0L.G0j(4);u3v*=O0L.t0j("2",1);}this.startClip(d3v.name);seriesPlotter=new i5.Plotter();seriesPlotter.newSeries(i0V,"stroke",h3v,+"1",u3v);if(v3v.gaps&&v3v.gaps.color){seriesPlotter.newSeries("gap","stroke",v3v.gaps.color,1,u3v);}else{seriesPlotter.newSeries("gap","stroke",h3v,1,u3v);}S3v.yValueCache=new Array(l3v.length);q3v=S3v.yValueCache;m3v=null;b3v=null;V3v=[];f6v=S3v.parameters.shareYAxis&&!c3v;e3v=S3v.parameters.shareYAxis||c3v;O0L.r0j(8);var f8V=O0L.E0j(34,20,15);N3v=d3v.left-(E3v?+"1":0.5)*y3v+this.micropixels-f8V;L3v=N3v;for(var k3v=0;k3v<l3v.length;k3v++){o4V="l";o4V+="in";o4V+="e";O0L.r0j(2);N3v+=O0L.t0j(2,y3v);if(E3v){O0L.G0j(2);N3v+=O0L.t0j(2,y3v);}y3v=this.layout.candleWidth;if(!E3v){O0L.G0j(67);N3v+=O0L.t0j(y3v,1,"2");}if(O3v!==null&&g3v!==null){if(!b3v||v3v.gaps){V3v.push([O3v,g3v]);}}Z3v=l3v[k3v];if(!Z3v)continue;if(Z3v.candleWidth){if(!E3v){O0L.G0j(8);var U8V=O0L.E0j(17,8,11);N3v+=(Z3v.candleWidth-y3v)/U8V;}y3v=Z3v.candleWidth;}if(Z3v.transform&&f6v){Z3v=Z3v.transform;}w3v=Z3v[i3v];if(!w3v&&w3v!==0){if(E3v||v3v.gaps){q3v[k3v]=g3v;;}if(b3v===!!0){if(E3v){O3v+=y3v;seriesPlotter.lineTo("line",O3v,g3v);}seriesPlotter.moveTo("gap",O3v,g3v);}b3v=!"";if(O3v&&!v3v.gaps){V3v.push([O3v,X3v]);}continue;}if(!E3v&&M3v&&M3v!=k3v-1){r3v=O3v;D6v=g3v;}else{r3v=null;}O3v=N3v;if(O3v<=d3v.right){m3v=Z3v;}if(this.extendLastTick&&k3v==l3v.length-1){O0L.r0j(2);O3v+=O0L.t0j(2,y3v);}if(E3v&&R3v){if(b3v&&v3v.gaps&&v3v.gaps.pattern){seriesPlotter.dashedLineTo("gap",O3v,g3v,v3v.gaps.pattern);}else if(b3v&&!v3v.gaps){V3v.push([O3v,X3v]);seriesPlotter.moveTo("gap",O3v,g3v);}else if(!b3v&&v3v.pattern){seriesPlotter.dashedLineTo("line",O3v,g3v,v3v.pattern);}else{seriesPlotter.lineTo(b3v?"gap":"line",O3v,g3v);}V3v.push([O3v,g3v]);}if(e3v){g3v=this.pixelFromPrice(w3v,d3v,P3v);}else{O0L.r0j(68);g3v=O0L.t0j(s3v,w3v,X3v,o3v);}if(r3v!==null){Q6v={x0:r3v,x1:O3v,y0:D6v,y1:g3v};for(;M3v!=k3v;M3v++){U6v=d3v.left+Math.floor(N3v+(M3v-k3v+0.5)*y3v)+this.micropixels-+"1";A6v=i5.yIntersection(Q6v,U6v);q3v[M3v]=A6v;}}q3v[k3v]=g3v;if(k3v&&V3v.length&&R3v&&!q3v[k3v-1]&&q3v[k3v-+"1"]!==0){for(var t3v=k3v-1;t3v>=0;t3v--){if(q3v[t3v])break;O0L.r0j(27);var h8V=O0L.t0j(11,16,150,10);q3v[t3v]=V3v[V3v.length-h8V][1];}}if(!R3v){R3v=!!{};x6v=C3v.dataSet.length-C3v.scroll;if(x6v<=0){f0V="l";f0V+="i";f0V+="n";f0V+="e";n0V="g";n0V+="ap";seriesPlotter.moveTo(b3v?n0V:f0V,O3v,g3v);}else{H3v=C3v.dataSet[x6v];if(H3v.transform&&f6v){H3v=H3v.transform;}p3v=H3v[i3v];if(e3v){p3v=this.pixelFromPrice(p3v,d3v,P3v);}else{O0L.r0j(68);p3v=O0L.t0j(s3v,p3v,X3v,o3v);}p3v=Math.min(Math.max(p3v,n3v),X3v);if(isNaN(p3v)){U0V="g";U0V+="a";U0V+="p";seriesPlotter.moveTo(b3v?U0V:"line",O3v,g3v);}else{h0V="g";h0V+="a";h0V+="p";seriesPlotter.moveTo(b3v?h0V:"line",L3v,p3v);if(E3v){if(b3v){I0V="g";I0V+="a";I0V+="p";if(v3v.gaps){seriesPlotter.lineTo("gap",O3v,p3v);}else{seriesPlotter.moveTo(I0V,O3v,p3v);}}else{seriesPlotter.lineTo("line",O3v,p3v);}}if(!b3v||v3v.gaps){if(E3v){V3v.unshift([O3v,p3v]);}V3v.unshift([L3v,p3v]);}if(b3v&&v3v.gaps&&v3v.gaps.pattern){D0V="g";D0V+="ap";seriesPlotter.dashedLineTo(D0V,O3v,g3v,v3v.gaps.pattern);}else if(b3v&&!v3v.gaps){V3v.unshift([O3v,X3v]);V3v.unshift([L3v,X3v]);seriesPlotter.moveTo("gap",O3v,g3v);}else if(!b3v&&v3v.pattern){seriesPlotter.dashedLineTo("line",O3v,g3v,v3v.pattern);}else{V4V="lin";V4V+="e";seriesPlotter.lineTo(b3v?"gap":V4V,O3v,g3v);}}}}else{if(b3v&&v3v.gaps&&v3v.gaps.pattern){A4V="g";A4V+="ap";seriesPlotter.dashedLineTo(A4V,O3v,g3v,v3v.gaps.pattern);}else if(b3v&&!v3v.gaps){V3v.push([O3v,X3v]);seriesPlotter.moveTo("gap",O3v,g3v);}else if(!b3v&&v3v.pattern){Q4V="l";Q4V+="i";Q4V+="n";Q4V+="e";seriesPlotter.dashedLineTo("line",O3v,g3v,v3v.pattern);if(E3v&&k3v==l3v.length-1){O0L.r0j(0);seriesPlotter.dashedLineTo(Q4V,O0L.E0j(y3v,O3v),g3v,v3v.pattern);}}else{X4V="li";X4V+="ne";seriesPlotter.lineTo(b3v?"gap":"line",O3v,g3v);if(E3v&&k3v==l3v.length-1&&!b3v){O0L.r0j(0);seriesPlotter.lineTo(X4V,O0L.E0j(y3v,O3v),g3v);}}}M3v=k3v;if(b3v){seriesPlotter.moveTo(o4V,O3v,g3v);}b3v=!{};}if(b3v){O0L.r0j(69);var I8V=O0L.t0j(15,14,14,16);O3v=d3v.left+Math.floor(N3v+y3v+this.micropixels)-I8V;if(this.extendLastTick){O0L.G0j(2);O3v+=O0L.E0j(2,y3v);}if(v3v.gaps&&v3v.gaps.pattern){if(R3v){seriesPlotter.dashedLineTo("gap",O3v,g3v,v3v.gaps.pattern);}}else if(v3v.gaps){J4V="ga";J4V+="p";seriesPlotter.lineTo(J4V,O3v,g3v);}}if(S3v.parameters.chartType==Z4V&&V3v.length){p4V="m";p4V+="ou";p4V+="ntai";p4V+="n";W4V="mo";W4V+="untain";H4V="f";H4V+="ill";V3v.push([O3v,b3v&&!v3v.gaps?X3v:g3v]);if(!v3v.fillStyle){v3v.fillStyle=h3v;if(!v3v.fillOpacity){v3v.fillOpacity=0.3;}}seriesPlotter.newSeries("mountain",H4V,v3v.fillStyle,v3v.fillOpacity);for(var T3v=0;T3v<V3v.length;T3v++){m4V="mount";m4V+="a";m4V+="in";seriesPlotter[T3v?"lineTo":"moveTo"](m4V,V3v[T3v]["0"<<249880288],Math.min(X3v,V3v[T3v][1]));}seriesPlotter.lineTo(W4V,O3v,X3v);seriesPlotter.lineTo("mountain",V3v[0][0],X3v);seriesPlotter.draw(K3v,p4V);}seriesPlotter.draw(K3v,L4V);seriesPlotter.draw(K3v,v4V);this.endClip();if(e3v&&m3v){if(P3v.priceFormatter){txt=P3v.priceFormatter(this,d3v,m3v[i3v],P3v);}else{txt=this.formatYAxisPrice(m3v[i3v],d3v,null,P3v);}this.yAxisLabels.push({src:"series","args":[d3v,txt,this.pixelFromPrice(m3v[i3v],d3v,P3v),h3v,null,null,P3v]});}J3v=S3v.parameters.display;if(!J3v){J3v=S3v.display;}F6v[i3v]={color:h3v,display:J3v};;}if(C3v.legend&&S3v&&S3v.useChartLegend){if(C3v.legendRenderer){C3v.legendRenderer(this,{"chart":C3v,"legendColorMap":F6v,"coordinates":{x:C3v.legend.x,y:C3v.legend.y+C3v.panel.yAxis.top}});}}O0L.S5();this.runAppend("drawSeries",arguments);};N5.prototype.isDailyInterval=function(z6v){var g4V,B1Z,x1Z,l1Z,z4V;g4V="mon";g4V+="t";g4V+="h";B1Z=-1134243154;x1Z=-71857332;l1Z=2;for(var F1Z=1;O0L.q7Z(F1Z.toString(),F1Z.toString().length,38091)!==B1Z;F1Z++){if(z6v===""){return!!"";}l1Z+=2;}if(O0L.k7Z(l1Z.toString(),l1Z.toString().length,95159)!==x1Z){z4V="da";z4V+="y";if(z6v==z4V){return!0;}}if(z6v=="week"){return!0;}if(z6v==g4V){return!"";}O0L.E5();return!{};};N5.prototype.setPeriodicityV2=function(X6v,V6v,v6v,g6v){var i6v,a4V,P6v,E6v,k6v,f3Z,U3Z,h3Z,p6v,a6v,C6v,b6v,y6v,S6v,Z6v,N6v;if(this.runPrepend("setPeriodicityV2",arguments)){return;}if(typeof v6v==="function"){g6v=v6v;v6v=null;}i6v=!!"";if(!V6v){return;}if(!X6v){return;}delete this.layout.setSpan;if(V6v=="year"){a4V="m";a4V+="o";a4V+="n";a4V+="th";V6v=a4V;if(!X6v){O0L.r0j(12);X6v=O0L.E0j(1196390656,"1");}O0L.G0j(4);X6v=O0L.E0j(X6v,12);}P6v=this.isDailyInterval(V6v);E6v=this.isDailyInterval(this.layout.interval);if(P6v){v6v=null;}else if(V6v=="tick"){v6v=null;}else if(!v6v){v6v="minute";}k6v=!"1";if(this.chart.symbol){if(this.dontRoll||!E6v){f3Z=-326861909;U3Z=1993004036;O0L.G0j(4);h3Z=O0L.E0j("2",1);for(var D3Z=1;O0L.k7Z(D3Z.toString(),D3Z.toString().length,87502)!==f3Z;D3Z++){if(this.layout.interval!==V6v){k6v=![];}h3Z+=2;}if(O0L.q7Z(h3Z.toString(),h3Z.toString().length,99457)!==U3Z){if(this.layout.interval!==V6v){k6v=![];}}if(this.layout.interval!=V6v){k6v=!0;}}else{if(P6v!=E6v){k6v=!"";}}if(v6v!=this.layout.timeUnit){k6v=!0;};}this.layout.periodicity=X6v;this.layout.interval=V6v;this.layout.timeUnit=v6v;if(k6v){this.changeOccurred("layout");if(this.quoteDriver){for(var O6v in this.charts){if(this.charts[O6v].symbol){if(this.displayInitialized){this.quoteDriver.newChart({symbol:this.charts[O6v].symbol,symbolObject:this.charts[O6v].symbolObject,chart:this.charts[O6v]},g6v);}else{this.newChart(this.charts[O6v].symbol,null,this.charts[O6v],g6v);}}}return;}else if(this.dataCallback){this.dataCallback();if(g6v){g6v(null);}return;}else{console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");return;}}for(p6v in this.charts){a6v=this.charts[p6v];b6v=Math.round(a6v.maxTicks/2);this.setCandleWidth(this.layout.candleWidth,a6v);y6v=!![];S6v=!!"";if(a6v.scroll<=a6v.maxTicks){y6v=!1;}else if(a6v.dataSegment&&!a6v.dataSegment[b6v]){y6v=!{};S6v=a6v.scroll-a6v.dataSet.length;;}if(y6v&&a6v.dataSegment&&a6v.dataSegment.length>0){if(a6v.maxTicks<(Math.round(this.chart.width/this.layout.candleWidth-0.499)-1)/2){O0L.G0j(70);var D8V=O0L.E0j(10,131,4,17);b6v=a6v.dataSegment.length-D8V;}if(b6v>=a6v.dataSegment.length){C6v=a6v.dataSegment[a6v.dataSegment.length-1].DT;b6v=a6v.dataSegment.length-1;}else{C6v=a6v.dataSegment[b6v].DT;}}this.createDataSet();if(y6v){if(a6v.dataSegment&&a6v.dataSegment.length>+"0"){for(var d6v=a6v.dataSet.length-1;d6v>=0;d6v--){Z6v=a6v.dataSet[d6v].DT;if(Z6v.getTime()<C6v.getTime()){a6v.scroll=a6v.dataSet.length-d6v+b6v;break;}}}}else if(!S6v){N6v=Math.round(this.preferences.whitespace/this.layout.candleWidth);a6v.scroll=a6v.maxTicks-N6v;;}else{a6v.scroll=a6v.dataSet.length+S6v;;}}if(this.displayInitialized){this.draw();}this.changeOccurred("layout");if(this.quoteDriver){for(p6v in this.charts){a6v=this.charts[p6v];if(a6v.symbol&&a6v.moreAvailable){this.quoteDriver.checkLoadMore(a6v);}}}if(g6v){g6v(null);}this.runAppend("setPeriodicityV2",arguments);};N5.prototype.drawVectors=function(){var l6v,M6v,u6v,q6v,h6v;if(this.vectorsShowing){return;}O0L.S5();if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!!1;if(!this.chart.hideDrawings){l6v={};for(u6v=0;u6v<this.drawingObjects.length;u6v++){q6v=this.drawingObjects[u6v];M6v=q6v.panelName;if(!this.panels[q6v.panelName])continue;if(!l6v[M6v]){l6v[M6v]=[];}l6v[M6v].push(q6v);}for(M6v in l6v){this.startClip(M6v);h6v=l6v[M6v];for(u6v=+"0";u6v<h6v.length;u6v++){h6v[u6v].render(this.chart.context);}this.endClip();}}this.runAppend("drawVectors",arguments);};N5.prototype.consolidatedQuote=function(n6v,w6v,t6v,G6v,J6v,B6v,K6v){var G4V,I6v,m6v,T6v,R6v,r6v;function H6v(s6v,e6v){var u4V,W6v;u4V="Lo";u4V+="w";O0L.E5();W6v=1;if(s6v.layout.adj&&n6v[e6v].Adj_Close){W6v=n6v[e6v].Adj_Close/n6v[e6v].Close;}if("High"in n6v[e6v])if(n6v[e6v].High*W6v>m6v.High){m6v.High=n6v[e6v].High*W6v;}if(u4V in n6v[e6v])if(n6v[e6v].Low*W6v<m6v.Low){m6v.Low=n6v[e6v].Low*W6v;}m6v.Volume+=n6v[e6v].Volume;if("Close"in n6v[e6v]&&n6v[e6v].Close!==null){m6v.Close=n6v[e6v].Close*W6v;}m6v.ratio=W6v;for(var L6v in n6v[e6v]){if(!m6v[L6v]){m6v[L6v]=n6v[e6v][L6v];}}}G4V="conso";G4V+="lidatedQuo";G4V+="te";if(w6v<0){return null;}I6v=[n6v,w6v,t6v,G6v,B6v,K6v];if(this.runPrepend(G4V,I6v)){return null;}if(!B6v&&this.dontRoll){B6v=!0;}O0L.S5();function o6v(U7v,z7v,a7v,v7v,Q7v){var q4V,M4V,x7v,D7v,A7v;q4V="se";q4V+="c";q4V+="on";q4V+="d";M4V="milliseco";M4V+="nd";O0L.r0j(4);x7v=O0L.t0j(v7v,a7v);D7v=new Date(n6v[U7v].DT);if(Q7v===M4V){D7v.setMilliseconds(D7v.getMilliseconds()+x7v);}else if(Q7v===q4V){D7v.setSeconds(D7v.getSeconds()+x7v);}else{D7v.setMinutes(D7v.getMinutes()+x7v);}A7v=n6v[z7v].DT;if(K6v){if(n6v[U7v].DT.getMinutes()%x7v){if(A7v.getMinutes()%x7v===0){return!!"1";}}}if(A7v.getTime()>=D7v.getTime()){return!![];}return!{};}m6v=n6v[w6v];T6v=w6v;function c6v(Y7v,j7v){var f7v,F7v;f7v=n6v[Y7v-1].DT;F7v=n6v[Y7v].DT;if(j7v=="week"){if(F7v.getDay()<f7v.getDay()){return!!{};}}else if(j7v=="month"){if(F7v.getMonth()!=f7v.getMonth()){return!![];}}else{if(F7v.getDay()!=f7v.getDay()){return!!{};}}return!1;}if((G6v=="week"||G6v=="month")&&!B6v){for(R6v=1;R6v<=t6v;R6v++){while(T6v+ +"1"<n6v.length&&!c6v(T6v+1,G6v)){T6v++;H6v(this,T6v);}if(R6v!=t6v){T6v++;if(T6v<n6v.length){H6v(this,T6v);}}}}else if(!this.isDailyInterval(G6v)&&G6v!="tick"&&t6v>1){for(R6v=1;R6v<t6v;R6v++){O0L.r0j(0);T6v=O0L.t0j(R6v,w6v);if(T6v<n6v.length&&o6v(w6v,T6v,t6v,G6v,J6v)){T6v--;break;}if(T6v>=0&&T6v<n6v.length){H6v(this,T6v);}}}else{for(R6v=1;R6v<t6v;R6v++){O0L.r0j(0);T6v=O0L.t0j(R6v,w6v);if(T6v>=("0"|0)&&T6v<n6v.length){H6v(this,T6v);}}}for(R6v in this.plugins){r6v=this.plugins[R6v];if(r6v.consolidate){r6v.consolidate(n6v,w6v,T6v,m6v);}}this.runAppend("consolidatedQuote",I6v);return{"quote":m6v,"position":T6v+("1"^0)};};N5.NONE=0;N5.CLOSEUP=1;O0L.r0j(10);N5.CLOSEDOWN=O0L.t0j(1109842368,"2");N5.CLOSEEVEN=4;N5.CANDLEUP=8;N5.CANDLEDOWN=16;N5.CANDLEEVEN=32;N5.prototype.displayChart=function(b7v){var U4V,l4V,j4V,K4V,e4V,c4V,k4V,l7v,X7v,V7v,O7v,w4V,R4V,N7v,i7v,C7v,P7v,t4V,s4V,r4V,w7v,Y4V,b4V,P4V,N4V,u7v,M7v,h7v,B4V,R7v,T7v,n7v,x4V,S7v,p7v,T4V,g7v,C4V,O4V,F4V,y7v,d4V,S4V,y4V,d7v,E7v,q7v,n4V,i4V,E4V,f4V,V8Z,A8Z,Q8Z;U4V="s";U4V+="cat";U4V+="terplot";l4V="bas";l4V+="eli";l4V+="n";l4V+="e_delta";j4V="can";j4V+="dl";j4V+="e";K4V="colo";K4V+="red_bar";e4V="c";e4V+="olored_line";c4V="l";c4V+="i";c4V+="n";c4V+="e";k4V="di";k4V+="splayC";k4V+="ha";k4V+="rt";l7v=this.layout.candleWidth-b7v.tmpWidth<2&&b7v.tmpWidth<=3;if(this.runPrepend(k4V,arguments)){return;}this.chart.baseLegendColors=[];X7v=this.layout.chartType;V7v=null;if(b7v.customChart){if(b7v.customChart.chartType){X7v=b7v.customChart.chartType;}if(b7v.customChart.colorFunction){V7v=b7v.customChart.colorFunction;}}this.controls.baselineHandle.style.display="none";O7v=b7v.panel;if(this.layout.aggregationType=="kagi"){this.drawKagiSquareWave(O7v,"stx_kagi_up","stx_kagi_down");this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_up"));this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_down"));}else if(this.layout.aggregationType=="pandf"){w4V="stx_pan";w4V+="df_dow";w4V+="n";this.drawPointFigureChart(O7v,"stx_pandf_up","X");this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_up"));this.drawPointFigureChart(O7v,"stx_pandf_down",5768<342.01?(4360,"4941"|4612)>+"5410"?(0x14fb,![]):(930,5505)>=3987?(6.94e+3,"D"):("B","H"):"O");this.chart.baseLegendColors.push(this.getCanvasColor(w4V));}else if(X7v==c4V){R4V="stx_l";R4V+="in";R4V+="e_chart";this.drawLineChart(O7v,R4V);}else if(X7v=="mountain"){this.startClip(O7v.name);this.chart.baseLegendColors=null;this.drawMountainChart(O7v);this.endClip();}else if(X7v=="colored_mountain"){this.startClip(O7v.name);N7v=this.getCanvasColor("stx_line_up");i7v=this.getCanvasColor("stx_line_down");C7v=this.getCanvasColor("stx_line_chart");if(!V7v){V7v=function(G7v,t7v,B7v){if(t7v.Close>t7v.iqPrevClose){return N7v;}else if(t7v.Close<t7v.iqPrevClose){return i7v;}else{return C7v;}return null;};}P7v=this.drawMountainChart(O7v,"stx_colored_mountain_chart",V7v);for(var Z7v in P7v){this.chart.baseLegendColors.push(Z7v);}this.endClip();}else if(X7v=="wave"){this.drawWaveChart(O7v);}else if(X7v=="bar"){t4V="s";t4V+="tx_bar_chart";this.startClip(O7v.name);this.drawBarChartHighPerformance(O7v,t4V);this.endClip();}else if(X7v==e4V){s4V="stx_l";s4V+="ine_u";s4V+="p";this.startClip(O7v.name);N7v=this.getCanvasColor(s4V);i7v=this.getCanvasColor("stx_line_down");C7v=this.getCanvasColor("stx_line_chart");if(!V7v){V7v=function(I7v,H7v,r7v){if(H7v.Close>H7v.iqPrevClose){return N7v;}else if(H7v.Close<H7v.iqPrevClose){return i7v;}else{return C7v;}return null;};}P7v=this.drawLineChart(O7v,"stx_line_chart",V7v);for(var Z7v in P7v){this.chart.baseLegendColors.push(Z7v);}this.endClip();}else if(X7v==K4V){this.startClip(O7v.name);if(V7v){r4V="st";r4V+="x_";r4V+="ba";r4V+="r_chart";w7v=this.drawBarChart(O7v,r4V,V7v);for(var m7v in w7v){this.chart.baseLegendColors.push(m7v);}}else{Y4V="stx";Y4V+="_bar";Y4V+="_even";b4V="stx_bar_d";b4V+="own";this.drawBarChartHighPerformance(O7v,"stx_bar_up",N5.CLOSEUP);this.drawBarChartHighPerformance(O7v,b4V,N5.CLOSEDOWN);this.drawBarChartHighPerformance(O7v,Y4V,N5.CLOSEEVEN);this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_up"));this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_down"));}this.endClip();}else if(X7v=="hollow_candle"||X7v=="volume_candle"){this.startClip(O7v.name);if(V7v){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(O7v,V7v);}this.drawCandles(O7v,V7v,!!"");this.drawCandles(O7v,V7v,!![]);;}else{if(!this.noWicksOnCandles[this.layout.aggregationType]){P4V="stx_hollow_c";P4V+="andle_down";N4V="stx_h";N4V+="ollow_cand";N4V+="le_up";this.drawShadowsHighPerformance(O7v,N4V,N5.CLOSEUP);this.drawShadowsHighPerformance(O7v,P4V,N5.CLOSEDOWN);this.drawShadowsHighPerformance(O7v,"stx_hollow_candle_even",N5.CLOSEEVEN);}u7v=this.getCanvasColor("stx_hollow_candle_up");M7v=this.getCanvasColor("stx_hollow_candle_down");h7v=this.getCanvasColor("stx_hollow_candle_even");this.drawCandlesHighPerformance(O7v,u7v,"transparent",N5.CLOSEUP|N5.CANDLEDOWN);this.drawCandlesHighPerformance(O7v,M7v,"transparent",N5.CLOSEDOWN|N5.CANDLEDOWN);this.drawCandlesHighPerformance(O7v,h7v,"transparent",N5.CLOSEEVEN|N5.CANDLEDOWN);this.drawCandlesHighPerformance(O7v,this.containerColor,u7v,N5.CLOSEUP|N5.CANDLEUP);this.drawCandlesHighPerformance(O7v,this.containerColor,M7v,N5.CLOSEDOWN|N5.CANDLEUP);this.drawCandlesHighPerformance(O7v,this.containerColor,h7v,N5.CLOSEEVEN|N5.CANDLEUP);this.chart.baseLegendColors.push(u7v);this.chart.baseLegendColors.push(M7v);}this.endClip();}else if(X7v==j4V){B4V="s";B4V+="tx_c";B4V+="andle_s";B4V+="hadow_down";this.startClip(O7v.name);R7v=this.getCanvasColor("stx_candle_shadow_up");T7v=this.getCanvasColor(B4V);O0L.r0j(71);n7v=O0L.t0j(T7v,R7v);if(V7v){if(!this.noWicksOnCandles[this.layout.aggregationType]){this.drawShadows(O7v,V7v);}this.drawCandles(O7v,V7v,![]);if(!l7v){this.drawCandles(O7v,V7v,!!{});};}else{if(!this.noWicksOnCandles[this.layout.aggregationType]){if(n7v){x4V="stx";x4V+="_candle_shad";x4V+="ow";this.drawShadowsHighPerformance(O7v,"stx_candle_shadow_up",N5.CANDLEUP);this.drawShadowsHighPerformance(O7v,"stx_candle_shadow_down",N5.CANDLEDOWN);this.drawShadowsHighPerformance(O7v,x4V,N5.CANDLEEVEN);}else{this.drawShadowsHighPerformance(O7v,"stx_candle_shadow");}}S7v=this.canvasStyle("stx_candle_up");p7v=S7v["border-left-color"];if(!p7v){p7v=S7v.borderLeftColor;}if(l7v){p7v=null;}this.drawCandlesHighPerformance(O7v,this.getCanvasColor("stx_candle_up"),p7v,N5.CANDLEUP);this.chart.baseLegendColors.push(S7v.color);S7v=this.canvasStyle("stx_candle_down");p7v=S7v["border-left-color"];if(!p7v){p7v=S7v.borderLeftColor;}if(l7v){p7v=null;}this.drawCandlesHighPerformance(O7v,this.getCanvasColor("stx_candle_down"),p7v,N5.CANDLEDOWN);this.chart.baseLegendColors.push(S7v.color);}this.endClip();}else if(X7v==l4V){T4V="s";T4V+="tx_baseline_tr";T4V+="ace";this.startClip(O7v.name);this.setStyle(T4V,"opacity",+"0");this.drawLineChart(O7v,"stx_baseline_trace");g7v=b7v.baseline.actualLevel;if(g7v!==null){C4V="2.";C4V+="1";O4V="d";O4V+="ot";O4V+="te";O4V+="d";F4V="stx_b";F4V+="ase";F4V+="li";F4V+="ne_up";g7v=this.pixelFromPriceTransform(g7v,b7v.panel);y7v={"over":F4V,"under":"stx_baseline_down"};for(var k7v in y7v){d4V="transp";d4V+="arent";S4V="o";S4V+="ve";S4V+="r";y4V="C";y4V+="lo";y4V+="s";y4V+="e";d7v={panelName:"chart",band:y4V,threshold:b7v.baseline.actualLevel,color:this.getCanvasColor(y7v[k7v]),direction:k7v==S4V?+"1":-1,edgeHighlight:this.getCanvasColor(y7v[k7v]),edgeParameters:{pattern:"solid",lineWidth:parseInt(this.canvasStyle(y7v[k7v]).width,10)+("0.1"-0),opacity:1}};E7v=d7v.color;if(E7v&&E7v!=d4V){q7v=b7v.context.createLinearGradient(0,k7v=="over"?0:2*g7v,+"0",g7v);q7v.addColorStop(0,i5.hexToRgba(E7v,60));q7v.addColorStop(1,i5.hexToRgba(E7v,10));d7v.color=q7v;d7v.opacity=+"1";}i5.Studies.preparePeakValleyFill(this,b7v.dataSegment,d7v);this.chart.baseLegendColors.push(E7v);}this.plotLine(0,1,g7v,g7v,this.containerColor,"line",b7v.context,!![],{pattern:"solid",lineWidth:"1.1",opacity:"1"-0});O0L.G0j(3);this.plotLine(O0L.E0j(0,"0"),1,g7v,g7v,this.getCanvasColor("stx_baseline"),"line",b7v.context,!0,{pattern:O4V,lineWidth:C4V,opacity:0.5});if(this.chart.baseline.userLevel!==![]){O0L.r0j(13);var A9V=O0L.E0j(8,20,14);this.controls.baselineHandle.style.top=g7v-parseInt(getComputedStyle(this.controls.baselineHandle).height,"10"&2147483647)/A9V+"px";O0L.r0j(72);var Q9V=O0L.t0j(3,27,2,10,18);this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,Q9V)+"px";this.controls.baselineHandle.style.display="block";}}this.endClip();}else if(X7v=="baseline_delta_mountain"){g7v=b7v.baseline.actualLevel;if(g7v!==null){n4V="l";n4V+="in";n4V+="e";i4V="stx_ba";i4V+="seline_u";i4V+="p";E4V="stx_base";E4V+="lin";E4V+="e_delta_mou";E4V+="ntain";this.startClip(O7v.name);this.drawMountainChart(O7v,E4V);this.endClip();this.startClip(O7v.name);this.setStyle("stx_baseline_trace","opacity",0);this.drawLineChart(O7v,"stx_baseline_trace");g7v=this.pixelFromPriceTransform(g7v,b7v.panel);y7v={"over":i4V,"under":"stx_baseline_down"};for(var k7v in y7v){d7v={panelName:"chart",band:"Close",threshold:b7v.baseline.actualLevel,color:this.getCanvasColor(y7v[k7v]),direction:k7v=="over"?1:-1,edgeHighlight:this.getCanvasColor(y7v[k7v]),edgeParameters:{pattern:"solid",lineWidth:parseInt(this.canvasStyle(y7v[k7v]).width,10)+"0.1"*1,opacity:1}};this.chart.baseLegendColors.push(d7v.color);d7v.color="transparent";i5.Studies.preparePeakValleyFill(this,b7v.dataSegment,d7v);}O0L.G0j(12);this.plotLine(O0L.t0j(1431229440,"0"),1,g7v,g7v,this.containerColor,"line",b7v.context,!!"1",{pattern:"solid",lineWidth:"1.1",opacity:1});this.plotLine(0,1,g7v,g7v,this.getCanvasColor("stx_baseline"),n4V,b7v.context,!!{},{pattern:"dotted",lineWidth:"2.1",opacity:0.5});if(this.chart.baseline.userLevel!==![]){f4V="b";f4V+="lo";f4V+="c";f4V+="k";O0L.r0j(73);var X9V=O0L.E0j(19,60,418,5,4);O0L.r0j(0);var o9V=O0L.E0j(864362424,288120808);this.controls.baselineHandle.style.top=g7v-parseInt(getComputedStyle(this.controls.baselineHandle).height,X9V)/("2"<<o9V)+"px";this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10)+"px";this.controls.baselineHandle.style.display=f4V;}this.endClip();}}else if(X7v==U4V){this.startClip(O7v.name);this.scatter(O7v);this.endClip();}else if(X7v){O0L.r0j(20);console.log(O0L.t0j('Invalid chart layout.chartType: "',X7v,'". Defaulting to Line Chart.'));this.layout.chartType="line";this.drawLineChart(O7v,"stx_line_chart");}else{V8Z=615176401;A8Z=-1938861205;Q8Z=2;for(var o8Z=+"1";O0L.q7Z(o8Z.toString(),o8Z.toString().length,94287)!==V8Z;o8Z++){this.chart.baseLegendColors=null;Q8Z+=2;}if(O0L.q7Z(Q8Z.toString(),Q8Z.toString().length,60317)!==A8Z){this.chart.baseLegendColors=1;}}this.runAppend("displayChart",arguments);};N5.prototype.calculateATR=function(J7v,o7v){var e7v,c7v,W7v,L7v;if(!o7v){o7v=20;}O0L.E5();e7v=0;for(var K7v=1;K7v<J7v.dataSet.length;K7v++){c7v=J7v.dataSet[K7v];W7v=J7v.dataSet[K7v-1].Close;L7v=Math.max(c7v.High-c7v.Low,Math.abs(c7v.High-W7v),Math.abs(c7v.Low-W7v));e7v+=L7v;if(K7v>o7v){e7v-=J7v.dataSet[K7v-o7v].trueRange;}c7v.trueRange=L7v;O0L.G0j(2);c7v.atr=O0L.t0j(o7v,e7v);}};N5.prototype.calculateMedianPrice=function(F0O){var s7v,h4V;for(var f0O=0;f0O<F0O.dataSet.length;++f0O){h4V="h";h4V+="l/";h4V+="2";s7v=F0O.dataSet[f0O];s7v[h4V]=(s7v.High+s7v.Low)/2;}};N5.prototype.calculateTypicalPrice=function(D0O){var Y0O;for(var j0O="0"|0;j0O<D0O.dataSet.length;++j0O){Y0O=D0O.dataSet[j0O];O0L.r0j(2);var H9V=O0L.t0j(18,54);Y0O["hlc/3"]=(Y0O.High+Y0O.Low+Y0O.Close)/H9V;}};N5.prototype.calculateWeightedClose=function(U0O){var x0O;O0L.S5();for(var A0O=0;A0O<U0O.dataSet.length;++A0O){x0O=U0O.dataSet[A0O];O0L.r0j(74);var W9V=O0L.E0j(46878014,10,609414178,10);x0O["hlcc/4"]=(x0O.High+x0O.Low+2*x0O.Close)/("4">>W9V);}};N5.prototype.calculateOHLC4=function(a0O){var Q0O,I4V;O0L.E5();for(var z0O=0;z0O<a0O.dataSet.length;++z0O){I4V="o";I4V+="hlc/4";Q0O=a0O.dataSet[z0O];O0L.r0j(3);var p9V=O0L.E0j(20,24);Q0O[I4V]=(Q0O.Open+Q0O.High+Q0O.Low+Q0O.Close)/p9V;}};N5.prototype.currentQuote=function(){var O0O;O0O=null;if(!this.chart.dataSet){return null;}for(var v0O=this.chart.dataSet.length-+"1";v0O>=0;v0O--)if(this.chart.dataSet[v0O]){return this.chart.dataSet[v0O];}return null;};N5.prototype.correctIfOffEdge=function(k0O){var D4V,g0O,b0O,V0O;D4V="corre";D4V+="ctIfO";D4V+="ffEdge";if(this.runPrepend(D4V,arguments)){return;}O0L.S5();for(var X0O in this.charts){g0O=this.charts[X0O];O0L.r0j(61);var L9V=O0L.t0j(14,14,2,3);b0O=this.minimumLeftBars+L9V;if(g0O.allowScrollPast){V0O=g0O.maxTicks-b0O;if(g0O.maxTicks-V0O>g0O.dataSet.length){V0O=g0O.maxTicks-g0O.dataSet.length;}if(g0O.scroll-V0O>g0O.dataSet.length){g0O.scroll=g0O.dataSet.length+V0O;}if(g0O.scroll<=b0O){g0O.scroll=b0O;this.micropixels=0;}}else{if(g0O.scroll<b0O){g0O.scroll=b0O;}if(g0O.scroll>g0O.dataSet.length){g0O.scroll=g0O.dataSet.length;}};}this.runAppend("correctIfOffEdge",arguments);};N5.prototype.createDataSegment=function(N0O){var V5V,y0O,p0O,P0O,E0O,Z0O;V5V="createDat";V5V+="aSegm";V5V+="ent";if(this.runPrepend(V5V,arguments)){return;}for(var i0O in this.charts){y0O=this.charts[i0O];if(N0O){y0O=N0O;}y0O.baseline.actualLevel=y0O.baseline.userLevel?y0O.baseline.userLevel:y0O.baseline.defaultLevel;y0O.dataSegment=[];p0O=y0O.dataSet.length-y0O.scroll-+"1";for(var S0O=-1;S0O<y0O.scroll&&S0O<y0O.maxTicks;S0O++){p0O++;if(S0O==-1&&!y0O.baseline.includeInDataSegment)continue;if(p0O<y0O.dataSet.length&&p0O>=0){if(y0O.dataSet[p0O].candleWidth){y0O.dataSet[p0O].candleWidth=null;y0O.dataSet[p0O].leftOffset=null;}y0O.dataSegment.push(y0O.dataSet[p0O]);if(y0O.baseline.actualLevel===null&&S0O>=0){y0O.baseline.actualLevel=y0O.dataSet[p0O].iqPrevClose;}}else if(p0O<0){y0O.dataSegment.push(null);}}if(this.layout.chartType=="volume_candle"){P0O=+"0";for(var C0O=0;C0O<y0O.dataSegment.length;C0O++){if(y0O.dataSegment[C0O]){P0O+=y0O.dataSegment[C0O].Volume;}}E0O=0;for(var d0O="0"^0;d0O<y0O.dataSegment.length;d0O++){if(y0O.dataSegment[d0O]){if(y0O.dataSegment[d0O].Volume){Z0O=y0O.width;if(y0O.scroll<y0O.maxTicks){Z0O-=this.preferences.whitespace;}y0O.dataSegment[d0O].candleWidth=Z0O*y0O.dataSegment[d0O].Volume/P0O;O0L.G0j(2);var v9V=O0L.t0j(10,20);y0O.dataSegment[d0O].leftOffset=E0O+y0O.dataSegment[d0O].candleWidth/v9V;E0O+=y0O.dataSegment[d0O].candleWidth;}else{y0O.dataSegment[d0O].candleWidth=this.layout.candleWidth;y0O.dataSegment[d0O].leftOffset=E0O+this.layout.candleWidth/("2"&2147483647);E0O+=this.layout.candleWidth;}}else{E0O+=this.layout.candleWidth;}}}if(N0O)break;}this.runAppend("createDataSegment",arguments);};N5.prototype.leftTick=function(){return this.chart.dataSet.length-this.chart.scroll;};N5.prototype.getStartDateOffset=function(){for(var u0O=0;u0O<this.chart.dataSegment.length;u0O++){if(this.chart.dataSegment[u0O]){return u0O;}}O0L.E5();return 0;};N5.prototype.setStartDate=function(q0O){var l0O;for(var M0O=0;M0O<this.chart.dataSet.length;M0O++){l0O=this.chart.dataSet[M0O];if(l0O.DT.getTime()==q0O.getTime()){this.chart.scroll=this.chart.dataSet.length-M0O;this.draw();return;}}};N5.prototype.updateListeners=function(T0O){var h0O;for(var n0O in this.plugins){h0O=this.plugins[n0O];if(h0O.display&&h0O.listener){h0O.listener(this,T0O);}}};N5.prototype.clearPixelCache=function(){var R0O,m0O;O0L.E5();for(var t0O in this.panels){R0O=this.panels[t0O];R0O.cacheHigh=null;R0O.cacheLow=null;R0O.cacheLeft=1000000;R0O.cacheRight=-1;}for(var G0O in this.charts){m0O=this.charts[G0O];if(!m0O.dataSet)continue;for(var w0O=0;w0O<m0O.dataSet.length;w0O++){m0O.dataSet[w0O].cache={};}}};N5.prototype.createYAxisLabel=function(L0O,x4O,K0O,J0O,D4O,j4O,Y4O){var Q5V,A5V,B0O,H0O,r0O,I0O,e0O,F4O,o0O,c0O,f4O,s0O,b1Z,Y1Z,N1Z,A4O,W0O;Q5V="unde";Q5V+="f";Q5V+="ine";Q5V+="d";A5V="le";A5V+="f";A5V+="t";if(L0O.yAxis.drawPriceLabels===!{}){return;}B0O=Y4O?Y4O:L0O.yAxis;H0O=j4O?j4O:this.chart.context;r0O=3;I0O=this.getCanvasFontSize("stx_yaxis")+r0O*2;this.canvasFont("stx_yaxis",H0O);e0O=B0O.displayBorder;if(this.axisBorders===!{}){e0O=!{};}if(this.axisBorders===!!"1"){e0O=!!1;}F4O=e0O?3:0;try{O0L.G0j(65);var g9V=O0L.t0j(14,21,7,26);o0O=H0O.measureText(x4O).width+F4O+r0O*g9V;}catch(U4O){var s7Z,K7Z,r7Z;s7Z=1475680135;K7Z=600626082;r7Z=+"2";for(var Y7Z=1;O0L.q7Z(Y7Z.toString(),Y7Z.toString().length,67872)!==s7Z;Y7Z++){o0O=B0O.width;r7Z+=2;}if(O0L.q7Z(r7Z.toString(),r7Z.toString().length,+"55439")!==K7Z){o0O=B0O.width;}}O0L.r0j(75);var a9V=O0L.E0j(11,18,4);c0O=B0O.left-r0O+a9V;O0L.G0j(20);f4O=O0L.t0j(c0O,r0O,F4O);s0O=+"3";O0L.r0j(64);b1Z=-O0L.E0j(806390528,"810679173");Y1Z=1236367573;O0L.G0j(29);N1Z=O0L.E0j("2",2147483647);for(var j1Z=1;O0L.q7Z(j1Z.toString(),j1Z.toString().length,50677)!==b1Z;j1Z++){A4O=B0O.position===null?L0O.chart.yAxis.position:B0O.position;N1Z+=2;}if(O0L.k7Z(N1Z.toString(),N1Z.toString().length,28996)!==Y1Z){A4O=B0O.position==1?L0O.chart.yAxis.position:B0O.position;}if(A4O===A5V){O0L.G0j(2);var G9V=O0L.E0j(10,19216725120);c0O=B0O.left+B0O.width+r0O-("3">>G9V);O0L.G0j(76);o0O=O0L.E0j(1,o0O);f4O=c0O;s0O=-3;H0O.textAlign="right";}if(K0O+I0O/2>B0O.bottom){K0O=B0O.bottom-I0O/+"2";}if(K0O-I0O/2<B0O.top){O0L.G0j(77);var u9V=O0L.t0j(10,492,16,19,11);K0O=B0O.top+I0O/u9V;}H0O.fillStyle=J0O;if(typeof i5[this.yaxisLabelStyle]==Q5V){this.yaxisLabelStyle="roundRectArrow";;}W0O=this.yaxisLabelStyle;if(B0O.yaxisLabelStyle){W0O=B0O.yaxisLabelStyle;}O0L.G0j(78);i5[W0O](H0O,c0O,O0L.t0j(2,I0O,K0O),o0O,I0O,s0O,!!"1",![]);H0O.textBaseline="middle";H0O.fillStyle=D4O?D4O:i5.chooseForegroundColor(J0O);if(H0O.fillStyle==J0O){if(J0O.toUpperCase()=="#FFFFFF"){H0O.fillStyle="#000000";}else{H0O.fillStyle="#FFFFFF";}}O0L.r0j(0);H0O.fillText(x4O,f4O,O0L.E0j(1,K0O));H0O.textAlign="left";};N5.prototype.createXAxisLabel=function(v4O,p4O,z4O,V4O,d4O,y4O){var Q4O,g4O,k4O,b4O,a4O,O4O,X4O;Q4O=this.chart.context;g4O=+"2";k4O="stx-float-date";b4O=this.getCanvasFontSize(k4O)+g4O*2;this.canvasFont(k4O,Q4O);try{a4O=Q4O.measureText(p4O).width+g4O*2;}catch(S4O){a4O=+"0";}O4O=v4O.top+v4O.height-b4O;if(z4O+a4O/+"2"<v4O.left||z4O-a4O/2>v4O.right){return;}if(!y4O){if(z4O+a4O/2>v4O.right){O0L.r0j(3);var k9V=O0L.t0j(9,11);z4O=v4O.right-a4O/k9V;}if(z4O-a4O/2<v4O.left){O0L.r0j(79);var w9V=O0L.E0j(15,2,16);z4O=v4O.left+a4O/w9V;}}Q4O.fillStyle=V4O;O0L.r0j(80);i5.roundRect(Q4O,O0L.E0j(a4O,"2",z4O),O4O,a4O,b4O,3,!!1,![]);if(y4O){X4O=v4O.bottom-v4O.yAxis.bottom-b4O;Q4O.beginPath();O0L.G0j(3);Q4O.moveTo(O0L.E0j(X4O,z4O),O4O);O0L.r0j(3);Q4O.lineTo(z4O,O0L.t0j(X4O,O4O));O0L.r0j(0);Q4O.lineTo(O0L.t0j(X4O,z4O),O4O);Q4O.closePath();Q4O.fill();}Q4O.textBaseline="top";Q4O.fillStyle=d4O?d4O:i5.chooseForegroundColor(V4O);if(Q4O.fillStyle==V4O){if(V4O.toUpperCase()=="#FFFFFF"){Q4O.fillStyle="#000000";}else{Q4O.fillStyle="#FFFFFF";}}O0L.r0j(31);Q4O.fillText(p4O,O0L.E0j(2,z4O,g4O,a4O),O0L.t0j(g4O,O4O,O0L.G0j(0)));};N5.prototype.drawCurrentHR=function(){var l4O,n4O,P4O,E4O,Z4O,N4O,i4O,C4O,q4O,R4O,m4O,h4O,u4O,M4O;if(this.runPrepend("drawCurrentHR",arguments)){return;}for(var T4O in this.charts){P4O=this.charts[T4O];E4O=P4O.panel;Z4O=E4O.yAxis;if(Z4O.drawCurrentPriceLabel===!{})continue;if(P4O.customChart&&P4O.customChart.chartType=="none")continue;N4O=Z4O.whichSet;if(!N4O){N4O="dataSet";}i4O=P4O[N4O].length;if(N4O=="dataSegment"){while(i4O>(P4O.width-this.micropixels+this.layout.candleWidth/2+1)/this.layout.candleWidth){i4O--;}}if(i4O){O0L.G0j(18);C4O=P4O[N4O][O0L.E0j("1",i4O)];q4O=C4O.Close;R4O=C4O.Close;if(P4O[N4O].length>=2){O0L.G0j(3);m4O=P4O[N4O][O0L.t0j(2,i4O)];q4O=m4O.Close;}if(R4O<q4O){l4O=this.canvasStyle("stx_current_hr_down").backgroundColor;n4O=this.canvasStyle("stx_current_hr_down").color;}else{l4O=this.canvasStyle("stx_current_hr_up").backgroundColor;n4O=this.canvasStyle("stx_current_hr_up").color;}if(C4O.transform){C4O=C4O.transform;}u4O=Math.max(E4O.yAxis.printDecimalPlaces,E4O.chart.decimalPlaces);if(Z4O.maxDecimalPlaces||Z4O.maxDecimalPlaces===0){u4O=Math.min(u4O,Z4O.maxDecimalPlaces);}if(Z4O.priceFormatter){h4O=Z4O.priceFormatter(this,E4O,C4O.Close,u4O);}else{h4O=this.formatYAxisPrice(C4O.Close,E4O,u4O);}M4O=this.pixelFromPrice(C4O.Close,E4O);this.createYAxisLabel(E4O,h4O,M4O,l4O,n4O);if(this.preferences.currentPriceLine===!""&&this.isHome()){E4O.chart.context.globalCompositeOperation="destination-over";this.plotLine(E4O.left,E4O.right,M4O,M4O,l4O,"line",E4O.chart.context,E4O,{pattern:"dashed",lineWidth:1,opacity:0.8});E4O.chart.context.globalCompositeOperation="source-over";}}}this.runAppend("drawCurrentHR",arguments);};N5.prototype.getDefaultColor=function(){var X5V,w4O,t4O,o5V,G4O,Z5V,J5V,m5V,H5V,B4O,H4O,W5V;X5V="#";X5V+="000";X5V+="00";X5V+="0";this.defaultColor=X5V;O0L.S5();w4O=null;t4O=this.chart.container;while(!w4O||i5.isTransparent(w4O)){o5V="tra";o5V+="nspare";o5V+="nt";G4O=getComputedStyle(t4O);if(!G4O){return;}w4O=G4O.backgroundColor;if(i5.isTransparent(w4O)){w4O=o5V;}t4O=t4O.parentNode;if(!t4O||!t4O.tagName)break;}if(w4O){Z5V="#";Z5V+="F";Z5V+="FF";Z5V+="FFF";J5V="t";J5V+="ran";J5V+="sparen";J5V+="t";if(w4O==J5V){w4O=Z5V;}this.containerColor=w4O;if(!i5.isTransparent(w4O)){m5V="#FFFFF";m5V+="F";H5V="#";H5V+="000";H5V+="00";H5V+="0";B4O=i5.hsv(w4O);H4O=B4O[2];if(H4O>0.65){this.defaultColor=H5V;}else{this.defaultColor=m5V;}}else{this.defaultColor="#000000";}}else{W5V="#F";W5V+="F";W5V+="F";W5V+="FFF";this.containerColor=W5V;}};N5.prototype.startAsyncAction=function(){if(!this.pendingAsyncs){this.pendingAsyncs=[];}O0L.E5();this.pendingAsyncs.push(!!"1");};N5.prototype.registerChartDrawnCallback=function(I4O){if(!this.asyncCallbacks){this.asyncCallbacks=[];}this.asyncCallbacks.push(I4O);return{fc:I4O};};N5.prototype.unregisterChartDrawnCallback=function(K4O){for(var r4O=+"0";r4O<this.asyncCallbacks.length;r4O++){if(this.asyncCallbacks[r4O]==K4O.fc){this.asyncCallbacks.splice(r4O,1);return;}}};N5.prototype.makeAsyncCallbacks=function(){if(!this.asyncCallbacks){return;}if(!this.pendingAsyncs||!this.pendingAsyncs.length){for(var c4O=0;c4O<this.asyncCallbacks.length;c4O++){this.asyncCallbacks[c4O]();}}};N5.prototype.completeAsyncAction=function(){O0L.E5();this.pendingAsyncs.pop();this.makeAsyncCallbacks();};N5.prototype.draw=function(){var W4O,o4O,e4O,J4O,f9O,L5V,p5V;this.debug();if(!this.chart.canvas){return;}if(!this.chart.dataSet){return;}if(!this.chart.canvasHeight){return;}this.offset=this.layout.candleWidth*this.candleWidthPercent/2;i5.clearCanvas(this.chart.canvas,this);if(this.runPrepend("draw",arguments)){return;}if(!this.xaxisHeight){O0L.r0j(25);var R9V=O0L.E0j(2,11,16,6);this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+R9V;if(this.chart.xAxis.displayBorder||this.axisBorders){this.xaxisHeight+=3;}}this.getDefaultColor();this.vectorsShowing=!"1";O0L.S5();this.drawPanels();this.yAxisLabels=[];for(e4O in this.charts){o4O=this.charts[e4O];this.correctIfOffEdge();this.createDataSegment();f9O=this.createXAxis(o4O);this.initializeDisplay(o4O);this.rendererAction(o4O,"calculate");this.renderYAxis(o4O);this.drawXAxis(o4O,f9O);o4O.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent);if(o4O.tmpWidth%("2"|0)===+"0"){o4O.tmpWidth+=1;if(o4O.tmpWidth>this.layout.candleWidth){o4O.tmpWidth-=+"2";}}if(o4O.tmpWidth<0.5){o4O.tmpWidth=0.5;}for(W4O in this.plugins){J4O=this.plugins[W4O];if(J4O.display){if(J4O.drawUnder){J4O.drawUnder(this,o4O);}}}this.rendererAction(o4O,"underlay");i5.Studies.displayStudies(this,o4O,!![]);this.displayChart(o4O);i5.Studies.displayStudies(this,o4O,!{});this.rendererAction(o4O,"overlay");}for(e4O in this.charts){o4O=this.charts[e4O];for(W4O in this.plugins){J4O=this.plugins[W4O];if(J4O.display){if(J4O.drawOver){J4O.drawOver(this,o4O);}}}}for(var s4O in this.panels){if(!this.panels[s4O].hidden){this.plotYAxisText(this.panels[s4O]);}}for(var L4O=0;L4O<this.yAxisLabels.length;L4O++){this.createYAxisLabel.apply(this,this.yAxisLabels[L4O].args);}this.createCrosshairs();this.drawVectors();this.drawCurrentHR();this.displayInitialized=!!{};if(this.controls.home){L5V="bl";L5V+="o";L5V+="ck";p5V="n";p5V+="on";p5V+="e";this.controls.home.style.display=this.isHome()?p5V:L5V;}this.positionMarkers();for(e4O in this.charts){o4O=this.charts[e4O];if(this.quoteDriver){this.quoteDriver.checkLoadMore(o4O);}}this.runAppend("draw",arguments);this.makeAsyncCallbacks();};N5.prototype.adjustBackingStore=function(F9O,Y9O){var A9O,j9O,D9O,x9O;O0L.E5();this.devicePixelRatio=window.devicePixelRatio||1;if(this.devicePixelRatio<1.0){this.devicePixelRatio=1.0;}A9O=Y9O.webkitBackingStorePixelRatio||Y9O.mozBackingStorePixelRatio||Y9O.msBackingStorePixelRatio||Y9O.oBackingStorePixelRatio||Y9O.backingStorePixelRatio||1;j9O=this.devicePixelRatio/A9O;if(!i5.isAndroid||i5.is_chrome){D9O=F9O.width;x9O=F9O.height;O0L.G0j(4);F9O.width=O0L.E0j(D9O,j9O);O0L.r0j(4);F9O.height=O0L.t0j(x9O,j9O);O0L.r0j(0);F9O.style.width=O0L.t0j('px',D9O);O0L.r0j(0);F9O.style.height=O0L.E0j('px',x9O);Y9O.scale(j9O,j9O);this.adjustedDisplayPixelRatio=j9O;}};N5.prototype.resizeCanvas=function(){var z9O,v9O,O9O,Q9O,U9O,V9O,a9O,g9O;if(!this.chart.panel){this.chart.panel=this.panels.chart;}z9O=this.chart.canvas;v9O=this.chart.context;if(z9O&&v9O){this.chart.tempCanvas.height=z9O.height=this.chart.container.clientHeight;this.chart.tempCanvas.width=z9O.width=this.chart.container.clientWidth;this.adjustBackingStore(z9O,v9O);this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context);this.floatCanvas.height=this.chart.container.clientHeight;this.floatCanvas.width=this.chart.container.clientWidth;this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context);}O9O=this.container.getBoundingClientRect();this.top=O9O.top;this.left=O9O.left;this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth;O0L.E5();this.right=this.left+this.canvasWidth;this.height=this.chart.container.clientHeight;this.width=this.right-this.left;if(this.width===0&&!this.container.dimensionlessCanvas){console.log("warning: zero width chart. Check CSS for chart container.");}this.bottom=this.top+this.height;this.calculateYAxisPositions();this.chart.canvasRight=this.right;this.chart.canvasHeight=this.height;Q9O=this.layout.candleWidth;if(typeof Q9O=="undefined"){Q9O=8;}for(var b9O in this.charts){U9O=this.charts[b9O];if(this.layout.span){this.setCandleWidth(this.getSpanCandleWidth(this.layout.span),U9O);}else{this.setCandleWidth(Q9O,U9O);if(U9O.scroll<U9O.width/Q9O){U9O.scroll=Math.floor(U9O.width/Q9O);V9O=Math.round(this.preferences.whitespace/this.layout.candleWidth);U9O.scroll-=V9O;}}a9O=10;try{g9O=v9O.measureText("10:00").width*2;}catch(X9O){g9O=100;}while(a9O>1){if(this.chart.width/g9O>a9O)break;a9O/=1.5;}U9O.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/a9O);if(U9O.xAxis.autoComputedTickSizePixels<("1"|0)){O0L.G0j(64);U9O.xAxis.autoComputedTickSizePixels=O0L.t0j(0,"1");}}};N5.prototype.setCandleWidth=function(k9O,y9O){if(!y9O){y9O=this.chart;}if(k9O<this.minimumCandleWidth){k9O=this.minimumCandleWidth;}this.layout.candleWidth=k9O;y9O.maxTicks=Math.round(this.chart.width/k9O)+ +"1";};N5.prototype.resizeChart=function(d9O){var v5V,p9O;v5V="resizeC";v5V+="ha";v5V+="r";v5V+="t";if(this.runPrepend("resizeChart",arguments)){return;}if(d9O!==!!""){d9O=!!"1";}if(d9O){this.preAdjustScroll();}p9O=this.chart.canvasHeight;this.resizeCanvas();if(d9O){this.postAdjustScroll();}if(this.displayInitialized){this.adjustPanelPositions();this.draw();;}else if(this.chart.canvasHeight!==0&&p9O==="0">>1874819072){this.adjustPanelPositions();this.draw();}this.positionCrosshairsAtPointer();this.doDisplayCrosshairs();this.runAppend(v5V,arguments);};N5.prototype.newChart=function(Z9O,i9O,S9O,N9O,E9O){var z5V,q9O,M9O,n9O,l9O,C9O,u9O,P9O,h9O;z5V="o";z5V+="bj";z5V+="e";z5V+="ct";if(!S9O){S9O=this.chart;}if(!E9O){E9O={};}if(E9O.periodicity){if(E9O.periodicity.interval){this.layout.interval=E9O.periodicity.interval;}if(E9O.periodicity.period){this.layout.periodicity=E9O.periodicity.period;}if(E9O.periodicity.periodicity){this.layout.periodicity=E9O.periodicity.periodicity;}this.layout.timeUnit=E9O.periodicity.timeUnit;}q9O=S9O.symbol;M9O=i5.clone(S9O.symbolObject);O0L.S5();n9O=S9O.market;if(!Z9O){S9O.symbol=null;S9O.symbolObject={symbol:null};}else if(typeof Z9O==z5V){S9O.symbol=Z9O.symbol;S9O.symbolObject=Z9O;}else{S9O.symbol=Z9O;S9O.symbolObject.symbol=Z9O;}if(this.marketFactory){l9O=this.marketFactory(S9O.symbolObject);this.setMarket(l9O,S9O);}C9O=this;if(!i9O&&this.quoteDriver){u9O=function(T9O){var g5V;g5V="or";g5V+="p";g5V+="ha";g5V+="ned";if(T9O&&T9O!=g5V){S9O.symbol=q9O;S9O.symbolObject=M9O;S9O.market=n9O;}if(!C9O.currentlyImporting){C9O.dispatch("symbolChange",{stx:C9O,symbol:C9O.chart.symbol,symbolObject:C9O.chart.symbolObject});}O0L.E5();if(N9O){N9O(T9O);}};P9O=E9O.span;if(!P9O&&this.layout){P9O=this.layout.setSpan;}if(P9O&&P9O.base){h9O=P9O.multiplier||+"1";this.chart.masterData=null;this.displayInitialized=!"1";this.setSpan({maintainPeriodicity:E9O.periodicity?!!1:![],multiplier:h9O,base:P9O.base,symbol:S9O.symbol},u9O);}else{this.quoteDriver.newChart({symbol:S9O.symbol,symbolObject:S9O.symbolObject,chart:S9O,initializeChart:!!{}},function(R9O){if(!R9O){C9O.adjustPanelPositions();C9O.quoteDriver.updateSubscriptions();if(E9O.stretchToFillScreen){C9O.fillScreen();}}O0L.S5();u9O.apply(C9O,arguments);});}}else{if(!i9O){console.log("Warning: No masterData specified and no QuoteFeed configured");}if(!S9O.symbol){S9O.symbol="";}this.setMasterData(i9O,S9O);this.createDataSet();this.initializeChart();if(E9O.span&&E9O.span.multiplier&&E9O.span.base){this.setSpan({maintainPeriodicity:!!{},multiplier:E9O.span.multiplier,base:E9O.span.base});}else if(E9O.stretchToFillScreen){this.fillScreen();}else{this.draw();}this.adjustPanelPositions();if(N9O){N9O();}}};N5.prototype.fillScreen=function(){var t9O,m9O,w9O,G9O;t9O=this.layout.candleWidth;m9O=this.chart.width-this.preferences.whitespace;w9O=this.chart.dataSet.length;if(w9O*t9O>=m9O){this.draw();return;}O0L.r0j(2);G9O=O0L.t0j(w9O,m9O);this.setCandleWidth(G9O,this.chart);this.home({maintainWhitespace:!!"1"});};N5.prototype.setMasterData=function(r9O,H9O){var o9O,I9O,a5V,B9O,K9O,c9O;if(!H9O){H9O=this.chart;}if(this.marketFactory){o9O=this.marketFactory(H9O.symbolObject);this.setMarket(o9O,H9O);}H9O.masterData=r9O;if(H9O.name=="chart"){this.masterData=r9O;}O0L.S5();for(I9O=0;r9O&&I9O<r9O.length;I9O++){a5V="n";a5V+="umbe";a5V+="r";if(this.transformMasterDataQuote){r9O[I9O]=this.transformMasterDataQuote(r9O[I9O]);}B9O=r9O[I9O];if(B9O.DT){B9O.DT=new Date(B9O.DT);B9O.Date=i5.yyyymmddhhmmssmmm(B9O.DT);}else if(B9O.Date){B9O.DT=i5.strToDateTime(B9O.Date);}else{console.log('setMasterData : Missing DT and Date on masterData object');}if(B9O.Volume&&typeof B9O.Volume!==a5V){B9O.Volume=parseInt(B9O.Volume,10);}if(typeof B9O.Close=='number'){;}else{console.log('setMasterData : Close is missing or not a number. Use parseFloat() if your data server provides strings. MasterData Index= '+I9O+' Value = '+B9O.Close);}if(B9O.High===null){delete B9O.High;}if(B9O.Low===null){delete B9O.Low;}if(B9O.Open===null){delete B9O.Open;}}H9O.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:H9O,symbol:H9O.symbolObject.symbol,symbolObject:H9O.symbolObject});if(!N5.isDailyInterval(this.layout.interval)){this.setDisplayDates(r9O);}this.chart.roundit=Math.pow(10,H9O.decimalPlaces);for(I9O in this.plugins){K9O=this.plugins[I9O];if(K9O.display){if(K9O.setMasterData){K9O.setMasterData(this,H9O);}}}for(var J9O in this.chart.series){c9O=this.chart.series[J9O];if(c9O.addSeriesData){c9O.addSeriesData(this);}}};N5.prototype.getSymbols=function(){var e9O,L9O,f5O,s9O,A5O,Y5O;e9O=[];for(var U5O in this.charts){f5O=this.charts[U5O];e9O.push({symbol:f5O.symbol,symbolObject:f5O.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan});for(var F5O in f5O.series){s9O=f5O.series[F5O];if(!s9O.parameters.data||!s9O.parameters.data.useDefaultQuoteFeed)continue;L9O={symbol:F5O,symbolObject:s9O.symbolObject,periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};if(arguments[0]==="include-parameters"){L9O.parameters=s9O.parameters;}if(!L9O.symbolObject){L9O.symbolObject=s9O.parameters.symbolObject||{symbol:F5O};}e9O.push(L9O);}}for(var x5O in this.panels){if(this.panels[x5O].studyQuotes){for(var D5O in this.panels[x5O].studyQuotes){L9O={symbol:D5O,symbolObject:{symbol:D5O},periodicity:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit,setSpan:this.layout.setSpan};e9O.push(L9O);}}}for(var W9O=e9O.length-("1">>1473771680);W9O>=0;W9O--){A5O=e9O[W9O].symbol;if(this.isEquationChart(A5O)){Y5O=i5.formatEquation(A5O);if(Y5O){for(var j5O=+"0";j5O<Y5O.symbols.length;j5O++){L9O={symbol:Y5O.symbols[j5O],symbolObject:e9O[W9O].symbolObject,periodicity:e9O[W9O].periodicity,interval:e9O[W9O].interval,timeUnit:e9O[W9O].timeUnit,setSpan:e9O[W9O].setSpan};e9O.push(L9O);}e9O.splice(W9O,+"1");}}}return e9O;};N5.prototype.setDisplayDate=function(v5O){var Q5O,a5O,z5O;Q5O=v5O.DT;O0L.r0j(8);var e9V=O0L.t0j(10,23,987);a5O=Q5O.getSeconds()*e9V+Q5O.getMilliseconds();if(this.dataZone){z5O=new M5.Date(Q5O.getFullYear(),Q5O.getMonth(),Q5O.getDate(),Q5O.getHours(),Q5O.getMinutes(),this.dataZone);Q5O=new Date(z5O.getTime()+a5O);}if(this.displayZone){z5O=new M5.Date(Q5O.getTime(),this.displayZone);Q5O=new Date(z5O.getFullYear(),z5O.getMonth(),z5O.getDate(),z5O.getHours(),z5O.getMinutes());Q5O=new Date(Q5O.getTime()+a5O);}v5O.displayDate=Q5O;};N5.prototype.setDisplayDates=function(g5O){var b5O;if(!g5O){return;}for(var O5O=0;O5O<g5O.length;O5O++){b5O=g5O[O5O];if(b5O.DT){this.setDisplayDate(b5O);}}};N5.prototype.streamTrade=function(N5O,k5O,P5O,d5O){var u5V,C5O,X5O,E5O,p5O,S5O,G5V,Z5O,V5O,l5O,h5O,M5O,y5O,M5V,n5O,i5O,T5O,q5O,R5O,u5O;u5V="In";u5V+="valid";u5V+=" D";u5V+="ate";C5O=this.chart;if(!d5O){d5O={};}if(d5O.chart){C5O=d5O.chart;}X5O=null;E5O=null;p5O=null;S5O=0;if(typeof N5O=="object"){X5O=N5O.last;E5O=N5O.bid;p5O=N5O.ask;S5O=N5O.volume;if(typeof k5O!="undefined"){k5O=new Date(k5O);}}else{G5V="u";G5V+="n";G5V+="d";G5V+="efined";X5O=arguments[0];S5O=arguments[1];if(typeof k5O!=G5V){k5O=new Date(arguments[2]);}P5O=arguments[3];}Z5O=C5O.masterData;if(!k5O||k5O==u5V){k5O=this.convertToDataZone(new Date());}if(!Z5O||!Z5O.length||this.layout.interval=="tick"){V5O={Date:i5.yyyymmddhhmmssmmm(k5O),DT:k5O,Open:X5O,Close:X5O,High:X5O,Low:X5O,Volume:S5O,Bid:E5O,Ask:p5O};this.appendMasterData([V5O],C5O,d5O);}else{V5O=i5.clone(Z5O[Z5O.length-1]);l5O=new i5.Market({});h5O={'begin':V5O.DT,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};M5O=l5O.newIterator(h5O);y5O=M5O.next();if(k5O<y5O){M5V="u";M5V+="n";M5V+="d";M5V+="efined";if(P5O){if(X5O||X5O===0){V5O[P5O]=X5O;;}}else{if(X5O||X5O===0){V5O.Close=X5O;if(X5O>V5O.High||V5O.High===null){V5O.High=X5O;}if(X5O<V5O.Low||V5O.Low===null){V5O.Low=X5O;}if(V5O.Open===null){V5O.Open=X5O;};}if(S5O){V5O.Volume+=S5O;}if(E5O||E5O===0){V5O.Bid=E5O;}if(p5O||p5O===0){V5O.Ask=p5O;}}n5O=i5.clone(d5O);if(typeof V5O.Adj_Close!=M5V){V5O.Adj_Close=V5O.Close;}this.appendMasterData([V5O],C5O,n5O);}else{i5O=[];T5O={'begin':k5O,'interval':this.layout.interval,'periodicity':this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};q5O=l5O.newIterator(T5O);q5O.next();k5O=q5O.previous();while(y5O<k5O&&this.streamParameters.fillGaps){R5O={Date:i5.yyyymmddhhmmssmmm(y5O),DT:y5O,Close:V5O.Close,Open:V5O.Close,High:V5O.Close,Low:V5O.Close,Volume:0,Bid:V5O.Bid,Ask:V5O.Ask};i5O.push(R5O);y5O=M5O.next();}if(P5O){u5O=this.currentQuote();V5O={Date:i5.yyyymmddhhmmssmmm(y5O),DT:y5O,Close:u5O.Close,Volume:"0"*1,Bid:u5O.Bid,Ask:u5O.Ask};V5O[P5O]=X5O;}else{V5O={Date:i5.yyyymmddhhmmssmmm(y5O),DT:y5O,Open:X5O,Close:X5O,High:X5O,Low:X5O,Volume:S5O,Bid:E5O,Ask:p5O};}i5O.push(V5O);this.appendMasterData(i5O,C5O,d5O);}}};N5.prototype.appendMasterData=function(G5O,K5O,I5O){var w5V,q5V,J5O,w5O,m5O,k5V,c5O,B5O,L5O,H5O,W1Z,p1Z,L1Z,r5O;w5V="appen";w5V+="dMaster";w5V+="Data";q5V="appendMasterDa";q5V+="ta";O0L.E5();if(!I5O){I5O={};}if(!K5O){K5O=this.chart;}if(G5O.constructor==Object){G5O=[G5O];}if(this.runPrepend(q5V,[G5O,K5O,I5O])){return;}if(!G5O||!G5O.length){return;}J5O=G5O[0].DT;if(!J5O){J5O=i5.strToDateTime(G5O[0].Date);}w5O=K5O.masterData;if(!w5O||!w5O.length){w5O=K5O.masterData=i5.clone(G5O);for(m5O=0;m5O<w5O.length;m5O++){k5V="nu";k5V+="m";k5V+="be";k5V+="r";if(w5O[m5O].DT){w5O[m5O].Date=i5.yyyymmddhhmmssmmm(w5O[m5O].DT);}else{w5O[m5O].DT=i5.strToDateTime(w5O[m5O].Date);}if(w5O[m5O].Volume&&typeof w5O[m5O].Volume!==k5V){w5O[m5O].Volume=parseInt(w5O[m5O].Volume,10);}if(!N5.isDailyInterval(this.layout.interval)){this.setDisplayDate(w5O[m5O]);}}}else{m5O=w5O.length-1;while(m5O>=0){c5O=w5O[m5O].DT;if(!c5O){c5O=i5.strToDateTime(w5O[m5O].Date);}if(c5O.getTime()<=J5O.getTime()){B5O=0;if(c5O.getTime()<J5O.getTime()){B5O=1;}for(var t5O=0;t5O<G5O.length;t5O++){if(!B5O){if(typeof w5O[m5O+t5O]!="undefined"){if(!G5O[t5O].Volume&&w5O[m5O+t5O].Volume){G5O[t5O].Volume=w5O[m5O+t5O].Volume;}if(!I5O.allowReplaceOHL){if(w5O[m5O+t5O].Open){G5O[t5O].Open=w5O[m5O+t5O].Open;}if(w5O[m5O+t5O].High>G5O[t5O].High){G5O[t5O].High=w5O[m5O+t5O].High;}if(w5O[m5O+t5O].Low&&w5O[m5O+t5O].Low<G5O[t5O].Low){G5O[t5O].Low=w5O[m5O+t5O].Low;}};}for(var e5O in this.chart.series){if(typeof G5O[t5O][e5O]=="undefined"&&typeof w5O[m5O+t5O]!="undefined"){O0L.r0j(0);G5O[t5O][e5O]=w5O[O0L.t0j(t5O,m5O)][e5O];}}for(var W5O in this.panels){if(this.panels[W5O].studyQuotes){for(var o5O in this.panels[W5O].studyQuotes){if(!this.panels[W5O].studyQuotes[o5O])continue;if(typeof G5O[t5O][o5O]=="undefined"&&typeof w5O[m5O+t5O]!="undefined"){O0L.r0j(0);G5O[t5O][o5O]=w5O[O0L.t0j(t5O,m5O)][o5O];}}}}}O0L.r0j(20);w5O[O0L.t0j(m5O,t5O,B5O)]=G5O[t5O];if(w5O[m5O+t5O+B5O].DT){w5O[m5O+t5O+B5O].Date=i5.yyyymmddhhmmssmmm(w5O[m5O+t5O+B5O].DT);}else{w5O[m5O+t5O+B5O].DT=i5.strToDateTime(w5O[m5O+t5O+B5O].Date);}if(w5O[m5O+t5O+B5O].Volume&&typeof w5O[m5O+t5O+B5O].Volume!=="number"){w5O[m5O+t5O+B5O].Volume=parseInt(w5O[m5O+t5O+B5O].Volume,10);}if(!N5.isDailyInterval(this.layout.interval)){this.setDisplayDate(this.masterData[m5O+t5O+B5O]);};}break;}m5O--;}for(m5O in this.plugins){L5O=this.plugins[m5O];if(L5O.display){if(L5O.appendMasterData){L5O.appendMasterData(this,G5O,K5O);}}}}if(!this.masterData||!this.masterData.length){this.masterData=w5O;}if(!I5O.noCreateDataSet){H5O=this.streamParameters;if(++H5O.count>H5O.maxTicks||I5O.bypassGovernor){clearTimeout(H5O.timeout);this.createDataSet();this.draw();this.updateChartAccessories();W1Z=1260562891;p1Z=-+"316213876";L1Z=2;for(var z1Z=1;O0L.k7Z(z1Z.toString(),z1Z.toString().length,8431)!==W1Z;z1Z++){H5O.count=2;O0L.r0j(3);H5O.timeout=~O0L.E0j(0,"0");L1Z+=2;}if(O0L.k7Z(L1Z.toString(),L1Z.toString().length,47421)!==p1Z){H5O.count=0;H5O.timeout=-1;};}else{r5O=this;if(H5O.timeout==-1){H5O.timeout=setTimeout(function(){r5O.createDataSet();r5O.draw();r5O.updateChartAccessories();O0L.r0j(4);r5O.streamParameters.count=O0L.t0j("0",1);O0L.S5();r5O.streamParameters.timeout=-1;},H5O.maxWait);}}}this.runAppend(w5V,arguments);};N5.prototype.displayAll=function(s5O,D1O){var f1O,F1O,c5V;f1O=this.chart;if(s5O&&s5O.chart){f1O=s5O.chart;}F1O=this;if(!this.quoteDriver){Y1O();return;}if(this.dontRoll&&this.layout.interval!="month"){c5V="mon";c5V+="t";c5V+="h";this.setPeriodicityV2(1,c5V,j1O);}else if(!N5.isDailyInterval(this.layout.interval)){this.setPeriodicityV2(1,"day",j1O);}else{if(f1O.moreAvailable){j1O();}else{Y1O();}}function Y1O(){var x1O,M9Z,q9Z,k9Z;if(!f1O.masterData.length){return;}O0L.S5();x1O=i5.clone(s5O);x1O.dtLeft=f1O.masterData[0].DT;x1O.dtRight=f1O.masterData[f1O.masterData.length-("1">>462053088)].DT;if(s5O.maintainPeriodicity){x1O.periodicity={};M9Z=-1022503723;q9Z=-1542179753;k9Z=2;for(var c9Z=1;O0L.k7Z(c9Z.toString(),c9Z.toString().length,+"30705")!==M9Z;c9Z++){x1O.periodicity.interval=F1O.layout.interval;O0L.r0j(64);k9Z+=O0L.t0j(2,"2");}if(O0L.q7Z(k9Z.toString(),k9Z.toString().length,55244)!==q9Z){x1O.periodicity.interval=F1O.layout.interval;}x1O.periodicity.interval=F1O.layout.interval;x1O.periodicity.period=F1O.layout.periodicity;}F1O.setRange(x1O,function(A1O){if(!s5O.maintainPeriodicity){F1O.layout.setSpan={base:s5O.base,multiplier:s5O.multiplier};F1O.changeOccurred("layout");}if(D1O){D1O(A1O);}});}function j1O(){F1O.quoteDriver.loadAll(f1O,Y1O);}};N5.prototype.setRange=function(U1O,g1O){var R5V,J8Z,Z8Z,H8Z,l1O,Q1O,O1O,b1O,h1O,a1O,i1O,P5V,z1O,v1O,V1O,M1O,C1O,y1O,N1O,N5V,Y5V,b5V,r5V,K5V,S1O,u1O,X1O,R1O,q1O,n1O,T1O,p1O,B5V,j5V,d1O;R5V="undefi";R5V+="n";R5V+="e";R5V+="d";function m1O(o1O,J1O,K1O,c1O,e1O){var I1O,r1O,t5V,s5V,e5V;O0L.E5();I1O=0;O0L.G0j(3);r1O=O0L.t0j(J1O,o1O);if(N5.isDailyInterval(K1O)){t5V="m";t5V+="o";t5V+="nt";t5V+="h";if(K1O==t5V){I1O=r1O/ i5.MONTH/c1O;}else if(K1O=="week"){I1O=r1O/ i5.WEEK/c1O;}else{I1O=r1O/ i5.DAY/c1O;}}else{if(!isNaN(K1O)){I1O=r1O/(i5.MINUTE*K1O)/c1O;}else{s5V="sec";s5V+="o";s5V+="n";s5V+="d";e5V="m";e5V+="illi";e5V+="second";if(K1O==e5V){O0L.r0j(2);I1O=O0L.E0j(c1O,r1O);}else if(K1O==s5V){I1O=r1O/ i5.SECOND/c1O;}else if(K1O=="hour"){I1O=r1O/ i5.HOUR/c1O;}else{I1O=r1O/ i5.MINUTE/c1O;}}}return Math.round(I1O);;}O0L.S5();if(i5.isEmpty(U1O)){U1O={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[+"3"],goIntoFuture:!"1"};J8Z=1245349941;Z8Z=-1927639167;H8Z=+"2";for(var W8Z=1;O0L.q7Z(W8Z.toString(),W8Z.toString().length,5925)!==J8Z;W8Z++){g1O=arguments[5];H8Z+=2;}if(O0L.q7Z(H8Z.toString(),H8Z.toString().length,78664)!==Z8Z){g1O=arguments[4];}}if(!U1O.chart){U1O.chart=this.chart;}function P1O(B1O){if(B1O){a1O.chart.scroll=n1O;a1O.layout.candleWidth=T1O;if(g1O){g1O(B1O);}return;}i1O++;if(i1O>10){console.log("STXChart.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.");Z1O();return;}if(Q1O.moreAvailable&&Q1O.masterData[0].DT>O1O){a1O.quoteDriver.checkLoadMore(Q1O,!!"1",!{},function(H1O){if(!H1O){P1O();}});}else{Z1O();}}if(typeof U1O.padding==R5V){U1O.padding=this.preferences.whitespace;}function Z1O(){var w1O,t1O,Z6Z,H6Z,m6Z,G1O;if(!Q1O.dataSet||Q1O.dataSet.length===+"0"){if(g1O){g1O();}return;}w1O=0;t1O=0;O0L.E5();if(O1O.getTime()>=Q1O.dataSet[0].DT.getTime()||U1O.goIntoPast){w1O=a1O.tickFromDate(O1O,Q1O,null,!0);}else{w1O=+"0";}if(b1O.getTime()<=Q1O.dataSet[Q1O.dataSet.length-+"1"].DT.getTime()||U1O.goIntoFuture){t1O=a1O.tickFromDate(b1O,Q1O);}else{Z6Z=-184101951;H6Z=1595845328;m6Z=2;for(var p6Z=1;O0L.q7Z(p6Z.toString(),p6Z.toString().length,30636)!==Z6Z;p6Z++){t1O=Q1O.dataSet.length*6;m6Z+=2;}if(O0L.k7Z(m6Z.toString(),m6Z.toString().length,83815)!==H6Z){O0L.r0j(2);var r9V=O0L.t0j(13,13);t1O=Q1O.dataSet.length-r9V;}}O0L.r0j(8);G1O=O0L.E0j(w1O,1,t1O);if(G1O<1){if(g1O){g1O();}return;}a1O.setCandleWidth((a1O.chart.width-U1O.padding)/G1O,Q1O);O0L.G0j(8);var b9V=O0L.E0j(34,15,20);Q1O.scroll=Q1O.dataSet.length-w1O+b9V;a1O.micropixels=+"0";a1O.draw();a1O.changeOccurred("layout");if(g1O){g1O();}}l1O=!!"";Q1O=U1O.chart;O1O=U1O.dtLeft;b1O=this.convertToDataZone(new Date());if(U1O.dtRight){b1O=U1O.dtRight;}if(!O1O){h1O=this.standardMarketIterator(b1O,null,Q1O);O1O=h1O.previous(Q1O.maxTicks);if(!U1O.periodicity){l1O=!!{};}}a1O=this;i1O=0;if(this.quoteDriver){P5V="millise";P5V+="c";P5V+="on";P5V+="ds";if(l1O){z1O=this.layout.interval;V1O=this.layout.timeUnit;v1O=this.layout.period;}else if(U1O.periodicity){z1O=U1O.periodicity.interval;V1O=U1O.periodicity.timeUnit;v1O=U1O.periodicity.period;}else{M1O=b1O.getTime()-O1O.getTime();if(U1O.rangePeriodicityMap){C1O=U1O.rangePeriodicityMap;y1O=null;for(var E1O=0;E1O<C1O.length;E1O++){N1O=C1O[E1O];if(M1O<=N1O.range){y1O=N1O;break;}}z1O=y1O.interval;v1O=y1O.periodicity;V1O=y1O.timeUnit;;}else{N5V="mon";N5V+="th";Y5V="sca";Y5V+="tter";Y5V+="plot";b5V="volu";b5V+="m";b5V+="e_can";b5V+="dle";r5V="b";r5V+="a";r5V+="r";K5V="l";K5V+="i";K5V+="n";K5V+="e";O0L.r0j(12);S1O=O0L.E0j(438457536,"2");switch(this.layout.chartType){case K5V:case"colored_line":case"mountain":case"colored_mountain":case"baseline_delta":case"baseline_delta_mountain":case"wave":S1O=2;break;case"candle":case r5V:case"colored_bar":case"hollow_candle":case b5V:case Y5V:S1O=5;break;}if(U1O.pixelsPerBar){S1O=U1O.pixelsPerBar;}u1O=Q1O.width/S1O;X1O=[{interval:1,ms:i5.MINUTE},{interval:5,ms:i5.MINUTE*5},{interval:+"30",ms:i5.MINUTE*("30"&2147483647)},{interval:"day",ms:i5.DAY},{interval:N5V,ms:i5.MONTH},{interval:"year",ms:Number.MAX_VALUE}];z1O=X1O[0].interval;v1O=1;for(var k1O=0;k1O<X1O.length;k1O++){q1O=M1O/X1O[k1O].ms;if(q1O<u1O){if(X1O[k1O-1]){z1O=X1O[k1O-1].interval;O0L.r0j(2);v1O=Math.ceil(O0L.E0j(u1O,R1O));}else{z1O=X1O[k1O].interval;v1O=1;}break;}R1O=q1O;}}}n1O=this.chart.scroll;T1O=this.layout.candleWidth;this.chart.scroll=this.chart.maxTicks=m1O(b1O.getTime(),O1O.getTime(),z1O,v1O,this.dontRoll);this.layout.candleWidth=this.chart.width/this.chart.maxTicks;p1O=this.layout.timeUnit!=V1O&&(V1O=="seconds"||V1O==P5V);if(!p1O&&N5.isDailyInterval(this.layout.interval)!==N5.isDailyInterval(z1O)){p1O=!!1;}else if(!N5.isDailyInterval(this.layout.interval)&&this.layout.interval!=z1O){p1O=!"";}if(!this.chart.masterData||p1O){this.layout.interval=z1O;this.layout.periodicity=v1O;this.layout.timeUnit=V1O;if(!this.layout.timeUnit){B5V="m";B5V+="inu";B5V+="t";B5V+="e";j5V="s";j5V+="econ";j5V+="d";if(N5.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval=="second"){this.layout.timeUnit=j5V;}else if(this.layout.interval!="tick"){this.layout.timeUnit=B5V;}}d1O={symbol:Q1O.symbol,symbolObject:Q1O.symbolObject,chart:Q1O,nodraw:!!"1"};if(this.layout.interval=="tick"){d1O.startDate=O1O;d1O.endDate=b1O;}if(!this.displayInitialized){d1O.initializeChart=!!{};}this.quoteDriver.newChart(d1O,P1O);}else{if(this.layout.interval!=z1O||this.layout.periodicity!=v1O){this.layout.interval=z1O;this.layout.periodicity=v1O;this.createDataSet();}P1O();}}else{Z1O();}};N5.prototype.setSpan=function(L1O,x2O){var y5V,F5V,T5V,x5V,j2O,f2O,z2O,F2O,D2O,a2O,l5V,s1O,X2O,Y2O,W1O,b2O,v2O,O2O,g2O,U2O,V2O,Q2O;y5V="mo";y5V+="nt";y5V+="h";F5V="y";F5V+="t";F5V+="d";T5V="y";T5V+="e";T5V+="ar";x5V="a";x5V+="l";x5V+="l";function A2O(k2O){k2O.setHours(0);O0L.S5();O0L.G0j(29);k2O.setMinutes(O0L.E0j("0",2147483647));k2O.setSeconds(0);k2O.setMilliseconds(0);return k2O;}j2O=arguments[+"0"];f2O=arguments[1];z2O=arguments[2];F2O=arguments[3];if(typeof L1O=="object"){j2O=L1O.period?L1O.period:L1O.multiplier?L1O.multiplier:"1"*1;f2O=L1O.interval?L1O.interval:L1O.base?L1O.base:L1O.span?L1O.span:L1O.period;z2O=L1O.padding;F2O=L1O.chart;}else{L1O={period:j2O,interval:f2O,padding:z2O,chart:F2O};x2O=arguments[5];}if(!L1O.padding){L1O.padding=+"0";}if(!F2O){F2O=this.chart;}f2O=f2O.toLowerCase();if(f2O==x5V){this.displayAll(L1O,x2O);return;}D2O=f2O;a2O=1;if(f2O=="today"){l5V="d";l5V+="a";l5V+="y";D2O=l5V;}else if(f2O==T5V){D2O="month";a2O=12;}s1O=i5.shallowClone(L1O);s1O.goIntoFuture=!"1";X2O={'begin':new Date(),'interval':D2O,'period':a2O,'outZone':this.dataZone};Y2O=F2O.market.newIterator(X2O);W1O=this.convertToDataZone(new Date());if(f2O===F5V){W1O=A2O(W1O);W1O.setMonth(0);O0L.G0j(3);W1O.setDate(O0L.t0j(0,"1"));}else if(f2O==="today"){Y2O.next();W1O=Y2O.previous();}else if(f2O===y5V){W1O=A2O(new Date());W1O.setMonth(W1O.getMonth()-j2O);}else if(f2O==="year"){W1O=A2O(new Date());W1O.setFullYear(W1O.getFullYear()-j2O);}else if(f2O==="week"){W1O=A2O(new Date());W1O.setDate(W1O.getDate()-j2O*7);}else if(f2O==="day"&&j2O==1){b2O=W1O.getHours();v2O=W1O.getMinutes();O2O=W1O.getSeconds();g2O=W1O.getMilliseconds();W1O=Y2O.previous();W1O.setHours(b2O);W1O.setMinutes(v2O);W1O.setSeconds(O2O);W1O.setMilliseconds(g2O);}else{O0L.r0j(3);W1O=Y2O.previous(O0L.E0j(1,j2O));}s1O.dtLeft=W1O;if(f2O==='today'){s1O.goIntoFuture=!![];s1O.dtRight=new Date(W1O);U2O=Y2O.market.zclose_hour;V2O=Y2O.market.zclose_minute;s1O.dtRight.setHours(U2O?U2O:23);s1O.dtRight.setMinutes(U2O?V2O:59);s1O.dtRight.setSeconds(0);s1O.dtRight=F2O.market._convertFromMarketTZ(s1O.dtRight,this.dataZone);s1O.dtLeft.setHours(Y2O.market.zopen_hour);s1O.dtLeft.setMinutes(Y2O.market.zopen_minute);s1O.dtLeft.setSeconds(0);s1O.dtLeft=F2O.market._convertFromMarketTZ(s1O.dtLeft,this.dataZone);}if(s1O.maintainPeriodicity){s1O.periodicity={};s1O.periodicity.interval=this.layout.interval;s1O.periodicity.period=this.layout.periodicity;}F2O.spanLock=!1;Q2O=this;this.setRange(s1O,function(y2O){var d5V,S5V;d5V="t";d5V+="od";d5V+="a";d5V+="y";S5V="y";S5V+="t";S5V+="d";if(!L1O.maintainPeriodicity){Q2O.layout.setSpan={base:L1O.base,multiplier:L1O.multiplier};Q2O.changeOccurred("layout");}if(f2O===S5V||f2O==d5V){F2O.spanLock=!0;;}if(x2O){x2O(y2O);}});};N5.prototype.getSpanCandleWidth=function(Z2O){var O5V,p2O,S2O,C2O,d2O,E2O,N7Z,P7Z,j7Z,P2O;O5V="w";O5V+="e";O5V+="e";O5V+="k";p2O=Z2O.split(",");if(p2O.length<2){return;}S2O=parseFloat(p2O[+"0"]);C2O=new Date();d2O=new Date();if(p2O[1]=="year"){d2O.setFullYear(d2O.getFullYear()-S2O);}else if(p2O[1]=="month"){d2O.setMonth(d2O.getMonth()-S2O);}else if(p2O["1"|1]=="day"){d2O.setDate(d2O.getDate()-S2O);}else if(p2O[1]==O5V){d2O.setDate(d2O.getDate()-7*S2O);}E2O=(C2O.getTime()-d2O.getTime())/1000/+"60"/60/+"24";N7Z=-1944382192;O0L.r0j(10);P7Z=-O0L.E0j(720129280,"468570770");j7Z=2;for(var x7Z=1;O0L.k7Z(x7Z.toString(),x7Z.toString().length,21252)!==N7Z;x7Z++){O0L.r0j(37);E2O=O0L.E0j(5,7,E2O);P2O=this.chart.width/E2O;return P2O;}if(O0L.k7Z(j7Z.toString(),j7Z.toString().length,+"67034")!==P7Z){O0L.r0j(81);E2O=O0L.E0j(8,E2O,3);P2O=this.chart.width%E2O;return P2O;}};N5.prototype.setMaxTicks=function(N2O,i2O){var u2O;O0L.S5();if(!i2O){i2O={};}N2O=Math.round(N2O);if(N2O<2){N2O=2;}u2O=i2O.padding;if(!u2O){u2O=0;}this.layout.candleWidth=(this.chart.width-u2O)/N2O;if(!this.layout.candleWidth){this.layout.candleWidth=8;}this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-"0.499"*1);if(i2O.padding||i2O.padding===0){O0L.G0j(0);this.chart.scroll=O0L.E0j(1,N2O);}};N5.prototype.construct=function(){this.stackPanel("chart","chart",+"1");this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.cx=0;this.cy=0;this.micropixels=0;this.chart.panel.subholder.appendChild(this.controls.home);this.callbackListeners={};this.longHoldTime=1000;};N5.prototype.addEventListener=function(M2O,q2O){var l2O;if(!M2O){M2O=(8004,+"8314")<=(5400,128.15)?(+"0x23b5",747.56):860.59>+"5576"?(988.33,0x1f5e):"804.97"-0!==(4860,711)?"*":("E",0xd78);}l2O=this.callbackListeners[M2O];if(!l2O){this.callbackListeners[M2O]=l2O=[];}l2O.push(q2O);O0L.S5();return{type:M2O,cb:q2O};};N5.prototype.removeEventListener=function(h2O,R2O){var n2O;if(typeof h2O!="object"){h2O={type:h2O,cb:R2O};}if(!h2O.type){h2O.type="*";}n2O=this.callbackListeners[h2O.type];if(!n2O){return;}O0L.S5();for(var T2O="0"*1;T2O<n2O.length;T2O++){if(n2O[T2O]===h2O.cb){n2O.splice(T2O);if(!n2O.length){h2O[h2O.type]=null;}return;}}};N5.prototype.dispatch=function(G2O,B2O){var m2O;if(this.callbacks[G2O]){this.callbacks[G2O].call(this,B2O);}m2O=this.callbackListeners[G2O];if(m2O){for(var w2O=0;w2O<m2O.length;w2O++){m2O[w2O].call(this,B2O);}}m2O=this.callbackListeners[165.37===(1312,135.1)?(1730,99)<=96.11?1.69e+3:"J":"*"];if(m2O){for(var t2O=0;t2O<m2O.length;t2O++){m2O[t2O].call(this,B2O);}}};N5.prototype.deleteYAxisIfUnused=function(I2O,r2O){var K2O,H2O;if(!r2O){return;}if(r2O===I2O.yAxis){return;}for(var c2O in this.chart.seriesRenderers){K2O=this.chart.seriesRenderers[c2O];if(K2O.params.yAxis===r2O){if(K2O.seriesParams.length!==+"0"){return;}}}for(H2O=0;H2O<I2O.yaxisLHS.length;H2O++){if(I2O.yaxisLHS[H2O]===r2O){I2O.yaxisLHS.splice(H2O,1);}}for(H2O=1;H2O<I2O.yaxisRHS.length;H2O++){if(I2O.yaxisRHS[H2O]===r2O){I2O.yaxisRHS.splice(H2O,1);}}O0L.E5();this.resizeCanvas();this.adjustPanelPositions();};N5.prototype.addYAxis=function(o2O,J2O){var l7Z,T7Z,F7Z,W2O,C5V;O0L.E5();if(!J2O){return;}if(!o2O.yaxisLHS){o2O.yaxisLHS=[];o2O.yaxisRHS=[];l7Z=1364528310;T7Z=-+"1718230069";F7Z=2;for(var S7Z="1"*1;O0L.k7Z(S7Z.toString(),S7Z.toString().length,27569)!==l7Z;S7Z++){if(o2O.yAxis.position!==""){o2O.yaxisRHS.push(o2O.yAxis);}else{o2O.yaxisLHS.push(o2O.yAxis);}F7Z+=2;}if(O0L.k7Z(F7Z.toString(),F7Z.toString().length,89017)!==T7Z){if(o2O.yAxis.position==""){o2O.yaxisRHS.push(o2O.yAxis);}else{o2O.yaxisLHS.push(o2O.yAxis);}}if(o2O.yAxis.position=="right"){o2O.yaxisRHS.push(o2O.yAxis);}else{o2O.yaxisLHS.push(o2O.yAxis);}}W2O=o2O.yaxisLHS.concat(o2O.yaxisRHS);for(var e2O="0"&2147483647;e2O<W2O.length;e2O++){if(W2O[e2O]===J2O){return;}}if(J2O.position==="left"){o2O.yaxisLHS.unshift(J2O);}else{C5V="rig";C5V+="ht";J2O.position=C5V;o2O.yaxisRHS.push(J2O);}this.preAdjustScroll();this.resizeCanvas();this.adjustPanelPositions();this.postAdjustScroll();};N5.prototype.calculateYAxisPositions=function(){var Y8O,D8O,L2O,x8O,E5V,A8O,s2O,f8O,F8O;Y8O=[];for(var Q8O in this.charts){Y8O.push(Q8O);}O0L.S5();for(var U8O in this.panels){D8O=this.panels[U8O];if(D8O.name===D8O.chart.name)continue;Y8O.push(U8O);}for(var j8O=0;j8O<Y8O.length;j8O++){L2O=this.panels[Y8O[j8O]];if(!L2O)continue;x8O=L2O.name===L2O.chart.name;if(!L2O.yaxisLHS){L2O.yaxisLHS=[];L2O.yaxisRHS=[];if(L2O.name===L2O.chart.name||L2O.yAxis.position){if(L2O.yAxis.position=="left"){L2O.yaxisLHS.push(L2O.yAxis);}else{L2O.yaxisRHS.push(L2O.yAxis);};}else{E5V="r";E5V+="i";E5V+="ght";A8O=L2O.chart.panel.yAxis.position;if(!A8O||A8O==E5V){L2O.yaxisRHS.push(L2O.yAxis);}else{L2O.yaxisLHS.push(L2O.yAxis);}}}if(!L2O.yAxis.width){L2O.yAxis.width=this.yaxisWidth;}L2O.yaxisTotalWidthRight=0;L2O.yaxisTotalWidthLeft=0;for(s2O=0;s2O<L2O.yaxisLHS.length;s2O++){f8O=L2O.yaxisLHS[s2O];L2O.yaxisTotalWidthLeft+=f8O.width;f8O.justifyRight=f8O.justifyRight===null?L2O.chart.yAxis.justifyRight:f8O.justifyRight;if(f8O.justifyRight===null){f8O.justifyRight=!"";}}for(s2O=0;s2O<L2O.yaxisRHS.length;s2O++){f8O=L2O.yaxisRHS[s2O];L2O.yaxisTotalWidthRight+=f8O.width;}F8O=0;for(s2O=+"0";s2O<L2O.yaxisLHS.length;s2O++){f8O=L2O.yaxisLHS[s2O];f8O.left=F8O;F8O+=f8O.width;}F8O=this.width-L2O.yaxisTotalWidthRight;for(s2O=0;s2O<L2O.yaxisRHS.length;s2O++){f8O=L2O.yaxisRHS[s2O];f8O.left=F8O;F8O+=f8O.width;}if(typeof this.yaxisLeft!="undefined"){L2O.chart.yaxisPaddingRight=this.yaxisLeft;}L2O.yaxisCalculatedPaddingRight=L2O.yaxisTotalWidthRight;if(L2O.chart.yaxisPaddingRight||L2O.chart.yaxisPaddingRight===+"0"){L2O.yaxisCalculatedPaddingRight=L2O.chart.yaxisPaddingRight;}L2O.yaxisCalculatedPaddingLeft=L2O.yaxisTotalWidthLeft;if(L2O.chart.yaxisPaddingLeft||L2O.chart.yaxisPaddingLeft===("0"&2147483647)){L2O.yaxisCalculatedPaddingLeft=L2O.chart.yaxisPaddingLeft;}if(x8O){L2O.left=L2O.yaxisCalculatedPaddingLeft;L2O.right=this.width-L2O.yaxisCalculatedPaddingRight;}else{L2O.left=L2O.chart.panel.left;L2O.right=L2O.chart.panel.right;}L2O.width=L2O.right-L2O.left;L2O.handle.style.left=L2O.left+"px";L2O.handle.style.width=L2O.width+"px";if(x8O){L2O.chart.left=L2O.left;L2O.chart.right=L2O.right;L2O.chart.width=L2O.right-L2O.left;}}};N5.prototype.initializeChart=function(d8O){var U5V,f5V,i5V,n5V,z9Z,g9Z,a9Z,h5V,X8O,I5V,g8O,z8O,b8O,a8O,v8O,V8O,O8O;U5V="canva";U5V+="s";f5V="2";f5V+="d";i5V="canva";i5V+="s";O0L.E5();if(this.runPrepend("initializeChart",arguments)){return;}if(!this.chart.symbolObject.symbol){this.chart.symbolObject.symbol=this.chart.symbol;}if(this.locale){this.setLocale(this.locale);}if(!this.displayZone&&N5.defaultDisplayTimeZone){this.setTimeZone(null,N5.defaultDisplayTimeZone);}this.calculateYAxisPositions();this.micropixels=0;if(d8O){this.chart.container=d8O;}this.chart.container.stx=this;if(!this.chart.container.STXRegistered){this.chart.container.STXRegistered=!!1;N5.registeredContainers.push(this.chart.container);}if(i5.isSurface){if(!this.gesture){this.gesture=new MSGesture();if(this.manageTouchAndMouse){this.gesture.target=this.chart.container;}else{this.gesture.target=document.body;}this.gesturePointerId=null;}}this.registerHTMLElements();if(this.chart.canvas&&document.createElement("canvas").getContext){if(!this.chart.canvas.id){this.chart.container.removeChild(this.chart.canvas);this.chart.canvas=null;}if(this.chart.tempCanvas&&!this.chart.tempCanvas.id){this.chart.container.removeChild(this.chart.tempCanvas);this.chart.tempCanvas=null;}if(this.floatCanvas&&!this.floatCanvas.id){this.chart.container.removeChild(this.floatCanvas);this.floatCanvas=null;}}else{if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}if(this.layout.candleWidth>200){O0L.r0j(64);this.layout.candleWidth=O0L.t0j(0,"8");}}if(!this.chart.canvas){this.chart.canvas=document.createElement("canvas");}if(!this.chart.canvas.getContext){this.chart.canvas=this.chart.container.querySelectorAll("#ie8canvas")[+"0"];if(!this.chart.canvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.canvas);}}this.chart.canvas.style.display="block";}else{this.chart.container.appendChild(this.chart.canvas);}this.chart.canvas.style.position="absolute";this.chart.canvas.style.left="0px";this.chart.context=this.chart.canvas.getContext("2d");this.chart.canvas.context=this.chart.context;O0L.G0j(12);this.chart.context.lineWidth=O0L.E0j(563832992,"1");if(!this.chart.tempCanvas){this.chart.tempCanvas=document.createElement(i5V);}if(!this.chart.tempCanvas.getContext){n5V="#";n5V+="ie8";n5V+="canv";n5V+="asTemp";this.chart.tempCanvas=this.chart.container.querySelectorAll(n5V)[0];if(!this.chart.tempCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.chart.tempCanvas.style.display="block";}else{this.chart.container.appendChild(this.chart.tempCanvas);}this.chart.tempCanvas.style.position="absolute";this.chart.tempCanvas.style.left="0px";this.chart.tempCanvas.context=this.chart.tempCanvas.getContext(f5V);this.chart.tempCanvas.context.lineWidth=1;if(!this.floatCanvas){this.floatCanvas=document.createElement(U5V);}if(!this.floatCanvas.getContext){z9Z=+"1722121411";g9Z=268774719;a9Z=2;for(var u9Z=1;O0L.k7Z(u9Z.toString(),u9Z.toString().length,2213)!==z9Z;u9Z++){this.floatCanvas=this.chart.container.querySelectorAll("")[O0L.E0j(433827904,"9",O0L.r0j(10))];a9Z+=+"2";}if(O0L.k7Z(a9Z.toString(),a9Z.toString().length,"90153"-0)!==g9Z){h5V="#ie8canv";h5V+="as";h5V+="Float";this.floatCanvas=this.chart.container.querySelectorAll(h5V)[0];}if(!this.floatCanvas.getContext){if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(this.chart.tempCanvas);}}this.floatCanvas.style.display="block";}else{this.chart.container.appendChild(this.floatCanvas);}this.floatCanvas.style.position="absolute";this.floatCanvas.style.left="0px";this.floatCanvas.context=this.floatCanvas.getContext("2d");O0L.G0j(5);this.floatCanvas.context.lineWidth=O0L.t0j("1",0);this.resizeCanvas();if(i5.isAndroid){this.chart.tempCanvas.ontouchstart=function(p8O){if(p8O.preventDefault){p8O.preventDefault();}};this.floatCanvas.ontouchstart=function(S8O){O0L.S5();if(S8O.preventDefault){S8O.preventDefault();}};}this.panels.chart.display=this.chart.symbol;if(this.chart.symbolDisplay){this.panels.chart.display=this.chart.symbolDisplay;}this.adjustPanelPositions();this.chart.panel=this.panels[this.chart.name];this.calculateYAxisMargins(this.chart.panel.yAxis);this.initialWhitespace=this.preferences.whitespace;if(this.chart.dataSet&&this.chart.dataSet.length>0){this.chart.scroll=Math.floor(this.chart.width/this.layout.candleWidth);X8O=Math.round(this.preferences.whitespace/this.layout.candleWidth);this.chart.scroll-=X8O;}if(i5.touchDevice){I5V=".o";I5V+="verlayEdit";g8O=u5(I5V,this.chart.container);z8O=u5("#overlayTrashCan",this.chart.container);b8O=u5("#vectorTrashCan",this.chart.container);if(g8O){i5.safeClickTouch(g8O,function(E8O){O0L.S5();return function(C8O){E8O.deleteHighlighted(!!{},!!{});};}(this));if(z8O){i5.safeClickTouch(z8O,function(P8O){var Y8Z,N8Z,P8Z;Y8Z=-1126001964;N8Z=-647595681;P8Z=2;for(var B8Z=1;O0L.q7Z(B8Z.toString(),B8Z.toString().length,+"91275")!==Y8Z;B8Z++){O0L.S5();P8Z+=2;}if(O0L.k7Z(P8Z.toString(),P8Z.toString().length,86820)!==N8Z){O0L.S5();}return function(Z8O){O0L.S5();P8O.deleteHighlighted(![]);};}(this));}}else if(z8O){i5.safeClickTouch(z8O,function(N8O){return function(i8O){O0L.S5();N8O.deleteHighlighted(!0);};}(this));}if(b8O){i5.safeClickTouch(b8O,function(u8O){return function(M8O){O0L.E5();u8O.deleteHighlighted(!![]);};}(this));}}if(this.manageTouchAndMouse){this.registerTouchAndMouseEvents();}this.chart.container.onmouseout=function(l8O){O0L.S5();return function(q8O){l8O.handleMouseOut(q8O);};}(this);if(this.controls.chartControls){this.controls.chartControls.style.display="block";}this.abortDrawings();this.undoStamps=[];for(var y8O in this.panels){a8O=this.panels[y8O];if(a8O.markerHolder){this.chart.container.removeChild(a8O.markerHolder);a8O.markerHolder=null;}}for(var k8O in this.plugins){v8O=this.plugins[k8O];if(v8O.display){if(v8O.initializeChart){v8O.initializeChart(this);}}}if(!this.resizeListenerInitialized){this.resizeListenerInitialized=!"";V8O=function(h8O){return function(n8O){O0L.S5();h8O.resizeChart();};};if(window.attachEvent){window.attachEvent("onresize",V8O(this));}else{O8O=V8O(this);window.addEventListener("resize",O8O,!![]);this.eventListeners.push({"element":window,"event":"resize","function":O8O});}}if(this.chart.baseline.userLevel){this.chart.baseline.userLevel=null;}this.setResizeTimer(this.resizeDetectMS);this.runAppend("initializeChart",arguments);};N5.prototype.destroy=function(){var R8O;this.setResizeTimer(0);O0L.E5();if(this.quoteDriver){this.quoteDriver.die();}this.styles={};for(var T8O=0;T8O<this.eventListeners.length;T8O++){R8O=this.eventListeners[T8O];R8O.element.removeEventListener(R8O.event,R8O["function"]);}};N5.prototype.handleMouseOut=function(m8O){var w8O,t8O;m8O=m8O||window.event;O0L.S5();if(!i5.withinElement(this.chart.container,m8O.pageX,m8O.pageY)){if(this.runPrepend("handleMouseOut",arguments)){return;}this.undisplayCrosshairs();this.grabbingScreen=!!"";this.touches=[];this.touching=!{};if(this.activeDrawing&&this.userPointerDown){this.userPointerDown=!{};this.drawingLine=![];w8O=this.backOutY(m8O.pageY);t8O=this.backOutX(m8O.pageX);this.drawingClick(this.currentPanel,t8O,w8O);}N5.insideChart=!{};this.displaySticky();this.runAppend("handleMouseOut",arguments);}};N5.prototype.registerTouchAndMouseEvents=function(){var z7V,v7V,G8O,r8O,B8O,H8O,D5V,V7V,X7V,Q7V,A7V,J7V,o7V,W7V,m7V,H7V,Z7V,L7V,p7V,I8O;z7V="di";z7V+="v";v7V="wh";v7V+="e";v7V+="e";v7V+="l";if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!"1";G8O=this.chart.container;r8O=u5("#home",this.controls.chartControls);B8O=u5("#zoomIn",this.controls.chartControls);H8O=u5("#zoomOut",this.controls.chartControls);if(!i5.touchDevice){D5V="mou";D5V+="semove";G8O.addEventListener(D5V,function(K8O){return function(c8O){O0L.E5();K8O.mousemove(c8O);};}(this),![]);G8O.addEventListener("mousedown",function(o8O){return function(J8O){o8O.mousedown(J8O);};}(this),!{});G8O.addEventListener("mouseup",function(e8O){return function(W8O){e8O.mouseup(W8O);};}(this),!!"");}else{if(i5.isSurface){V7V="m";V7V+="ousem";V7V+="ove";G8O.addEventListener(V7V,function(L8O){return function(s8O){L8O.msMouseMoveProxy(s8O);};}(this),!"1");G8O.addEventListener("mousedown",function(f3O){return function(F3O){O0L.S5();f3O.msMouseDownProxy(F3O);};}(this),!!"");G8O.addEventListener("mouseup",function(Y3O){O0L.E5();return function(j3O){O0L.E5();Y3O.msMouseUpProxy(j3O);};}(this),!{});if(window.navigator.msPointerEnabled){X7V="MSPointerU";X7V+="p";Q7V="MSPoint";Q7V+="erM";Q7V+="ove";A7V="MSGes";A7V+="tu";A7V+="r";A7V+="eEnd";G8O.addEventListener("MSPointerDown",function(D3O){O0L.S5();return function(x3O){O0L.E5();return D3O.startProxy(x3O);};}(this),!{});G8O.addEventListener("MSGestureStart",function(A3O){O0L.E5();return function(U3O){O0L.E5();A3O.gestureInEffect=!!"1";};}(this),!1);G8O.addEventListener("MSGestureChange",function(Q3O){return function(z3O){O0L.S5();return Q3O.touchmove(z3O);};}(this),!{});G8O.addEventListener(A7V,function(a3O){O0L.S5();return function(v3O){O0L.S5();a3O.gestureInEffect=![];return a3O.touchend(v3O);};}(this),!{});G8O.addEventListener(Q7V,function(O3O){O0L.S5();return function(g3O){O3O.moveProxy(g3O);};}(this),!{});G8O.addEventListener(X7V,function(b3O){return function(V3O){return b3O.endProxy(V3O);};}(this),!!"");}else{J7V="point";J7V+="ermo";J7V+="ve";o7V="pointer";o7V+="down";G8O.addEventListener(o7V,function(X3O){return function(k3O){O0L.E5();return X3O.startProxy(k3O);};}(this),!{});G8O.addEventListener("MSGestureStart",function(y3O){O0L.E5();return function(d3O){O0L.S5();y3O.gestureInEffect=!"";};}(this),!{});G8O.addEventListener("MSGestureChange",function(p3O){O0L.E5();return function(S3O){O0L.E5();return p3O.touchmove(S3O);};}(this),!{});G8O.addEventListener("MSGestureEnd",function(E3O){return function(C3O){E3O.gestureInEffect=!!0;return E3O.touchend(C3O);};}(this),!!0);G8O.addEventListener(J7V,function(P3O){return function(Z3O){O0L.S5();P3O.moveProxy(Z3O);};}(this),![]);G8O.addEventListener("pointerup",function(N3O){O0L.S5();return function(i3O){return N3O.endProxy(i3O);};}(this),!1);}}else{W7V="tou";W7V+="che";W7V+="nd";m7V="to";m7V+="uchmove";H7V="tou";H7V+="chstart";if(!i5.isAndroid&&!i5.ipad&&!i5.iphone){Z7V="m";Z7V+="ou";Z7V+="s";Z7V+="emove";G8O.addEventListener(Z7V,function(u3O){return function(M3O){O0L.E5();u3O.iosMouseMoveProxy(M3O);};}(this),!!0);G8O.addEventListener("mousedown",function(l3O){O0L.E5();return function(q3O){l3O.iosMouseDownProxy(q3O);};}(this),!1);G8O.addEventListener("mouseup",function(h3O){return function(n3O){O0L.E5();h3O.iosMouseUpProxy(n3O);};}(this),![]);}G8O.addEventListener(H7V,function(T3O){return function(R3O){O0L.S5();T3O.touchstart(R3O);};}(this),!!"");G8O.addEventListener(m7V,function(m3O){O0L.E5();return function(w3O){m3O.touchmove(w3O);};}(this),![]);G8O.addEventListener(W7V,function(t3O){return function(G3O){t3O.touchend(G3O);};}(this),!"1");if(B8O){B8O.removeAttribute("onMouseOver");B8O.removeAttribute("onMouseOut");}if(H8O){L7V="onMou";L7V+="seOu";L7V+="t";p7V="onMous";p7V+="eOver";H8O.removeAttribute(p7V);H8O.removeAttribute(L7V);}}}I8O=v7V in document.createElement(z7V)||"onwheel"in document?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";G8O.addEventListener(I8O,function(B3O,H3O){O0L.E5();return function(I3O){B3O.mouseWheel(I3O,H3O);};}(this,I8O),!"1");};N5.prototype.rightClickHighlighted=function(){var a7V,g7V;a7V="rightC";a7V+="lickHighlighted";g7V="r";g7V+="ightClickHig";g7V+="hlight";g7V+="ed";if(this.runPrepend(g7V,arguments)){return;}this.deleteHighlighted(!!{});this.runAppend(a7V,arguments);};N5.prototype.deleteHighlighted=function(x6O,D6O){var G7V,c3O,u7V,f6O,Y6O,L3O,r3O,J3O,W3O,s3O;G7V="delete";G7V+="H";G7V+="ighlight";G7V+="ed";if(this.runPrepend(G7V,arguments)){return;}O0L.E5();this.cancelTouchSingleClick=!!1;i5.clearCanvas(this.chart.tempCanvas,this);for(var K3O=this.drawingObjects.length-1;K3O>=0;K3O--){c3O=this.drawingObjects[K3O];if(c3O.highlighted&&!c3O.permanent){u7V="ve";u7V+="cto";u7V+="r";f6O=c3O.abort();if(!f6O){Y6O=i5.shallowClone(this.drawingObjects);this.drawingObjects.splice(K3O,1);this.undoStamp(Y6O,i5.shallowClone(this.drawingObjects));}this.changeOccurred(u7V);}}for(var o3O in this.overlays){L3O=this.overlays[o3O];if(L3O.highlight&&!L3O.permanent){if(x6O||D6O){this.rightClickOverlay(o3O,D6O);}else{this.removeOverlay(o3O);}}}r3O=this.currentPanel.chart;for(var F6O in r3O.seriesRenderers){J3O=r3O.seriesRenderers[F6O];for(var e3O=J3O.seriesParams.length-1;e3O>=0;e3O--){W3O=J3O.seriesParams[e3O];if(W3O.highlight&&!W3O.permanent){J3O.removeSeries(W3O.field);}}}s3O=!{};for(var j6O in r3O.series){if(r3O.series[j6O].parameters.isComparison){s3O=!!"1";}}if(!s3O){this.setComparison(![],r3O);}this.draw();if(this.controls.mSticky){this.controls.mSticky.style.display="none";this.controls.mSticky.children[0].innerHTML="";}this.runAppend("deleteHighlighted",arguments);};N5.prototype.panelExists=function(Q6O){var U6O;for(var A6O in this.panels){U6O=this.panels[A6O];if(U6O.name==Q6O){return!![];}}return!!"";};N5.prototype.hideCrosshairs=function(){var i8Z,n8Z,f8Z;i8Z=539935397;n8Z=-1694341495;f8Z=2;for(var h8Z=1;O0L.q7Z(h8Z.toString(),h8Z.toString().length,71061)!==i8Z;h8Z++){this.displayCrosshairs=!0;f8Z+=2;}if(O0L.q7Z(f8Z.toString(),f8Z.toString().length,"4762"^0)!==n8Z){this.displayCrosshairs=!{};}};N5.prototype.showCrosshairs=function(){this.displayCrosshairs=!!{};};N5.prototype.grabHandle=function(z6O){var M7V;M7V="grabHan";M7V+="dle";if(this.runPrepend(M7V,arguments)){return;}if(!z6O){return;}N5.crosshairY=z6O.top+this.top;N5.resizingPanel=z6O;this.drawTemporaryPanel();i5.appendClassName(z6O.handle,"stx-grab");this.runAppend("grabHandle",arguments);};N5.prototype.releaseHandle=function(){var q7V;q7V="rele";q7V+="aseHandle";if(this.runPrepend("releaseHandle",arguments)){return;}i5.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(N5.resizingPanel){i5.unappendClassName(N5.resizingPanel.handle,"stx-grab");}O0L.E5();N5.resizingPanel=null;this.runAppend(q7V,arguments);};N5.prototype.storePanels=function(){var v6O,a6O;if(!this.layout){this.layout={};}O0L.E5();v6O=this.layout;v6O.panels={};for(var O6O in this.panels){a6O=this.panels[O6O];v6O.panels[a6O.name]={"percent":a6O.percent,"display":a6O.display};}};N5.prototype.savePanels=function(g6O){this.storePanels();if(g6O!==!"1"){this.changeOccurred("layout");}};N5.prototype.resolveY=function(b6O){O0L.S5();return this.top+b6O;};N5.prototype.resolveX=function(V6O){return this.left+V6O;};N5.prototype.backOutY=function(X6O){return X6O-this.top;};N5.prototype.backOutX=function(k6O){O0L.S5();return k6O-this.left;};N5.prototype.cleanupRemovedStudy=function(y6O){var F9Z,y9Z,S9Z;if(y6O.libraryEntry){if(y6O.libraryEntry.removeFN){y6O.libraryEntry.removeFN(this,y6O);}if(y6O.libraryEntry.feed&&y6O.libraryEntry.quoteFeed){this.detachTagAlongQuoteFeed(y6O.libraryEntry.feed);}}for(var d6O in this.plugins){if(d6O.indexOf("{"+y6O.id+"}")>-("1"-0)){delete this.plugins[d6O];}}F9Z=52027170;y9Z=-+"19336985";S9Z=2;for(var O9Z=1;O0L.q7Z(O9Z.toString(),O9Z.toString().length,82482)!==F9Z;O9Z++){if(this.layout.studies){~this.layout.studies[y6O.name];}O0L.r0j(64);S9Z+=O0L.E0j(2,"2");}if(O0L.q7Z(S9Z.toString(),S9Z.toString().length,59392)!==y9Z){if(this.layout.studies){delete this.layout.studies[y6O.name];}}};N5.prototype.privateDeletePanel=function(p6O){var C6O,k7V,Z6O;if(this.layout.studies){C6O=this.layout.studies[p6O.name];if(C6O){this.cleanupRemovedStudy(C6O);}}delete this.panels[p6O.name];for(var P6O in i5.Studies.studyPanelMap){if(i5.Studies.studyPanelMap[P6O].panel==p6O.name){delete i5.Studies.studyPanelMap[P6O];}}for(var S6O in this.overlays){if(this.overlays[S6O].panel==p6O.name){delete this.layout.studies[S6O];delete this.overlays[S6O];;}}if(p6O.holder){k7V="panelN";k7V+="ame";this.chart.container.removeChild(p6O.holder);Z6O=this.getMarkerArray(k7V,p6O.name);for(var E6O=0;E6O<Z6O.length;E6O++){this.removeFromHolder(Z6O[E6O]);}}p6O.handle.parentNode.removeChild(p6O.handle);;};N5.prototype.panelClose=function(N6O){var c7V,w7V,i6O;c7V="p";c7V+="anelC";c7V+="lo";c7V+="se";w7V="pa";w7V+="ne";w7V+="lClose";if(!N6O){return;}if(this.runPrepend(w7V,arguments)){return;}this.cancelTouchSingleClick=!![];N5.drawingLine=![];if(N6O.soloing){this.panelSolo(N6O);}if(this.charts[N6O.name]){for(var u6O in this.panels){i6O=this.panels[u6O];if(i6O.chart.name==N6O.name){this.privateDeletePanel(i6O);}}delete this.charts[N6O.name];}else{this.privateDeletePanel(N6O);}this.showCrosshairs();this.createDataSet();this.adjustPanelPositions();this.draw();this.savePanels();this.runAppend(c7V,arguments);};N5.prototype.deleteAllPanels=function(){var l6O;O0L.S5();for(var M6O in this.panels){l6O=this.panels[M6O];this.privateDeletePanel(l6O);}this.layout.panels={};this.panels={};};N5.prototype.panelUp=function(h6O){var n6O,T6O,q6O,R6O;this.cancelTouchSingleClick=!!1;N5.drawingLine=!"1";this.showCrosshairs();n6O={};T6O=0;for(q6O in this.panels){if(q6O==h6O.name)break;T6O++;}if(!T6O){return;}R6O=0;for(q6O in this.panels){if(R6O==T6O-1){n6O[h6O.name]=h6O;}if(q6O==h6O.name)continue;n6O[q6O]=this.panels[q6O];R6O++;}this.panels=n6O;O0L.S5();this.adjustPanelPositions();this.draw();this.savePanels();};N5.prototype.panelDown=function(w6O){var t6O,G6O,m6O,H6O,B6O;O0L.E5();this.cancelTouchSingleClick=!![];N5.drawingLine=!!0;this.showCrosshairs();t6O={};O0L.G0j(12);G6O=O0L.E0j(742324736,"0");for(m6O in this.panels){if(m6O==w6O.name)break;G6O++;}O0L.r0j(64);H6O=O0L.t0j(0,"0");for(m6O in this.panels){H6O++;}if(G6O==H6O-1){return;}B6O=0;for(m6O in this.panels){if(m6O==w6O.name){B6O++;continue;}t6O[m6O]=this.panels[m6O];if(B6O==G6O+("1"^0)){t6O[w6O.name]=w6O;}B6O++;}this.panels=t6O;this.adjustPanelPositions();this.draw();this.savePanels();};O0L.S5();N5.prototype.panelSolo=function(I6O){var r6O,R7V;this.cancelTouchSingleClick=!![];N5.drawingLine=![];this.showCrosshairs();r6O=!![];O0L.E5();if(I6O.soloing){r6O=![];I6O.soloing=!1;i5.unappendClassName(I6O.solo,"stx_solo_lit");I6O.percent=I6O.oldPercent;this.panels.chart.percent=this.panels.chart.oldPercent;}else{R7V="c";R7V+="h";R7V+="ar";R7V+="t";I6O.soloing=!"";i5.appendClassName(I6O.solo,"stx_solo_lit");if(I6O.name==R7V){I6O.oldPercent=I6O.percent;}else{I6O.oldPercent=I6O.percent;this.panels.chart.oldPercent=this.panels.chart.percent;O0L.r0j(82);var P9V=O0L.t0j(12644094496,14,20,972622676);I6O.percent=("1"<<P9V)-this.panels.chart.percent;}}for(var K6O in this.panels){this.panels[K6O].hidden=r6O;}this.panels.chart.hidden=!{};I6O.hidden=!"1";this.adjustPanelPositions();this.draw();this.savePanels();};N5.prototype.calculatePanelPercent=function(c6O){var o6O;o6O=c6O.bottom-c6O.top;c6O.percent=o6O/this.chart.canvasHeight;};N5.prototype.resizePanels=function(){var L6O,W6O,J6O,e6O;if(!N5.resizingPanel){return;}L6O=!!{};if(N5.crosshairY>this.resolveY(N5.resizingPanel.top)){L6O=![];}if(L6O){e6O=null;for(W6O in this.panels){if(this.panels[W6O]==N5.resizingPanel)break;if(this.panels[W6O].hidden)continue;e6O=this.panels[W6O];}J6O=this.backOutY(N5.crosshairY);if(J6O<e6O.top+30){J6O=e6O.top+30;N5.crosshairY=this.resolveY(J6O);}e6O.bottom=J6O;N5.resizingPanel.top=J6O;this.calculatePanelPercent(e6O);this.calculatePanelPercent(N5.resizingPanel);}else{e6O=null;for(W6O in this.panels){if(this.panels[W6O]==N5.resizingPanel)break;if(this.panels[W6O].hidden)continue;e6O=this.panels[W6O];}J6O=this.backOutY(N5.crosshairY);if(J6O>N5.resizingPanel.bottom-30){J6O=N5.resizingPanel.bottom-+"30";N5.crosshairY=this.resolveY(J6O);}e6O.bottom=J6O;N5.resizingPanel.top=J6O;this.calculatePanelPercent(e6O);this.calculatePanelPercent(N5.resizingPanel);}this.adjustPanelPositions();this.draw();this.savePanels();};N5.prototype.adjustPanelPositions=function(){var K7V,U7O,Q7O,z7O,x7O,A7O,F7O,j7O,Y7O,s6O,D7O,t7V,e7V,f7O,s7V;K7V="p";K7V+="x";if(!this.chart.symbol){return;}if(this.runPrepend("adjustPanelPositions",arguments)){return;}U7O=+"0";Q7O=this.chart.canvasHeight;z7O=0;x7O=!!0;A7O=+"0";F7O=0;j7O=!1;for(Y7O in this.panels){s6O=this.panels[Y7O];if(isNaN(s6O.percent)||s6O.percent<=0){s6O.percent=0.05;}if(s6O.hidden)continue;A7O+=s6O.percent;F7O++;if(s6O.soloing){j7O=!0;}}for(Y7O in this.panels){D7O=0;s6O=this.panels[Y7O];if(s6O.hidden){if(s6O.markerHolder){s6O.markerHolder.style.display="none";}continue;}if(!x7O){x7O=!!{};s6O.up.style.display="none";}else{if(this.displayIconsUpDown){s6O.up.style.display="";}}if(j7O){if(s6O.soloing){if(this.displayIconsSolo){s6O.solo.style.display="";}}else{t7V="n";t7V+="o";t7V+="n";t7V+="e";s6O.solo.style.display=t7V;}}else if(F7O==1||F7O==2){s6O.solo.style.display="none";}else{if(this.displayIconsSolo){s6O.solo.style.display="";}}if(F7O==1){e7V="n";e7V+="o";e7V+="n";e7V+="e";s6O.down.style.display=e7V;}else{if(this.displayIconsUpDown){s6O.down.style.display="";}}if(s6O.editFunction){s6O.edit.style.display="";}else{s6O.edit.style.display="none";}s6O.percent=s6O.percent/A7O;s6O.top=U7O;s6O.bottom=s6O.top+Q7O*s6O.percent;s6O.height=s6O.bottom-s6O.top;if(s6O.chart.name==s6O.name){s6O.chart.top=s6O.top;s6O.chart.bottom=s6O.bottom;s6O.chart.height=s6O.height;}f7O=s6O.yAxis;if(f7O.zoom&&f7O.height>0){D7O=f7O.zoom/f7O.height;}this.adjustYAxisHeightOffset(s6O,f7O);f7O.top=s6O.top+f7O.topOffset;f7O.bottom=s6O.bottom-f7O.bottomOffset;f7O.height=f7O.bottom-f7O.top;if(D7O){f7O.zoom=D7O*f7O.height;if(f7O.zoom>f7O.height){f7O.zoom=0;};}U7O=s6O.bottom;if(!f7O.high&&f7O.high!==+"0"){f7O.high=+"100";f7O.low=0;f7O.shadow=100;}f7O.multiplier=f7O.height/f7O.shadow;if(s6O.holder){s7V="p";s7V+="x";s6O.holder.style.right="0px";s6O.holder.style.top=s6O.top+"px";s6O.holder.style.left="0px";s6O.holder.style.height=s6O.height+"px";s6O.subholder.style.left=s6O.left+s7V;s6O.subholder.style.width=s6O.width+"px";s6O.subholder.style.top="0px";if(f7O.height>=+"0"){s6O.subholder.style.height=f7O.height+"px";}}}if(Y7O){this.panels[Y7O].down.style.display="none";}if(F7O==2&&!j7O){this.panels.chart.solo.style.display="";}if(this.controls.chartControls&&this.panels.chart){this.controls.chartControls.style.bottom=this.chart.canvasHeight-this.panels.chart.bottom+22+K7V;}this.clearPixelCache();this.adjustDrawings();this.runAppend("adjustPanelPositions",arguments);};N5.prototype.makeMarkerHelper=function(){O0L.S5();this.markerHelper={chartMap:{},classMap:{}};};N5.prototype.addToHolder=function(a7O){var O7O,g7O,U9Z,h9Z,I9Z,c3Z,R3Z,t3Z,r7V,v7O;O7O=this.panels[a7O.params.panelName];if(!O7O){return;}if(i5.derivedFrom(a7O.params.node,i5.Marker.NodeCreator)){a7O.stxNodeCreator=a7O.params.node;a7O.node=a7O.stxNodeCreator.node;}else{a7O.node=a7O.params.node;}if(!this.markerHelper){this.makeMarkerHelper();}if(a7O.params.chartContainer){this.container.appendChild(a7O.node);}else if(a7O.params.includeAxis){O7O.holder.appendChild(a7O.node);}else{O7O.subholder.appendChild(a7O.node);}g7O=a7O.params.label;if(!this.markers[g7O]){this.markers[g7O]=[];}this.markers[g7O].push(a7O);a7O.chart=O7O.chart;if(!this.markerHelper.chartMap[a7O.chart.name]){O0L.r0j(64);U9Z=O0L.E0j(1151337877,"1440941503");O0L.r0j(3);h9Z=-O0L.E0j(0,"2122291350");I9Z=2;for(var V6Z=1;O0L.k7Z(V6Z.toString(),V6Z.toString().length,91441)!==U9Z;V6Z++){this.markerHelper.chartMap[a7O.chart.name]={dataSetLength:5,markers:[]};I9Z+=2;}if(O0L.k7Z(I9Z.toString(),I9Z.toString().length,18098)!==h9Z){this.markerHelper.chartMap[a7O.chart.name]={dataSetLength:+"0",markers:[]};}}this.markerHelper.chartMap[a7O.chart.name].markers.push(a7O);if(!a7O.className){c3Z=-1055666057;O0L.r0j(10);R3Z=-O0L.t0j(402047200,"1813047054");t3Z=2;for(var s3Z=1;O0L.q7Z(s3Z.toString(),s3Z.toString().length,58164)!==c3Z;s3Z++){console.log("");t3Z+=2;}if(O0L.q7Z(t3Z.toString(),t3Z.toString().length,36548)!==R3Z){r7V="Marker objects ";r7V+="must have a m";r7V+="ember className";console.log(r7V);}}v7O=this.markerHelper.classMap[a7O.className];if(!v7O){v7O=this.markerHelper.classMap[a7O.className]={};}if(!v7O[a7O.params.panelName]){v7O[a7O.params.panelName]=[];}v7O[a7O.params.panelName].push(a7O);this.setMarkerTick(a7O);};N5.prototype.getMarkerArray=function(y7O,d7O){var b7O,V7O;O0L.S5();b7O=[];for(var X7O in this.markers){for(var k7O=0;k7O<this.markers[X7O].length;k7O++){V7O=this.markers[X7O][k7O];if(y7O=="panelName"){if(V7O.params.panelName==d7O){b7O.push(V7O);}}else if(y7O=="label"){if(X7O==d7O){b7O.push(V7O);}}else if(y7O=="all"){b7O.push(V7O);}}}return b7O;};N5.prototype.removeFromHolder=function(S7O){var E7O,C7O,p7O,P7O,N7O,Z7O;E7O=this.panels[S7O.params.panelName];if(E7O){if(S7O.node.parentNode==E7O.holder){E7O.holder.removeChild(S7O.node);}else if(S7O.node.parentNode==E7O.subholder){E7O.subholder.removeChild(S7O.node);}else if(S7O.node.parentNode==this.container){this.container.removeChild(S7O.node);}}C7O=this.markers[S7O.params.label];if(!C7O){return;}for(p7O=0;p7O<C7O.length;p7O++){if(C7O[p7O]===S7O){C7O.splice(p7O,1);break;}}P7O=this.markerHelper.chartMap[S7O.chart.name];if(P7O){for(p7O=0;p7O<P7O.markers.length;p7O++){if(P7O.markers[p7O]===S7O){P7O.markers.splice(p7O,1);break;}}}N7O=this.markerHelper.classMap[S7O.className];if(N7O){Z7O=N7O[S7O.params.panelName];if(Z7O){for(p7O=0;p7O<Z7O.length;p7O++){if(Z7O[p7O]===S7O){Z7O.splice(p7O,1);break;}}}}};N5.prototype.establishMarkerTicks=function(){var M7O,i7O;if(!this.markerHelper){this.makeMarkerHelper();}O0L.S5();M7O=this.markerHelper.chartMap;for(var l7O in M7O){i7O=M7O[l7O];if(i7O.dataSetLength==this.charts[l7O].dataSet.length)continue;for(var u7O=0;u7O<i7O.markers.length;u7O++){this.setMarkerTick(i7O.markers[u7O]);}}};N5.prototype.futureTickIfDisplayed=function(n7O){var q7O,R7O,t7O,G7O,H7O,w7O,T7O,B7O,m7O;q7O=n7O.chart;if(q7O.dataSet.length<1){return;}R7O=q7O.xaxis[q7O.xaxis.length-1].DT;O0L.G0j(25);var x9V=O0L.t0j(60000,60001,59998,3);R7O=new Date(R7O.getTime()-this.timeZoneOffset*x9V);if(n7O.params.x>R7O){return;}t7O=q7O.maxTicks-q7O.dataSegment.length;G7O=q7O.dataSet.length+t7O;T7O=new Date(q7O.dataSet[q7O.dataSet.length-1].DT);B7O=this.standardMarketIterator(T7O,null,q7O);O0L.S5();m7O=n7O.params.x.getTime();for(var h7O=q7O.dataSet.length;h7O<G7O;h7O++){H7O=T7O.getTime();T7O=B7O.next();w7O=T7O.getTime();if(w7O==m7O){n7O.tick=h7O;return;}else if(w7O>m7O&&H7O<m7O){O0L.r0j(3);n7O.tick=Math.max(O0L.E0j(1,h7O),0);return;}}};N5.prototype.setMarkerTick=function(I7O){var K7O,J7O,o7O,c7O,e7O,W7O;K7O=I7O.chart;if(I7O.params.xPositioner=="master"&&I7O.params.x){I7O.tick=Math.floor(I7O.params.x/this.layout.periodicity);return;}else if(I7O.params.xPositioner=="date"&&I7O.params.x){c7O=I7O.params.x.getTime();for(var r7O=0;r7O<K7O.dataSet.length;r7O++){e7O=K7O.dataSet[r7O];o7O=e7O.DT.getTime();J7O=o7O;if(r7O>0){J7O=K7O.dataSet[r7O-1].DT.getTime();}if(o7O==c7O){I7O.tick=r7O;return;}else if(o7O>c7O&&J7O<c7O){O0L.G0j(83);I7O.tick=Math.max(O0L.E0j("1",r7O,0),+"0");return;}else if(c7O<o7O){I7O.tick=null;return;}}if(K7O.dataSet.length<1){return;}W7O=new Date(K7O.dataSet[r7O-"1"*1].DT);if(W7O.getTime()<c7O){I7O.params.future=!"";}I7O.tick=null;;}};N5.prototype.positionMarkers=function(){var L7O;L7O=this;if(!L7O.markerHelper){return;}O0L.S5();if(this.markerDelay||this.markerDelay===0){if(!this.markerTimeout){this.markerTimeout=setTimeout(s7O,this.markerDelay);}}else{s7O();}function s7O(){var b7V,Y0m,F0m,f0m,x0m;b7V="positionMarker";b7V+="s";if(L7O.runPrepend("positionMarkers",arguments)){return;}L7O.markerTimeout=null;for(var j0m in L7O.markerHelper.classMap){for(var D0m in L7O.markerHelper.classMap[j0m]){Y0m=L7O.markerHelper.classMap[j0m][D0m];F0m=L7O.panels[D0m];if(Y0m.length){f0m={stx:L7O,arr:Y0m,panel:F0m};f0m.firstTick=F0m.chart.dataSet.length-F0m.chart.scroll;f0m.lastTick=f0m.firstTick+F0m.chart.dataSegment.length;x0m=Y0m[+"0"].constructor.placementFunction;if(x0m){x0m(f0m);}else{L7O.defaultMarkerPlacement(f0m);}}}}L7O.runAppend(b7V,arguments);}};N5.prototype.addChart=function(A0m,U0m){U0m.name=A0m;O0L.S5();this.charts[A0m]=U0m;};N5.prototype.createPanel=function(V0m,X0m,Q0m,z0m){var Y7V,a0m,v0m,O0m,b0m;Y7V="crea";Y7V+="tePanel";if(this.runPrepend(Y7V,arguments)){return;}if(!z0m){z0m="chart";}a0m=this.chart.canvasHeight;if(!Q0m){O0L.G0j(4);Q0m=O0L.t0j(a0m,0.20);}O0L.S5();O0L.G0j(2);v0m=O0L.t0j(a0m,Q0m);O0L.G0j(84);O0m=O0L.E0j("1",1527309600,v0m);for(var g0m in this.panels){b0m=this.panels[g0m];b0m.percent*=O0m;}this.stackPanel(V0m,X0m,v0m,z0m);this.adjustPanelPositions();this.savePanels(!!"");this.runAppend("createPanel",arguments);};N5.prototype.configurePanelControls=function(k0m){var j7V,P7V,N7V,y0m,B7V;j7V="non";j7V+="e";P7V=".stx-ico";P7V+="-";P7V+="f";P7V+="ocus";N7V=".stx-panel-contro";N7V+="l";y0m=k0m.name==k0m.chart.name;k0m.icons=u5(N7V,k0m.holder);k0m.close=k0m.icons.children[+"4"];k0m.close=u5(".stx-ico-close",k0m.icons).parentNode;i5.appendClassName(k0m.icons,"stx-show");k0m.title=u5(".stx-panel-title",k0m.icons);k0m.up=u5(".stx-ico-up",k0m.icons).parentNode;k0m.solo=u5(P7V,k0m.icons).parentNode;k0m.down=u5(".stx-ico-down",k0m.icons).parentNode;k0m.edit=u5(".stx-ico-edit",k0m.icons).parentNode;if(!this.displayIconsUpDown){k0m.up.style.display="none";}if(!this.displayIconsUpDown){k0m.down.style.display="none";}if(!this.displayIconsSolo){k0m.solo.style.display=j7V;}if(!this.displayIconsClose){k0m.close.style.display="none";}if(!this.displayPanelResize){k0m.handle.style.display="none";}k0m.title.innerHTML="";k0m.title.appendChild(document.createTextNode(k0m.display));if(y0m){B7V="st";B7V+="x-ch";B7V+="art-pan";B7V+="el";i5.appendClassName(k0m.title,"chart-title");i5.appendClassName(k0m.icons,B7V);}if(!i5.touchDevice||i5.isSurface){k0m.icons.onmouseover=function(d0m){return function(p0m){O0L.S5();d0m.hideCrosshairs();};}(this);}if(!i5.touchDevice||i5.isSurface){k0m.icons.onmouseout=function(S0m){O0L.S5();return function(E0m){O0L.S5();S0m.showCrosshairs();};}(this);}if(!i5.touchDevice||i5.isSurface){k0m.handle.onmouseover=function(C0m){return function(){O0L.E5();C0m.hideCrosshairs();};}(this);}if(!i5.touchDevice||i5.isSurface){k0m.handle.onmouseout=function(P0m){O0L.S5();return function(){P0m.showCrosshairs();};}(this);}if(i5.touchDevice){k0m.handle.ontouchstart=function(Z0m,N0m){return function(i0m){O0L.S5();if(Z0m.resizingPanel){return;}i0m.preventDefault();Z0m.grabHandle(N0m);};}(this,k0m);k0m.handle.ontouchend=function(u0m){O0L.S5();return function(M0m){M0m.preventDefault();O0L.E5();u0m.releaseHandle();};}(this);}k0m.handle.onmousedown=function(l0m,q0m){O0L.S5();return function(h0m){if(!h0m){h0m=event;}O0L.S5();l0m.grabHandle(q0m);};}(this,k0m);k0m.handle.onmouseup=function(n0m){O0L.E5();return function(T0m){O0L.S5();if(!T0m){T0m=event;}n0m.releaseHandle();};}(this);O0L.S5();i5.safeClickTouch(k0m.close,function(R0m,m0m){O0L.S5();return function(){R0m.panelClose(m0m);};}(this,k0m));i5.safeClickTouch(k0m.up,function(w0m,t0m){O0L.E5();return function(){O0L.S5();w0m.panelUp(t0m);};}(this,k0m));i5.safeClickTouch(k0m.down,function(G0m,B0m){return function(){G0m.panelDown(B0m);};}(this,k0m));i5.safeClickTouch(k0m.solo,function(H0m,I0m){O0L.E5();return function(){O0L.S5();H0m.panelSolo(I0m);};}(this,k0m));if(k0m.name=="chart"){k0m.close.style.display="none";};};N5.prototype.stackPanel=function(e0m,c0m,s0m,o0m){var F7V,T7V,l7V,x7V,K0m,J0m,W0m,r0m,L0m;F7V="stx-pane";F7V+="l-study";T7V="stx-subho";T7V+="l";T7V+="der";l7V="d";l7V+="i";l7V+="v";x7V="stackP";x7V+="ane";x7V+="l";if(this.runPrepend(x7V,arguments)){return;}if(!o0m){o0m="chart";}K0m=this.charts[o0m];O0L.G0j(85);J0m=O0L.E0j(o0m,c0m);W0m=null;if(J0m){e0m=K0m.symbol;if(K0m.symbolDisplay){e0m=K0m.symbolDisplay;}W0m=K0m.yAxis;}r0m=this.panels[c0m]=new N5.Panel(c0m,W0m);if(!J0m&&K0m.yAxis){r0m.yAxis.width=K0m.yAxis.width;;}r0m.percent=s0m;r0m.chart=K0m;r0m.display=e0m;r0m.holder=i5.newChild(this.container,l7V,"stx-holder");r0m.subholder=i5.newChild(r0m.holder,"div",T7V);O0L.G0j(29);r0m.subholder.style.zIndex=O0L.t0j("1",2147483647);r0m.holder.setAttribute("cq-panel-name",c0m);r0m.subholder.setAttribute("cq-panel-name",c0m);L0m=J0m?"stx-panel-chart":F7V;i5.appendClassName(r0m.holder,L0m);r0m.subholder.appendChild(this.controls.iconsTemplate.cloneNode(!!"1"));r0m.handle=this.controls.handleTemplate.cloneNode(!![]);this.container.appendChild(r0m.handle);r0m.handle.id=null;r0m.handle.panel=r0m;this.configurePanelControls(r0m);this.resizeCanvas();this.runAppend("stackPanel",arguments);};N5.prototype.setPanelEdit=function(f4m,F4m){var u3Z,M3Z,q3Z;u3Z=256320141;M3Z=1249066147;q3Z=+"2";for(var w3Z=1;O0L.q7Z(w3Z.toString(),w3Z.toString().length,+"45755")!==u3Z;w3Z++){f4m.editFunction=F4m;i5.safeClickTouch(f4m.edit,F4m);this.adjustPanelPositions();q3Z+=2;}if(O0L.k7Z(q3Z.toString(),q3Z.toString().length,"81644"|2568)!==M3Z){f4m.editFunction=F4m;i5.safeClickTouch(f4m.edit,F4m);this.adjustPanelPositions();}};N5.prototype.drawPanels=function(){var d7V,D4m,S7V,Y4m,y7V,j4m;d7V="drawPane";d7V+="ls";if(this.runPrepend("drawPanels",arguments)){return;}D4m=![];O0L.S5();for(var x4m in this.panels){S7V="se";S7V+="gment";Y4m=this.panels[x4m];Y4m.axisDrawn=![];if(Y4m.title.innerHTML!=Y4m.display){Y4m.title.innerHTML="";Y4m.title.appendChild(document.createTextNode(Y4m.display));}i5.appendClassName(Y4m.icons,"stx-show");if(Y4m.hidden){i5.unappendClassName(Y4m.icons,"stx-show");Y4m.handle.style.display="none";Y4m.holder.style.display="none";continue;}else{y7V="bl";y7V+="oc";y7V+="k";if(!this.displayIconsUpDown){Y4m.up.style.display="none";}if(!this.displayIconsUpDown){Y4m.down.style.display="none";}if(!this.displayIconsSolo){Y4m.solo.style.display="none";}Y4m.holder.style.display=y7V;}if(!D4m){Y4m.handle.style.display="none";D4m=!!1;continue;}j4m=Y4m.top;j4m=Math.round(j4m)+0.5;this.plotLine(Y4m.left,Y4m.right,j4m,j4m,this.canvasStyle("stx_panel_border"),S7V,this.chart.context,![],{});if(!this.displayPanelResize){Y4m.handle.style.display="none";}else{Y4m.handle.style.display="";}O0L.G0j(86);var l9V=O0L.E0j(17,10198,15,40);Y4m.handle.style.top=j4m-Y4m.handle.offsetHeight/("2"|l9V)+"px";;}this.runAppend(d7V,arguments);};N5.prototype.touchSingleClick=function(a4m,U4m,Q4m){var z4m,A4m;z4m=this;A4m=arguments;return function(){O0L.E5();(function(){var O7V,v4m,O4m,g4m;O7V="touch";O7V+="SingleClick";if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",A4m)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-+"1"};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(U4m<this.left||U4m>this.right||Q4m<this.top||Q4m>this.bottom){return;}v4m=this.backOutY(N5.crosshairY);O4m=this.backOutX(N5.crosshairX);this.currentPanel=this.whichPanel(v4m);if(!this.currentVectorParameters.vectorType||!i5.Drawing[this.currentVectorParameters.vectorType]||!new i5.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(!this.drawingClick(this.currentPanel,O4m,v4m)){if(!this.layout.crosshair){N5.crosshairY=0;N5.crosshairX=0;this.cx=this.backOutX(N5.crosshairX);this.cy=this.backOutY(N5.crosshairY);this.findHighlights();N5.crosshairY=Q4m;N5.crosshairX=U4m;g4m=this.container.getBoundingClientRect();this.top=g4m.top;this.left=g4m.left;this.right=this.left+this.width;this.bottom=this.top+this.height;this.cx=this.backOutX(N5.crosshairX);this.cy=this.backOutY(N5.crosshairY);if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));}this.headsUpHR();this.findHighlights(!!"1");}}if(!this.currentVectorParameters.vectorType){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:O4m,y:v4m});}}}z4m.cancelTouchSingleClick=!!"";O0L.E5();this.runAppend(O7V,A4m);}.apply(z4m,A4m));};};N5.prototype.touchDoubleClick=function(k4m,V4m,X4m){var C7V,b4m;C7V="touchDou";C7V+="b";C7V+="leClick";O0L.E5();if(V4m<this.left||V4m>this.right||X4m<this.panels.chart.top||X4m>this.panels.chart.bottom){return;}if(this.editingAnnotation){return;}if(this.runPrepend(C7V,arguments)){return;}if(N5.drawingLine){this.undo();}else{if(this.anyHighlighted){this.deleteHighlighted();}else{b4m=this.currentPanel.yAxis;if(b4m.scroll==(b4m.initialMarginTop-b4m.initialMarginBottom)/+"2"&&b4m.zoom==b4m.initialMarginTop+b4m.initialMarginBottom){this.home();}else{this.calculateYAxisMargins(this.currentPanel.yAxis);;}this.draw();}}this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};this.runAppend("touchDoubleClick",arguments);};N5.prototype.touchmove=function(y4m){var n7V,E7V,d4m,R4m,B4m,I4m,o4m,H3Z,m3Z,W3Z,Q3Z,X3Z,o3Z,q4m,h4m,u4m,i4m,T4m,w7Z,c7Z,R7Z,E4m,m4m,n4m,P3Z,j3Z,B3Z,c4m,C4m,P4m,w4m,Z4m,N4m,s4m,t4m,G4m,M4m,H4m,F9m,l4m,J4m,e4m,W4m,L4m,r4m,K4m,S4m,d7Z,O7Z,C7Z,i7V,Y9m,f9m;n7V="touch";n7V+="move";E7V="n";E7V+="one";if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(N5.ignoreTouch===!""){return;}d4m=[];if(y4m&&y4m.touches&&y4m.touches.length==1){if(Math.pow(this.clicks.x-y4m.touches[0].clientX,2)+Math.pow(this.clicks.y-y4m.touches[0].clientY,+"2")<=16){return;}}if(!this.overYAxis||this.controls&&this.controls.crossX&&this.controls.crossX.style.display!=E7V){if(y4m&&y4m.preventDefault&&this.captureTouchEvents){y4m.preventDefault();}if(y4m){y4m.stopPropagation();}}R4m=new Date().getTime();if(this.clicks.s2MS==-1){this.clicks.e1MS=R4m;if(this.clicks.e1MS-this.clicks.s1MS<25){return;}}else{this.clicks.e2MS=R4m;if(this.clicks.e2MS-this.clicks.s2MS<+"25"){return;}}if(i5.isSurface){if(this.mouseMode){return;}if(!y4m.pointerId){y4m.pointerId=this.gesturePointerId;}if((!this.grabbingScreen||N5.resizingPanel)&&!this.overrideGesture){if(y4m.detail==y4m.MSGESTURE_FLAG_INERTIA){this.gesture.stop();return;;}}for(var p4m=0;p4m<this.touches.length;p4m++){if(this.touches[p4m].pointerId==y4m.pointerId){B4m=Math.abs(this.touches[p4m].pageX-y4m.clientX);I4m=Math.abs(this.touches[p4m].pageY-y4m.clientY);O0L.G0j(87);o4m=Math.sqrt(O0L.t0j(B4m,I4m,B4m,I4m));if(!o4m){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS-this.clicks.s1MS<50){return;}if(this.touches[p4m].pageX==y4m.clientX&&this.touches[p4m].pageY==y4m.clientY){return;}this.touches[p4m].pageX=y4m.clientX;this.touches[p4m].pageY=y4m.clientY;break;}}if(p4m===0){O0L.G0j(3);H3Z=-O0L.t0j(0,"614005720");m3Z=-+"958565408";O0L.r0j(5);W3Z=O0L.t0j("2",0);for(var L3Z=1;O0L.q7Z(L3Z.toString(),L3Z.toString().length,46898)!==H3Z;L3Z++){this.movedPrimary=!!"";W3Z+=2;}if(O0L.k7Z(W3Z.toString(),W3Z.toString().length,93113)!==m3Z){this.movedPrimary=![];}this.movedPrimary=!![];}else{this.movedSecondary=!!"1";}if(!this.gestureInEffect&&p4m==this.touches.length){return;}this.changedTouches=[{pointerId:y4m.pointerId,pageX:y4m.clientX,pageY:y4m.clientY}];d4m=this.touches;if(this.gestureInEffect&&!d4m.length){Q3Z=935919198;X3Z=-+"1688924366";o3Z=2;for(var Z3Z=1;O0L.k7Z(Z3Z.toString(),Z3Z.toString().length,41037)!==Q3Z;Z3Z++){d4m=this.changedTouches;O0L.r0j(64);o3Z+=O0L.t0j(2,"2");}if(O0L.k7Z(o3Z.toString(),o3Z.toString().length,31829)!==X3Z){d4m=this.changedTouches;}}}else{d4m=y4m.touches;this.changedTouches=y4m.changedTouches;}q4m=this.crosshairXOffset;h4m=this.crosshairYOffset;if(this.activeDrawing&&this.activeDrawing.name=="freeform"){q4m=0;O0L.G0j(3);h4m=O0L.t0j(0,"0");}if(this.runPrepend("touchmove",arguments)){return;}if(N5.resizingPanel){T4m=d4m[0];u4m=T4m.pageX;w7Z=-920085229;c7Z=1772466825;R7Z=2;for(var e7Z="1"|1;O0L.q7Z(e7Z.toString(),e7Z.toString().length,94689)!==w7Z;e7Z++){i4m=T4m.pageY;R7Z+=2;}if(O0L.k7Z(R7Z.toString(),R7Z.toString().length,89969)!==c7Z){i4m=T4m.pageY;}O0L.G0j(0);this.mousemoveinner(O0L.t0j(q4m,u4m),O0L.E0j(h4m,i4m));return;}if(this.moveB!=-1){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=d4m[0].pageX;O0L.S5();if(d4m.length==1){m4m=d4m[0];u4m=m4m.pageX;i4m=m4m.pageY;O0L.r0j(3);this.pinchingScreen=O0L.E0j(0,"0");O0L.r0j(0);this.mousemoveinner(O0L.E0j(q4m,u4m),O0L.E0j(h4m,i4m));n4m=this.whichPanel(i4m);this.overXAxis=i4m>=this.top+this.chart.panel.yAxis.bottom&&i4m<=this.top+this.chart.panel.bottom&&N5.insideChart;if(!n4m){this.overYAxis=!{};}else{this.overYAxis=(u4m>=n4m.right||u4m<=n4m.left)&&N5.insideChart;}}else if(d4m.length==2&&this.allowZoom){P3Z=949161317;j3Z=-+"1971772138";B3Z=+"2";for(var l3Z=1;O0L.k7Z(l3Z.toString(),l3Z.toString().length,+"68735")!==P3Z;l3Z++){if(!this.displayCrosshairs){return;}c4m=d4m[0];C4m=c4m.pageX;B3Z+=2;}if(O0L.k7Z(B3Z.toString(),B3Z.toString().length,4781)!==j3Z){if(~this.displayCrosshairs){return;}c4m=d4m[3];C4m=c4m.pageX;}P4m=c4m.pageY;w4m=d4m[1];Z4m=w4m.pageX;N4m=w4m.pageY;O0L.G0j(88);E4m=Math.sqrt(O0L.t0j(Z4m,C4m,N4m,P4m,C4m,Z4m,N4m,P4m));O0L.r0j(89);var T9V=O0L.E0j(12,529,17,19);this.pinchingCenter=Math.min(C4m,Z4m)+(Math.max(C4m,Z4m)-Math.min(C4m,Z4m))/T9V;s4m=Math.round(this.gestureStartDistance-E4m);t4m=!this.layout.crosshair&&!this.currentVectorParameters.vectorType;if(t4m){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen<("2"&2147483647)){if(i5.isSurface&&(!this.movedPrimary||!this.movedSecondary)){return;}if(C4m<this.pt.x1&&Z4m<this.pt.x2||C4m>this.pt.x1&&Z4m>this.pt.x2||P4m<this.pt.y1&&N4m<this.pt.y2||P4m>this.pt.y1&&N4m>this.pt.y2){this.pinchingScreen=0;}else{this.pinchingScreen++;if(this.pinchingScreen<+"2"){return;}}}this.pt={x1:C4m,x2:Z4m,y1:P4m,y2:N4m};if(this.pinchingScreen===0){O0L.r0j(0);this.mousemoveinner(O0L.E0j(q4m,C4m),O0L.E0j(h4m,P4m));this.gestureStartDistance=E4m;}else{G4m=Math.asin((Math.max(N4m,P4m)-Math.min(N4m,P4m))/E4m);if(Math.abs(s4m)<12&&!t4m){this.moveCount++;if(this.moveCount==+"4"){this.pinchingScreen=0;this.moveCount=0;return;}}else{this.moveCount=0;}if(G4m<1||!this.goneVertical&&G4m<1.37){if(!this.currentPanel){return;}M4m=this.currentPanel.chart;this.goneVertical=![];E4m=this.pt.x2-this.pt.x1;H4m=this.grabStartValues.t2-this.grabStartValues.t1;O0L.G0j(3);var F9V=O0L.t0j(15,17);F9m=this.grabStartValues.t1+H4m/F9V;O0L.G0j(2);l4m=O0L.t0j(H4m,E4m);if(l4m<this.minimumCandleWidth){l4m=this.minimumCandleWidth;}J4m=this.layout.candleWidth;this.setCandleWidth(l4m,M4m);if(M4m.maxTicks<this.minimumZoomTicks){this.setCandleWidth(J4m,M4m);return;}this.micropixels=0;e4m=this.pixelFromTick(Math.round(F9m),M4m);O0L.G0j(90);var y9V=O0L.E0j(661,36,19,13,10,2);W4m=this.pt.x1-this.left+Math.round(E4m/y9V);O0L.G0j(3);L4m=O0L.E0j(W4m,e4m);O0L.G0j(2);r4m=O0L.E0j(l4m,L4m);K4m=Math.round(r4m);M4m.scroll-=K4m;O0L.G0j(3);this.microscroll=O0L.t0j(r4m,K4m);this.micropixels=l4m*this.microscroll;this.draw();}else{S4m=this.currentPanel.chart.panel.yAxis;this.goneVertical=!0;S4m.zoom=this.grabStartZoom+(this.gestureStartDistance-E4m);if(this.grabStartZoom<S4m.height){if(S4m.zoom>=S4m.height){O0L.r0j(91);var S9V=O0L.t0j(17,83,6,18);S4m.zoom=S4m.height-S9V;}}else{d7Z=226556884;O0L.G0j(12);O7Z=O0L.E0j(1072214592,"1475392209");O0L.G0j(64);C7Z=O0L.t0j(2,"2");for(var i7Z=1;O0L.k7Z(i7Z.toString(),i7Z.toString().length,30428)!==d7Z;i7Z++){if(S4m.zoom>S4m.height){O0L.r0j(41);var d9V=O0L.E0j(15,93,75,8);S4m.zoom=S4m.height-d9V;}C7Z+=2;}if(O0L.q7Z(C7Z.toString(),C7Z.toString().length,+"71476")!==O7Z){if(S4m.zoom<=S4m.height){O0L.G0j(2);var O9V=O0L.t0j(10,10);S4m.zoom=S4m.height+O9V;}}}this.draw();;}}}else if(d4m.length==3&&N5.allowThreeFingerTouch){i7V="undef";i7V+="i";i7V+="ne";i7V+="d";if(!this.displayCrosshairs){return;}Y9m=d4m[0];f9m=Y9m.pageX;E4m=this.grabStartX-f9m;O0L.G0j(3);var C9V=O0L.t0j(7,17);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(E4m/C9V);if(this.grabEndPeriodicity<1){this.grabEndPeriodicity=1;}if(typeof headsUp!=i7V){O0L.G0j(92);var E9V=O0L.t0j(10,10,66724,7418,5);O0L.r0j(37);var n9V=O0L.E0j(5240,749,749);headsUp.period.innerHTML=this.grabEndPeriodicity+((E9V,"8668"*1)<=(444.58,"8097"-0)?(167.76,n9V)!=+"8283"?(445.77,41.44):(!!1,"769.28"-0):" ")+this.layout.interval;if(this.grabEndPeriodicity>("1"|0)){headsUp.period.innerHTML+="s";}}}this.runAppend(n7V,arguments);};N5.prototype.touchstart=function(U9m){var X9m,k9m,z9m,x9m,D9m,j9m,a9m,Q9m,b9m,C9m,A9m,P9m,Z9m,f7V,d9m,p9m,S9m,V9m,v9m,g9m,y9m,N9m,E9m,m9Z,W9Z,p9Z;if(N5.ignoreTouch){return;}if(i5.isSurface){this.movedPrimary=!"1";this.movedSecondary=![];}else{if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!"";this.touches=U9m.touches;this.changedTouches=U9m.changedTouches;}if(N5.resizingPanel){return;}X9m=this.crosshairXOffset;k9m=this.crosshairYOffset;if(this.runPrepend("touchstart",arguments)){return;}if(this.manageTouchAndMouse&&U9m&&U9m.preventDefault&&this.captureTouchEvents){U9m.preventDefault();}O0L.S5();this.hasDragged=!!"";this.doubleFingerMoves=0;this.moveCount=0;this.twoFingerStart=!!"";if(this.touches.length==1||this.touches.length==2){if(this.changedTouches.length==1){a9m=Date.now();this.clicks.x=this.changedTouches[0].pageX;this.clicks.y=this.changedTouches[0].pageY;if(a9m-this.clicks.e1MS<250){this.cancelTouchSingleClick=!![];this.clicks.s2MS=a9m;}else{this.cancelTouchSingleClick=![];this.clicks.s1MS=a9m;this.clicks.e1MS=-1;this.clicks.s2MS=-1;this.clicks.e2MS=-1;}}this.touchMoveTime=Date.now();this.moveA=this.touches[0].pageX;O0L.G0j(12);this.moveB=-O0L.t0j(1761147872,"1");Q9m=this.touches[0];D9m=Q9m.pageX;j9m=Q9m.pageY;b9m=this.container.getBoundingClientRect();this.top=b9m.top;this.left=b9m.left;this.right=this.left+this.width;this.bottom=this.top+this.height;if(this.touches.length==1){C9m=this.cy=this.backOutY(j9m);this.currentPanel=this.whichPanel(C9m);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}if(D9m>=this.left&&D9m<=this.right&&j9m>=this.top&&j9m<=this.bottom){N5.insideChart=!![];this.overXAxis=j9m>=this.top+this.chart.panel.yAxis.bottom&&j9m<=this.top+this.chart.panel.bottom;this.overYAxis=D9m>=this.currentPanel.right||D9m<=this.currentPanel.left;for(var O9m=0;O9m<this.drawingObjects.length;O9m++){A9m=this.drawingObjects[O9m];if(A9m.highlighted){P9m=A9m.highlighted;this.cy=this.backOutY(j9m);this.cx=this.backOutX(D9m);this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));this.findHighlights(!!{});if(A9m.highlighted){this.repositioningDrawing=A9m;return;}else{this.anyHighlighted=!"";A9m.highlighted=P9m;;}}}U9m.stopPropagation();}else{N5.insideChart=![];}Z9m=this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType!=="";if(!this.layout.crosshair&&!Z9m&&N5.insideChart&&!this.touchNoPan){f7V="baseline_d";f7V+="elta";if((this.layout.chartType==f7V||this.layout.chartType=="baseline_delta_mountain")&&this.chart.baseline.userLevel!==!{}){d9m=this.valueFromPixelUntransform(this.cy-5,this.currentPanel);p9m=this.valueFromPixelUntransform(this.cy+5,this.currentPanel);O0L.r0j(3);var f9V=O0L.E0j(20,30);S9m=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,f9V);if(this.chart.baseline.actualLevel<d9m&&this.chart.baseline.actualLevel>p9m&&this.backOutX(Q9m.pageX)>S9m){this.repositioningBaseline={lastDraw:Date.now()};return;}}for(z9m in this.panels){x9m=this.panels[z9m];if(x9m.highlighted){this.grabHandle(x9m);return;}}this.grabbingScreen=!0;this.yToleranceBroken=!!"";O0L.r0j(0);this.grabStartX=O0L.t0j(X9m,D9m);O0L.G0j(0);this.grabStartY=O0L.E0j(k9m,j9m);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.swipeStart(this.currentPanel.chart);setTimeout(function(i9m){O0L.S5();return function(){O0L.S5();i9m.grabbingHand();};}(this),100);}else{this.grabbingScreen=!{};if(N5.insideChart){if(i5.Drawing[this.currentVectorParameters.vectorType]&&new i5.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){this.userPointerDown=!![];N5.crosshairX=D9m;N5.crosshairY=j9m;if(this.currentPanel&&this.currentPanel.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(N5.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.backOutY(N5.crosshairY),this.currentPanel));}this.drawingClick(this.currentPanel,this.backOutX(D9m),this.backOutY(j9m));this.headsUpHR();return;}}}}if(this.touches.length==2){this.cancelLongHold=!!1;this.swipe.end=!![];if(!this.displayCrosshairs&&!this.touchNoPan||!N5.insideChart){return;}V9m=this.touches[1];v9m=V9m.pageX;g9m=V9m.pageY;for(z9m in this.panels){x9m=this.panels[z9m];if(x9m.highlighted){this.grabHandle(x9m);return;}}y9m=this.currentPanel.chart;O0L.r0j(88);this.gestureStartDistance=Math.sqrt(O0L.t0j(v9m,D9m,g9m,j9m,D9m,v9m,g9m,j9m));this.pt={x1:D9m,x2:v9m,y1:j9m,y2:g9m};this.grabbingScreen=!!"1";O0L.r0j(0);this.grabStartX=O0L.E0j(X9m,D9m);O0L.G0j(0);this.grabStartY=O0L.t0j(k9m,j9m);this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,this.currentPanel),y2:this.valueFromPixel(this.pt.y2-this.top,this.currentPanel),t1:this.tickFromPixel(this.pt.x1-this.left,y9m),t2:this.tickFromPixel(this.pt.x2-this.left,y9m)};this.twoFingerStart=!!"1";setTimeout(function(u9m){O0L.S5();return function(){u9m.grabbingHand();};}(this),+"100");}else if(this.touches.length==3){if(!this.displayCrosshairs){return;}N9m=this.touches[0];E9m=N9m.pageX;this.grabStartX=E9m;O0L.G0j(12);m9Z=O0L.t0j(475290240,"125177165");W9Z=-997852659;O0L.r0j(5);p9Z=O0L.E0j("2",0);for(var v9Z=1;O0L.q7Z(v9Z.toString(),v9Z.toString().length,23814)!==m9Z;v9Z++){this.grabStartPeriodicity=this.layout.periodicity;p9Z+=+"2";}if(O0L.q7Z(p9Z.toString(),p9Z.toString().length,97843)!==W9Z){this.grabStartPeriodicity=this.layout.periodicity;}this.grabStartPeriodicity=this.layout.periodicity;}if(this.touches.length==1){this.mouseTimer=Date.now();this.longHoldTookEffect=![];if(this.longHoldTime){this.startLongHoldTimer();}}this.runAppend("touchstart",arguments);};N5.prototype.swipeStart=function(l9m){var M9m;if(this.swipe&&this.swipe.interval){clearInterval(this.swipe.interval);}O0L.r0j(4);this.swipe.velocity=O0L.E0j("0",1);this.swipe.amplitude=0;this.swipe.frame=l9m.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=this.currentPanel.chart;this.swipe.end=!!0;this.swipe.timeConstant=+"325";this.swipe.cb=null;M9m=this;requestAnimationFrame(function(){O0L.S5();M9m.swipeSample();});};N5.prototype.swipeSample=function(){var q9m,h9m,n9m,T9m,R9m,w9m,t9m,G9m,m9m;q9m=this.swipe;if(q9m.end){return;}h9m=this;t9m=20;n9m=Date.now();O0L.E5();T9m=n9m-q9m.timestamp;if(T9m<t9m){requestAnimationFrame(function(){h9m.swipeSample();});return;}G9m=i5.touchDevice?0.4:0.8;q9m.timestamp=n9m;R9m=(q9m.chart.scroll-q9m.frame)*this.layout.candleWidth+this.micropixels-q9m.micropixels;q9m.frame=q9m.chart.scroll;q9m.micropixels=this.micropixels;O0L.r0j(93);w9m=O0L.E0j(T9m,R9m,1,1000);m9m=G9m*w9m+0.2*this.swipe.velocity;if(Math.abs(m9m)>Math.abs(q9m.velocity)){q9m.velocity=m9m;}if(Math.abs(R9m)<6){q9m.velocity=+"0";;}requestAnimationFrame(function(){O0L.S5();h9m.swipeSample();});};N5.prototype.swipeRelease=function(){var B9m,H9m;B9m=this.swipe;if(B9m.velocity>3000){B9m.velocity=+"3000";}if(B9m.velocity<-3000){B9m.velocity=-3000;}if(B9m.velocity>10||B9m.velocity<-10){B9m.amplitude=0.8*B9m.velocity;B9m.scroll=B9m.chart.scroll;B9m.target=B9m.amplitude;B9m.timestamp=Date.now();H9m=this;requestAnimationFrame(function(){H9m.autoscroll();});}};N5.prototype.scrollTo=function(r9m,c9m,o9m){var I9m,K9m;I9m=this.swipe;I9m.end=!!"1";I9m.amplitude=I9m.target=(c9m-r9m.scroll)*this.layout.candleWidth;O0L.r0j(5);I9m.timeConstant=O0L.E0j("100",0);I9m.timestamp=Date.now();I9m.scroll=r9m.scroll;I9m.chart=r9m;I9m.cb=o9m;K9m=this;requestAnimationFrame(function(){K9m.autoscroll();});};N5.prototype.autoscroll=function(){var W9m,J9m,s9m,e9m,L9m;W9m=this;J9m=this.swipe;if(J9m.amplitude){J9m.elapsed=Date.now()-J9m.timestamp;e9m=-J9m.amplitude*Math.exp(-J9m.elapsed/J9m.timeConstant);if(e9m>0.5||e9m<-("0.5"-0)){L9m=(J9m.target+e9m)/this.layout.candleWidth;J9m.chart.scroll=J9m.scroll+Math.round(L9m);this.draw();requestAnimationFrame(function(){W9m.autoscroll();});}else{if(J9m.cb){J9m.cb();}}}};N5.prototype.touchend=function(Y5m){var h7V,U7V,a8Z,G8Z,u8Z,F5m,f5m,j5m,D5m;h7V="touchen";h7V+="d";U7V="t";U7V+="o";U7V+="uch";U7V+="end";if(N5.ignoreTouch){return;}this.swipe.end=!!{};if(i5.isSurface){}else{this.touches=Y5m.touches;this.changedTouches=Y5m.changedTouches;}if(this.runPrepend(U7V,arguments)){return;}this.cancelLongHold=!!{};if(this.touches.length<=1){if(this.layout.crosshair||this.currentVectorParameters.vectorType){if(!this.touches.length||!this.twoFingerStart){a8Z=-444730631;G8Z=+"559735039";u8Z=+"2";for(var q8Z=1;O0L.k7Z(q8Z.toString(),q8Z.toString().length,87267)!==a8Z;q8Z++){this.grabbingScreen=!!1;u8Z+=2;}if(O0L.k7Z(u8Z.toString(),u8Z.toString().length,15538)!==G8Z){this.grabbingScreen=![];}}}}if(this.touches.length){O0L.r0j(5);this.grabStartX=-O0L.E0j("1",0);this.grabStartY=-1;}if(!this.touches.length){this.touchingEvent=setTimeout(function(x5m){return function(){x5m.touching=![];};}(this),+"500");if(N5.resizingPanel){this.releaseHandle();return;}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!"1";this.grabbingScreen=!{};}else{if(N5.resizingPanel){return;}}if(this.changedTouches.length==1){if(this.repositioningDrawing){this.changeOccurred("vector");i5.clearCanvas(this.chart.tempCanvas,this);this.repositioningDrawing=null;this.draw();if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType){this.findHighlights(!{},!!"1");}return;}if(this.repositioningBaseline){this.repositioningBaseline=null;this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2;this.draw();return;}F5m=Date.now();f5m=this.touches.length+1;if(this.clicks.s2MS==-1){this.clicks.e1MS=F5m;if(!this.currentVectorParameters.vectorType||!i5.Drawing[this.currentVectorParameters.vectorType]||!new i5.Drawing[this.currentVectorParameters.vectorType]().dragToDraw){if(this.clicks.e1MS-this.clicks.s1MS<+"750"&&!this.longHoldTookEffect&&!this.hasDragged){setTimeout(this.touchSingleClick(f5m,this.clicks.x,this.clicks.y),200);;}else{this.clicks={s1MS:-+"1",e1MS:-+"1",s2MS:-1,e2MS:-1};}}this.userPointerDown=!!0;if(this.activeDrawing&&this.activeDrawing.dragToDraw){j5m=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset;D5m=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset;this.drawingClick(this.currentPanel,D5m,j5m);return;}}else{this.clicks.e2MS=F5m;if(this.clicks.e2MS-this.clicks.s2MS<250){this.touchDoubleClick(f5m,this.clicks.x,this.clicks.y);}else{this.clicks={s1MS:-1,e1MS:-+"1",s2MS:-1,e2MS:-1};}}if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&f5m==1||this.twoFingerStart&&!this.touches.length){this.swipeRelease();}}else{if(this.grabEndPeriodicity!=-1&&!isNaN(this.grabEndPeriodicity)){if(this.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute){this.setPeriodicityV2(this.grabEndPeriodicity);}this.grabEndPeriodicity=-1;}}if(!this.touches.length){this.twoFingerStart=!1;}O0L.S5();this.runAppend(h7V,arguments);};N5.prototype.startProxy=function(A5m){var I7V,j9Z,B9Z,x9Z;I7V="mous";I7V+="e";if(A5m.pointerType=="4"<<496313056||A5m.pointerType==I7V){this.mouseMode=!0;}else{j9Z=-1717840340;B9Z=-790450642;x9Z=2;for(var T9Z="1"|1;O0L.k7Z(T9Z.toString(),T9Z.toString().length,60272)!==j9Z;T9Z++){this.mouseMode=!"";x9Z+=2;}if(O0L.q7Z(x9Z.toString(),x9Z.toString().length,49260)!==B9Z){this.mouseMode=!!1;}this.mouseMode=!!"";}if(this.mouseMode){return;}O0L.S5();this.touches[this.touches.length]={pointerId:A5m.pointerId,pageX:A5m.clientX,pageY:A5m.clientY};this.changedTouches=[{pointerId:A5m.pointerId,pageX:A5m.clientX,pageY:A5m.clientY}];if(!this.gestureInEffect&&this.touches.length==1){this.gesturePointerId=A5m.pointerId;this.overrideGesture=!1;if(!this.gesture){return;}this.gesture.addPointer(A5m.pointerId);this.touchstart(A5m);}else{this.gesture.stop();this.touchstart(A5m);}};N5.prototype.moveProxy=function(U5m){O0L.E5();if(U5m.pointerType==4||U5m.pointerType=="mouse"){this.mouseMode=!![];}else{this.mouseMode=!"1";}if(this.mouseMode){return;}if(!this.gestureInEffect){this.touchmove(U5m);}};N5.prototype.endProxy=function(z5m){var a5m;if(this.mouseMode){return;}a5m=this.touches.length;for(var Q5m=0;Q5m<this.touches.length;Q5m++){if(this.touches[Q5m].pointerId==z5m.pointerId){this.touches.splice(Q5m,1);break;}}if(Q5m==a5m){this.touches=[];this.grabbingScreen=!{};this.touching=!{};return;}this.changedTouches=[{pointerId:z5m.pointerId,pageX:z5m.clientX,pageY:z5m.clientY}];if(!this.gestureInEffect){this.touchend(z5m);}};N5.prototype.msMouseMoveProxy=function(v5m){if(this.touches.length||!this.mouseMode){return;}O0L.E5();this.mousemove(v5m);};N5.prototype.msMouseDownProxy=function(O5m){if(!this.mouseMode){return;}O0L.E5();this.mousedown(O5m);};N5.prototype.msMouseUpProxy=function(g5m){if(!this.mouseMode){return;}this.mouseup(g5m);};N5.prototype.iosMouseMoveProxy=function(b5m){if(this.touching){return;}this.mousemove(b5m);};N5.prototype.iosMouseDownProxy=function(V5m){O0L.E5();if(this.touching){this.mouseMode=![];return;}this.mouseMode=!"";this.mousedown(V5m);};N5.prototype.iosMouseUpProxy=function(X5m){O0L.S5();if(this.touching){return;}this.mouseup(X5m);};N5.prototype.rawWatermark=function(k5m,y5m,d5m,p5m){O0L.E5();this.canvasFont("stx_watermark",k5m);k5m.fillStyle=this.defaultColor;O0L.G0j(4);k5m.globalAlpha=O0L.t0j("0.5",1);this.chart.context.textBaseline="alphabetic";k5m.fillText(p5m,y5m,d5m);k5m.globalAlpha=1;};N5.prototype.watermark=function(Z5m,S5m){var Q1V,A1V,V1V,D7V,E5m,C5m,P5m;Q1V="cen";Q1V+="t";Q1V+="e";Q1V+="r";A1V="ri";A1V+="g";A1V+="h";A1V+="t";V1V="stx";V1V+="_watermark";D7V="t";D7V+="o";D7V+="p";O0L.S5();if(S5m&&typeof S5m!="object"){S5m={h:arguments[1],v:arguments[2],text:arguments[3]};}S5m={h:S5m.h||"left",v:S5m.v||"bottom",text:S5m.text||"",hOffset:S5m.hOffset||10,vOffset:S5m.vOffset||"20"^0};if(!this.chart.context){return;}E5m=this.panels[Z5m];if(!E5m||E5m.hidden){return;}C5m=E5m.bottom-S5m.vOffset;if(S5m.v==D7V){C5m=E5m.top+S5m.vOffset;}else if(S5m.v=="middle"){C5m=(E5m.top+E5m.bottom)/+"2";}this.chart.context.save();this.canvasFont(V1V);this.canvasColor("stx_watermark");this.chart.context.textBaseline="alphabetic";P5m=E5m.left+S5m.hOffset;if(S5m.h==A1V){P5m=E5m.right-S5m.hOffset;}else if(S5m.h==Q1V){O0L.G0j(3);var I9V=O0L.t0j(14,16);P5m=(E5m.right+E5m.left-this.chart.context.measureText(S5m.text).width)/I9V;}this.chart.context.globalAlpha=0.5;this.chart.context.fillText(S5m.text,P5m,C5m);O0L.r0j(5);this.chart.context.globalAlpha=O0L.t0j("1",0);this.chart.context.restore();};N5[c65][q65]=function(K5m,q5m){O0L.o95=function(x95){if(O0L)return O0L.H55(x95);};O0L.K95=function(P95){if(O0L)return O0L.z55(P95);};O0L.H95=function(G95){if(O0L)return O0L.H55(G95);};O0L.L95=function(F95){if(O0L&&F95)return O0L.H55(F95);};O0L.d95=function(r95){if(O0L)return O0L.H55(r95);};O0L.Y95=function(E95){if(O0L&&E95)return O0L.z55(E95);};var S85=O0L.Y95("579d")?"":"ratio";var h95=O0L.d95("fdbb")?"":"libraryEntry";var u85=O0L.y95("85ec")?"priceLines":"";var Z65=O0L.k95("96ed")?2:1;var K75=O0L.L95("439b")?"hi":"";var R85=O0L.H95("eff9")?"isHourAligned":"";var H85=O0L.i95("68ba")?"grabStartScrollX":"";var Q75="masterData";var C75=O0L.v95("4c87")?"interval":"";var C85="calculateRangeBars";var f85=O0L.q95("cb35")?"Hi":"";var E85=O0L.K95("97fa")?"week":"";var j65="Dat";var e95="function";var d85="alert";var W95=O0L.B95("bc5e")?"":"calculateOHLC4";var s85="dontRoll";var a85="periodicity";var x75=O0L.l95("9e36")?"":"concat";var g75="runAppend";var A95=O0L.g95("1dee")?"":"type";var P85=O0L.o95("186d")?"":"kagi";var e85=O0L.T95("db56")?"m":"";var r85="timeUnit";var o85="transformDataSetPost";var F85="scroll";var U75="maxTicks";var J95="calculateMedianPrice";var v85="range";var V95="panels";var I85="projection";var W85="activeDrawing";var S95="Studies";var p65=20;var n85="L";var G75="round";var Q85="calculateRenkoBars";var X95="cache";var L85="lockScroll";var U85="maxDataSetSize";var o75="transformDataSetPre";var s95="push";var t85="High";var A65=3;var q85="calculateHeikinAshi";var P75="na";var M85="calculateATR";var z85="aggregationType";var Z75="1";var S65=0;var V85="n";var v65=1000000000;var u75="dataSet";var c75="charts";var k85="iqPrevClose";var R95="scrubbed";var a95="establishMarkerTicks";var B75=null;var l85="renko";var O95="studies";var q75="heiki";var M75="chart";var G85="spanLock";var g85="pandf";var m85="quote";var J85="hideDrawings";var M65="s";var f75="runPrepend";var m75="Close";var t95="plugins";var K85="calculateKagi";var y85="position";var I95="calculateWeightedClose";var h85="gh";var i75="layout";var T75=0.75;var h75="E5";var e75="length";var r75="0";var B85="calculateLineBreak";var k75="DT";var i85="rangebars";var l75="tickCache";var w85="th";var N95="calculateTypicalPrice";var j75="name";var c85="heikenashi";var b95="dataSetContainsGaps";var p95="calculateFN";var A75="aSet";var N85="drawingObjects";var Y85="consolidatedQuote";var x85="calculatePointFigure";var Z85="adj";var Z95="studyLibrary";var K65="reate";var w95="panel";var n95="adjustDrawings";var T85="slice";var j85="linebreak";var N75="o";var f95="overlay";var p85="Open";var P65="c";var A85="Adj_Close";var X85="Low";var D85="error:consolidatedQuote returned negative position";var b85="market";var O85="w";var H1V,B5m,m5m,N5m,Z1V,G5m,T5m,u5m,f1m,M5m,H5m,I5m,l5m,L5m,w5m,t5m,W5m,J1V,o1V,i5m,X1V,e5m,r5m,c5m,n5m,F1m,h5m,R5m,o5m;H1V=P65;H1V+=K65;H1V+=j65;function j1m(){var W75="574";var r65=1400;var a65=128;var Y65=1299;var H65=8050;var V75="getHostName";var z65=8650;var w75="referrer";var k65=6270;var i65=9939;var B65="lesf";var g65="303.43";var y65=3930;var l65=582.90;var x65="p";var U65=748.69;var d65=3238;var T65=51.36;var J75="B";var D65=3508;var m65=5834;var s75=0x25b8;var S75="indexOf";var n75=1.32e+3;var X65=82;var b75="9.65e+3";var G65=7758;var O75="charAt";var u65="t";var Q65="7351";var L65=7270;var I75=292.66;var o65=239.53;var F65=6529;var R75="e";var Q1m,x1m,D1m,A1m,a1m,z1m,v1m;Q1m=B65;x1m=G65!==y65?u65:(L65,z65)<(H65,a65)?l65:(Q65|d65)<g65*Z65?x65:(o65,U65);D1m=T65!==m65?M65:(J75,![]);x1m+=N75;D1m+=I75<=k65?(D65,r65)<i65?(F65,+W75)>Y65?b75^S65:R75:s75:(X65,n75);A1m=[];D1m+=Q1m[O75](S65);x1m+=x65;D1m+=Q1m[O75](A65);if(window[x1m]==window[D1m]){return!![];}if(A1m[e75]){a1m=i5[V75](document[w75]);z1m=!Z65;for(var U1m=S65;U1m<A1m[e75];U1m++){v1m=A1m[U1m];if(a1m[S75](v1m)!=-(Z75^S65)){z1m=!!{};}}if(!z1m){return!!S65;}}return!![];}H1V+=A75;B5m=[K5m,q5m];if(this[f75](q65,B5m)){return;}O0L[h75]();function Y1m(Z1m,l1m){var L75="E0j";var d75="next";var F75="yIntersection";var h65=19;var Y75="standardMarketIterator";var C65=10019;var z75="yyyymmddhhmmssmmm";var v75="minute";var H75="10000";var E65=322;var t65=36;var t75="r0j";var a75="strToDateTime";var f65=17;var y75="G0j";var E75="getTime";var p75="arr";var X75="t0j";var D75="Date";var g1m,b1m,p1m,M1m,E1m,u1m,y1m,k1m,P1m,X1m,N1m,C1m,d1m,O1m,i1m;O0L[h75]();g1m=l1m[p75];if(g1m[e75]>Z65){b1m=g1m[S65][S65];for(var V1m=Z65;V1m<g1m[e75];V1m++){O0L[t75](A65);p1m=g1m[O0L[X75](Z65,V1m)][S65];M1m=g1m[V1m][S65];E1m=i5[a75](p1m);u1m=i5[a75](M1m)[E75]();y1m=Z1m[Y75](E1m);k1m=+r75;while(E1m[E75]()<u1m){E1m=y1m[d75]();k1m+=Z65;}P1m=i5[a75](p1m)[E75]();if(P1m>i5[a75](u5m[u5m[e75]-+Z75][D75])[E75]()){O0L[y75](t65);var D9V=O0L[X75](E65,f65,h65);X1m=u5m[e75]-D9V;k1m+=Z65;}else{for(X1m=u5m[e75]-Z65;X1m>=S65;X1m--){if(P1m<=i5[a75](u5m[X1m][D75])[E75]())break;}}N1m={"x0":S65,"x1":k1m,"y0":u5m[X1m][m75],"y1":g1m[V1m][Z65]};b1m=i5[a75](p1m);y1m=Z1m[Y75](b1m);C1m=!{};for(var S1m=S65;S1m<=k1m;S1m++){if(!C1m){C1m=!S65;}else{b1m=y1m[d75]();}if(b1m[E75]()<=u5m[u5m[e75]-Z65][k75][E75]())continue;d1m=i5[F75](N1m,S1m);if(!d1m){d1m=S65;}O0L[t75](A65);var V6V=O0L[L75](h65,C65);O1m=Math[G75](d1m*(H75-S65))/V6V;if(O1m===(r75|S65)){O1m=g1m[V1m][Z65];}i1m={"Date":i5[z75](b1m),"DT":b1m,"Open":O1m,"Close":O1m,"High":O1m,"Low":O1m,"Volume":S65,"Adj_Close":O1m,"Split_Close":O1m,"projection":!![]};if(Z1m[i75][C75]==v75)if(f1m--<S65)break;u5m[u5m[e75]]=i1m;}}}}for(m5m in this[c75]){Z1V=q75;Z1V+=P75;Z1V+=M65;Z1V+=K75;if(q5m&&q5m[j75]!=m5m)continue;N5m=this[c75][m5m];G5m=B75;if(N5m[u75]&&N5m[u75][e75]){G5m=N5m[u75][N5m[u75][e75]-Z65][k75];}N5m[u75]=[];N5m[l75]={};T5m=N5m[Q75];if(!T5m){T5m=this[Q75];}if(!T5m||!T5m[e75]){this[g75](q65,B5m);return;}u5m=[][x75](T5m);if(!j1m()){return;}if(this[o75]){this[o75](this,u5m);}f1m=Math[G75](N5m[U75]*T75);if(!this[M75][J85]){for(M5m=S65;M5m<this[N85][e75];M5m++){if(this[N85][M5m][j75]==I85){Y1m(this,this[N85][M5m]);}}if(this[W85]&&this[W85][j75]==I85){Y1m(this,this[W85]);}}M5m=S65;H5m=S65;I5m=v65;l5m=+r75;L5m=N5m[b85][R85]();w5m={};t5m=S65;W5m=K5m||this[s85];while(Z65){J1V=n85;J1V+=N75;J1V+=O85;o1V=e85;o1V+=N75;o1V+=V85;o1V+=w85;if(l5m>=u5m[e75])break;i5m={};for(var J5m in u5m[l5m]){i5m[J5m]=u5m[l5m][J5m];}u5m[l5m]=i5m;i5m[S85]=Z65;if(this[i75][Z85]&&i5m[A85]){i5m[S85]=i5m[A85]/ i5m[m75];}if(i5m[S85]!=Z65){X1V=f85;X1V+=h85;if(p85 in i5m){i5m[p85]=i5m[p85]*i5m[S85];}if(m75 in i5m&&i5m[m75]!==B75){i5m[m75]=i5m[m75]*i5m[S85];}if(X1V in i5m){i5m[t85]=i5m[t85]*i5m[S85];}if(X85 in i5m){i5m[X85]=i5m[X85]*i5m[S85];}}if(!W5m&&(this[i75][a85]>Z65||this[i75][C75]==E85||this[i75][C75]==o1V)){w5m=this[Y85](u5m,l5m,this[i75][a85],this[i75][C75],this[i75][r85],K5m,L5m);if(!w5m){i5[d85](D85);break;}l5m=w5m[y85];N5m[u75][M5m]=w5m[m85];}else{N5m[u75][M5m]=u5m[l5m];l5m++;}i5m=N5m[u75][M5m];if(M5m>S65){i5m[k85]=N5m[u75][M5m-(Z75^S65)][m75];}else{i5m[k85]=i5m[m75];}if(t85 in i5m&&i5m[t85]>H5m){H5m=i5m[t85];}if(J1V in i5m&&i5m[X85]<I5m){I5m=i5m[X85];}M5m++;if(G5m&&i5m[k75]>G5m){t5m++;}}e5m=N5m[F85]>N5m[U75]+Z65||N5m[L85]||N5m[G85];if(e5m&&t5m){N5m[F85]+=t5m;this[H85]+=t5m;;}if(this[i75][z85]==i85){N5m[u75]=i5[C85](this,N5m[u75],this[i75][v85]);}else if(this[i75][z85]==c85||this[i75][z85]==Z1V){N5m[u75]=i5[q85](this,N5m[u75]);}else if(this[i75][z85]==P85){N5m[u75]=i5[K85](this,N5m[u75],this[i75][P85]);}else if(this[i75][z85]==j85){N5m[u75]=i5[B85](this,N5m[u75],this[i75][u85]);}else if(this[i75][z85]==l85){N5m[u75]=i5[Q85](this,N5m[u75],this[i75][l85]);}else if(this[i75][z85]==g85){N5m[u75]=i5[x85](this,N5m[u75],this[i75][g85]);}if(this[o85]){this[o85](this,N5m[u75],I5m,H5m);}if(this[U85]){N5m[u75]=N5m[u75][T85](-this[U85]);}this[M85](N5m,p65);this[J95](N5m);this[N95](N5m);this[I95](N5m);this[W95](N5m);if(this[b95]){N5m[R95]=[];for(M5m=S65;M5m<N5m[u75][e75];M5m++){r5m=N5m[u75][M5m];if(r5m[m75]||r5m[m75]===S65){N5m[R95][s95](r5m);}}}else{N5m[R95]=N5m[u75];}}this[n95]();c5m=this[i75][O95];for(var s5m in c5m){n5m=c5m[s5m];if(typeof n5m==e95)continue;if(q5m){F1m=this[V95][n5m[w95]];if(F1m[M75][j75]!=q5m[j75])continue;;}h5m=i5[S95][Z95][n5m[A95]];if(!h5m){h5m={};if(n5m[w95]==M75){h5m[f95]=!![];}}n5m[h95]=h5m;if(h5m[p95]){h5m[p95](this,n5m);};}for(R5m in this[t95]){o5m=this[t95][R5m];if(o5m[q65]){o5m[q65](this,q5m);}}for(m5m in this[c75]){if(q5m&&q5m[j75]!=m5m)continue;N5m=this[c75][m5m];for(R5m=S65;R5m<N5m[u75][e75];R5m++){N5m[u75][R5m][X95]={};}}this[a95]();this[g75](H1V,B5m);};N5.prototype.preAdjustScroll=function(q1m){if(!q1m){q1m=this.chart;}this.previousAdjust={chart:q1m,scroll:q1m.scroll,maxTicks:q1m.maxTicks};};N5.prototype.postAdjustScroll=function(){var h1m;O0L.S5();if(!this.previousAdjust){return;}h1m=this.previousAdjust.chart;h1m.scroll=this.previousAdjust.scroll+(h1m.maxTicks-this.previousAdjust.maxTicks);if(this.displayInitialized){this.draw();}};N5.prototype.adjustDrawings=function(){var T1m;for(var n1m=0;n1m<this.drawingObjects.length;n1m++){T1m=this.drawingObjects[n1m];if(this.panels[T1m.panelName]){T1m.adjust();}}};N5.prototype.getNextInterval=function(t1m,R1m,m1m){var w1m;if(!R1m){O0L.r0j(64);R1m=O0L.E0j(0,"1");}if(m1m!==!"1"){m1m=!![];}w1m=this.standardMarketIterator(t1m,m1m?this.dataZone:this.displayZone);if(R1m<1){O0L.r0j(94);return w1m.previous(O0L.E0j("1",0,R1m));}return w1m.next(R1m);};N5.prototype.standardMarketIterator=function(K1m,G1m,B1m){var m1V,H1m,I1m,r1m;m1V="t";m1V+="i";m1V+="ck";O0L.E5();H1m=G1m?G1m:this.dataZone;I1m=B1m?B1m:this.chart;r1m={'begin':K1m,'interval':this.layout.interval==m1V?1:this.layout.interval,'periodicity':this.layout.interval=='tick'?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':H1m};return I1m.market.newIterator(r1m);};N5.prototype.zoomOut=function(L1m,J1m){var W1V,c1m,W1m,f2m,o1m,e1m,s1m,j2m,D2m,F2m;W1V="la";W1V+="yout";if(this.runPrepend("zoomOut",arguments)){return;}this.grabbingScreen=!{};if(N5.insideChart){i5.unappendClassName(this.container,"stx-drag-chart");}if(this.preferences.zoomOutSpeed){J1m=this.preferences.zoomOutSpeed;}else if(!J1m){J1m=1.1;}if(L1m&&L1m.preventDefault){L1m.preventDefault();}O0L.S5();this.cancelTouchSingleClick=!0;for(var Y2m in this.charts){c1m=this.charts[Y2m];W1m=!!1;if(c1m.scroll<=c1m.maxTicks){W1m=!1;}if(i5.ipad&&c1m.maxTicks>N5.ipadMaxTicks){return;}f2m=Math.round(c1m.maxTicks*J1m);o1m=this.chart.width/f2m;if(o1m<this.minimumCandleWidth){o1m=this.minimumCandleWidth;}this.layout.span=null;if(W1m){O0L.G0j(95);var A6V=O0L.t0j(103,6,15,11);j2m=c1m.scroll-c1m.maxTicks/A6V;e1m=Math.round(this.chart.width/o1m-0.499);D2m=c1m.scroll-e1m/2;s1m=c1m.scroll+Math.round(j2m-D2m);}else{e1m=Math.round(this.chart.width/o1m-0.499);F2m=Math.round(this.preferences.whitespace/o1m);O0L.G0j(3);s1m=O0L.t0j(F2m,e1m);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:o1m});}else{this.setCandleWidth(o1m);this.chart.scroll=s1m;}}if(this.runAppend("zoomOut",arguments)){return;}this.draw();this.changeOccurred(W1V);};N5.prototype.mouseWheel=function(x2m,O2m){var L1V,p1V,U2m,A2m,g2m,Q2m,z2m,a2m,v2m;L1V="mou";L1V+="seWheel";p1V="MozMouseP";p1V+="ixelScroll";if(!x2m){x2m=event;}x2m.preventDefault();U2m=x2m.deltaX;A2m=x2m.deltaY;g2m=Date.now()-this.lastMouseWheelEvent;if(Math.abs(A2m)>Math.abs(U2m)){O0L.r0j(12);U2m=O0L.E0j(1967860672,"0");}else{O0L.G0j(4);A2m=O0L.t0j("0",1);}this.lastMouseWheelEvent=Date.now();if(Math.abs(U2m)===0&&Math.abs(A2m)===0){return;}if(this.allowSideswipe&&U2m!==+"0"&&Math.abs(U2m)>Math.abs(A2m)){this.lastMove="horizontal";O0L.r0j(76);delta=O0L.E0j(1,U2m);if(delta>50){delta=50;}if(delta<-+"50"){delta=-50;}this.grabbingScreen=!!"1";this.grabStartX=N5.crosshairX;this.grabStartY=N5.crosshairY;if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartScrollX=this.currentPanel.chart.scroll;this.grabStartScrollY=this.currentPanel.chart.panel.yAxis.scroll;this.mousemoveinner(N5.crosshairX-delta,N5.crosshairY);this.grabbingScreen=!1;return;}this.lastMove="vertical";if(!this.allowZoom){return;}if(!this.displayInitialized){return;}if(this.runPrepend("mouseWheel",arguments)){return;}if(!A2m){if(O2m=="onmousewheel"){O0L.r0j(96);var X6V=O0L.E0j(2365,7,15,13,11);O0L.G0j(97);var o6V=O0L.t0j(12,56,43,3,1);A2m=X6V/o6V*x2m.wheelDelta;if(x2m.wheelDeltaX){O0L.r0j(98);var J6V=O0L.E0j(1);O0L.G0j(0);var Z6V=O0L.E0j(2,38);U2m=J6V/Z6V*x2m.wheelDeltaX;}}else{A2m=x2m.detail;}}if(typeof x2m.deltaMode=="undefined"){x2m.deltaMode=x2m.type==p1V?0:"1"-0;}Q2m=A2m;if(x2m.deltaMode==+"1"){Q2m*=33;}z2m=null;a2m=null;if(this.mouseWheelAcceleration){v2m=Math.max(Math.pow(Math.abs(Q2m),0.3),1);O0L.G0j(99);z2m=O0L.E0j(1,0.1,v2m);O0L.r0j(23);a2m=O0L.E0j(0.2,v2m,1);}if(Q2m>0){if(this.reverseMouseWheel){this.zoomOut(null,a2m);}else{this.zoomIn(null,z2m);}}else if(Q2m<0){if(this.reverseMouseWheel){this.zoomIn(null,z2m);}else{this.zoomOut(null,a2m);}}if(this.runAppend(L1V,arguments)){return;}return!!0;};N5.prototype.zoomIn=function(p2m,k2m){var z1V,v1V,b2m,d2m,V2m,X2m,y2m,S2m,P2m,Z2m,E2m;z1V="l";z1V+="ayo";z1V+="ut";v1V="zo";v1V+="o";v1V+="mI";v1V+="n";if(this.runPrepend("zoomIn",arguments)){return;}this.grabbingScreen=![];if(N5.insideChart){i5.unappendClassName(this.container,"stx-drag-chart");}if(this.preferences.zoomInSpeed){k2m=this.preferences.zoomInSpeed;}else if(!k2m){k2m=0.9;}for(var C2m in this.charts){b2m=this.charts[C2m];d2m=!!1;if(b2m.scroll<=b2m.maxTicks){d2m=!!"";}if(p2m&&p2m.preventDefault){p2m.preventDefault();}this.cancelTouchSingleClick=!0;V2m=Math.round(b2m.maxTicks*k2m);if(b2m.maxTicks-V2m<+"2"){O0L.r0j(100);var H6V=O0L.t0j(10,22,28,6);V2m=b2m.maxTicks-H6V;}if(V2m<this.minimumZoomTicks){V2m=this.minimumZoomTicks;}X2m=this.chart.width/V2m;this.layout.span=null;if(d2m){O0L.r0j(2);var m6V=O0L.t0j(8,16);P2m=b2m.scroll-b2m.maxTicks/m6V;y2m=Math.round(this.chart.width/X2m-0.499);O0L.G0j(16);var W6V=O0L.t0j(17,284,11,9);Z2m=b2m.scroll-y2m/W6V;S2m=b2m.scroll+Math.round(P2m-Z2m);}else{y2m=Math.round(this.chart.width/X2m-0.499);E2m=Math.round(this.preferences.whitespace/X2m);O0L.r0j(3);S2m=O0L.t0j(E2m,y2m);}if(this.animate&&window.requestAnimationFrame){this.animate.go({oldCandleWidth:this.layout.candleWidth,newCandleWidth:X2m});}else{this.setCandleWidth(X2m);this.chart.scroll=S2m;}}if(this.runAppend(v1V,arguments)){return;}this.draw();this.changeOccurred(z1V);};N5.prototype.translateIf=function(N2m){if(this.translationCallback){return this.translationCallback(N2m);}return N2m;};N5.prototype.setTimeZone=function(h2m,n2m){var u2m,i2m,M2m,l2m,q2m;if(typeof M5=="undefined"){this.timeZoneOffset=0;return;}u2m=new Date();i2m=u2m.getTimezoneOffset();M2m=i2m;l2m=i2m;if(h2m){this.dataZone=h2m;}if(this.dataZone){M2m=new M5.Date(u2m,this.dataZone).getTimezoneOffset();}if(n2m){this.displayZone=n2m;}if(this.displayZone){l2m=new M5.Date(u2m,this.displayZone).getTimezoneOffset();}O0L.r0j(101);this.timeZoneOffset=O0L.t0j(M2m,i2m,l2m,i2m);for(var T2m in this.charts){q2m=this.charts[T2m];if(q2m.masterData&&!N5.isDailyInterval(this.layout.interval)){this.setDisplayDates(q2m.masterData);}}this.createDataSet();};N5.prototype.setLocale=function(R2m){var G1V,a1V,g1V;G1V="pe";G1V+="rce";G1V+="n";G1V+="t";a1V="p";a1V+="e";a1V+="rc";a1V+="ent";g1V="n";g1V+="ume";g1V+="ri";g1V+="c";if(typeof Intl=="undefined"){return;}if(this.locale!=R2m){this.locale=R2m;}else{return;}this.internationalizer={};this.internationalizer.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hour12:!!0});this.internationalizer.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!"1"});this.internationalizer.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});this.internationalizer.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"});this.internationalizer.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"});this.internationalizer.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:g1V});this.internationalizer.month=new Intl.DateTimeFormat(this.locale,{month:"short"});this.internationalizer.numbers=new Intl.NumberFormat(this.locale);this.internationalizer.priceFormatters=[];this.internationalizer.priceFormatters[+"0"]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:0,minimumFractionDigits:0});this.internationalizer.priceFormatters[1]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:1,minimumFractionDigits:"1"-0});this.internationalizer.priceFormatters[2]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:"2"&2147483647,minimumFractionDigits:2});this.internationalizer.priceFormatters[+"3"]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:3,minimumFractionDigits:3});this.internationalizer.priceFormatters[+"4"]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:+"4",minimumFractionDigits:4});this.internationalizer.priceFormatters[5]=new Intl.NumberFormat(this.locale,{maximumFractionDigits:5,minimumFractionDigits:"5"*1});this.internationalizer.percent=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});this.internationalizer.percent0=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0});this.internationalizer.percent1=new Intl.NumberFormat(this.locale,{style:a1V,minimumFractionDigits:1,maximumFractionDigits:+"1"});this.internationalizer.percent2=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:"2"<<747521504,maximumFractionDigits:2});this.internationalizer.percent3=new Intl.NumberFormat(this.locale,{style:G1V,minimumFractionDigits:3,maximumFractionDigits:3});this.internationalizer.percent4=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:4,maximumFractionDigits:4});i5.createMonthArrays(this,this.internationalizer.month,this.locale);};N5.prototype.importLayout=function(t2m,m2m){var H2m,c2m,G2m,A8m,F8m,I2m,J2m,o2m,q1V,M1V,u1V,B2m,K2m,x8m,s2m,r2m,y1Z,S1Z,d1Z,w2m,k1V,e2m,Y8m;if(typeof m2m!=="object"){m2m={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}if(!m2m.preserveTicksAndCandleWidth&&m2m.preserveTicksAndCandleWidth!==!{}){m2m.preserveTicksAndCandleWidth=!!{};}H2m=i5.shallowClone(this.layout);c2m=this.serializeDrawings();this.abortDrawings();this.currentlyImporting=!!"1";this.overlays={};G2m=i5.clone(t2m);for(var D8m in this.layout.studies){A8m=this.layout.studies[D8m];i5.Studies.removeStudy(this,A8m);}if(G2m){F8m=i5.shallowClone(this.panels);this.panels={};I2m=i5.clone(G2m);delete I2m.periodicity;delete I2m.interval;delete I2m.timeUnit;delete I2m.setSpan;i5.dataBindSafeAssignment(this.layout,I2m);this.layout.periodicity=H2m.periodicity;this.layout.interval=H2m.interval;this.layout.timeUnit=H2m.timeUnit;this.layout.setSpan=H2m.setSpan;if(m2m.preserveTicksAndCandleWidth){this.layout.candleWidth=H2m.candleWidth;}else{if(!this.layout.candleWidth){this.layout.candleWidth=8;}}if(this.layout.candleWidth<this.minimumCandleWidth){this.layout.candleWidth=this.minimumCandleWidth;}this.setCandleWidth(this.layout.candleWidth);J2m=G2m.panels;this.layout.panels={};for(var f8m in J2m){o2m=J2m[f8m];this.stackPanel(o2m.display,f8m,o2m.percent,o2m.chartName);}if(i5.isEmpty(J2m)){q1V="c";q1V+="h";q1V+="art";M1V="char";M1V+="t";u1V="ch";u1V+="ar";u1V+="t";this.stackPanel(u1V,M1V,1,q1V);}for(var W2m in F8m){B2m=F8m[W2m];K2m=this.panels[W2m];if(K2m){this.container.removeChild(K2m.holder);this.container.removeChild(B2m.handle);x8m={"holder":!!{},"subholder":!!1,"display":!![]};for(var L2m in x8m){K2m[L2m]=B2m[L2m];}this.configurePanelControls(K2m);if(B2m.chart.panel==B2m){B2m.chart.panel=K2m;};}else{this.privateDeletePanel(B2m);}}this.adjustPanelPositions();this.storePanels();s2m=i5.clone(this.layout.studies);delete this.layout.studies;for(var j8m in s2m){r2m=s2m[j8m];i5.Studies.addStudy(this,r2m.type,r2m.inputs,r2m.outputs,r2m.parameters,r2m.panel);}}if(typeof this.layout.chartType=="undefined"){this.layout.chartType="line";}this.adjustPanelPositions();y1Z=-+"679387745";S1Z=-1525656426;d1Z=2;for(var C1Z=1;O0L.k7Z(C1Z.toString(),C1Z.toString().length,77565)!==y1Z;C1Z++){w2m=this;d1Z+=+"2";}if(O0L.k7Z(d1Z.toString(),d1Z.toString().length,42509)!==S1Z){w2m=this;}if(t2m.symbols){if(!this.quoteDriver||!this.quoteDriver.quoteFeed){k1V="WARNING: loading a s";k1V+="ymbol through 'importLayout' without a Quot";k1V+="eFeed may break data updates";console.log(k1V);}e2m={};if(m2m.managePeriodicity){if(t2m.symbols[0].setSpan){e2m.span=t2m.symbols[0].setSpan;}if(t2m.symbols[0].interval){e2m.periodicity={interval:t2m.symbols[0].interval,periodicity:t2m.symbols[0].periodicity,timeUnit:t2m.symbols[0].timeUnit};}}Y8m=t2m.symbols[0].symbolObject||t2m.symbols[0].symbol;this.newChart(Y8m,null,this.chart,function(z8m){var w1V;w1V="l";w1V+="ayou";w1V+="t";if(!z8m){for(var Q8m,U8m=1;U8m<t2m.symbols.length;++U8m){Q8m=t2m.symbols[U8m];w2m.addSeries(Q8m.symbol,Q8m.parameters);}}w2m.reconstructDrawings(c2m);w2m.draw();w2m.currentlyImporting=!!0;w2m.updateListeners(w1V);O0L.E5();if(m2m.cb){m2m.cb.apply(null,arguments);}},e2m);return;}else{if(G2m&&m2m.managePeriodicity){if(G2m.setSpan&&this.chart.symbol){this.setSpan(G2m.setSpan,function(){w2m.reconstructDrawings(c2m);w2m.draw();w2m.currentlyImporting=!!0;w2m.updateListeners("layout");if(m2m.cb){m2m.cb();}});return;}else{interval=G2m.interval;periodicity=G2m.periodicity;timeUnit=G2m.timeUnit;if(isNaN(periodicity)){periodicity=1;}if(!interval){interval="day";}if(interval!=this.layout.interval||periodicity!=this.layout.periodicity){this.setPeriodicityV2(periodicity,interval,timeUnit,function(){w2m.reconstructDrawings(c2m);w2m.draw();w2m.currentlyImporting=!"1";w2m.updateListeners("layout");O0L.E5();if(m2m.cb){m2m.cb();}});return;}else{this.createDataSet();}}}else{this.createDataSet();}}this.reconstructDrawings(c2m);this.draw();if(!m2m.preserveTicksAndCandleWidth){this.home();}this.currentlyImporting=!1;this.updateListeners("layout");if(m2m.cb){m2m.cb();}};N5.prototype.exportLayout=function(y8m){var a8m,R1V,c1V,b8m,V8m,O8m,g8m;a8m={};for(var v8m in this.layout){R1V="s";R1V+="tudies";c1V="stu";c1V+="d";c1V+="ie";c1V+="s";if(v8m!=c1V&&v8m!="panels"){a8m[v8m]=i5.clone(this.layout[v8m]);}else if(v8m==R1V){a8m.studies={};}else if(v8m=="panels"){a8m.panels={};}}for(var X8m in this.panels){b8m=a8m.panels[X8m]={};V8m=this.panels[X8m];b8m.percent=V8m.percent;b8m.display=V8m.display;b8m.chartName=V8m.chart.name;}for(var k8m in this.layout.studies){O8m=a8m.studies[k8m]={};g8m=this.layout.studies[k8m];O8m.type=g8m.type;O8m.inputs=i5.clone(g8m.inputs);O8m.outputs=i5.clone(g8m.outputs);O8m.panel=g8m.panel;O8m.parameters=i5.clone(g8m.parameters);}O0L.S5();if(y8m){a8m.symbols=this.getSymbols("include-parameters");}return a8m;};N5.prototype.doCleanupGaps=function(d8m,N8m){var S8m,i8m,E8m,p8m,l8m,u8m,P8m,Z8m,M8m;if(!this.cleanupGaps){return d8m;}O0L.E5();if(this.layout.interval=="tick"){return d8m;}if(d8m&&!d8m.length){return d8m;}if(!N8m){N8m=this.chart;}S8m=this.layout.interval;if(S8m=="month"||S8m=="week"){if(this.dontRoll){return d8m;}S8m="day";}i8m=function(q8m){var h8m,e8Z,s8Z,K8Z;if(q8m.DT){h8m=q8m.DT;}else{e8Z=1044660738;s8Z=1708522381;K8Z=2;for(var b8Z=1;O0L.q7Z(b8Z.toString(),b8Z.toString().length,87514)!==e8Z;b8Z++){h8m=i5.strToDateTime(q8m.Date);K8Z+=+"2";}if(O0L.q7Z(K8Z.toString(),K8Z.toString().length,97189)!==s8Z){h8m=i5.strToDateTime(q8m.Date);}}return h8m;};E8m=[];p8m=d8m[+"0"];E8m.push(d8m[+"0"]);l8m={'begin':i8m(p8m),'interval':S8m,'periodicity':1,'timeUnit':this.layout.timeUnit,'inZone':this.dataZone,'outZone':this.dataZone};u8m=N8m.market.newIterator(l8m);for(var C8m=1;C8m<d8m.length;C8m++){P8m=d8m[C8m];Z8m=u8m.next();M8m=i8m(P8m);while(Z8m<M8m){E8m.push({DT:Z8m,Open:p8m.Close,High:p8m.Close,Low:p8m.Close,Close:p8m.Close,Volume:0,Adj_Close:p8m.Adj_Close});Z8m=u8m.next();}E8m.push(P8m);p8m=P8m;}return E8m;};N5.Driver=function(n8m,T8m,R8m){this.tagalongs={};this.stx=n8m;this.quoteFeed=T8m;this.behavior=R8m;this.loadingNewChart=!{};this.intervalTimer=null;this.updatingChart=![];this.updateChartLoop();};N5.Driver.prototype.die=function(){O0L.E5();if(this.intervalTimer){window.clearInterval(this.intervalTimer);}};N5.Driver.prototype.updateSubscriptions=function(){if(this.quoteFeed.checkSubscriptions){this.quoteFeed.checkSubscriptions(this.stx);}};N5.Driver.prototype.attachTagAlongQuoteFeed=function(m8m){O0L.S5();if(!this.tagalongs[m8m.label]){this.tagalongs[m8m.label]={label:m8m.label,quoteFeed:m8m.quoteFeed,behavior:m8m.behavior?m8m.behavior:{},count:0};}this.tagalongs[m8m.label].count++;};N5.Driver.prototype.detachTagAlongQuoteFeed=function(t8m){var w8m;w8m=this.tagalongs[t8m.label];w8m.count--;if(!w8m.count){this.tagalongs[t8m.label]=null;}};N5.Driver.prototype.loadDependents=function(K8m){var H8m,r8m,G8m,I8m,c8m,B8m;r8m={};G8m=K8m.stx;I8m=G8m.chart.series;for(H8m in I8m){if(!I8m[H8m].parameters.data||!I8m[H8m].parameters.data.useDefaultQuoteFeed)continue;r8m[H8m]=!"";}for(var o8m in G8m.panels){if(G8m.panels[o8m].studyQuotes){for(var J8m in G8m.panels[o8m].studyQuotes){r8m[J8m]=!!{};}}}c8m=[];O0L.S5();for(H8m in r8m){B8m=i5.shallowClone(K8m.originalState);B8m.symbol=H8m;if(I8m[H8m]&&I8m[H8m].parameters.symbolObject){B8m.symbolObject=I8m[H8m].parameters.symbolObject;}if(B8m.update){B8m.startDate=e8m(H8m);}else{if(!B8m.startDate&&G8m.masterData[0]){B8m.startDate=G8m.masterData[0].DT;}if(!B8m.endDate&&G8m.masterData[G8m.masterData.length-1]){B8m.endDate=G8m.masterData[G8m.masterData.length-1].DT;}}c8m.push(B8m);}if(!c8m.length){G8m.createDataSet();if(!K8m.nodraw){G8m.draw();}return;}this.quoteFeed.multiFetch(c8m,function(Y3m){var s8m,F3m;for(var f3m="0">>2079062944;f3m<Y3m.length;f3m++){s8m=Y3m[f3m];if(!s8m.dataCallback.error&&s8m.dataCallback.error!==0){F3m=null;if(G8m.chart.series[s8m.params.symbol]){F3m=G8m.chart.series[s8m.params.symbol].parameters.field;}i5.addMemberToMasterdata(G8m,s8m.params.symbol,s8m.dataCallback.quotes,null,null,F3m);}}G8m.createDataSet();G8m.draw();});function e8m(L8m){for(var W8m=G8m.masterData.length-1;W8m>=0;W8m--){if(G8m.masterData[W8m]&&typeof G8m.masterData[W8m][L8m]!="undefined"){return i5.strToDateTime(G8m.masterData[W8m].Date);}}O0L.S5();return K8m.startDate;}};N5.Driver.prototype.executeTagAlongs=function(Q3m){var A3m,x3m,j3m,D3m;A3m={count:i5.objLength(this.taglongs)};x3m=this;O0L.S5();for(var U3m in this.tagalongs){j3m=this.tagalongs[U3m];D3m=i5.shallowClone(j3m.behavior);i5.extend(D3m,Q3m,!"");j3m.quoteFeed.fetch(D3m,z3m(D3m,j3m,A3m));}function z3m(v3m,O3m,a3m){O0L.S5();return function(b3m){var g3m;a3m.count--;if(!b3m.error&&b3m.error!==0){g3m=v3m.fields;if(!g3m){g3m=null;}i5.addMemberToMasterdata(x3m.stx,O3m.label,b3m.quotes,g3m);}if(a3m.count==-1){x3m.render();}};}};N5.Driver.prototype.render=function(){O0L.E5();this.stx.createDataSet();this.stx.draw();};N5.Driver.prototype.updateChart=function(){var d3m,k3m,p3m,S3m,V3m,X3m,y3m;if(this.updatingChart){return;}function C3m(Z3m,P3m,N3m){if(Z3m.behavior.prefetchAction){Z3m.behavior.prefetchAction("updateChart");}return function(i3m){var M3m,u3m;k3m++;if(N3m==P3m.chart.symbol&&p3m==Z3m.stx.layout.interval&&S3m==Z3m.stx.layout.timeUnit){if(!i3m.error&&i3m.error!==0){M3m=!{};if(!P3m.missingBarsCreated){if(P3m.chart.masterData&&P3m.chart.masterData.length&&i3m.quotes&&i3m.quotes.length>0){O0L.G0j(8);var p6V=O0L.E0j(19,4,16);u3m=P3m.chart.masterData[P3m.chart.masterData.length-p6V];if(i3m.quotes[0].DT&&u3m.DT<i3m.quotes[0].DT||i3m.quotes[0].Date&&u3m.Date<i3m.quotes["0">>775157344].Date){i3m.quotes.unshift(u3m);M3m=!!1;;}}i3m.quotes=Z3m.stx.doCleanupGaps(i3m.quotes,P3m.chart);if(M3m){i3m.quotes.shift();}}Z3m.stx.appendMasterData(i3m.quotes,P3m.chart,{noCreateDataSet:!![]});P3m.chart.attribution=i3m.attribution;}else{Z3m.quoteFeed.announceError(P3m.originalState,i3m);}}else{return;}if(k3m==d3m){Z3m.updatingChart=!"1";}Z3m.executeTagAlongs(P3m);if(Z3m.behavior.callback){Z3m.behavior.callback(P3m);}O0L.E5();Z3m.loadDependents(P3m);;};}if(this.loadingNewChart){return;}d3m=i5.objLength(this.stx.charts);k3m=0;O0L.S5();p3m=this.stx.layout.interval;S3m=this.stx.layout.timeUnit;for(var E3m in this.stx.charts){V3m=this.stx.charts[E3m];if(!V3m.symbol)continue;X3m=this.makeParams(V3m.symbol,V3m.symbolObject,V3m);if(V3m.masterData&&V3m.masterData.length){X3m.startDate=V3m.masterData[V3m.masterData.length-1].DT;}X3m.update=!!{};X3m.originalState=i5.shallowClone(X3m);this.updatingChart=!!"1";y3m=C3m(this,X3m,V3m.symbol);if(this.stx.isEquationChart(X3m.symbol)){i5.fetchEquationChart(X3m,y3m);}else{this.quoteFeed.fetch(X3m,y3m);}}};N5.Driver.prototype.updateChartLoop=function(){function l3m(q3m){return function(){if(q3m.behavior.noUpdate){return;}q3m.updateChart();};}O0L.E5();if(this.behavior.noUpdate){return;}if(this.behavior.refreshInterval){this.intervalTimer=window.setInterval(l3m(this),this.behavior.refreshInterval*1000);}};N5.Driver.prototype.resetRefreshInterval=function(h3m){if(this.intervalTimer){window.clearInterval(this.intervalTimer);}this.behavior.refreshInterval=h3m;this.updateChartLoop();;};N5.Driver.prototype.loadAll=function(n3m,T3m){var R3m,m3m;R3m=this;O0L.G0j(29);m3m=O0L.E0j("0",2147483647);this.checkLoadMore(n3m,!![],!![],w3m());function w3m(){O0L.S5();return function(t3m){var t1V;if(t3m){T3m(t3m);}else if(!n3m.moreAvailable){T3m(null);}else if(m3m++>20){t1V="error, moreA";t1V+="vailable not implement";t1V+="ed correctly in Quot";t1V+="eFeed";T3m(t1V);}else{R3m.checkLoadMore(n3m,!![],!!{},w3m());}};}};N5.Driver.prototype.checkLoadMore=function(G3m,W3m,c3m,H3m,K3m){var J3m,o3m,r3m,B3m,I3m;if(!G3m.moreAvailable){if(H3m){H3m();}return;}J3m=this.stx.layout.interval;function e3m(s3m,L3m){if(s3m.behavior.prefetchAction){s3m.behavior.prefetchAction("checkLoadMore");}return function(f6m){var F6m;if(L3m.symbol==L3m.chart.symbol&&J3m==s3m.stx.layout.interval&&o3m==s3m.stx.layout.timeUnit){if(!L3m.loadMore){L3m.chart.loadingMore=!{};}if(!f6m.error&&f6m.error!=="0"-0){if(!L3m.missingBarsCreated){f6m.quotes.push(L3m.chart.masterData[0]);f6m.quotes=s3m.stx.doCleanupGaps(f6m.quotes,L3m.chart);f6m.quotes.pop();;}L3m.chart.moreAvailable=f6m.moreAvailable;F6m=L3m.loadMoreReplace?f6m.quotes:f6m.quotes.concat(L3m.chart.masterData);s3m.stx.setMasterData(F6m,L3m.chart);s3m.stx.createDataSet();if(!K3m){s3m.stx.draw();}L3m.startDate=L3m.chart.masterData[0].DT;s3m.executeTagAlongs(L3m);if(s3m.behavior.callback){s3m.behavior.callback(L3m);}s3m.loadDependents(L3m);}else{s3m.quoteFeed.announceError(L3m.originalState,f6m);}L3m.chart.loadingMore=!"1";if(H3m){H3m(null);}}else{return;}};}o3m=this.stx.layout.timeUnit;r3m=G3m.loadingMore;if(!this.behavior.noLoadMore){if(!this.stx.maxDataSetSize||G3m.dataSet.length<this.stx.maxDataSetSize){if(G3m.dataSet.length>0&&G3m.scroll>=G3m.dataSet.length||W3m){if(!G3m.loadingMore){G3m.initialScroll=G3m.scroll;G3m.loadingMore=!0;B3m=this.makeParams(G3m.symbol,G3m.symbolObject,G3m);B3m.endDate=G3m.masterData[+"0"].DT;B3m.originalState=i5.shallowClone(B3m);B3m.nodraw=K3m;if(this.stx.fetchMaximumBars[this.stx.layout.aggregationType]){c3m=!!1;}if(c3m){B3m.fetchMaximumBars=!!"1";B3m.ticks=Math.max(20000,B3m.ticks);}I3m=e3m(this,B3m);if(this.stx.isEquationChart(B3m.symbol)){i5.fetchEquationChart(B3m,I3m);}else{this.quoteFeed.fetch(B3m,I3m);}r3m=!!{};}}}}if(G3m.loadingMore){G3m.initialScroll=G3m.scroll;}if(!r3m&&H3m){H3m(null);}};N5.Driver.prototype.barsToFetch=function(Y6m){var j6m,D6m,x6m;if(Y6m.isSeries){return Y6m.stx.masterData.length;}j6m=this.stx.layout.interval;D6m=Y6m.stx.layout.periodicity;if((j6m=="month"||j6m=="week")&&!this.stx.dontRoll){D6m*=j6m=="week"?7:+"30";}x6m=Y6m.stx.chart.maxTicks*D6m;return x6m;};N5.Driver.prototype.makeParams=function(Q6m,a6m,v6m){var s1V,e1V,U6m,z6m,A6m;s1V="de";s1V+="lay";s1V+="ed";e1V="we";e1V+="ek";U6m=this.stx.layout.interval;z6m=this.barsToFetch({stx:this.stx});if((U6m=="month"||U6m==e1V)&&!this.stx.dontRoll){U6m="day";}A6m=i5.shallowClone(this.behavior);i5.extend(A6m,{stx:this.stx,symbol:Q6m,symbolObject:a6m,chart:v6m,interval:U6m,extended:this.stx.layout.extended,period:1,feed:s1V,ticks:z6m},!0);if(!A6m.symbolObject){A6m.symbolObject={symbol:Q6m};}if(!isNaN(A6m.interval)){A6m.period=A6m.interval;A6m.interval=this.stx.layout.timeUnit;if(!A6m.interval){A6m.interval="minute";}}if(A6m.pts){A6m.ticks=Math.max(A6m.ticks,+"1000");}return A6m;};N5.Driver.prototype.newChart=function(b6m,V6m){var O6m,y6m,d6m,p6m,X6m,g6m,k6m;O6m=this.stx;y6m=b6m.symbol;d6m=O6m.layout.interval;p6m=O6m.layout.timeUnit;X6m=b6m.chart;X6m.moreAvailable=!"1";X6m.attribution=null;g6m=this.makeParams(y6m,b6m.symbolObject,X6m);function S6m(C6m,E6m){var K1V;K1V="newC";K1V+="h";K1V+="art";if(C6m.behavior.prefetchAction){C6m.behavior.prefetchAction(K1V);}return function(P6m){if(y6m==E6m.chart.symbol&&d6m==O6m.layout.interval&&p6m==O6m.layout.timeUnit){if(!P6m.error&&P6m.error!==0){if(!E6m.missingBarsCreated){P6m.quotes=O6m.doCleanupGaps(P6m.quotes,b6m.chart);}O6m.setMasterData(P6m.quotes,E6m.chart);E6m.chart.moreAvailable=P6m.moreAvailable;E6m.chart.attribution=P6m.attribution;O6m.createDataSet();if(b6m.initializeChart){O6m.initializeChart();}if(!E6m.nodraw){O6m.home();};}else{C6m.quoteFeed.announceError(E6m.originalState,P6m);}}else{if(V6m){V6m("orphaned");}return;}C6m.loadingNewChart=![];if(V6m){V6m(P6m.error);}if(E6m.chart.masterData&&E6m.chart.masterData.length){E6m.startDate=E6m.chart.masterData[0].DT;}C6m.executeTagAlongs(E6m);if(C6m.behavior.callback){C6m.behavior.callback(E6m);}C6m.loadDependents(E6m);O0L.E5();C6m.resetRefreshInterval(C6m.behavior.refreshInterval);};}i5.extend(g6m,b6m,!!1);if(O6m.fetchMaximumBars[O6m.layout.aggregationType]){g6m.ticks=Math.max(20000,g6m.ticks);g6m.fetchMaximumBars=!"";}this.loadingNewChart=!!"1";this.updatingChart=!{};g6m.originalState=i5.shallowClone(g6m);k6m=S6m(this,g6m);if(this.stx.isEquationChart(g6m.symbol)){i5.fetchEquationChart(g6m,k6m);}else{this.quoteFeed.fetch(g6m,k6m);}};N5.prototype.attachQuoteFeed=function(N6m,Z6m){if(!Z6m){Z6m={};}if(this.quoteDriver){this.quoteDriver.die();}O0L.S5();this.quoteDriver=new N5.Driver(this,N6m,Z6m);};N5.prototype.attachTagAlongQuoteFeed=function(i6m){if(!i6m.label){console.log("Attempt to attachTagAlongQuoteFeed without assigning a label");return;}this.quoteDriver.attachTagAlongQuoteFeed(i6m);};N5.prototype.detachTagAlongQuoteFeed=function(u6m){this.quoteDriver.detachTagAlongQuoteFeed(u6m);};i5.Comparison=function(){};i5.Comparison.mouseHasMoved=!!"";i5.Comparison.priceToPercent=function(l6m,q6m,M6m){O0L.S5();O0L.G0j(3);var v6V=O0L.t0j(190000,200000);O0L.G0j(4);var z6V=O0L.E0j(1000,10);return Math.round((M6m-i5.Comparison.baseline)/ i5.Comparison.baseline*100*v6V)/z6V;};i5.Comparison.percentToPrice=function(n6m,T6m,h6m){O0L.E5();return i5.Comparison.baseline*(+"1"+h6m/100);};i5.Comparison.stopSort=function(R6m,m6m){O0L.E5();O0L.r0j(3);return O0L.E0j(m6m,R6m);};i5.Comparison.createComparisonSegmentInner=function(I6m,r6m){var r1V,J6m,t6m,j7m,K6m,L6m,U7m,f7m,o6m,H6m,b1V,W6m,F7m,w6m,B6m,s6m,G6m,D7m,x7m,Y7m,c6m,e6m;r1V="H";r1V+="igh";J6m=[];for(t6m in r6m.series){if(r6m.series[t6m].parameters.isComparison){J6m.push(t6m);}}j7m=["Close","Open",r1V,"Low","iqPrevClose"];r6m.dataSegment=[];K6m=null;L6m=r6m.dataSet.length-r6m.scroll;U7m=L6m+r6m.maxTicks;f7m=0;o6m=[];O0L.E5();for(H6m=0;H6m<I6m.drawingObjects.length;H6m++){b1V="compar";b1V+="ison_stop";W6m=I6m.drawingObjects[H6m];if(W6m.name==b1V)if(W6m.tick>L6m&&W6m.tick<=U7m){o6m.push(W6m.tick);}}o6m.sort(i5.Comparison.stopSort);O0L.r0j(102);var a6V=O0L.E0j(3363,20,8,12,9);F7m=r6m.maxTicks+a6V;for(H6m=0;H6m<=F7m;H6m++){if(H6m==F7m){H6m=-1;}O0L.G0j(0);position=O0L.E0j(H6m,L6m);if(position<r6m.dataSet.length&&position>=0){w6m=r6m.dataSet[position];if(!K6m){K6m=i5.clone(w6m);}if(!w6m.transform){w6m.transform={"cache":{},"DT":w6m.DT,"Date":w6m.Date};}i5.Comparison.baseline=K6m.Close;for(B6m=0;B6m<j7m.length;B6m++){t6m=j7m[B6m];if(w6m[t6m]||w6m[t6m]===0){O0L.G0j(4);var G6V=O0L.t0j(10,10);O0L.G0j(86);var u6V=O0L.E0j(12,1070324,10003,9);w6m.transform[t6m]=Math.round((w6m[t6m]-i5.Comparison.baseline)/ i5.Comparison.baseline*G6V*("10000"&2147483647))/u6V;};}s6m=I6m.layout.studies;if(s6m){for(var A7m in s6m){G6m=s6m[A7m];if(!I6m.panels[G6m.panel]||I6m.panels[G6m.panel].name!=G6m.chart.name)continue;for(t6m in G6m.outputMap){if(w6m[t6m]||w6m[t6m]===0){O0L.G0j(36);var q6V=O0L.t0j(1350000,170000,8);w6m.transform[t6m]=Math.round((w6m[t6m]-i5.Comparison.baseline)/ i5.Comparison.baseline*100*q6V)/10000;};}if(G6m.referenceOutput&&(w6m[G6m.referenceOutput+((8820,439.12)!==876.73?" ":"u")+G6m.name]||w6m[G6m.referenceOutput+(1121>=(801.51,9024)?!{}:(3366,3476)!==8660?" ":(9.02e+2,0x695))+G6m.name]===0)){O0L.r0j(37);var t6V=O0L.E0j(1799,1798,8990);O0L.G0j(2);var e6V=O0L.t0j(5,43650);O0L.r0j(103);var K6V=O0L.E0j(7,11,967,7719,17);O0L.r0j(86);var r6V=O0L.E0j(20,23900,400,3);O0L.G0j(91);var b6V=O0L.E0j(9994,79932,9,14);O0L.r0j(86);var Y6V=O0L.E0j(13,901274,10014,7);w6m.transform[G6m.referenceOutput+" "+G6m.name]=Math.round((w6m[G6m.referenceOutput+(6105===5234?(1883,t6V)<+"949.59"?!!1:e6V!==(6800,448.72)?(K6V,"I"):(!"1","0x738"&2147483647):" ")+G6m.name]-i5.Comparison.baseline)/ i5.Comparison.baseline*r6V*b6V)/Y6V;};}}for(B6m in I6m.plugins){D7m=I6m.plugins[B6m];if(!D7m.transformOutputs)continue;for(t6m in D7m.transformOutputs){if(w6m[t6m]||w6m[t6m]===0){O0L.G0j(37);var N6V=O0L.t0j(15,120,800);w6m.transform[t6m]=Math.round((w6m[t6m]-i5.Comparison.baseline)/ i5.Comparison.baseline*N6V*10000)/10000;};}}x7m=!1;if(o6m&&f7m<o6m.length){if(position===o6m[f7m]){x7m=!![];f7m++;}}Y7m=null;if(I6m.activeDrawing&&I6m.activeDrawing.name=="comparison_stop"){Y7m=I6m.activeDrawing.tick;}if(x7m||position==Y7m){for(B6m=0;B6m<J6m.length;B6m++){t6m=J6m[B6m];c6m=w6m[t6m];O0L.r0j(104);var B6V=O0L.t0j(2,9,18,42,20);K6m[t6m]=c6m/(B6V+w6m.transform.Close/+"100");}}for(B6m=0;B6m<J6m.length;B6m++){t6m=J6m[B6m];c6m=w6m[t6m];if(c6m||c6m===0){e6m=K6m[t6m];if(!e6m&&e6m!==0){K6m[t6m]=e6m=c6m/(+"1"+w6m.transform.Close/+"100");}O0L.G0j(14);var l6V=O0L.t0j(4,30048,20,9992);O0L.G0j(16);var T6V=O0L.t0j(10006,110192,12,10);w6m.transform[t6m]=Math.round((c6m-e6m)/e6m*100*l6V)/T6V;}}r6m.dataSegment.push(w6m);}else if(position<0){r6m.dataSegment.push(null);}if(H6m<0)break;;}I6m.clearPixelCache();return!"";};i5.Comparison.createComparisonSegment=function(){var Q7m;for(var z7m in this.charts){Q7m=this.charts[z7m];if(Q7m.isComparison){i5.Comparison.createComparisonSegmentInner(this,Q7m);}}};i5.Comparison.priceFormat=function(O7m,g7m,a7m){var Y1V,v7m;Y1V="undef";Y1V+="ined";if(a7m===null||typeof a7m==Y1V){return"";}v7m=g7m.yAxis.priceTick;if(O7m.internationalizer){if(v7m>=1){O0L.r0j(45);a7m=O7m.internationalizer.percent0.format(O0L.t0j(1640516704,"100",a7m));}else if(v7m>="0.1"*1){O0L.G0j(2);a7m=O7m.internationalizer.percent1.format(O0L.E0j(100,a7m));}else if(v7m>=0.01){O0L.G0j(2);a7m=O7m.internationalizer.percent2.format(O0L.t0j(100,a7m));}else if(v7m>=0.001){O0L.G0j(2);a7m=O7m.internationalizer.percent3.format(O0L.E0j(100,a7m));}else{a7m=O7m.internationalizer.percent4.format(a7m);}}else{if(v7m>=1){a7m=a7m.toFixed(0)+"%";}else if(v7m>=0.1){O0L.G0j(56);var F6V=O0L.E0j(18,7,11);O0L.G0j(3);var y6V=O0L.t0j(31320,33060);O0L.r0j(36);var S6V=O0L.t0j(961079,14,68922);O0L.G0j(60);var d6V=O0L.E0j(16,18,1172374,17,4084);a7m=a7m.toFixed(F6V)+(+"5630"<=(y6V,S6V)?(d6V,0x2147):"%");}else if(v7m>=0.01){O0L.G0j(2);var E6V=O0L.E0j(14,82880);a7m=a7m.toFixed(2)+((+"473.24",+"1260")===E6V?"K":"%");}else if(v7m>=0.001){O0L.r0j(37);var i6V=O0L.t0j(3,17,17);O0L.r0j(8);var U6V=O0L.t0j(10,4457,889);O0L.r0j(105);var h6V=O0L.t0j(11,1936,48000,11);O0L.G0j(41);var D6V=O0L.t0j(16,14,1897,6);O0L.G0j(3);var Q2V=O0L.E0j(14,5714);a7m=a7m.toFixed(i6V)+(606.53==(647.26,268.15)?(+"9.43e+3",![]):(6570,284)!==(U6V,h6V)?(8140,D6V)===(5440,245.66)?0x16db:"%":Q2V);}else{O0L.G0j(106);var X2V=O0L.E0j(4,17,48,19,12);O0L.r0j(107);var o2V=O0L.E0j(1,11,2,13);O0L.r0j(47);var J2V=O0L.t0j(16,12,2290563,143658,13);O0L.r0j(108);var Z2V=O0L.t0j(466,3,4192);O0L.r0j(9);var m2V=O0L.E0j(5561,9,5575,5566);a7m=a7m.toFixed(X2V)+("4201"*o2V==(159.64,J2V)?("0x24bb"&2147483647,Z2V):(+"7370",+"8700")==(597.06,7200)?m2V:"%");}}if(parseFloat(a7m)===0&&a7m.charAt(0)==(6390>=(+"7710",3302)?"-":(9087,964)!=(7560,8100)?(388.86,+"943.73"):(!{},"B"))){a7m=a7m.substring(1);}return a7m;};i5.Comparison.correlate=function(b7m,y7m){var N1V,X7m,V7m,d7m,k7m,P7m,P1V,j1V,Z7m;N1V=" ";N1V+="(";if(!i5.Comparison.requestCorrelation||X7m<=0){return;}X7m=parseInt(u5(".stxCorrelate .stx-input-field").value,10);O0L.r0j(3);var W2V=O0L.t0j(12,13);O0L.r0j(109);var p2V=O0L.E0j(16,4,11);O0L.G0j(0);var L2V=O0L.E0j(16,8015);O0L.r0j(110);var v2V=O0L.t0j(6,8234,9,76,675,20);O0L.G0j(8);var g2V=O0L.t0j(2,14,9848);V7m=b7m.panels[i5.Comparison.correlationPanel+N1V+X7m+(("2367"*W2V,"1840"&2147483647)<="137.95"*p2V?!0:(L2V,+"515.74")>=572.86?v2V==7150?343.20:("G",g2V):")")];d7m={"id":i5.Comparison.correlationPanel+" ("+X7m+(374.83===1254?(!!"","5.58e+3"&2147483647):(1804,7590)<=7179?(2490,8638)<(8180,1537)?186.65:+"0x22a7":")"),"Period":X7m,"Compare To":[]};k7m={};P7m=null;if(V7m){P1V="Co";P1V+="mpare";P1V+=" To";for(var E7m=0;E7m<b7m.layout.studies[V7m.name].inputs[P1V].length;E7m++){j1V="C";j1V+="o";j1V+="mp";j1V+="are To";d7m["Compare To"].push(b7m.layout.studies[V7m.name].inputs[j1V][E7m]);}for(var C7m in b7m.layout.studies[V7m.name].outputs){k7m[C7m]=b7m.layout.studies[V7m.name].outputs[C7m];}P7m=V7m.name;}d7m["Compare To"].push(y7m);O0L.r0j(0);k7m[O0L.E0j(y7m,"Result ")]=i5.Comparison.colorSelection;i5.Studies.addStudy(b7m,"correl",d7m,k7m,null,P7m);for(var S7m in b7m.panels){if(b7m.panels[S7m].name.indexOf(i5.Comparison.correlationPanel)===0){Z7m=b7m.layout.studies[b7m.panels[S7m].name].inputs["Compare To"];for(var p7m=0;p7m<Z7m.length;p7m++){if(Z7m[p7m]==y7m){O0L.r0j(0);b7m.layout.studies[b7m.panels[S7m].name].outputs[O0L.t0j(y7m,"Result ")]=i5.Comparison.colorSelection;}}}}};i5.Comparison.toggleCorrelate=function(i7m){var B1V,N7m;B1V=".";B1V+="stxCorrelate .stx-checkbox";i5.Comparison.requestCorrelation=!i5.Comparison.requestCorrelation;N7m=u5(B1V);if(N7m){i5.unappendClassName(N7m,(!i5.Comparison.requestCorrelation).toString());i5.appendClassName(N7m,i5.Comparison.requestCorrelation.toString());}};N5.prototype.setComparison=function(M7m,u7m){O0L.S5();if(!u7m){u7m=this.chart;}if(typeof u7m=="string"){u7m=this.charts[u7m];}if(!u7m.isComparison&&M7m){this.setTransform(u7m,i5.Comparison.priceToPercent,i5.Comparison.percentToPrice);u7m.panel.yAxis.priceFormatter=i5.Comparison.priceFormat;u7m.panel.yAxis.whichSet="dataSegment";}else if(u7m.isComparison&&!M7m){this.unsetTransform(u7m);u7m.panel.yAxis.priceFormatter=null;u7m.panel.yAxis.whichSet="dataSet";}u7m.isComparison=M7m;};i5.Comparison.startPlugin=function(){O0L.S5();N5.prototype.prepend("createDataSegment",i5.Comparison.createComparisonSegment);};i5.Comparison.removeSeries=function(l7m,q7m){};i5.SearchableWordList=function(H7m,B7m,I7m){var h7m,n7m,w7m,T7m,R7m,m7m;if(!H7m){return;}if(!B7m){B7m=50;}if(!I7m){I7m=![];}h7m={"records":[],"words":[]};for(var t7m=0;t7m<H7m.length;t7m++){n7m=H7m[t7m];if(!n7m.name){n7m.name=n7m.id;}O0L.r0j(111);var a2V=O0L.E0j(5,15,4,3);n7m.index=h7m.records.push(n7m)-a2V;w7m=n7m.name.split((429.61,3422)==(141.18,316)?(+"741.77",!!{}):4923!=(55.98,3846)?" ":(8.32e+3,!!{}));if(n7m.keywords){w7m=w7m.concat(n7m.keywords.split((9980,"692.38"-0)>"3590"<<1285952448?(419.27,2900)==8160?"K":("u",78.66):" "));}for(var G7m=0;G7m<w7m.length;G7m++){T7m=w7m[G7m].toUpperCase();R7m=6532<("1983"|826)?![]:315.09==("319.51"-0,4650)?9.13e+2:"_";m7m=1787<(325,8090)?8170==(+"221",385.02)?(+"527.83",!{}):(11.42,853.94)>(478.59,901.96)?![]:"_":"S";if(T7m.charCodeAt(0)>=33&&T7m.charCodeAt(+"0")<=126){R7m=T7m.charAt(0);}if(!h7m.words[R7m]){h7m.words[R7m]=[];}if(T7m.length>1){if(T7m.charCodeAt(1)>=("33"&2147483647)&&T7m.charCodeAt(+"1")<=126){m7m=T7m.charAt(1);}}else{m7m=(2380,9780)===(256.61,353.98)?(1740,5420)===1070?("0x763"^0,"0xcea"<<854639968):(454.15,"f"):" ";}if(!h7m.words[R7m][m7m]){h7m.words[R7m][m7m]=[];}h7m.words[R7m][m7m].push({index:n7m.index,word:T7m});}}O0L.E5();this.lookup=function(b0Q,A0Q,X0Q){var A6Z,Q6Z,X6Z,K7m,F0Q,j0Q,W7m,J7m,r7m,Q0Q,O0Q,g0Q,Y0Q,L7m,s7m,o7m,c7m,D0Q,v0Q;A6Z=1706278291;Q6Z=595741793;X6Z=2;for(var J6Z=1;O0L.k7Z(J6Z.toString(),J6Z.toString().length,80007)!==A6Z;J6Z++){K7m=[];X6Z+=2;}if(O0L.k7Z(X6Z.toString(),X6Z.toString().length,17001)!==Q6Z){K7m=[];}function V0Q(p0Q,S0Q){if(p0Q.weight>S0Q.weight){return 1;}else if(p0Q.weight<S0Q.weight){return-1;}return p0Q.name>S0Q.name?"1"^0:-1;}function z0Q(M0Q){var l0Q,q0Q;l0Q=[];q0Q="";for(var u0Q=0;u0Q<M0Q.length;u0Q++){if(q0Q==M0Q[u0Q].id)continue;l0Q.push(M0Q[u0Q]);q0Q=M0Q[u0Q].id;}return l0Q;}if(b0Q&&h7m){F0Q=[];j0Q=b0Q.toUpperCase();W7m=[];for(J7m=0;J7m<h7m.records.length;J7m++){r7m=h7m.records[J7m];if(F0Q[r7m.index])continue;if(A0Q&&r7m.category!=A0Q)continue;Q0Q=r7m.name.toUpperCase();if(j0Q==(9320!=8230?"*":8660<176.81?(5.75e+3,"5.61e+2"<<1837776896):"4520"*1==8610?(0x425,!{}):("b",8.72e+3))){W7m.push(i5.extend(h7m.records[r7m.index],{weight:0}));F0Q[r7m.index]=!!{};}else{O0Q=Q0Q.indexOf(j0Q);if(O0Q>-+"1"){g0Q=Q0Q.length-j0Q.length;if(!I7m&&O0Q>0)continue;(g0Q?K7m:W7m).push(i5.extend(h7m.records[r7m.index],{weight:g0Q}));F0Q[r7m.index]=!![];}}}Y0Q=j0Q.split(5750>2084?+"9967"==(7449,400)?(705,7070)!==1060?"K":(680.11,"1.35e+3"|322):" ":(!1,"0xe99"|2704));L7m=(6930,+"565")!==844.4?6920!==("5939"&2147483647)?"_":(2.65e+3,"1.31e+3"<<1315816832):(907.32,"j");s7m=348.95<"738.42"-0?486!=("191.89"-0,"919.78"-0)?"_":"U":("3.80e+3"*1,7.05e+3);o7m=Y0Q[0].toUpperCase();c7m=[];if(o7m.charCodeAt(0)>=33&&o7m.charCodeAt(0)<=126){L7m=o7m.charAt(0);}if(o7m.length>1){if(o7m.charCodeAt(1)>=33&&o7m.charCodeAt(1)<=126){s7m=o7m.charAt(1);}}else{s7m=" ";}if(h7m.words[L7m]){for(var f0Q in h7m.words[L7m]){if(f0Q.length>1)continue;if(s7m!=" "){f0Q=s7m;}for(J7m=0;h7m.words[L7m][f0Q]&&J7m<h7m.words[L7m][f0Q].length;J7m++){r7m=h7m.words[L7m][f0Q][J7m];if(r7m.word.toUpperCase().indexOf(o7m)!==0)continue;if(F0Q[r7m.index])continue;if(A0Q&&h7m.records[r7m.index].category!=A0Q)continue;c7m.push(i5.clone(h7m.records[r7m.index]));F0Q[r7m.index]=!![];}if(s7m!=" ")break;}}for(var x0Q=1;x0Q<Y0Q.length;x0Q++){o7m=Y0Q[x0Q].toUpperCase();for(var e7m=c7m.length-1;e7m>=0;e7m--){D0Q=c7m[e7m].name.split((206,5340)==152.87?7.25e+3:" ");if(c7m[e7m].keywords){D0Q=D0Q.concat(c7m[e7m].keywords.split(" "));}v0Q=![];for(var U0Q=0;U0Q<D0Q.length;U0Q++){if(D0Q[U0Q].toUpperCase().indexOf(o7m)===0){v0Q=!!{};break;}}if(!v0Q){c7m.splice(e7m,1);}}}W7m.sort(a0Q);W7m=z0Q(W7m);K7m.sort(a0Q);K7m=z0Q(K7m);K7m.length=Math.min(K7m.length,B7m);c7m.sort(a0Q);c7m=z0Q(c7m);K7m=W7m.sort(V0Q).concat(K7m.sort(V0Q),c7m.sort(k0Q));K7m.length=Math.min(K7m.length,B7m);}function a0Q(y0Q,d0Q){if(y0Q.id>d0Q.id){O0L.r0j(10);return O0L.t0j(289784640,"1");}else if(y0Q.id<d0Q.id){return-1;}O0L.E5();return y0Q.weight>d0Q.weight?1:-+"1";}if(X0Q){X0Q(K7m);}else{return K7m;}function k0Q(E0Q,C0Q){var Z0Q,N0Q,i0Q;E0Q.weight=0;C0Q.weight=0;for(var P0Q=0;P0Q<Y0Q.length;P0Q++){Z0Q=Y0Q[P0Q].toUpperCase();N0Q=E0Q.name.toUpperCase().indexOf(Z0Q);i0Q=C0Q.name.toUpperCase().indexOf(Z0Q);if(N0Q==-1){return 1;}else if(i0Q==-1){return-1;}E0Q.weight+=N0Q;C0Q.weight+=i0Q;}if(E0Q.weight>C0Q.weight){return 1;}else if(E0Q.weight<C0Q.weight){return-1;}return E0Q.name>C0Q.name?1:-+"1";}};};if(O0L.w22()){return l5;}}}());